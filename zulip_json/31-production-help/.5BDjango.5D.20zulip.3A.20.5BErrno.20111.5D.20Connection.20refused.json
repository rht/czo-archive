[
    {
        "content": "<p>Getting a few of these a day for the last few weeks - should I be concerned?</p>\n<p>Error generated by Anonymous user (not logged in) on zulip deployment</p>\n<p>Traceback (most recent call last):</p>\n<p>File \"/home/zulip/deployments/2017-09-17-17-01-30/zerver/worker/queue_processors.py\", line 108, in consume_wrapper</p>\n<p>self.consume(data)</p>\n<p>File \"/home/zulip/deployments/2017-09-17-17-01-30/zerver/worker/queue_processors.py\", line 240, in consume</p>\n<p>send_email_from_dict(data)</p>\n<p>File \"/home/zulip/deployments/2017-09-17-17-01-30/zerver/lib/send_email.py\", line 47, in send_email_from_dict</p>\n<p>send_email(**dict(email_dict))</p>\n<p>File \"/home/zulip/deployments/2017-09-17-17-01-30/zerver/lib/send_email.py\", line 37, in send_email</p>\n<p>return mail.send() &gt; 0</p>\n<p>File \"/home/zulip/deployments/2017-09-17-17-01-30/zulip-venv/lib/python2.7/site-packages/django/core/mail/message.py\", line 342, in send</p>\n<p>return self.get_connection(fail_silently).send_messages([self])</p>\n<p>File \"/home/zulip/deployments/2017-09-17-17-01-30/zulip-venv/lib/python2.7/site-packages/django/core/mail/backends/smtp.py\", line 100, in send_messages</p>\n<p>new_conn_created = self.open()</p>\n<p>File \"/home/zulip/deployments/2017-09-17-17-01-30/zulip-venv/lib/python2.7/site-packages/django/core/mail/backends/smtp.py\", line 58, in open</p>\n<p>self.connection = connection_class(self.host, self.port, **connection_params)</p>\n<p>File \"/usr/lib/python2.7/smtplib.py\", line 256, in __init__</p>\n<p>(code, msg) = self.connect(host, port)</p>\n<p>File \"/usr/lib/python2.7/smtplib.py\", line 316, in connect</p>\n<p>self.sock = self._get_socket(host, port, self.timeout)</p>\n<p>File \"/usr/lib/python2.7/smtplib.py\", line 291, in _get_socket</p>\n<p>return socket.create_connection((host, port), timeout)</p>\n<p>File \"/usr/lib/python2.7/socket.py\", line 571, in create_connection</p>\n<p>raise err</p>\n<p>error: [Errno 111] Connection refused</p>",
        "id": 547557,
        "sender_full_name": "hb-it",
        "timestamp": 1521820277
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"3275\">@hb-it</span> that looks like a networking error for the Zulip server trying to send outgoing email.</p>",
        "id": 547585,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1521823485
    },
    {
        "content": "<p>Which is a bit ironic since I get this via email :-)    Is there an indication what kind of email it's trying to send? Things like missed notification emails seem to be working fine for everyone.</p>",
        "id": 547597,
        "sender_full_name": "hb-it",
        "timestamp": 1521823846
    },
    {
        "content": "<p>Yeah, it could be a transient issue.  I think in 1.8 we will have some changes that make failures here get auto-retried; but it's most likely a missed-message email just by outgoing email volume (if you tell me what version you have, one can check the code).</p>",
        "id": 547606,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1521824119
    },
    {
        "content": "<p>Zulip server is 1.6, or do you mean what mail version?</p>",
        "id": 547627,
        "sender_full_name": "hb-it",
        "timestamp": 1521825286
    },
    {
        "content": "<p>No, Zulip server version.  OK, given that version, it's definitely a missed-message email.</p>",
        "id": 547646,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1521826341
    },
    {
        "content": "<p>I think the problem should disappear with the automatic retries when you upgrade to 1.8.</p>",
        "id": 547648,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1521826353
    },
    {
        "content": "<p>(Coming out Soon)</p>",
        "id": 547649,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1521826359
    },
    {
        "content": "<p>Ok will wait for that. No one is complaining about missing functionality. Thanks.</p>",
        "id": 547673,
        "sender_full_name": "hb-it",
        "timestamp": 1521828113
    }
]