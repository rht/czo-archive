[
    {
        "content": "<p>We just got bitten again about the workflow for multi-site Zulip installs.</p>",
        "id": 243594,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499289468
    },
    {
        "content": "<p>We don't have a good story for making sure upgrades are safe when they're run on one.</p>",
        "id": 243595,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499289481
    },
    {
        "content": "<p>rsync'ing /home/zulip isn't safe, since it also changes stuff in /srv.</p>",
        "id": 243596,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499289497
    },
    {
        "content": "<p>Maybe we need to rsync /home/zulip and then run the puppet apply script?</p>",
        "id": 243597,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499289507
    },
    {
        "content": "<p>Something to think about for more development.</p>",
        "id": 243598,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499289517
    },
    {
        "content": "<p>Zulip really doesn't like changing environments.</p>",
        "id": 243599,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499289527
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"hlieberman@setec.io\" data-user-id=\"110\">@Harlan Lieberman-Berg</span> why not just run the upgrade script on each one?</p>",
        "id": 243606,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1499292162
    },
    {
        "content": "<p>Or are you worried about things like file uploads?</p>",
        "id": 243607,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1499292173
    },
    {
        "content": "<p>The other nodes are running hot standby DB. It is in a RO state, which would cause the upgrade to fail, right?</p>",
        "id": 243884,
        "sender_full_name": "John Wedoff",
        "timestamp": 1499349530
    },
    {
        "content": "<p>I'm worried about the DB upgrades.</p>",
        "id": 243944,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499352312
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"tabbott@zulipchat.com\" data-user-id=\"7\">@Tim Abbott</span>, <span class=\"user-mention\" data-user-email=\"jwedoff@akamai.com\" data-user-id=\"2782\">@John Wedoff</span> is my co-worker and the person taking over administration of Akamai's zulip instance.  John, Tim is the founder of Zulip (twice now!) and a good friend of a bunch of different people at Akamai.</p>",
        "id": 243949,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499352399
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"tabbott@zulipchat.com\" data-user-id=\"7\">@Tim Abbott</span> Hi! I hope I don't end up asking too many dumb questions.</p>",
        "id": 243954,
        "sender_full_name": "John Wedoff",
        "timestamp": 1499352542
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"jwedoff@akamai.com\" data-user-id=\"2782\">@John Wedoff</span> you've got a long way to go before you ask as many dumb questions to <span class=\"user-mention\" data-user-email=\"tabbott@zulipchat.com\" data-user-id=\"7\">@Tim Abbott</span>  as I have</p>",
        "id": 243956,
        "sender_full_name": "Tim April",
        "timestamp": 1499352568
    },
    {
        "content": "<p>Same.</p>",
        "id": 243958,
        "sender_full_name": "Harlan Lieberman-Berg",
        "timestamp": 1499352626
    },
    {
        "content": "<p>Haha, great to meet you <span class=\"user-mention\" data-user-email=\"jwedoff@akamai.com\" data-user-id=\"2782\">@John Wedoff</span>! :)</p>",
        "id": 244024,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1499356736
    },
    {
        "content": "<p>Likewise. I'm a little overwhelmed, but I'm doing my best.</p>",
        "id": 244229,
        "sender_full_name": "John Wedoff",
        "timestamp": 1499359558
    },
    {
        "content": "<p>Is there any HA guide? I've mostly been doing mostly MySQL DBA/Admin work lately, so I'm trying to get up to speed on PostregSQL tools. I'd <em>really</em> like to have a way to a planned failover with minimal downtime, no loss of user data, and minimal time without the old master node.</p>",
        "id": 244267,
        "sender_full_name": "John Wedoff",
        "timestamp": 1499359838
    },
    {
        "content": "<p><a href=\"http://zulip.readthedocs.io/en/latest/prod-maintain-secure-upgrade.html\" target=\"_blank\" title=\"http://zulip.readthedocs.io/en/latest/prod-maintain-secure-upgrade.html\">http://zulip.readthedocs.io/en/latest/prod-maintain-secure-upgrade.html</a> has some useful data on how this stuff works including setup, but I wouldn't say it really has an HA guide.</p>",
        "id": 244276,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1499359904
    },
    {
        "content": "<p>Oh good. I was already reading through that. :)</p>",
        "id": 244286,
        "sender_full_name": "John Wedoff",
        "timestamp": 1499359946
    },
    {
        "content": "<p>I don't want to blundering into attempting to reinvent any wheels if I can help it.</p>",
        "id": 244289,
        "sender_full_name": "John Wedoff",
        "timestamp": 1499359965
    }
]