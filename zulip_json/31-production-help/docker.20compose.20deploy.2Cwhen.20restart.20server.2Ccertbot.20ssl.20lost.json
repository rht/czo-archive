[
    {
        "content": "<p>hello,I deploy zulip by docker-compose,I found the certbot generate ssl to the docker container.So, when I restart docker-compose,the ssl will lost,I have to re install ssl,any other method?thanks.</p>",
        "id": 701967,
        "sender_full_name": "Return",
        "timestamp": 1550409862
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"9849\">@Return</span> the SSL certs generated by <code>docker-compose</code> should be stored in the data directory.</p>",
        "id": 702678,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1550516133
    },
    {
        "content": "<p>Should the generate script do this? <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span></p>",
        "id": 702730,
        "sender_full_name": "Return",
        "timestamp": 1550519846
    },
    {
        "content": "<p>Actually, I'm not totally sure how this works without checking.  <span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> can you look into this?</p>",
        "id": 702827,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1550527242
    },
    {
        "content": "<p>The <code>certbot-deploy-hook</code> in <code>docker-zulip</code> moves the certificates to the data directory, leaving symlinks behind. However, it’s possible that those symlinks don’t get recreated when the container is rebuilt.</p>",
        "id": 704201,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1550622320
    },
    {
        "content": "<p>Hmm, I could believe that.</p>",
        "id": 704202,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1550622340
    },
    {
        "content": "<p>We should just fix this and include it in the docker-zulip release for Zulip 2.0.</p>",
        "id": 704237,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1550636007
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> can you look at that?</p>",
        "id": 704238,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1550636013
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span>  Is there any progress here?I create ssl with <code>/home/zulip/deployments/current/scripts/setup/setup-certbot --email=EMAIL HOSTNAME [HOSTNAME2...]</code></p>",
        "id": 706752,
        "sender_full_name": "Return",
        "timestamp": 1550989093
    },
    {
        "content": "<p>Yeah, we fixed this in <a href=\"https://github.com/zulip/docker-zulip/pull/185\" target=\"_blank\" title=\"https://github.com/zulip/docker-zulip/pull/185\">https://github.com/zulip/docker-zulip/pull/185</a> by persisting <code>/etc/letsencrypt</code> to the data volume.</p>",
        "id": 707355,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1551125919
    }
]