[
    {
        "content": "<p>Hi I tried to follow steps here, did someone succeded because i am onpy stressed and confused by following these steps.</p>",
        "id": 1205413,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265845
    },
    {
        "content": "<p><a href=\"https://bitcoin.zulip.com/help/import-from-mattermost#import-into-a-self-hosted-zulip-server\">https://bitcoin.zulip.com/help/import-from-mattermost#import-into-a-self-hosted-zulip-server</a></p>",
        "id": 1205414,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265846
    },
    {
        "content": "<p>the part with the subdomains and root domains and all is killer</p>",
        "id": 1205415,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265865
    },
    {
        "content": "<p>who ever wrote that is either a domain geek or never worked with a domain blurps...</p>",
        "id": 1205416,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265880
    },
    {
        "content": "<p>Can someone bring some light?</p>",
        "id": 1205418,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265897
    },
    {
        "content": "<p>And maybe guide me what and or how the import command should like to work?</p>",
        "id": 1205419,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265913
    },
    {
        "content": "<p>I speak to this line: <code>./manage.py import &lt;subdomain&gt; /home/zulip/converted_mattermost_data/&lt;team-name&gt;</code></p>",
        "id": 1205420,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265925
    },
    {
        "content": "<p><code>&lt;subdomain&gt;</code> is likely to be the empty string (<code>\"\"</code>) unless you are trying to host multiple Zulip organizations, and <code>&lt;team-name&gt;</code> should be the name of the team within your Mattermost export that you want to import.</p>",
        "id": 1205421,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623265973
    },
    {
        "content": "<p>I do not know how and or what subdomains do you reffer to.</p>",
        "id": 1205422,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265978
    },
    {
        "content": "<p>The old mattermost team?</p>",
        "id": 1205423,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265996
    },
    {
        "content": "<p>hmmm</p>",
        "id": 1205424,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623265999
    },
    {
        "content": "<p>This should be mentioned in the documentation, at this point is confusing only.</p>",
        "id": 1205425,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266015
    },
    {
        "content": "<p>or rewriten...</p>",
        "id": 1205426,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266021
    },
    {
        "content": "<p>let me try</p>",
        "id": 1205427,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266031
    },
    {
        "content": "<p>tried it</p>",
        "id": 1205429,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266072
    },
    {
        "content": "<p>I said its connfusing</p>",
        "id": 1205430,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266076
    },
    {
        "content": "<p>Now I got this</p>",
        "id": 1205431,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266078
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>zulip@chat:~/deployments/current$ ./manage.py import &quot;&quot; /home/zulip/converted_mattermost_data/devops\nSubdomain reserved: pass --allow-reserved-subdomain to use.\nzulip@chat:~/deployments/current$\n</code></pre></div>",
        "id": 1205432,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266086
    },
    {
        "content": "<p>Why is reserved?</p>",
        "id": 1205433,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266109
    },
    {
        "content": "<p>I did no such reservings, what does that even mean?</p>",
        "id": 1205434,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266119
    },
    {
        "content": "<p>So yeah more confusion for someone new to Zulip, where the docs do not help much.</p>",
        "id": 1205435,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266138
    },
    {
        "content": "<p>I want to overstand how it works, not to ask daily for such simple things</p>",
        "id": 1205437,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266158
    },
    {
        "content": "<p>Thats why we have docs :D</p>",
        "id": 1205438,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266169
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>zulip@chat:~/deployments/current$ ./manage.py import &quot;&quot; /home/zulip/converted_mattermost_data/devops --allow-reserved-subdomain\nSubdomain reserved: pass --allow-reserved-subdomain to use.\n</code></pre></div>",
        "id": 1205439,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266195
    },
    {
        "content": "<p>Nope not really working with or without the --reserved domain...</p>",
        "id": 1205440,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266215
    },
    {
        "content": "<p>Anything I missed?</p>",
        "id": 1205441,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266220
    },
    {
        "content": "<p>I had tried all forms possible: <a href=\"/user_uploads/2/b9/v5Ipk7S3OjbKuXzW733hlhVq/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b9/v5Ipk7S3OjbKuXzW733hlhVq/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b9/v5Ipk7S3OjbKuXzW733hlhVq/image.png\"></a></div>",
        "id": 1205442,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266323
    },
    {
        "content": "<p>By the way is there a way to import users too?</p>",
        "id": 1205445,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266416
    },
    {
        "content": "<p>Or just content...</p>",
        "id": 1205447,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623266422
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20576\">@Cosmic Sound</span> the issue there is you put <code>--allow-reserved-subdomain</code> too early; it should be after <code>import</code>.</p>",
        "id": 1205469,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623268292
    },
    {
        "content": "<p>I think there's also a bug with that error message; I suspect your actual problem is something else.</p>",
        "id": 1205472,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623268396
    },
    {
        "content": "<p>That error message is wrong (<a href=\"#narrow/stream/9-issues/topic/I.20can.20not.20change.20user.20email/near/1188632\">previous discussion</a>).</p>",
        "id": 1205473,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1623268487
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/16935\">#16935</a> incorrectly assumed that the only reason <code>check_subdomain_available</code> raises <code>ValidationError</code> is to indicate that the subdomain is reserved.</p>",
        "id": 1205475,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1623268654
    },
    {
        "content": "<p>I'm fixing the error message now, and will backport to 4.x when that's done.</p>",
        "id": 1205476,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623268712
    },
    {
        "content": "<p>Fixed the error handling bug in <a href=\"https://github.com/zulip/zulip/commit/d041bb067449e0da291197dd0e7c87f8aa6655a9\">d041bb067449e0da291197dd0e7c87f8aa6655a9</a>.</p>",
        "id": 1205502,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623270180
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1205469\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"20576\">Cosmic Sound</span> the issue there is you put <code>--allow-reserved-subdomain</code> too early; it should be after <code>import</code>.</p>\n</blockquote>\n<p>This has not helped much either...</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">zulip@chat:~/deployments/current$ </span>./manage.py import --allow-reserved-subdomain <span class=\"s2\">\"\"</span> /home/zulip/converted_mattermost_data/devops\n<span class=\"go\">Subdomain reserved: pass --allow-reserved-subdomain to use.</span>\n<span class=\"gp\">zulip@chat:~/deployments/current$</span>\n</code></pre></div>",
        "id": 1205554,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623273013
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20576\">@Cosmic Sound</span> sorry, I should have followed up -- the actual issue is that you already have a realm at the <code>\"\"</code> subdomain, and the import tool is giving you the wrong error message for that state.</p>",
        "id": 1205572,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623274575
    },
    {
        "content": "<p>You likely don't need the <code>allow-reserved-subdomain</code> option at all -- you need to decide whether you want to delete the existing organization or do something else.</p>",
        "id": 1205576,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623274606
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1205572\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"20576\">Cosmic Sound</span> sorry, I should have followed up -- the actual issue is that you already have a realm at the <code>\"\"</code> subdomain, and the import tool is giving you the wrong error message for that state.</p>\n</blockquote>\n<p>And how I solve it? I am still not sure how I import that data in.</p>",
        "id": 1205608,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623278876
    },
    {
        "content": "<p>And by the way can I import also users, not sure this was answered.</p>",
        "id": 1205609,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623278893
    },
    {
        "content": "<p>so what is in the end the right command? And still this question can i import somehow current users?</p>",
        "id": 1206635,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623366254
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1205576\">said</a>:</p>\n<blockquote>\n<p>You likely don't need the <code>allow-reserved-subdomain</code> option at all -- you need to decide whether you want to delete the existing organization or do something else.</p>\n</blockquote>\n<p>I am not sure I get this line, can you elaborate, what I need to do to import migrate successfully the exported mattermost data.</p>",
        "id": 1206636,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623366319
    },
    {
        "content": "<p>What is right command?</p>",
        "id": 1206637,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623366326
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20576\">@Cosmic Sound</span> it depends on your goals.  Do you want to delete whatever you currently have?  </p>\n<p>If so, you can use <code>manage.py delete_realm</code> to delete your existing organization, and then run the import tool as documented.</p>",
        "id": 1206668,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623370340
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1206668\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"20576\">Cosmic Sound</span> it depends on your goals.  Do you want to delete whatever you currently have?  </p>\n<p>If so, you can use <code>manage.py delete_realm</code> to delete your existing organization, and then run the import tool as documented.</p>\n</blockquote>\n<p>I have these:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">zulip@chat:~/deployments/current$ </span>./manage.py list_realms\n<span class=\"go\">id    string_id            name                           domain</span>\n<span class=\"go\">--    ---------            ----                           ------</span>\n<span class=\"go\">1     zulipinternal        None                           https://zulipinternal.chat.uhl.site</span>\n<span class=\"go\">2     ''                   UHL Agency                     https://chat.uhl.site</span>\n</code></pre></div>",
        "id": 1207583,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623459731
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20576\">@Cosmic Sound</span> yeah, so <code>./manage.py delete_realm -r ''</code>.</p>",
        "id": 1207585,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623459833
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1206668\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"20576\">Cosmic Sound</span> it depends on your goals.  Do you want to delete whatever you currently have?  </p>\n<p>If so, you can use <code>manage.py delete_realm</code> to delete your existing organization, and then run the import tool as documented.</p>\n</blockquote>\n<p>can someone update the migration docs since that is not valid. 5 day using testing, havent managed to migrate anything.</p>",
        "id": 1207586,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623459873
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1207585\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"20576\">Cosmic Sound</span> yeah, so <code>./manage.py delete_realm -r ''</code>.</p>\n</blockquote>\n<p>Followed by?</p>",
        "id": 1207587,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623459897
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1207585\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"20576\">Cosmic Sound</span> yeah, so <code>./manage.py delete_realm -r ''</code>.</p>\n</blockquote>\n<p>Does not work, or I dont know the name:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">zulip@chat:~/deployments/current$ </span>./manage.py delete_realm -r <span class=\"s1\">''</span>\n<span class=\"go\">This realm has 1 users and 0 messages.</span>\n\n<span class=\"go\">This command will PERMANENTLY DELETE all data for this realm.  Most use cases will be better served by scrub_realm and/or deactivate_realm.</span>\n<span class=\"go\">Type the name of the realm to confirm: ''</span>\n<span class=\"go\">Aborting!</span>\n<span class=\"gp\">zulip@chat:~/deployments/current$ </span>./manage.py delete_realm -r <span class=\"s1\">''</span>\n<span class=\"go\">This realm has 1 users and 0 messages.</span>\n\n<span class=\"go\">This command will PERMANENTLY DELETE all data for this realm.  Most use cases will be better served by scrub_realm and/or deactivate_realm.</span>\n<span class=\"go\">Type the name of the realm to confirm: UHL Agency</span>\n<span class=\"go\">Aborting!</span>\n<span class=\"gp\">zulip@chat:~/deployments/current$</span>\n</code></pre></div>",
        "id": 1207588,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623459991
    },
    {
        "content": "<p>I think you just need to hit enter at the \"Type the name\" prompt -- it's expecting the empty string.  </p>\n<p>Followed by running the import process.  Your issue from the beginning has just been that you'd already setup an organization on the root domain on this Zulip server, and then the import tool gave a bad error message.</p>",
        "id": 1207591,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623460178
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span>  is there a way to migrate users? Or what exactly can be migrated?</p>",
        "id": 1207596,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623461464
    },
    {
        "content": "<p>Checking the system bots.<br>\nFinished importing system bots.</p>",
        "id": 1207597,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623461467
    },
    {
        "content": "<p>it seems migration is done, yet i see nothing in zulip.</p>",
        "id": 1207598,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623461711
    },
    {
        "content": "<p>no changes</p>",
        "id": 1207599,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623461714
    },
    {
        "content": "<p>It seems it for some reason failed i get:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"go\">Internal server error</span>\n<span class=\"go\">This Zulip server is currently experiencing some technical difficulties. Sorry about that!</span>\n\n<span class=\"go\">The page will reload automatically soon after service is restored.</span>\n\n<span class=\"go\">If you'd like, you can drop us a line to let us know what happened.</span>\n</code></pre></div>",
        "id": 1207600,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623461967
    },
    {
        "content": "<p>pitty migraation is not workin out of box</p>",
        "id": 1207601,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623462072
    },
    {
        "content": "<p>would had been good experience</p>",
        "id": 1207602,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1623462092
    },
    {
        "content": "<p>Heya, is there any way to import attachments, images and stuff from mattermost? The docs say it's not supported because the mattermost exporter doesn't export it, but I was able to get it to export images and everything, so I think that's no longer the case. Thanks!</p>",
        "id": 1215089,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624272847
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20312\">@Laura Hausmann</span> can you open an issue at <a href=\"https://github.com/zulip/zulip/issues/new\">https://github.com/zulip/zulip/issues/new</a> with details?  The ideal version would include be a sample Mattermost export file with images/attachments/etc. from a test team, which we could use for testing without anyone needing to setup a Mattermost server, but even an explanation of your research on the format would be very helpful.</p>",
        "id": 1215328,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1624305734
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"52\">@Vishnu KS</span> <span class=\"user-mention\" data-user-id=\"14114\">@Priyansh Garg (garg3133)</span> FYI, this might be a good small project while you're working on the data import tools.</p>",
        "id": 1215329,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1624305767
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> I set up a test instance and after writing a few messages and uploading images &amp; files, exported with <code>mattermost export bulk bulk_data.zip --archive --attachments</code>.</p>\n<p>This is the result:  <a href=\"/user_uploads/2/cb/Ch_CrG93ymGJRFNcpZ15Q_Fm/bulk_data.zip\">bulk_data.zip</a> </p>\n<p>Is this the correct format? If yes, I will create an issue.</p>\n<p>Thanks!</p>",
        "id": 1215762,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624349925
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20312\">@Laura Hausmann</span> that's great, go ahead and open an issue with it.</p>",
        "id": 1215999,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1624380826
    },
    {
        "content": "<p>alright, doing that now :)</p>",
        "id": 1216183,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624389255
    },
    {
        "content": "<p>created. <a href=\"https://github.com/zulip/zulip/issues/18959\">https://github.com/zulip/zulip/issues/18959</a></p>",
        "id": 1216192,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624389492
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 1216206,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1624389770
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20312\">@Laura Hausmann</span>  how did you managed to export images and all from mattermost can you share details?</p>",
        "id": 1217372,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1624501930
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20576\">@Cosmic Sound</span> the comand I used is as mentioned above, <code>mattermost export bulk bulk_data.zip --archive --attachments</code></p>",
        "id": 1217503,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624521150
    },
    {
        "content": "<blockquote>\n<p><code>mattermost export bulk bulk_data.zip --archive --attachments</code></p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"20312\">@Laura Hausmann</span> Where did you find this command? I don't see it documented anywhere in the Mattermost docs.</p>",
        "id": 1220087,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1624865977
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"14114\">@Priyansh Garg (garg3133)</span> that's because it isn't. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> <br>\nI found it while looking through the source code, as well as the help function for the bulk export.<br>\nThe mattermost docs are hopelessly outdated and/or plain wrong</p>",
        "id": 1220088,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624866316
    },
    {
        "content": "<p>Ohh, then I guess instead of replacing the old mattermost export commands in our doc, we should add this new command as a note, saying something like, \"Although exporting the attachments is not yet officially supported by Mattermost as per their docs, looking at the source code of mattermost-server, we've found a way to export the attachments as well..\".</p>",
        "id": 1220095,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1624870042
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20312\">@Laura Hausmann</span> Instead of exporting the data into a zip file, can't we just export it in a directory, say with the command <code>mattermost export bulk mattermost_export --attachments</code>?</p>\n<p>We need to make some changes to the exported data before archiving it:</p>\n<div class=\"codehilite\"><pre><span></span><code>cd mattermost_export\nmkdir -p exported_emoji/\nmv import.jsonl export.json\ntar --transform &#39;s|^|mattermost/|&#39; -czf export.tar.gz \\\n    data/ exported_emoji/ export.json\n</code></pre></div>",
        "id": 1220096,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1624870585
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"14114\">@Priyansh Garg (garg3133)</span> let me check what that does :D</p>",
        "id": 1220097,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624870631
    },
    {
        "content": "<p>the (mattermost) installation ate itself again, dammit</p>",
        "id": 1220100,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624870992
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"14114\">@Priyansh Garg (garg3133)</span> okay, yes, the attachment export w/o archive works, but (on my test machine) only if executed in /var/opt/mattermost</p>",
        "id": 1220104,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624872796
    },
    {
        "content": "<p>the full command being <code>mattermost export bulk bulk_data.json --attachments</code></p>",
        "id": 1220105,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624872815
    },
    {
        "content": "<p>And the structure of export is</p>\n<div class=\"codehilite\"><pre><span></span><code>- data/\n- bulk_data.json\n</code></pre></div>\n<p>right?</p>",
        "id": 1220107,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1624873110
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"14114\">Priyansh Garg (garg3133)</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1220107\">said</a>:</p>\n<blockquote>\n<p>And the structure of export is</p>\n<div class=\"codehilite\"><pre><span></span><code>- data/\n- bulk_data.json\n</code></pre></div>\n<p>right?</p>\n</blockquote>\n<p>ya</p>",
        "id": 1220108,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624873346
    },
    {
        "content": "<p><a href=\"/user_uploads/2/5/fpyQ2sFld8rNT-nSV6Mf5tkL/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5/fpyQ2sFld8rNT-nSV6Mf5tkL/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5/fpyQ2sFld8rNT-nSV6Mf5tkL/image.png\"></a></div>",
        "id": 1220109,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624873361
    },
    {
        "content": "<p>Thanks a lot :)</p>",
        "id": 1220110,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1624874224
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/zulip/zulip/pull/19034\">#19034</a> to add the support for importing attachments from Mattermost.</p>",
        "id": 1220137,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1624879037
    },
    {
        "content": "<p>excellent, thanks!</p>",
        "id": 1222009,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1624957290
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"14114\">@Priyansh Garg (garg3133)</span> I posted a comment with notes on how to add test coverage so that we can merge this.</p>",
        "id": 1222353,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1624982313
    },
    {
        "content": "<p>Added the test coverage for the new code.</p>",
        "id": 1223769,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1625172608
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"14114\">@Priyansh Garg (garg3133)</span> awesome, does that mean it passes CI now?</p>",
        "id": 1223818,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1625176178
    },
    {
        "content": "<p>Hows the status on this, when can we try it?</p>",
        "id": 1223939,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1625184499
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> Yes, it does.</p>",
        "id": 1223982,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1625202260
    },
    {
        "content": "<p>Mattermost.. my first love before Zulip</p>",
        "id": 1224028,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1625231626
    },
    {
        "content": "<p>This was merged today <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span>.</p>",
        "id": 1224124,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1625250764
    },
    {
        "content": "<p>Hi Tim, was wondering running again the delete real and reimporting wont do the trick?</p>",
        "id": 1228393,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1625835886
    },
    {
        "content": "<p>I still havent figured out a safe way to restore my mattermost over existing restored organization</p>",
        "id": 1228394,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1625835911
    },
    {
        "content": "<p>Any help would be welcomed</p>",
        "id": 1228395,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1625835917
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20576\">@Cosmic Sound</span> we don't have a tool for importing on top of an existing organization.  It's require significant development to make one.  So unless you want to fund development of such a feature, the choices you have are you either start afresh from a Mattermost export, or continue with the organization you imported (or both -- make an second organization with the attachments for when you want it).</p>",
        "id": 1228486,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1625848351
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> well my idea is that i do not need to keep the old organization. There is not a single guide complete steps to clean up old organizations or i dont want to redeploy all settings. I just want to replace existing content with a new import and to have attachements. Thats all</p>",
        "id": 1229468,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1626075981
    },
    {
        "content": "<p>It seems you did missunderstood me</p>",
        "id": 1229469,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1626075994
    },
    {
        "content": "<p>I dont need to keep existing content</p>",
        "id": 1229470,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1626076002
    },
    {
        "content": "<p>I need to have entire content from mattermost imported</p>",
        "id": 1229471,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1626076015
    },
    {
        "content": "<p>Wirhout conflicting</p>",
        "id": 1229472,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1626076022
    },
    {
        "content": "<p>So thats what i am looking for</p>",
        "id": 1229473,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1626076029
    },
    {
        "content": "<p>The steps to reset/remove safely and reimport safely.</p>",
        "id": 1229474,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1626076043
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20576\">@Cosmic Sound</span> you can delete the existing organizations with <code>scripts/setup/postgresql-init-db</code>.  Obviously, be very careful using this command, since it deletes everything in your database.</p>",
        "id": 1232329,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1626393467
    },
    {
        "content": "<p>Heya, I found one more thing: the new mattermost export command in the documentation overwrites all attachments with 0b/nothing before/while exporting when ran inside of the official docker container. Exporting with <code>--archive</code> seems to work, though. Currently attempting to import this. The bug is on mattermost's side, but I feel like the documentation could be updated to inform users about that bug. Will report back once I get it to import the archive, with the commands that got me there. Thanks again for the new importer, though! I was able to import a large org (albeit with the empty attachments, but that's mattermost's fault)</p>",
        "id": 1249547,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1629804621
    },
    {
        "content": "<p><a href=\"/user_uploads/2/ef/7zMqvxtHHRWKPu7wAvVlNwDa/image.png\">image.png</a> welp.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ef/7zMqvxtHHRWKPu7wAvVlNwDa/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/ef/7zMqvxtHHRWKPu7wAvVlNwDa/image.png\"></a></div>",
        "id": 1249548,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1629808799
    },
    {
        "content": "<p>okay nevermind, was an OOM error</p>",
        "id": 1249549,
        "sender_full_name": "Laura Hausmann",
        "timestamp": 1629809072
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"20312\">Laura Hausmann</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1249547\">said</a>:</p>\n<blockquote>\n<p>Heya, I found one more thing: the new mattermost export command in the documentation overwrites all attachments with 0b/nothing before/while exporting when ran inside of the official docker container. Exporting with <code>--archive</code> seems to work, though. Currently attempting to import this. The bug is on mattermost's side, but I feel like the documentation could be updated to inform users about that bug. Will report back once I get it to import the archive, with the commands that got me there. Thanks again for the new importer, though! I was able to import a large org (albeit with the empty attachments, but that's mattermost's fault)</p>\n</blockquote>\n<p>I have this issues when trying to export with --attachements flag on mattermost, what version you hadon mattermost at time of the export? Would be glad to manage to move on!</p>",
        "id": 1274401,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1635579205
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20312\">@Laura Hausmann</span> <span class=\"user-mention\" data-user-id=\"20576\">@Cosmic Sound</span> have either of you reported this big to Mattermost?</p>",
        "id": 1274812,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1635792199
    },
    {
        "content": "<p>Ideally we'd be able to link to the bug with their export attachment exporting.</p>",
        "id": 1274813,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1635792227
    },
    {
        "content": "<p>(I guess in the meantime, should we just change our documentation to recommend <code>--archive</code>?)</p>",
        "id": 1274814,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1635792240
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> I clearly had not, i am too dissapointed in their present even disturbed, so I would preffer not to even try, not sure about <span class=\"user-mention\" data-user-id=\"20312\">@Laura Hausmann</span> what she thinks, I am still confused how that she managed to get it working for her, guess she had a version that had this working.</p>",
        "id": 1274829,
        "sender_full_name": "Cosmic Sound",
        "timestamp": 1635792631
    },
    {
        "content": "<p>Hello guys. Great work on Zulip. I really love it so far. Having some issues with importing attachments/images.  So it I put \"data\" folder in mattermost folder is \"convert_mattermost_data\" command preparing attachments for import? I am asking as my attachment.json is empty after this command and I don't see it in imported messages. So I am not sure where to put mattermost data folder, but it looks in source code like it should work. From what I see, importer is than supposed to put this to \"uploads\" table to make it work.</p>\n<p><a href=\"/user_uploads/2/63/Sa5R3Pt6MGaqVYmeGtJQT6V8/Screenshot-2021-11-23-at-11.04.56.png\">Screenshot-2021-11-23-at-11.04.56.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/63/Sa5R3Pt6MGaqVYmeGtJQT6V8/Screenshot-2021-11-23-at-11.04.56.png\" title=\"Screenshot-2021-11-23-at-11.04.56.png\"><img src=\"/user_uploads/2/63/Sa5R3Pt6MGaqVYmeGtJQT6V8/Screenshot-2021-11-23-at-11.04.56.png\"></a></div><div class=\"codehilite\"><pre><span></span><code>./manage.py convert_mattermost_data /home/zulip/mattermost --output /home/zulip/converted_mattermost_data\n</code></pre></div>\n<p>I have around 20GB of data, so it is a big hit If I am not able to transfer those over.</p>\n<p>p.s. If I have only one team on MM I can get PM also? (I reorganized my Mattermost server to have one team just for this, but haven't tested it out yet).</p>",
        "id": 1285672,
        "sender_full_name": "Krešimir Bojčić",
        "timestamp": 1637662038
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22256\">@Krešimir Bojčić</span> yes, if you have only one team you'll get private messages; I think the documentation says that.</p>",
        "id": 1285841,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1637692090
    },
    {
        "content": "<p>That format for the Mattermost export directory looks correct to me.  <span class=\"user-mention\" data-user-id=\"14114\">@Priyansh Garg (garg3133)</span> might be able to debug why the uploaded files aren't working.  One question is whether you're using the Zulip <code>main</code> branch?</p>",
        "id": 1285844,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1637692188
    },
    {
        "content": "<p>I think it's possible we only added attachment support in the 5.0 branch.</p>",
        "id": 1285846,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1637692204
    },
    {
        "content": "<p>The format seems correct to me too. The problem should be with using the wrong git branch.</p>",
        "id": 1285925,
        "sender_full_name": "Priyansh Garg (garg3133)",
        "timestamp": 1637699444
    },
    {
        "content": "<p>Yeah, I think you're right that's the problem.  So <span class=\"user-mention\" data-user-id=\"22256\">@Krešimir Bojčić</span> you should do <code>upgrade-zulip-from-git main</code> and then run the import tool.</p>",
        "id": 1285940,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1637703841
    },
    {
        "content": "<p>I am having issues with upgrade-zulip as I am using docker Zulip 4.7(production is CentOS so I kinda have to). I was able to export DM-s but now import data preparation is breaking with message \"TypeError: 'NoneType' object is not iterable\" </p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code> <span class=\"k\">def</span> <span class=\"nf\">initialize_stream_membership_dicts</span><span class=\"p\">()</span> <span class=\"o\">-&gt;</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"k\">for</span> <span class=\"n\">channel</span> <span class=\"ow\">in</span> <span class=\"n\">channel_data</span><span class=\"p\">:</span>\n            <span class=\"n\">channel_name</span> <span class=\"o\">=</span> <span class=\"n\">channel</span><span class=\"p\">[</span><span class=\"s2\">\"name\"</span><span class=\"p\">]</span>\n            <span class=\"n\">channel_members_map</span><span class=\"p\">[</span><span class=\"n\">channel_name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n            <span class=\"n\">channel_admins_map</span><span class=\"p\">[</span><span class=\"n\">channel_name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n\n        <span class=\"k\">for</span> <span class=\"n\">username</span> <span class=\"ow\">in</span> <span class=\"n\">user_data_map</span><span class=\"p\">:</span>\n            <span class=\"n\">user_dict</span> <span class=\"o\">=</span> <span class=\"n\">user_data_map</span><span class=\"p\">[</span><span class=\"n\">username</span><span class=\"p\">]</span>\n            <span class=\"n\">teams</span> <span class=\"o\">=</span> <span class=\"n\">user_dict</span><span class=\"p\">[</span><span class=\"s2\">\"teams\"</span><span class=\"p\">]</span>\n            <span class=\"k\">if</span> <span class=\"n\">user_dict</span><span class=\"p\">[</span><span class=\"s2\">\"teams\"</span><span class=\"p\">]</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n                <span class=\"k\">continue</span>\n\n            <span class=\"k\">for</span> <span class=\"n\">team</span> <span class=\"ow\">in</span> <span class=\"n\">teams</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"n\">team</span><span class=\"p\">[</span><span class=\"s2\">\"name\"</span><span class=\"p\">]</span> <span class=\"o\">!=</span> <span class=\"n\">team_name</span><span class=\"p\">:</span>\n                    <span class=\"k\">continue</span>\n                <span class=\"k\">for</span> <span class=\"n\">channel</span> <span class=\"ow\">in</span> <span class=\"n\">team</span><span class=\"p\">[</span><span class=\"s2\">\"channels\"</span><span class=\"p\">]:</span>\n                    <span class=\"n\">channel_roles</span> <span class=\"o\">=</span> <span class=\"n\">channel</span><span class=\"p\">[</span><span class=\"s2\">\"roles\"</span><span class=\"p\">]</span>\n                    <span class=\"n\">channel_name</span> <span class=\"o\">=</span> <span class=\"n\">channel</span><span class=\"p\">[</span><span class=\"s2\">\"name\"</span><span class=\"p\">]</span>\n                    <span class=\"k\">if</span> <span class=\"s2\">\"channel_admin\"</span> <span class=\"ow\">in</span> <span class=\"n\">channel_roles</span><span class=\"p\">:</span>\n                        <span class=\"n\">channel_admins_map</span><span class=\"p\">[</span><span class=\"n\">channel_name</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"p\">)</span>\n                    <span class=\"k\">elif</span> <span class=\"s2\">\"channel_user\"</span> <span class=\"ow\">in</span> <span class=\"n\">channel_roles</span><span class=\"p\">:</span>\n                        <span class=\"n\">channel_members_map</span><span class=\"p\">[</span><span class=\"n\">channel_name</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>I think it's because of DM-s (did not have this issue first time around)</p>\n<p><a href=\"/user_uploads/2/9b/yoPeJIWrHnJLydkwmYLWYZqz/Screenshot-2021-11-25-at-18.40.23.png\">Screenshot-2021-11-25-at-18.40.23.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/9b/yoPeJIWrHnJLydkwmYLWYZqz/Screenshot-2021-11-25-at-18.40.23.png\" title=\"Screenshot-2021-11-25-at-18.40.23.png\"><img src=\"/user_uploads/2/9b/yoPeJIWrHnJLydkwmYLWYZqz/Screenshot-2021-11-25-at-18.40.23.png\"></a></div><p>Bulk export was from Mattermost 5.37.2</p>",
        "id": 1287014,
        "sender_full_name": "Krešimir Bojčić",
        "timestamp": 1637862146
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22256\">@Krešimir Bojčić</span> can you explain more clearly what sequence of things you're doing?</p>",
        "id": 1287567,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638128254
    },
    {
        "content": "<p>You can run <code>docker-zulip</code> with <code>main</code> if need be as documented for that project, and there's also not requirement that the Mattermost host be the same as the Zulip host; you can just <code>scp</code> the Mattermost export directory to your Zulip host.</p>",
        "id": 1287568,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638128303
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> Erorr above was for some old channel on mattermost, it went away when I cleaned up mattermost original via mm console. Then I had issues with \"huddle\". Import would break while trying to create same huddle twice( db constraints prevented that). What helped was me sorting channel members always in the same order and storing it as \"cleaned\" export.json. To be honest I still dont see \"private group messages\" from original in Zulip, but all other stuff, including files is there. This is amazing success in my book. Thanks for the cool product.</p>",
        "id": 1287776,
        "sender_full_name": "Krešimir Bojčić",
        "timestamp": 1638179193
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22256\">@Krešimir Bojčić</span> oh, interesting; the <code>huddle</code> issue is probably just a bug in how we handle Mattermost having two \"Group direct message\" conversations with the same set of people not being translated properly.  Not sure if those should become private streams or be merged.</p>",
        "id": 1288111,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638227255
    },
    {
        "content": "<p>Yeah, that's the bug; this assumes the Mattermost data doesn't have duplicates.</p>\n<div class=\"codehilite\"><pre><span></span><code>def generate_huddle_name(huddle_members: List[str]) -&gt; str:\n    # Simple hash function to generate a unique hash key for the\n    # members of a huddle.  Needs to be consistent only within the\n    # lifetime of export tool run, as it doesn&#39;t appear in the output.\n    import hashlib\n\n    return hashlib.md5(&quot;&quot;.join(sorted(huddle_members)).encode()).hexdigest()\n\n\ndef convert_huddle_data(\n    huddle_data: List[ZerverFieldsT],\n    user_data_map: Dict[str, Dict[str, Any]],\n    subscriber_handler: SubscriberHandler,\n    huddle_id_mapper: IdMapper,\n    user_id_mapper: IdMapper,\n    realm_id: int,\n    team_name: str,\n) -&gt; List[ZerverFieldsT]:\n\n    zerver_huddle = []\n    for huddle in huddle_data:\n        if len(huddle[&quot;members&quot;]) &gt; 2:\n            huddle_name = generate_huddle_name(huddle[&quot;members&quot;])\n            huddle_id = huddle_id_mapper.get(huddle_name)\n            huddle_dict = build_huddle(huddle_id)\n            huddle_user_ids = set()\n            for username in huddle[&quot;members&quot;]:\n                huddle_user_ids.add(user_id_mapper.get(username))\n            subscriber_handler.set_info(\n                users=huddle_user_ids,\n                huddle_id=huddle_id,\n            )\n            zerver_huddle.append(huddle_dict)\n    return zerver_huddle\n</code></pre></div>",
        "id": 1288112,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638227327
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/zulip/zulip/issues/20393\">https://github.com/zulip/zulip/issues/20393</a> to track this bug.</p>",
        "id": 1288113,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638227411
    },
    {
        "content": "<p>I agree with your assement, my workaround went in that direction. Where do I find huddles in UI. I was assuming in private messages, but there is none there. Interestingly if I add one by hand that exists, then it shows, and history is there.</p>\n<p><a href=\"/user_uploads/2/6a/SrxNUajiNI9lT4VCg3nT7gPx/Screenshot-2021-11-30-at-07.55.09.png\">Screenshot-2021-11-30-at-07.55.09.png</a> <a href=\"/user_uploads/2/14/m3JoslOB0sUYNm7uQtIJxlu4/Screenshot-2021-11-30-at-07.55.30.png\">Screenshot-2021-11-30-at-07.55.30.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6a/SrxNUajiNI9lT4VCg3nT7gPx/Screenshot-2021-11-30-at-07.55.09.png\" title=\"Screenshot-2021-11-30-at-07.55.09.png\"><img src=\"/user_uploads/2/6a/SrxNUajiNI9lT4VCg3nT7gPx/Screenshot-2021-11-30-at-07.55.09.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/14/m3JoslOB0sUYNm7uQtIJxlu4/Screenshot-2021-11-30-at-07.55.30.png\" title=\"Screenshot-2021-11-30-at-07.55.30.png\"><img src=\"/user_uploads/2/14/m3JoslOB0sUYNm7uQtIJxlu4/Screenshot-2021-11-30-at-07.55.30.png\"></a></div>",
        "id": 1288232,
        "sender_full_name": "Krešimir Bojčić",
        "timestamp": 1638255483
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22256\">@Krešimir Bojčić</span> it's under \"Private messages\" -- \"Huddle\" is just a non-user-visible name for a group private message with more than 2 users in the thread.</p>",
        "id": 1288673,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638307285
    },
    {
        "content": "<p>Yes, but migrated ones are not there, unless I try to send new message to huddle group. Then it shows under private, and migrated history is there</p>",
        "id": 1288678,
        "sender_full_name": "Krešimir Bojčić",
        "timestamp": 1638307393
    },
    {
        "content": "<p>Hello. I know I'm probably being paranoid by asking, but I want to test migrating my mattermost data to my new zulip instance before it is live.  Can somebody confirm if the export method from mattermost in the  zulip documentation  <a href=\"https://zchat.peeps.dev/help/import-from-mattermost\">https://zchat.peeps.dev/help/import-from-mattermost</a> will cause any issues/interruption  to  my Mattermost instance <br>\n(currently in production)?</p>",
        "id": 1305717,
        "sender_full_name": "The One",
        "timestamp": 1641510022
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22053\">@The One</span> it just does a data export from Mattermost; it should have no effect on your Mattermost server.</p>",
        "id": 1305808,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1641514031
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1305808\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22053\">The One</span> it just does a data export from Mattermost; it should have no effect on your Mattermost server.</p>\n</blockquote>\n<p>Thanks, <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span>   So it only exports a <strong>copy</strong> of my mattermost  data, correct?</p>",
        "id": 1305822,
        "sender_full_name": "The One",
        "timestamp": 1641514969
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22053\">@The One</span> correct.</p>",
        "id": 1305842,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1641515494
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1305842\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22053\">The One</span> correct.</p>\n</blockquote>\n<p>Thanks, <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> !</p>",
        "id": 1305852,
        "sender_full_name": "The One",
        "timestamp": 1641515685
    },
    {
        "content": "<p>Hello. I was trying to import my Mattermost data into my new Zulip instance as instructed in the zulip documentation.  However, upon running the \"./manage.py import \"\" /home/zulip/converted_mattermost_data/&lt;team-name&gt;\" and inserting the Mattermost team I would like import I get an error.  The error message reads \"Subdomain unavailable. Please choose a different one.<br>\nPass --allow-reserved-subdomain to override subdomain restrictions.\"  I currently don't have any domains in zulip.  I even tried passing the command in the error to no avail and could not find anything in the zulip docs that might help.  Please, advise?</p>",
        "id": 1317391,
        "sender_full_name": "The One",
        "timestamp": 1643327326
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22053\">@The One</span> the most likely explanation is that you already created an organization on the root domain for your Zulip server.</p>",
        "id": 1317465,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643333909
    },
    {
        "content": "<p>If that's because you just did a bit of testing before attempting the import, you can e.g. potentially use <code>manage.py change_realm_subdomain \"\" \"deleted\"</code> to rename that testing organization so you can give the Mattermost import the root domain.</p>",
        "id": 1317466,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643333967
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1317465\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22053\">The One</span> the most likely explanation is that you already created an organization on the root domain for your Zulip server.</p>\n</blockquote>\n<p>Thanks for your response.  I thought I had done this on my test instance, but I will try again.</p>",
        "id": 1318467,
        "sender_full_name": "The One",
        "timestamp": 1643430361
    },
    {
        "content": "<p>Hello I'm trying to install zulip with my own internal certificate CA,  unsure what other command can I use besides \"./zulip-server-*/scripts/setup/install --certbot \\<br>\n    --email=YOUR_EMAIL --hostname=YOUR_HOSTNAME\" because this does not help install zulip after I have downloaded and installed my own internal ca successfully.  Right now my ca is located in /etc/letsencrypt/live/&lt;servername/fullchain.pem and /etc/letsencrypt/live/&lt;servername&gt;/privkey.pem\"  Is there another location I should be storing these in?</p>",
        "id": 1320860,
        "sender_full_name": "The One",
        "timestamp": 1643765501
    }
]