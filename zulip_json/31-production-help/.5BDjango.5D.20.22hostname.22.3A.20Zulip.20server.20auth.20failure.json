[
    {
        "content": "<p>Does anyone know how I can fix this error? I had it when running 1.9.0 and today I upgraded to 1.9.1 and the error persists...</p>\n<div class=\"codehilite\"><pre><span></span>[Django] &quot;hostname&quot;: Zulip server auth failure: a12096b7-&quot;etc.&quot; is not registered\n\nLogger root, from module zerver.worker.queue_processors line 151:\nError generated by Anonymous user (not logged in) on &quot;hostame&quot; deployment\n\nTraceback (most recent call last):\n  File &quot;/home/zulip/deployments/2019-01-23-08-42-12/zerver/worker/queue_processors.py&quot;, line 134, in consume_wrapper\n    self.consume(data)\n  File &quot;/home/zulip/deployments/2019-01-23-08-42-12/zerver/worker/queue_processors.py&quot;, line 367, in consume\n    handle_push_notification(data[&#39;user_profile_id&#39;], data)\n  File &quot;/home/zulip/deployments/2019-01-23-08-42-12/zerver/decorator.py&quot;, line 741, in wrapped_func\n    ret = func(*args, **kwargs)\n  File &quot;/home/zulip/deployments/2019-01-23-08-42-12/zerver/lib/push_notifications.py&quot;, line 678, in handle_push_notification\n    gcm_payload)\n  File &quot;/home/zulip/deployments/2019-01-23-08-42-12/zerver/lib/push_notifications.py&quot;, line 265, in send_notifications_to_bouncer\n    send_json_to_push_bouncer(&#39;POST&#39;, &#39;notify&#39;, post_data)\n  File &quot;/home/zulip/deployments/2019-01-23-08-42-12/zerver/lib/push_notifications.py&quot;, line 272, in send_json_to_push_bouncer\n    extra_headers={&quot;Content-type&quot;: &quot;application/json&quot;},\n  File &quot;/home/zulip/deployments/2019-01-23-08-42-12/zerver/lib/push_notifications.py&quot;, line 333, in send_to_push_bouncer\n    raise JsonableError(msg)\nzerver.lib.exceptions.JsonableError: Zulip server auth failure: a12096b7-cde5-4942-beb0-5ddbb4dc372a is not registered\n\n\nDeployed code:\n- ZULIP_VERSION: 1.9.1\n- version: 1.9.1\n</pre></div>",
        "id": 685793,
        "sender_full_name": "Bruce Lewin",
        "timestamp": 1548226663
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"133\">@Bruce Lewin</span> I believe this is what happens if you lost your Zulip secrets during the upgrade.</p>",
        "id": 685796,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1548226857
    },
    {
        "content": "<p>That will cause other problems (e.g. logging out all users), so you probably just want to fix that rather than re-registering for mobile push notifications.</p>",
        "id": 685797,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1548226880
    },
    {
        "content": "<p>Hmmm... any way I can regenerate or fix?</p>",
        "id": 685798,
        "sender_full_name": "Bruce Lewin",
        "timestamp": 1548227032
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> I wonder if this came about due to a bug in the exporting organisations feature as that was when the problem emerged...</p>",
        "id": 685808,
        "sender_full_name": "Bruce Lewin",
        "timestamp": 1548228175
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"133\">@Bruce Lewin</span> can you explain exactly what you did?  Did you use the data export tool as part of your upgrade process?</p>",
        "id": 686072,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1548266088
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> Hi Tim, yeah, I just did the export-import stuff as per the <a href=\"https://zulip.readthedocs.io/en/latest/production/export-and-import.html#export-your-zulip-data\" target=\"_blank\" title=\"https://zulip.readthedocs.io/en/latest/production/export-and-import.html#export-your-zulip-data\">docs</a> everything else works fine...</p>",
        "id": 686772,
        "sender_full_name": "Bruce Lewin",
        "timestamp": 1548302243
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"133\">@Bruce Lewin</span> yeah, so generally you want to also copy the contents of <code>/etc/zulip/</code> when you migrate hardware that way.</p>",
        "id": 686963,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1548352961
    },
    {
        "content": "<p>And the fact that you didn't do so is why you're having this problem.</p>",
        "id": 686964,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1548352973
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> hmmm... is there anything else I can do to remedy this? can I ignore this error? is there a solution?</p>",
        "id": 687646,
        "sender_full_name": "Bruce Lewin",
        "timestamp": 1548356303
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"133\">@Bruce Lewin</span> well, if you don't have the /etc/zulip/ stuff from your old server, you can just re-register your server for push notifications with its new ID.</p>",
        "id": 687713,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1548357159
    },
    {
        "content": "<p><a href=\"https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html\" target=\"_blank\" title=\"https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html\">https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html</a></p>",
        "id": 687714,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1548357171
    },
    {
        "content": "<blockquote>\n<p>Well, if you don't have the /etc/zulip/ stuff from your old server, you can just re-register your server for push notifications with its new ID.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> I've just done this, I'll let you know if I hit any other snags... <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 689061,
        "sender_full_name": "Bruce Lewin",
        "timestamp": 1548393362
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> btw, I guess you want to add the part in about copying /etc/zulip/secrets.py to the export/import docs?</p>",
        "id": 689063,
        "sender_full_name": "Bruce Lewin",
        "timestamp": 1548393960
    },
    {
        "content": "<p>Yeah, I think so -- though I should note we do advise using the backup / database dump approach over the export/import tool for migrating <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 689266,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1548444813
    },
    {
        "content": "<p>I merged <a href=\"https://github.com/zulip/zulip/commit/001ec76e1f9ec460782dd4db608084dc142cae26\" target=\"_blank\" title=\"https://github.com/zulip/zulip/commit/001ec76e1f9ec460782dd4db608084dc142cae26\">001ec76e1f9ec460782dd4db608084dc142cae26</a> for this.</p>",
        "id": 693623,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1549178560
    }
]