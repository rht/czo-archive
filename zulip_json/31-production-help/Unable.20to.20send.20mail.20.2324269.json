[
    {
        "content": "<p>Posting <a href=\"https://github.com/zulip/zulip/pull/24269\">#24269</a> here for visibility:</p>\n<blockquote>\n<p>The system prompts that the mail was sent successfully but could not be received<br>\nroot@zulip:~# su zulip -c '/home/zulip/deployments/current/manage.py send_test_email <a href=\"mailto:fits02@t-demo.com\">fits02@t-demo.com</a>'<br>\nIf you run into any trouble, read:</p>\n<p><a href=\"https://zulip.readthedocs.io/en/latest/production/email.html#troubleshooting\">https://zulip.readthedocs.io/en/latest/production/email.html#troubleshooting</a></p>\n<p>The most common error is not setting <code>ADD_TOKENS_TO_NOREPLY_ADDRESS=False</code> when<br>\nusing an email provider that doesn't support that feature.</p>\n<p>Sending 2 test emails from:</p>\n<p>* <a href=\"mailto:admin@t-demo.com\">admin@t-demo.com</a><br>\n  * <a href=\"mailto:zulip@t-demo.com\">zulip@t-demo.com</a></p>\n<p>Successfully sent 2 emails to <a href=\"mailto:fits02@t-demo.com\">fits02@t-demo.com</a>!<br>\nPrompt for timeout when registering</p>\n<p>[screenshot]<br>\n</p>\n</blockquote>",
        "id": 1501528,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1675366488
    },
    {
        "content": "<p>Replied.</p>",
        "id": 1501551,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675368498
    },
    {
        "content": "<p>See issue for a follow-up comment.</p>",
        "id": 1501889,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1675410161
    },
    {
        "content": "<p>hi the is log for /var/log/zulip/events_email_senders.log<br>\n2023-02-02 09:34:16.941 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-02 09:34:18.009 ERR [zulip.send_email] An SMTP username was set (EMAIL_HOST_USER), but password is unset (EMAIL_HOST_PASSWORD).<br>\n2023-02-02 09:34:18.026 INFO [zulip.send_email] Sending notify_new_login email to ['admin admin@t-demo.com']<br>\n2023-02-02 09:34:27.154 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-02 09:34:29.393 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-02 09:44:42.631 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-02 09:44:44.883 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-02 09:52:16.221 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-02 09:52:18.496 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-02 09:58:15.741 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-02 09:58:17.955 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-02 10:02:04.099 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-02 10:02:06.384 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-02 10:09:10.606 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-02 10:09:12.835 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:15:32.174 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:15:34.465 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:29:09.993 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:29:12.267 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:32:39.615 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:32:41.844 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:36:05.931 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:36:08.187 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:43:59.937 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:44:02.131 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:50:43.471 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:50:45.718 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:52:38.204 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:52:40.436 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:56:01.844 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:56:04.155 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 02:59:53.481 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 02:59:55.729 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 03:03:57.117 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 03:03:59.348 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 03:12:55.150 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 03:12:57.407 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 03:15:32.387 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 03:15:34.609 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 03:17:53.103 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 03:17:55.346 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 03:29:00.829 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 03:29:03.086 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 09:53:59.677 INFO [zulip.send_email] Sending notify_new_login email to ['admin admin@t-demo.com']<br>\n2023-02-03 09:56:28.093 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 09:56:30.374 INFO [process_queue] Worker 0 connecting to queue email_senders<br>\n2023-02-03 09:59:15.642 INFO [process_queue] Worker 0 disconnecting from queue email_senders<br>\n2023-02-03 09:59:17.880 INFO [process_queue] Worker 0 connecting to queue email_senders</p>",
        "id": 1502602,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675529754
    },
    {
        "content": "<p>root@zulip:/var/log/zulip/emails# cat 20230203-095955-139882173626400.log Content-Type: text/plain; charset=\"utf-8\" MIME-Version: 1.0 Content-Transfer-Encoding: 7bit Subject: Zulip email test From: <a href=\"mailto:admin@t-demo.com\">admin@t-demo.com</a> To: <a href=\"mailto:fits01@t-demo.com\">fits01@t-demo.com</a> Date: Fri, 03 Feb 2023 09:59:55 -0000 Message-ID: 167541839558.1268949.3851041695558611401@zulip</p>\n<p>Success! If you receive this message (and a second with a different subject), you've successfully configured sending emails from your Zulip server. Remember that you need to restart the Zulip server with /home/zulip/deployments/current/scripts/restart-server after changing the settings in /etc/zulip before your changes will take effect.<br>\nContent-Type: text/plain; charset=\"utf-8\" MIME-Version: 1.0 Content-Transfer-Encoding: 7bit Subject: Zulip noreply email test From: <a href=\"mailto:zulip@t-demo.com\">zulip@t-demo.com</a> To: <a href=\"mailto:fits01@t-demo.com\">fits01@t-demo.com</a> Date: Fri, 03 Feb 2023 09:59:55 -0000 Message-ID: 167541839558.1268949.13777821702747170941@zulip</p>\n<p>Success! If you receive this message (and a second with a different subject), you've successfully configured sending emails from your Zulip server. Remember that you need to restart the Zulip server with /home/zulip/deployments/current/scripts/restart-server after changing the settings in /etc/zulip before your changes will take effect.</p>",
        "id": 1502607,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675530906
    },
    {
        "content": "<p><a href=\"/user_uploads/2/b0/7ZIfTmlJNUiH6XuobTT6h6oj/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b0/7ZIfTmlJNUiH6XuobTT6h6oj/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b0/7ZIfTmlJNUiH6XuobTT6h6oj/image.png\"></a></div>",
        "id": 1502956,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675603127
    },
    {
        "content": "<p>This is my configuration</p>",
        "id": 1502957,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675603138
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25948\">@TwoDogs2</span> so you should never post a password in a screenshot , and you should definitely change the password posted above.  But I think at least one of the errors in your logs above is that you need to put the password in <code>zulip-secrets.conf</code>, not <code>settings.py</code>, as documented.</p>",
        "id": 1503099,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675630902
    },
    {
        "content": "<p>My password is published in zulip-secrets.conf, and it is changed to settings.py because it does not take effect</p>",
        "id": 1503184,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675646920
    },
    {
        "content": "<p><a href=\"/user_uploads/2/de/kDJZ9htFbRWuDlSl7c7heDpK/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/de/kDJZ9htFbRWuDlSl7c7heDpK/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/de/kDJZ9htFbRWuDlSl7c7heDpK/image.png\"></a></div>",
        "id": 1503185,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675646948
    },
    {
        "content": "<p>But it still doesn't work</p>",
        "id": 1503189,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675646968
    },
    {
        "content": "<p>Did you remember to restart then Zulip server after each configuration change?</p>",
        "id": 1503223,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675659840
    },
    {
        "content": "<p>If that isn't working, it's likely because you have the wrong password for your email provider.</p>",
        "id": 1503224,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675659853
    },
    {
        "content": "<p>Every time I restart the service The password is correct. I can log in normally using the EMAIL client</p>",
        "id": 1503265,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675664336
    },
    {
        "content": "<p>There is a problem. The problem is that the time of the zulip service does not match the time of my server. I don't know if it will have an impact</p>",
        "id": 1503266,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675664462
    },
    {
        "content": "<p><a href=\"/user_uploads/2/40/-8lE5sBCZt_ik6gIwrCzkOcc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/40/-8lE5sBCZt_ik6gIwrCzkOcc/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/40/-8lE5sBCZt_ik6gIwrCzkOcc/image.png\"></a></div>",
        "id": 1503267,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675664517
    },
    {
        "content": "<p>I'm going to try version 6.1</p>",
        "id": 1503270,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675664743
    },
    {
        "content": "<p>Version 6.1 has been upgraded, but the problem has not been solved</p>",
        "id": 1503317,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675678299
    },
    {
        "content": "<p><a href=\"/user_uploads/2/ed/jQnmJ9SQvsbiO7sZAQn8i5WI/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ed/jQnmJ9SQvsbiO7sZAQn8i5WI/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/ed/jQnmJ9SQvsbiO7sZAQn8i5WI/image.png\"></a></div>",
        "id": 1503318,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675678313
    },
    {
        "content": "<p>I checked the mail server log and found that the zulip server did not establish a connection with the mail server. The network is accessible</p>",
        "id": 1504022,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675742842
    },
    {
        "content": "<p>Hello Can someone help me</p>",
        "id": 1504160,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675754667
    },
    {
        "content": "<p>I have the same problem，user can't receive email.</p>",
        "id": 1504256,
        "sender_full_name": "longgong",
        "timestamp": 1675777452
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1504327,
        "sender_full_name": "Armin",
        "timestamp": 1675787246
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25962\">@longgong</span> My problem has been solved</p>",
        "id": 1504725,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675822617
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25962\">@longgong</span> What is your configuration</p>",
        "id": 1504726,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675822652
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25948\">@TwoDogs2</span>    Can you tell me where is the configuration problem? Below is my configuration. I can receive emails when I use the test command, not online.<br>\n<a href=\"/user_uploads/2/f4/4oVl6kljbxcHNaAM7bFx3ArU/Snipaste_2023-02-08_10-56-49.png\">Snipaste_2023-02-08_10-56-49.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f4/4oVl6kljbxcHNaAM7bFx3ArU/Snipaste_2023-02-08_10-56-49.png\" title=\"Snipaste_2023-02-08_10-56-49.png\"><img src=\"/user_uploads/2/f4/4oVl6kljbxcHNaAM7bFx3ArU/Snipaste_2023-02-08_10-56-49.png\"></a></div>",
        "id": 1504736,
        "sender_full_name": "longgong",
        "timestamp": 1675825167
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25962\">@longgong</span> Can your network reach your <a href=\"http://smtp.qq.com\">smtp.qq.com</a></p>",
        "id": 1504739,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675825620
    },
    {
        "content": "<p>and your zulip-secrets.conf</p>",
        "id": 1504740,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675825835
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25948\">@TwoDogs2</span>  I can,      use <code> manage.py send_test_email </code> command can received.<br>\n<a href=\"/user_uploads/2/6f/ysD4YJd9kHGVfMFOdfHNOSE2/Snipaste_2023-02-08_11-09-15.png\">Snipaste_2023-02-08_11-09-15.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6f/ysD4YJd9kHGVfMFOdfHNOSE2/Snipaste_2023-02-08_11-09-15.png\" title=\"Snipaste_2023-02-08_11-09-15.png\"><img src=\"/user_uploads/2/6f/ysD4YJd9kHGVfMFOdfHNOSE2/Snipaste_2023-02-08_11-09-15.png\"></a></div>",
        "id": 1504741,
        "sender_full_name": "longgong",
        "timestamp": 1675826009
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25962\">@longgong</span> So what's the problem?Can't invite users to register?</p>",
        "id": 1504742,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675826112
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25948\">@TwoDogs2</span>  yes，It reminds me that the email was sent successfully, but I can't actually receive the email.<br>\n<a href=\"/user_uploads/2/bc/-Ll0b638N-4DXfu4AjP14g6e/Snipaste_2023-02-08_11-17-25.png\">Snipaste_2023-02-08_11-17-25.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bc/-Ll0b638N-4DXfu4AjP14g6e/Snipaste_2023-02-08_11-17-25.png\" title=\"Snipaste_2023-02-08_11-17-25.png\"><img src=\"/user_uploads/2/bc/-Ll0b638N-4DXfu4AjP14g6e/Snipaste_2023-02-08_11-17-25.png\"></a></div>",
        "id": 1504743,
        "sender_full_name": "longgong",
        "timestamp": 1675826293
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1504744,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675826372
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1504745,
        "sender_full_name": "longgong",
        "timestamp": 1675826670
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1504746,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675826760
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1504747,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675826850
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1504751,
        "sender_full_name": "longgong",
        "timestamp": 1675827206
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1504754,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675827275
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1504757,
        "sender_full_name": "longgong",
        "timestamp": 1675827308
    },
    {
        "content": "<p>Hello, everyone. My mail reception problem has been solved. Thank you</p>",
        "id": 1504780,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675837712
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25948\">@TwoDogs2</span>: Can you share what the problem was, in case others have the same bug -- or if there's documentation we could improve?</p>",
        "id": 1505374,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1675883484
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"12178\">@Alex Vandiver</span> <br>\nI'm happy to share my problems</p>",
        "id": 1505689,
        "sender_full_name": "TwoDogs2",
        "timestamp": 1675907129
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"25962\">@longgong</span>  使用QQ的SMTP服务，端口是465，根据官方文档，要把EMAIL_USE_TLS  替换成EMAIL_USE_SSL <br>\nIf your SMTP provider uses SSL on port 465 (and not TLS on port 587), you need to set EMAIL_PORT = 465 as well as replacing EMAIL_USE_TLS = True with EMAIL_USE_SSL = True; otherwise, Zulip will try to use the TLS protocol on port 465, which won’t work.</p>",
        "id": 1577241,
        "sender_full_name": "asong",
        "timestamp": 1685094601
    }
]