[
    {
        "content": "<p>Currently Push is not working for my installation and I get a exception email every time one should be sent.</p>",
        "id": 1239257,
        "sender_full_name": "Ricardo Duarte",
        "timestamp": 1627379581
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>Traceback (most recent call last):\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/worker/queue_processors.py&quot;, line 299, in do_consume\n    consume_func(events)\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/worker/queue_processors.py&quot;, line 339, in &lt;lambda&gt;\n    consume_func = lambda events: self.consume(events[0])\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/worker/queue_processors.py&quot;, line 666, in consume\n    handle_push_notification(event[&quot;user_profile_id&quot;], event)\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/decorator.py&quot;, line 830, in wrapped_func\n    ret = func(*args, **kwargs)\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/lib/push_notifications.py&quot;, line 907, in handle_push_notification\n    send_notifications_to_bouncer(user_profile_id, apns_payload, gcm_payload, gcm_options)\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/lib/push_notifications.py&quot;, line 407, in send_notifications_to_bouncer\n    send_json_to_push_bouncer(&quot;POST&quot;, &quot;push/notify&quot;, post_data)\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/lib/remote_server.py&quot;, line 104, in send_json_to_push_bouncer\n    send_to_push_bouncer(\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/lib/remote_server.py&quot;, line 57, in send_to_push_bouncer\n    res = requests.request(\n  File &quot;/srv/zulip-venv-cache/32fcc960bfb7387aa422d8595f3e85936ecbc5eb/zulip-py3-venv/lib/python3.8/site-packages/requests/api.py&quot;, line 61, in request\n    return session.request(method=method, url=url, **kwargs)\n  File &quot;/srv/zulip-venv-cache/32fcc960bfb7387aa422d8595f3e85936ecbc5eb/zulip-py3-venv/lib/python3.8/site-packages/requests/sessions.py&quot;, line 542, in request\n    resp = self.send(prep, **send_kwargs)\n  File &quot;/srv/zulip-venv-cache/32fcc960bfb7387aa422d8595f3e85936ecbc5eb/zulip-py3-venv/lib/python3.8/site-packages/requests/sessions.py&quot;, line 655, in send\n    r = adapter.send(request, **kwargs)\n  File &quot;/srv/zulip-venv-cache/32fcc960bfb7387aa422d8595f3e85936ecbc5eb/zulip-py3-venv/lib/python3.8/site-packages/requests/adapters.py&quot;, line 439, in send\n    resp = conn.urlopen(\n  File &quot;/srv/zulip-venv-cache/32fcc960bfb7387aa422d8595f3e85936ecbc5eb/zulip-py3-venv/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 699, in urlopen\n    httplib_response = self._make_request(\n  File &quot;/srv/zulip-venv-cache/32fcc960bfb7387aa422d8595f3e85936ecbc5eb/zulip-py3-venv/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 445, in _make_request\n    six.raise_from(e, None)\n  File &quot;&lt;string&gt;&quot;, line 3, in raise_from\n  File &quot;/srv/zulip-venv-cache/32fcc960bfb7387aa422d8595f3e85936ecbc5eb/zulip-py3-venv/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 440, in _make_request\n    httplib_response = conn.getresponse()\n  File &quot;/usr/lib/python3.8/http/client.py&quot;, line 1347, in getresponse\n    response.begin()\n  File &quot;/usr/lib/python3.8/http/client.py&quot;, line 307, in begin\n    version, status, reason = self._read_status()\n  File &quot;/usr/lib/python3.8/http/client.py&quot;, line 268, in _read_status\n    line = str(self.fp.readline(_MAXLINE + 1), &quot;iso-8859-1&quot;)\n  File &quot;/usr/lib/python3.8/socket.py&quot;, line 669, in readinto\n    return self._sock.recv_into(b)\n  File &quot;/usr/lib/python3.8/ssl.py&quot;, line 1241, in recv_into\n    return self.read(nbytes, buffer)\n  File &quot;/usr/lib/python3.8/ssl.py&quot;, line 1099, in read\n    return self._sslobj.read(len, buffer)\n  File &quot;/home/zulip/deployments/2021-06-03-21-00-31/zerver/worker/queue_processors.py&quot;, line 201, in timer_expired\n    raise WorkerTimeoutException(limit, event_count)\nzerver.worker.queue_processors.WorkerTimeoutException: Timed out after 30 seconds processing 1 events\n</code></pre></div>",
        "id": 1239258,
        "sender_full_name": "Ricardo Duarte",
        "timestamp": 1627379632
    },
    {
        "content": "<p>Is there any problem with the Zulip push service?</p>",
        "id": 1239259,
        "sender_full_name": "Ricardo Duarte",
        "timestamp": 1627379671
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"10530\">@Ricardo Duarte</span>: Google's notification service looks to have been having severely elevated tail latencies in this time period, which caused the push bouncer to not be able to return in time to satisfy the local queue worker.</p>\n<p>This looks to have lasted a couple hours and then resolved.  Frustratingly, Google doesn't note anything on <a href=\"https://status.firebase.google.com/\">its status board</a>.  If you're still seeing errors, let us know, but I don't see any notable non-200 responses from the push bouncer anymore.</p>\n<p>I'll file a ticket to fix the timeouts on the push bouncer side, and we'll need to make sure that the queueing system can propagate the right thing through in those instances.</p>",
        "id": 1239312,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1627401627
    },
    {
        "content": "<p>Today:</p>",
        "id": 1241021,
        "sender_full_name": "Ricardo Duarte",
        "timestamp": 1627636994
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>Error generated by Anonymous user (not logged in) on 506b677277ac deployment\n\nTraceback (most recent call last):\n  File &quot;/home/zulip/deployments/2021-07-25-23-24-50/zerver/worker/queue_processors.py&quot;, line 305, in do_consume\n    consume_func(events)\n  File &quot;/home/zulip/deployments/2021-07-25-23-24-50/zerver/worker/queue_processors.py&quot;, line 345, in &lt;lambda&gt;\n    consume_func = lambda events: self.consume(events[0])\n  File &quot;/home/zulip/deployments/2021-07-25-23-24-50/zerver/worker/queue_processors.py&quot;, line 680, in consume\n    handle_remove_push_notification(event[&quot;user_profile_id&quot;], message_ids)\n  File &quot;/home/zulip/deployments/2021-07-25-23-24-50/zerver/lib/push_notifications.py&quot;, line 825, in handle_remove_push_notification\n    send_notifications_to_bouncer(user_profile_id, apns_payload, gcm_payload, gcm_options)\n  File &quot;/home/zulip/deployments/2021-07-25-23-24-50/zerver/lib/push_notifications.py&quot;, line 407, in send_notifications_to_bouncer\n    send_json_to_push_bouncer(&quot;POST&quot;, &quot;push/notify&quot;, post_data)\n  File &quot;/home/zulip/deployments/2021-07-25-23-24-50/zerver/lib/remote_server.py&quot;, line 104, in send_json_to_push_bouncer\n    send_to_push_bouncer(\n  File &quot;/home/zulip/deployments/2021-07-25-23-24-50/zerver/lib/remote_server.py&quot;, line 57, in send_to_push_bouncer\n    res = requests.request(\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/requests/api.py&quot;, line 61, in request\n    return session.request(method=method, url=url, **kwargs)\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/requests/sessions.py&quot;, line 542, in request\n    resp = self.send(prep, **send_kwargs)\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/requests/sessions.py&quot;, line 655, in send\n    r = adapter.send(request, **kwargs)\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/requests/adapters.py&quot;, line 439, in send\n    resp = conn.urlopen(\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 699, in urlopen\n    httplib_response = self._make_request(\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 382, in _make_request\n    self._validate_conn(conn)\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/urllib3/connectionpool.py&quot;, line 1010, in _validate_conn\n    conn.connect()\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/urllib3/connection.py&quot;, line 353, in connect\n    conn = self._new_conn()\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/urllib3/connection.py&quot;, line 169, in _new_conn\n    conn = connection.create_connection(\n  File &quot;/srv/zulip-venv-cache/cc77818846b328558cc9444c67cbbe0121ca80f4/zulip-py3-venv/lib/python3.8/site-packages/urllib3/util/connection.py&quot;, line 86, in create_connection\n    sock.connect(sa)\n  File &quot;/home/zulip/deployments/2021-07-25-23-24-50/zerver/worker/queue_processors.py&quot;, line 351, in timer_expired\n    raise WorkerTimeoutException(limit, len(events))\nzerver.worker.queue_processors.WorkerTimeoutException: Timed out after 30 seconds processing 1 events\n</code></pre></div>",
        "id": 1241022,
        "sender_full_name": "Ricardo Duarte",
        "timestamp": 1627636998
    },
    {
        "content": "<p>I'm also not getting any push messages since I upgraded to v.4</p>",
        "id": 1241023,
        "sender_full_name": "Ricardo Duarte",
        "timestamp": 1627637188
    }
]