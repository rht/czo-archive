[
    {
        "content": "<p>This is in regard to my PR for issue <a href=\"https://github.com/zulip/zulip/pull/19865\">#19865</a>: Show status emoji in message feed and PMs <a href=\"https://github.com/zulip/zulip/pull/19865\">#19865</a>. The various combinations of vertical alignment of the status emoji are attached below:</p>\n<ol>\n<li>\n<p>Current variant (it looks vertically centred in the left sidebar and message feed but is placed higher in the right sidebar)<br>\n<a href=\"/user_uploads/2/6/lhVY78DNiFkZLg8J8kcwGI0Z/Screenshot-2022-01-26-at-5.12.10-AM.png\">Screenshot-2022-01-26-at-5.12.10-AM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6/lhVY78DNiFkZLg8J8kcwGI0Z/Screenshot-2022-01-26-at-5.12.10-AM.png\" title=\"Screenshot-2022-01-26-at-5.12.10-AM.png\"><img src=\"/user_uploads/2/6/lhVY78DNiFkZLg8J8kcwGI0Z/Screenshot-2022-01-26-at-5.12.10-AM.png\"></a></div></li>\n<li>\n<p>All three vertically centred<br>\n<a href=\"/user_uploads/2/92/dQXUyJCvAZhjgMgrg5jsE0CX/Screenshot-2022-01-24-at-12.04.26-PM.png\">Screenshot-2022-01-24-at-12.04.26-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/92/dQXUyJCvAZhjgMgrg5jsE0CX/Screenshot-2022-01-24-at-12.04.26-PM.png\" title=\"Screenshot-2022-01-24-at-12.04.26-PM.png\"><img src=\"/user_uploads/2/92/dQXUyJCvAZhjgMgrg5jsE0CX/Screenshot-2022-01-24-at-12.04.26-PM.png\"></a></div></li>\n<li>\n<p>All three aligned as they currently are in the right sidebar<br>\n<a href=\"/user_uploads/2/4f/UYheZhyOmln2KZ11rhlyikBX/Screenshot-2022-01-24-at-3.11.56-PM.png\">Screenshot-2022-01-24-at-3.11.56-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4f/UYheZhyOmln2KZ11rhlyikBX/Screenshot-2022-01-24-at-3.11.56-PM.png\" title=\"Screenshot-2022-01-24-at-3.11.56-PM.png\"><img src=\"/user_uploads/2/4f/UYheZhyOmln2KZ11rhlyikBX/Screenshot-2022-01-24-at-3.11.56-PM.png\"></a></div></li>\n</ol>",
        "id": 1315972,
        "sender_full_name": "Anusha Roy",
        "timestamp": 1643154324
    },
    {
        "content": "<p>To me 2 is the best</p>",
        "id": 1315973,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643154437
    },
    {
        "content": "<p>Seems reasonable to me.</p>",
        "id": 1315979,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643156575
    },
    {
        "content": "<p>It just occurred to me that we should probably also show status emoji in the compose box pills for PMs. Do folks agree?</p>\n<p><span class=\"user-mention\" data-user-id=\"21460\">@Anusha Roy</span> <span class=\"user-mention\" data-user-id=\"9808\">@Yash RE</span> would it be easy to add this to the current PR, or should I open a separate issue if we decide to do it?</p>",
        "id": 1319950,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643674561
    },
    {
        "content": "<p>I could add commits that make that change in <a href=\"https://github.com/zulip/zulip/pull/20464\">#20464</a>. I think Anusha would be able to get that done as well, but I think I'm just more available right now, so I'd prefer to be the one to do it.<br>\n<span class=\"user-mention\" data-user-id=\"21460\">@Anusha Roy</span> I think we're fairly certain that we want to do (2) above, will you be able to update the CSS in <a href=\"https://github.com/zulip/zulip/pull/20019\">#20019</a>? If we're going to be uniform towards this, the best way to do that would be to use the same styles, but I'm not sure if that's possible so I'll leave it up to you to figure out.</p>",
        "id": 1320060,
        "sender_full_name": "Yash RE",
        "timestamp": 1643688742
    },
    {
        "content": "<p>(I'm working on wrapping up this PR.)</p>",
        "id": 1321846,
        "sender_full_name": "Yash RE",
        "timestamp": 1643899683
    },
    {
        "content": "<p>Here's what the status emoji looks like in the compose:</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d6/2U_1UCryximFWLA0r5kUlNn5/image.png\"><img src=\"/user_uploads/2/d6/2U_1UCryximFWLA0r5kUlNn5/image.png\"></a></div>",
        "id": 1321850,
        "sender_full_name": "Yash RE",
        "timestamp": 1643900969
    },
    {
        "content": "<p>The same code is, however, used in settings / user groups:</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1d/GYKo7L55yVjd70z_lTZhJ90m/image.png\"><img src=\"/user_uploads/2/1d/GYKo7L55yVjd70z_lTZhJ90m/image.png\"></a></div><p>So should I try and remove it from there or just fix the styling?</p>",
        "id": 1321852,
        "sender_full_name": "Yash RE",
        "timestamp": 1643901058
    },
    {
        "content": "<p>I could probably also add it to the typeahead here:</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/93/PybXeAnMaERXVtdiQMyMIQY9/image.png\"><img src=\"/user_uploads/2/93/PybXeAnMaERXVtdiQMyMIQY9/image.png\"></a></div><p>Should I?</p>",
        "id": 1321853,
        "sender_full_name": "Yash RE",
        "timestamp": 1643901135
    },
    {
        "content": "<p>Yes, I would remove the emoji from settings (where the user's current status isn't really relevant) and add it to the typeahead. Thanks!</p>",
        "id": 1322059,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643917201
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> I filed <a href=\"https://github.com/zulip/zulip/pull/21050\">#21050</a> to succeed <a href=\"https://github.com/zulip/zulip/pull/20464\">#20464</a>. (priority: high, release goal)</p>",
        "id": 1323334,
        "sender_full_name": "Yash RE",
        "timestamp": 1644138672
    },
    {
        "content": "<p>Great, thanks!</p>",
        "id": 1324199,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644276251
    },
    {
        "content": "<p>Just an update that <a href=\"https://github.com/zulip/zulip/pull/21050\">#21050</a> was essentially merged today (and is thus now deployed here permanently).  The one bit that remains is it doesn't display status emoji for group PM threads in the right sidebar, which would be essentially invisible with the 1-line design we currently have in the sidebar anyway.  Places you should now see status emoji include:</p>\n<ul>\n<li>The left sidebar.  Preexisting.</li>\n<li>The user information popover (Click on a user in the message feed or get essentially the same menu from the <code>\\vdots</code> menu in the right sidebar).  Preexisting.</li>\n<li>\"Private messages\" in the left sidebar.</li>\n<li>Compose box typeahead to mention or send a private message to someone.</li>\n<li>Next to a user's name messages that users send in the message feed.</li>\n<li>Streams management typeahead to add users to a stream.  (We didn't spend specific effort on this; it's just a shared component with compose).</li>\n</ul>",
        "id": 1327185,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644617725
    },
    {
        "content": "<p>Feedback is appreciated, including on minor details like pixel-level positioning, size, etc.</p>",
        "id": 1327186,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644617756
    },
    {
        "content": "<p>I guess one thing I'm considering is whether we need more left-margin for the status emoji component:</p>\n<p><a href=\"/user_uploads/2/db/WKrbTV-_68pxe8gZktwO0HSz/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/db/WKrbTV-_68pxe8gZktwO0HSz/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/db/WKrbTV-_68pxe8gZktwO0HSz/image.png\"></a></div><p>I didn't think so in the development environment, but I I must have been testing with a set of emoji images that don't fill their square area as completely.</p>",
        "id": 1327188,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644617858
    },
    {
        "content": "<p>For comparison here's with <span aria-label=\"sick\" class=\"emoji emoji-1f912\" role=\"img\" title=\"sick\">:sick:</span> from the development environment.<br>\n<a href=\"/user_uploads/2/75/FHGNpZh11DxSHvKFe-ZWjy1m/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/75/FHGNpZh11DxSHvKFe-ZWjy1m/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/75/FHGNpZh11DxSHvKFe-ZWjy1m/image.png\"></a></div>",
        "id": 1327189,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644617890
    },
    {
        "content": "<p>Hmm, I guess we need to adjust margins for the sidebar applications, possibly left-margins on the unread counts are the right solution.  <span class=\"user-mention\" data-user-id=\"9808\">@Yash RE</span> FYI; this is probably my regression, but it'd be great if you can take a pass at fixing.  I think logically we want the preserve the 1-sided margins on status emoji (possibly bumping from 2px to 3-4px as discussed in the last few messages), and just make sure the elements to their right have appropriate spacing.  You can use <code>manage.py mark_all_messages_unread</code> to easily test.</p>\n<p><a href=\"/user_uploads/2/32/poVdYMvYl40z9N2ILlk3YfOR/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/32/poVdYMvYl40z9N2ILlk3YfOR/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/32/poVdYMvYl40z9N2ILlk3YfOR/image.png\"></a></div>",
        "id": 1327227,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644619469
    }
]