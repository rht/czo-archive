[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign/near/1306298\">said</a>:</p>\n<blockquote>\n<ul>\n<li>I don't find colored rectangle on the left top corner working better than the arrow. Arrow pointer is softer and allows to put other things inside that title section of a card if we need in future. <a href=\"/user_uploads/2/da/rCLP5DNbca6XnsGNY_4T7dAg/image.png\">image.png</a>. But colored corner is less noisy and we might need to test both approaches on a scrolling experiment </li>\n</ul>\n</blockquote>\n<p><a href=\"/user_uploads/2/da/rCLP5DNbca6XnsGNY_4T7dAg/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/da/rCLP5DNbca6XnsGNY_4T7dAg/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/da/rCLP5DNbca6XnsGNY_4T7dAg/image.png\"></a></div><p>One small note on this design detail: One advantage of the current <code>&gt;</code> themed / pentagon shape is that it has a certain consistency with how we enter a link to a topic, namely <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/UI.20redesign\">#design &gt; UI redesign</a> is able to echo that separator in plain text.</p>",
        "id": 1312460,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1642643974
    },
    {
        "content": "<p>So while I don't think that's an overriding consideration, I think it should be a design goal to clearly suggest how to type a <code>(stream, topic)</code> pair.</p>",
        "id": 1312461,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1642644048
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign/near/1312461\">said</a>:</p>\n<blockquote>\n<p>So while I don't think that's an overriding consideration, I think it should be a design goal to clearly suggest how to type a <code>(stream, topic)</code> pair.</p>\n</blockquote>\n<p>that forces me to prepare another version of that section</p>",
        "id": 1312467,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1642644946
    },
    {
        "content": "<p>If were trying to be consistent that “#design &gt; UI redesign” can be a link, they why not just make the actual thread title exactly this in bold (without a color)? It seems weird to me that we’re saying a yellow background color in the shape of an arrow is easier to parse than simplying making the main stream  title actually the text string “<strong>#design &gt; UI redesign</strong>” itself.  Why dont we just bold that quoted heading. <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span></p>",
        "id": 1312481,
        "sender_full_name": "Mike P.",
        "timestamp": 1642652563
    },
    {
        "content": "<p>If we change the topic name to just be a larger/bolder font and not use colors (that way it's consistent in both the links and title like <span class=\"user-mention\" data-user-id=\"22888\">@Mike P.</span>  says) -  that would address <span class=\"user-mention\" data-user-id=\"58\">@Steve Howell (showell)</span> earlier comment when he said \"I think the reason I value the color cues there basically comes down to us not bolding or enlarging the stream names.\"</p>",
        "id": 1312616,
        "sender_full_name": "Bethany Davis",
        "timestamp": 1642686774
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22888\">Mike P.</span> 's question made me wonder -- would it be worthwhile to include the privacy icon (hash, lock, etc.) in the stream header bar?</p>",
        "id": 1313162,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1642720275
    },
    {
        "content": "<p>Given the increasing use of the stream prefix icons, it seems appealing, eg.</p>\n<div class=\"codehilite\"><pre><span></span><code># design | 20k | Discusion of...\n---\n# design &gt; UI redesign: ...\n</code></pre></div>\n<p>However, I'm concerned the duplication could become too strong, at least in non-interleaved views.</p>",
        "id": 1313269,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1642729372
    },
    {
        "content": "<p>Re <span class=\"user-mention\" data-user-id=\"22888\">@Mike P.</span>'s point, I'd suggest this would look even more duplicated from the narrow title to the non-interleaved title (as per my \"design\" above).</p>\n<p>One thing I do wonder though, is some split design, such as inserting a stream-color full-height \"&gt;\" within the grey bar - or perhaps something more subtle? So there would be the existing pentagon, a grey '&gt;', a '&gt;' of the stream-color, and then the current topic area.</p>\n<p>In <a class=\"stream\" data-stream-id=\"206\" href=\"/#narrow/stream/206-zulip-terminal\">#zulip-terminal</a> we experimented with a few ideas for the '&gt;' in the narrow titles like this, and there's definitely something to be said about keeping the style literally the same, but equally people do like pretty designs ;) Not that terminal screens can be as pretty as browsers, but that's another discussion.</p>",
        "id": 1313281,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1642730082
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> this would be relevant to what you do. <span class=\"user-mention\" data-user-id=\"2187\">@Greg Price</span> <span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span>  you might be opinionated about that area, so check this out.</p>\n<p>In the new design if Figma and here <a href=\"https://github.com/zulip/zulip/issues/22021\">https://github.com/zulip/zulip/issues/22021</a> the way recipient bar colors should be generated isn't clarified. And <a href=\"https://github.com/zulip/zulip/pull/22430\">Aman's PR</a> helped me to realize that.</p>\n<p>I made a prototype to solve this problem <a href=\"https://codepen.io/terpimost/pen/WNzdrJN?editors=0010\">https://codepen.io/terpimost/pen/WNzdrJN?editors=0010</a> and also recorded <a href=\"https://www.loom.com/share/19a2df06b6f549c29dcca07c091be269\">video clarifications</a><br>\nBasically I suggest to clamp highness of a stream color, at least on a front-end side:</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">correctStreamColor</span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"nx\">color</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"#000000\"</span><span class=\"p\">})</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nx\">color_l</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">min_color_l</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">max_color_l</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nx\">min_color_l</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">20</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nx\">max_color_l</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">75</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nx\">color_l</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">(</span><span class=\"nx\">color</span><span class=\"p\">).</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s2\">\"lch.l\"</span><span class=\"p\">);</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">color_l</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"nx\">min_color_l</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">(</span><span class=\"nx\">color</span><span class=\"p\">).</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"lch.l\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">min_color_l</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">color_l</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">max_color_l</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">(</span><span class=\"nx\">color</span><span class=\"p\">).</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"lch.l\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">max_color_l</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">color</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>and for the recipient bar to mix it without relying on browser blending and transparency:</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">getRecipientBarColor</span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"nx\">color</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"#000000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">darkMode</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\"> </span><span class=\"p\">})</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"nx\">color</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">darkMode</span><span class=\"w\"> </span><span class=\"o\">?</span><span class=\"w\"> </span><span class=\"s2\">\"black\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"white\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.8</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"rgb\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>I was using 0-dependency library <a href=\"https://vis4.net/chromajs/\">https://vis4.net/chromajs/</a> so simplify color manipulations<br>\nIf you want to clamp stream colors on the server side - ok. It would be even possible to use 2 colors as we do now and avoid any front-ent js scripting about it. I expect some color manipulation for counters and probably will create a prototype for them tomorrow.</p>",
        "id": 1413426,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1659230279
    },
    {
        "content": "<p>Here are the <a href=\"https://github.com/zulip/zulip/blob/58d1be8085c5278de1f94087c1a8c848968cd58f/zerver/lib/stream_color.py#L3-L28\">stream colors we currently assign</a>, if you want to prototype with the actual colors that will be most common.</p>",
        "id": 1413429,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1659231251
    },
    {
        "content": "<p>They’re already somewhat more muted than random colors, which we should keep in mind if we’re doing a transformation that mutes them further.</p>",
        "id": 1413432,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1659231411
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> thanks. I added those colors to the generated array, so you can see how these colors are working. I think they are mostly stay unmodified.</p>",
        "id": 1413435,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1659232386
    },
    {
        "content": "<p>Great! Thanks for the video clarification, too. I will add it to my PR <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 1413624,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1659331751
    },
    {
        "content": "<p>I guess I should wait for feedback from others as well.</p>",
        "id": 1413701,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1659365976
    },
    {
        "content": "<p>I got a little lost reading the math above; I'm not sure what questions we need feedback on next here?</p>",
        "id": 1414356,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1659482292
    },
    {
        "content": "<p>I will add it to the PR, then we can make better decisions about this.</p>",
        "id": 1414411,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1659499985
    },
    {
        "content": "<p><a href=\"/user_uploads/2/92/2c_GRoPLYxzsuwcFWJWmwifh/inline_video.gif\">inline_video.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/92/2c_GRoPLYxzsuwcFWJWmwifh/inline_video.gif\" title=\"inline_video.gif\"><img src=\"/user_uploads/2/92/2c_GRoPLYxzsuwcFWJWmwifh/inline_video.gif\"></a></div><p>This is how it looks with the above logic applied.</p>",
        "id": 1430298,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1662370971
    },
    {
        "content": "<p>(Updated the PR <a href=\"https://github.com/zulip/zulip/pull/22430\">#22430</a> if folks want to checkout locally, but not ready for code review even nearly)</p>",
        "id": 1430301,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1662371084
    },
    {
        "content": "<p>Oh, cool. Nice update.</p>\n<ul>\n<li>Since we don't play with transparency I suggest to replace linear gradient trick with just a solid color <a href=\"/user_uploads/2/a1/u7MwL9RuiNmMh5OyXAmzDvzX/image.png\">image.png</a> <div class=\"message_inline_image\"><a href=\"/user_uploads/2/a1/u7MwL9RuiNmMh5OyXAmzDvzX/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/a1/u7MwL9RuiNmMh5OyXAmzDvzX/image.png\"></a></div></li>\n<li>\n<p>For some reason I see that the calculation of the color in Zulip app doesn't match the example:<br>\n<a href=\"/user_uploads/2/55/0ozn-tXk1SXnM4lXqfWxMhFL/image.png\">image.png</a> <br>\n<a href=\"/user_uploads/2/86/WaLWH45_a-ilIm7L2a4JIxH6/image.png\">image.png</a> <br>\nWhy do you think is that so?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/55/0ozn-tXk1SXnM4lXqfWxMhFL/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/55/0ozn-tXk1SXnM4lXqfWxMhFL/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/86/WaLWH45_a-ilIm7L2a4JIxH6/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/86/WaLWH45_a-ilIm7L2a4JIxH6/image.png\"></a></div></li>\n<li>\n<p>It looks like the borders around the message and in the header separator are too dark, but it could be that we think it is a part of another task. I suggest to correct them in this PR, since they look a bit to strong (now they are #d6d6d6 instead of #d7d7d7 - as in <a href=\"https://codepen.io/terpimost/pen/WNzdrJN\">example</a>). Note that the border around the whole card is different from the border (done by box shadow in the example) under the recipient bar</p>\n</li>\n</ul>",
        "id": 1430433,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1662400630
    },
    {
        "content": "<p>Thanks for the review! Will do.</p>",
        "id": 1430540,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1662445607
    },
    {
        "content": "<blockquote>\n<p>I suggest to replace linear gradient trick with just a solid color</p>\n</blockquote>\n<p>Done.</p>",
        "id": 1431319,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1662549125
    },
    {
        "content": "<blockquote>\n<p>Why do you think is that so?</p>\n</blockquote>\n<p>Maybe different versions of chroma used? The functions are the same.</p>",
        "id": 1431320,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1662549164
    },
    {
        "content": "<blockquote>\n<p>3rd point</p>\n</blockquote>\n<p><code>d6d6d6</code> and <code>d7d7d7</code> translate to the same HSL value.</p>",
        "id": 1431321,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1662549191
    },
    {
        "content": "<p>Since the message has white background, the border color is good?</p>",
        "id": 1431322,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1662549390
    },
    {
        "content": "<p>The border color is different</p>",
        "id": 1431325,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1662549857
    },
    {
        "content": "<p>D6d6d6 and d7d7d7 are examples when hal value isn’t helpful. The color is different, so we have to use hex here. I’m surprised about that situation actually</p>",
        "id": 1431327,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1662549933
    },
    {
        "content": "<p>What else do we need to do here before we can test-deploy this change for feedback?</p>",
        "id": 1437080,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1663371789
    },
    {
        "content": "<p>I would like to perform the final review before that. Can I do that?</p>",
        "id": 1437103,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1663375034
    },
    {
        "content": "<p>Yeah, sounds good -- I didn't include this in today's deployment but I can always do another one whenever I hear this is ready.</p>",
        "id": 1437134,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1663376529
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a> is ready for a review from you.</p>",
        "id": 1476076,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670440520
    },
    {
        "content": "<p>Since we discussed a bit of a process change in <a class=\"stream-topic\" data-stream-id=\"431\" href=\"/#narrow/stream/431-redesign-project/topic/review.20process\">#redesign project &gt; review process</a> , maybe I should take a look, then <span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> , then <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> ? Or is this one an exception for some reason?</p>",
        "id": 1476141,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670443692
    },
    {
        "content": "<p>Anyway, I left a bunch of comments on the PR after playing around with it.</p>",
        "id": 1476174,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670445321
    },
    {
        "content": "<p>Looks like my late night changes added some bugs.</p>",
        "id": 1476332,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670455439
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476141\">said</a>:</p>\n<blockquote>\n<p>Since we discussed a bit of a process change in <a class=\"stream-topic\" data-stream-id=\"431\" href=\"/#narrow/stream/431-redesign-project/topic/review.20process\">#redesign project &gt; review process</a> , maybe I should take a look, then <span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> , then <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> ? Or is this one an exception for some reason?</p>\n</blockquote>\n<p>Ok, Sorry Vlad for the ping.</p>",
        "id": 1476361,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670458083
    },
    {
        "content": "<p>I see <a href=\"https://github.com/zulip/zulip/pull/9910\">#9910</a> (using sticky for message header) is a great PR which I can try to get integrated, but I don't understand why it is a blocker for removing stream color line from the left side in a message?</p>",
        "id": 1476381,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670458647
    },
    {
        "content": "<p>Alya, did you zoom in and out of the app before reporting the <a href=\"https://github.com/zulip/zulip/pull/23782#issuecomment-1341558295\">bugs</a> here?</p>",
        "id": 1476384,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670458767
    },
    {
        "content": "<p>I can reproduce all those bugs on main as well.</p>",
        "id": 1476386,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670458832
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476384\">said</a>:</p>\n<blockquote>\n<p>Alya, did you zoom in and out of the app before reporting the <a href=\"https://github.com/zulip/zulip/pull/23782#issuecomment-1341558295\">bugs</a> here?</p>\n</blockquote>\n<p>Yeah, sorry I forgot to mention that.</p>",
        "id": 1476532,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670478631
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476386\">said</a>:</p>\n<blockquote>\n<p>I can reproduce all those bugs on main as well.</p>\n</blockquote>\n<p>Hm, OK. I didn't find them as easy to reproduce, but maybe I didn't try as hard.</p>",
        "id": 1476533,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670478661
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476381\">said</a>:</p>\n<blockquote>\n<p>I see <a href=\"https://github.com/zulip/zulip/pull/9910\">#9910</a> (using sticky for message header) is a great PR which I can try to get integrated, but I don't understand why it is a blocker for removing stream color line from the left side in a message?</p>\n</blockquote>\n<p>Ah, I should have linked the discussion <a href=\"#narrow/stream/101-design/topic/message.20feed.20borders.20and.20unreads/near/1316428\">here</a>.</p>",
        "id": 1476534,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670478714
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476533\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476386\">said</a>:</p>\n<blockquote>\n<p>I can reproduce all those bugs on main as well.</p>\n</blockquote>\n<p>Hm, OK. I didn't find them as easy to reproduce, but maybe I didn't try as hard.</p>\n</blockquote>\n<p>I'm still not seeing how to get messages above the top header bar, for instance, which was happening quite easily for me on the PR.</p>",
        "id": 1476535,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670478805
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476535\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476533\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476386\">said</a>:</p>\n<blockquote>\n<p>I can reproduce all those bugs on main as well.</p>\n</blockquote>\n<p>Hm, OK. I didn't find them as easy to reproduce, but maybe I didn't try as hard.</p>\n</blockquote>\n<p>I'm still not seeing how to get messages above the top header bar, for instance, which was happening quite easily for me on the PR.</p>\n</blockquote>\n<p>Go to <code>All messages</code> scroll up a bit, scroll down a bit, wait 1s, then scroll up.</p>",
        "id": 1476537,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670479524
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476534\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476381\">said</a>:</p>\n<blockquote>\n<p>I see <a href=\"https://github.com/zulip/zulip/pull/9910\">#9910</a> (using sticky for message header) is a great PR which I can try to get integrated, but I don't understand why it is a blocker for removing stream color line from the left side in a message?</p>\n</blockquote>\n<p>Ah, I should have linked the discussion <a href=\"#narrow/stream/101-design/topic/message.20feed.20borders.20and.20unreads/near/1316428\">here</a>.</p>\n</blockquote>\n<p>I will just update <a href=\"https://github.com/zulip/zulip/pull/9910\">#9910</a> then to unlock it. I don't think it is a blocker for trying out the PR on CZO, right?</p>",
        "id": 1476540,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670479651
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476532\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1476384\">said</a>:</p>\n<blockquote>\n<p>Alya, did you zoom in and out of the app before reporting the <a href=\"https://github.com/zulip/zulip/pull/23782#issuecomment-1341558295\">bugs</a> here?</p>\n</blockquote>\n<p>Yeah, sorry I forgot to mention that.</p>\n</blockquote>\n<p>It is a long known bug for floating recipient bar, actually. I guess <a href=\"https://github.com/zulip/zulip/pull/9910\">#9910</a> will fix this too.</p>",
        "id": 1476545,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670479723
    },
    {
        "content": "<blockquote>\n<p>Go to All messages scroll up a bit, scroll down a bit, wait 1s, then scroll up.</p>\n</blockquote>\n<p>Hm, not quite getting it to happen, whereas it was really easy to get when I was testing the PR. I dunno.</p>",
        "id": 1476571,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670482302
    },
    {
        "content": "<blockquote>\n<p>I will just update <a href=\"https://github.com/zulip/zulip/pull/9910\">#9910</a> then to unlock it. I don't think it is a blocker for trying out the PR on CZO, right?</p>\n</blockquote>\n<p>Yeah, I don't think it's a blocker for that.</p>",
        "id": 1476572,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670482316
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/zulip/zulip/pull/23900\">#23900</a> to replace floating recipient bar.</p>",
        "id": 1481631,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1671440039
    },
    {
        "content": "<p>I'm test-deploying <a href=\"https://github.com/zulip/zulip/pull/23900\">#23900</a> here. In theory, this should have minimal visual impact other than a slightly less glitchy experience for the floating recipient bar when scrolling. Please report any issues here.</p>",
        "id": 1500300,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675214089
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> would be great to hear whether this makes scrolling All messages feel good from your perspective.</p>",
        "id": 1500305,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1675214561
    },
    {
        "content": "<p>Scrolling generally feels good, but I think I’m seeing some random small shifts when not scrolling, possibly related to the adjustment in <code>message_viewport_info</code>.</p>",
        "id": 1500347,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1675215669
    },
    {
        "content": "<p>Also it’d still be better to make the date sticky too, rather than jumping after a delay following end of scrolling.</p>",
        "id": 1500354,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1675215902
    },
    {
        "content": "<p>In particular, for anyone using a single-conversation view, making the date sticky is the real prize.</p>",
        "id": 1500732,
        "sender_full_name": "Greg Price",
        "timestamp": 1675274591
    },
    {
        "content": "<p>Is there any sense in which this appears to be a regression?</p>",
        "id": 1501783,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675389303
    },
    {
        "content": "<p>I guess I don't understand the bit about \"random small shifts when not scrolling\"; <span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> can you say more about that to help us reproduce it?</p>",
        "id": 1501784,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675389350
    },
    {
        "content": "<p>If there aren't any regressions, I'd be happy to integrate this and try to make dates sticky as a follow-up -- since we'd be getting rid of a bunch of messy architecture with this pull request, and it merge conflicts with other things we're trying to test-deploy.</p>",
        "id": 1501785,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675389402
    },
    {
        "content": "<p>I guess making the dates sticky might be tricky in interleaved views, because in those we have recipient bars that would normally have the date column blank, because the date for that row is the same as for the previous recipient block?</p>",
        "id": 1501786,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675389495
    },
    {
        "content": "<p>Yeah, I put a good effort trying to make the date sticky, but it is not easy given our current structure. We will have to change how we render elements in the <code>message_list_view</code> which is not a library where changes are easy to make.</p>",
        "id": 1501793,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1675390029
    },
    {
        "content": "<p>Thoughts on merging this so that we can move ahead with the recipient bar redesign. Also, I can make an issue for making the date sticky.</p>",
        "id": 1503444,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1675702484
    },
    {
        "content": "<p>We got a bug report in <a class=\"stream-topic\" data-stream-id=\"9\" href=\"/#narrow/stream/9-issues/topic/topic.20header.20bar.20sometimes.20off.20aligned\">#issues &gt; topic header bar sometimes off aligned</a> that deserves investigation, and I'm still not sure what the \"random small shifts when not scrolling\" issue <span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> mentioned refers to, but I'm not aware of other blockers to integrating this.</p>\n<p>I agree it'd be very nice to integrate it, since we have other work waiting for this to be merged.</p>",
        "id": 1503798,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675729757
    },
    {
        "content": "<p>I haven’t been able to reproduce what I was seeing.</p>",
        "id": 1503799,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1675729856
    },
    {
        "content": "<p>I think <a class=\"stream-topic\" data-stream-id=\"9\" href=\"/#narrow/stream/9-issues/topic/topic.20header.20bar.20sometimes.20off.20aligned\">#issues &gt; topic header bar sometimes off aligned</a>  can be independently debugged and is possibly not related to this change.</p>",
        "id": 1504067,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1675748815
    },
    {
        "content": "<blockquote>\n<p>Also, I can make an issue for making the date sticky.</p>\n</blockquote>\n<p>Sounds good.</p>",
        "id": 1504402,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1675795224
    },
    {
        "content": "<p>OK, I've merged <a href=\"https://github.com/zulip/zulip/pull/23900\">#23900</a> -- there may yet be bugs we'll find over time, but I feel confident enough that they're not likely to be so common that we can't happily fix forward from here.</p>",
        "id": 1504654,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675816094
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1503444\">said</a>:</p>\n<blockquote>\n<p>Also, I can make an issue for making the date sticky.</p>\n</blockquote>\n<p>Yeah, that'd be great.</p>",
        "id": 1504655,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675816130
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/zulip/zulip/pull/24323\">#24323</a></p>",
        "id": 1504987,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1675867947
    },
    {
        "content": "<p><a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1413426\">Above</a> we are planning to use <a href=\"https://bundlephobia.com/package/chroma-js@2.4.2\">chroma</a> library for color transformations which is <code>15.6kB</code> in size. Do we want to look for smaller sized alternatives or is this fine?</p>",
        "id": 1507500,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676189170
    },
    {
        "content": "<p>It is zero dependency, supports lch and has a very nice api</p>",
        "id": 1507947,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676331899
    },
    {
        "content": "<p>Let’s discuss 10 kilobytes optimization once we have the new design done <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 1507950,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676331946
    },
    {
        "content": "<p><a href=\"https://www.npmjs.com/package/colord\">colord</a> is smaller, more popular, more active, and also supports LCH.</p>",
        "id": 1507954,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1676333362
    },
    {
        "content": "<p>Lch via plugin but smaller</p>",
        "id": 1507979,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676337341
    },
    {
        "content": "<p>We can try</p>",
        "id": 1507980,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676337345
    },
    {
        "content": "<p>I will also try to use it in my next demo about the counters colors</p>",
        "id": 1507981,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676337410
    },
    {
        "content": "<p>Ok, I will use colord in the PR then.</p>",
        "id": 1508000,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676348615
    },
    {
        "content": "<p>please check that colors are the same as in example with chroma</p>",
        "id": 1508017,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676352457
    },
    {
        "content": "<p>Okay.</p>",
        "id": 1508018,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676353333
    },
    {
        "content": "<p>We already have colord as an indirect dependency too.</p>",
        "id": 1508588,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676493213
    },
    {
        "content": "<p>Since they use a different color space to mix the colors, I don't think it is possible for us to get the same colors as we did with chroma-js (rgb), so I will just use <code>chroma-js</code> for now.</p>",
        "id": 1508597,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676496513
    },
    {
        "content": "<p><a href=\"/user_uploads/2/fe/k6suffblaYLmwVjrS8ZZbuA5/Screenshot-2023-02-16-at-2.57.42-AM.png\">Screenshot-2023-02-16-at-2.57.42-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/fe/k6suffblaYLmwVjrS8ZZbuA5/Screenshot-2023-02-16-at-2.57.42-AM.png\" title=\"Screenshot-2023-02-16-at-2.57.42-AM.png\"><img src=\"/user_uploads/2/fe/k6suffblaYLmwVjrS8ZZbuA5/Screenshot-2023-02-16-at-2.57.42-AM.png\"></a></div>",
        "id": 1508598,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676496543
    },
    {
        "content": "<p>There’s an <a href=\"https://www.npmjs.com/package/colord#plugins\"><code>lch</code> plugin</a>.</p>",
        "id": 1508599,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1676496688
    },
    {
        "content": "<p>But, Vlad is using <code>rgb</code> color space for mixing colors which is not present in colord.</p>\n<p><code>return chroma.mix(color, darkMode ? \"black\" : \"white\", 0.8, \"rgb\").hex();</code></p>",
        "id": 1508600,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676496777
    },
    {
        "content": "<p>Uh, RGB is very much available without a plugin. It’s kind of hard to imagine a color library without that.</p>",
        "id": 1508601,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1676496859
    },
    {
        "content": "<p>How do I do this <code>mix</code> in <code>colord</code>?</p>",
        "id": 1508602,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676497158
    },
    {
        "content": "<p><del>As far as I can tell, <code>chroma.mix(color, \"white\", 0.8, \"rgb\").hex()</code> is equivalent to <code>colord(color).lighten(0.4).toHex()</code>, and for <code>\"black\"</code> replace <code>lighten</code> with <code>darken</code>.</del></p>",
        "id": 1508603,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1676497195
    },
    {
        "content": "<p>Oh, no, my test is wrong, one minute.</p>",
        "id": 1508604,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1676497296
    },
    {
        "content": "<p>This gives the same results:</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nx\">r</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">g</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">b</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">colord</span><span class=\"p\">(</span><span class=\"nx\">color</span><span class=\"p\">).</span><span class=\"nx\">toRgb</span><span class=\"p\">();</span>\n<span class=\"nx\">colord</span><span class=\"p\">({</span>\n<span class=\"w\">  </span><span class=\"nx\">r</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">0.8</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">darkMode</span><span class=\"w\"> </span><span class=\"o\">?</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">255</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">0.2</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"nx\">r</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"nx\">g</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">0.8</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">darkMode</span><span class=\"w\"> </span><span class=\"o\">?</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">255</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">0.2</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"nx\">g</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"nx\">b</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">0.8</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">darkMode</span><span class=\"w\"> </span><span class=\"o\">?</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">255</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">0.2</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"nx\">b</span><span class=\"p\">,</span>\n<span class=\"p\">}).</span><span class=\"nx\">toHex</span><span class=\"p\">()</span>\n</code></pre></div>\n<p>I am curious why you’re intentionally mixing in the naïve RGB space though, especially after having made a point about LCH support…</p>",
        "id": 1508608,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1676498010
    },
    {
        "content": "<p>Since I want to match the color output to that of Vlad.</p>",
        "id": 1508680,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676521657
    },
    {
        "content": "<p>Thanks, it seems to be working correctly.</p>",
        "id": 1508689,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676522624
    },
    {
        "content": "<p>We get colors as rgbs and we had to return rgb. The lch is to tune/normalize L before bringing it back to rgb value</p>",
        "id": 1509012,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676587970
    },
    {
        "content": "<p>The colorspace parameter of mix doesn’t affect the input and output spaces. It affects the intermediate space in which the blending is done.</p>",
        "id": 1509050,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1676590626
    },
    {
        "content": "<p>Here’s an <a href=\"https://raphlinus.github.io/color/2021/01/18/oklab-critique.html\">interactive tool</a> that nicely demonstrates the difference between mixing in various color spaces.</p>",
        "id": 1509051,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1676591237
    },
    {
        "content": "<p>I don’t think we mixing at all, do we?</p>",
        "id": 1509069,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676594503
    },
    {
        "content": "<p>Anyway I'm open to the results of mixing in LCH space... But would like to see it with my eyes first.<br>\nI think we could move forward with the colors because it is hard to evaluate them when the background isn't  like in the design.<br>\nI have some comments about the PR <a href=\"https://github.com/zulip/zulip/pull/23782#issuecomment-1435763775\">https://github.com/zulip/zulip/pull/23782#issuecomment-1435763775</a></p>",
        "id": 1509660,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676752736
    },
    {
        "content": "<p>Hello, <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> <br>\nin the issue <a href=\"https://github.com/zulip/zulip/issues/24323\">#24323</a>.<br>\nyou want to make the date in recipient bar sticky to make the experience seamless.right?<br>\nI have tried to do achieve that  here: <a href=\"/user_uploads/2/41/Z9wEddDnF_HUpXQUeBvNbr-n/sticky_date.mp4\">sticky_date.mp4</a> <br>\njust to confirm is this what you exactly want?<br>\nif so can I create a PR for it?</p>",
        "id": 1509862,
        "sender_full_name": "Hardik Dharmani",
        "timestamp": 1676800614
    },
    {
        "content": "<p>Yeah.</p>",
        "id": 1510043,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676880566
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1510043\">said</a>:</p>\n<blockquote>\n<p>Yeah.</p>\n</blockquote>\n<p>Here is the PR for the issue : <a href=\"https://github.com/zulip/zulip/pull/24421\">#24421</a></p>",
        "id": 1510065,
        "sender_full_name": "Hardik Dharmani",
        "timestamp": 1676887088
    },
    {
        "content": "<p>Thoughts on test deploying <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a> ?</p>",
        "id": 1513515,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677265151
    },
    {
        "content": "<p>I've test-deployed that here now! I imagine the change will be hard to miss, since it's a highly visible part of the UI being redesigned <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>.</p>\n<p>All feedback on this visual redesign on the stream/topic \"recipient bar\" is greatly appreciated!</p>",
        "id": 1516496,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1677720866
    },
    {
        "content": "<p>Indeed, hard to miss <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> </p>\n<p>Here's one tiny bit of feedback: there is a small gap between the date dividers and the left border, but no gap at the right. I'm not sure which way is intended, but they should probably match.</p>",
        "id": 1516498,
        "sender_full_name": "Greg Price",
        "timestamp": 1677721020
    },
    {
        "content": "<p>One possible bug I notice is that the placement of the left-side borders for unread messages perhaps should be adjusted now that we don't have a \"stream color line\" at the far left of the message feed? The green having a bit of space between it and the edge of the message looks off.</p>\n<p><a href=\"/user_uploads/2/34/glnzl3BSy-uo1f_-xOgVDu6F/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/34/glnzl3BSy-uo1f_-xOgVDu6F/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/34/glnzl3BSy-uo1f_-xOgVDu6F/image.png\"></a></div><p>I know we have a change to the blue line thickness planned that we could combine with this, but probably we want to move the green line to the left edge?</p>",
        "id": 1516499,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1677721020
    },
    {
        "content": "<p>well <em>these</em> look cool</p>",
        "id": 1516503,
        "sender_full_name": "Josh Klar",
        "timestamp": 1677721158
    },
    {
        "content": "<p>On the left:<br>\n<a href=\"/user_uploads/2/4e/Kzi54UMAewGE9S9u93FbwJBi/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4e/Kzi54UMAewGE9S9u93FbwJBi/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/4e/Kzi54UMAewGE9S9u93FbwJBi/image.png\"></a></div><p>On the right:<br>\n<a href=\"/user_uploads/2/82/FOM8bbo1Xlvl5sj8blXugjc2/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/82/FOM8bbo1Xlvl5sj8blXugjc2/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/82/FOM8bbo1Xlvl5sj8blXugjc2/image.png\"></a></div>",
        "id": 1516504,
        "sender_full_name": "Greg Price",
        "timestamp": 1677721171
    },
    {
        "content": "<p>Yeah, that's probably an artifact from the color bar removal.</p>",
        "id": 1516506,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1677721222
    },
    {
        "content": "<blockquote>\n<p>I know we have a change to the blue line thickness planned that we could combine with this, but probably we want to move the green line to the left edge?</p>\n</blockquote>\n<p>I think instead of exploring this with the current design, we should be testing <a href=\"https://github.com/zulip/zulip/pull/23531\">#23531</a>.</p>",
        "id": 1516508,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1677721257
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516498\">said</a>:</p>\n<blockquote>\n<p>Here's one tiny bit of feedback: there is a small gap between the date dividers and the left border, but no gap at the right. I'm not sure which way is intended, but they should probably match.</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"13313\">Chris Bobbe</span> observes there actually is a gap at the right too, but it's just much smaller.</p>",
        "id": 1516509,
        "sender_full_name": "Greg Price",
        "timestamp": 1677721282
    },
    {
        "content": "<p>Probably nothing to actually be done about it in the grand scheme but dark mode + some of the stream colors can lead to some <em>really</em> low contrast situations now. (not shown: the green unread bar that then stands out as <em>very high contrast</em>)</p>\n<p><a href=\"/user_uploads/2/a5/FWY52dkyyKSS5vDyzzTSOioa/screenshot-2023-03-02-014013Z.png\">screenshot-2023-03-02-014013Z.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/a5/FWY52dkyyKSS5vDyzzTSOioa/screenshot-2023-03-02-014013Z.png\" title=\"screenshot-2023-03-02-014013Z.png\"><img src=\"/user_uploads/2/a5/FWY52dkyyKSS5vDyzzTSOioa/screenshot-2023-03-02-014013Z.png\"></a></div>",
        "id": 1516510,
        "sender_full_name": "Josh Klar",
        "timestamp": 1677721316
    },
    {
        "content": "<p>(I think less than a pixel at my normal browser settings, on the low-dpi screen I have in the office. But visible if I hit Ctrl-+ several times.)</p>",
        "id": 1516512,
        "sender_full_name": "Greg Price",
        "timestamp": 1677721333
    },
    {
        "content": "<p>A message was moved here from <a class=\"stream-topic\" data-stream-id=\"415\" href=\"/#narrow/stream/415-chat.2Ezulip.2Eorg/topic/experiments\">#chat.zulip.org &gt; experiments</a> by <span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span>.</p>",
        "id": 1516513,
        "sender_full_name": "Notification Bot",
        "timestamp": 1677721352
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516509\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516498\">said</a>:</p>\n<blockquote>\n<p>Here's one tiny bit of feedback: there is a small gap between the date dividers and the left border, but no gap at the right. I'm not sure which way is intended, but they should probably match.</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"13313\">Chris Bobbe</span> observes there actually is a gap at the right too, but it's just much smaller.</p>\n</blockquote>\n<p>Yeah. Here's the gap on the right, in a screenshot that I think shows another small polish issue too:</p>\n<p><a href=\"/user_uploads/2/d4/U2PA9Lo3Tuf178seaIzSt7fl/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d4/U2PA9Lo3Tuf178seaIzSt7fl/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/d4/U2PA9Lo3Tuf178seaIzSt7fl/image.png\"></a></div><p>That second small issue is that the recipient header's bottom border extends through the righthand border of the area headed by the header. Same with the lefthand border:</p>\n<p><a href=\"/user_uploads/2/3/VKzS2Q72w6XPlx0MhwpRU7Kb/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3/VKzS2Q72w6XPlx0MhwpRU7Kb/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/3/VKzS2Q72w6XPlx0MhwpRU7Kb/image.png\"></a></div><p>(This is noticeable because the two borders are slightly different colors, at least in light mode.)</p>",
        "id": 1516519,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1677721676
    },
    {
        "content": "<p>Different observation: the text in the new headers feels like it's a bit too high. <a href=\"/user_uploads/2/5e/erVVcVt1x6XCKYq4ZFT8SiVh/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5e/erVVcVt1x6XCKYq4ZFT8SiVh/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5e/erVVcVt1x6XCKYq4ZFT8SiVh/image.png\"></a></div><p>It's definitely misaligned with the edit/resolve/mute icons. It also feels like it has less room above it than below it, independent of those icons.</p>",
        "id": 1516521,
        "sender_full_name": "Greg Price",
        "timestamp": 1677721749
    },
    {
        "content": "<p>In dark mode, the date divider is very light, but the outline of the message area is very dark:</p>\n<p><a href=\"/user_uploads/2/be/wBlnudo2ws7dbVGj-qyR_a4h/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/be/wBlnudo2ws7dbVGj-qyR_a4h/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/be/wBlnudo2ws7dbVGj-qyR_a4h/image.png\"></a></div><p>To my eye they'd look better with more similar brightness, I think.</p>",
        "id": 1516527,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1677721929
    },
    {
        "content": "<p>Do we want more space between the globe icon and the stream name?</p>\n<p><a href=\"/user_uploads/2/22/SC6H7EqtgSHYAxfYy-Dn-CCB/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/22/SC6H7EqtgSHYAxfYy-Dn-CCB/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/22/SC6H7EqtgSHYAxfYy-Dn-CCB/image.png\"></a></div>",
        "id": 1516531,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1677722024
    },
    {
        "content": "<p>As a general note, this makes me <em>much</em> more cognizant of the currently-mostly-random color choices my streams have.</p>",
        "id": 1516541,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1677722459
    },
    {
        "content": "<p>When scrolled to the very beginning of a topic narrow, the date disappears from the header, so it's hard to tell when the conversation started (or perhaps I'll assume it started today, since I see HH:MM times on individual messages.</p>\n<p>Screen recording:</p>\n<p><a href=\"/user_uploads/2/ba/XrICIZLCSXfNa8QtIG9IvLzj/Mar-01-2023-18-20-37.gif\">Mar-01-2023-18-20-37.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ba/XrICIZLCSXfNa8QtIG9IvLzj/Mar-01-2023-18-20-37.gif\" title=\"Mar-01-2023-18-20-37.gif\"><img src=\"/user_uploads/2/ba/XrICIZLCSXfNa8QtIG9IvLzj/Mar-01-2023-18-20-37.gif\"></a></div><p>(I checked the Recurse realm on Zulip Cloud; this seems to be new in this proposal.)</p>",
        "id": 1516560,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1677723749
    },
    {
        "content": "<p>In dark mode, my initial impression is that these black-biased header colors don’t work well with our blue background. It’s hard to distinguish multiple headers from each other at a glance when they’re overwhelmed by the background. We should consider sequencing the dark mode background color switch before this.</p>",
        "id": 1516592,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1677724994
    },
    {
        "content": "<p>My initial concern with seeing these on czo is that they look too similar to what I remember of the banners - or is that intentional? At least with the range of stream colors I have, some definitely give the impression of 'good green' vs 'bad red', though I'm not sure if that's an encoding that the web app uses for banners.</p>",
        "id": 1516627,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1677726589
    },
    {
        "content": "<p>I like more space on both sides of the stream icons.</p>\n<p><a href=\"/user_uploads/2/49/Q3ctFLtHzA_wfsKSAtYwLEsu/image.png\">original PR</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/49/Q3ctFLtHzA_wfsKSAtYwLEsu/image.png\" title=\"original PR\"><img src=\"/user_uploads/2/49/Q3ctFLtHzA_wfsKSAtYwLEsu/image.png\"></a></div><p><a href=\"/user_uploads/2/f4/iKOaG--Evsv4K9Zj1AGYuMdE/image.png\">czo</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f4/iKOaG--Evsv4K9Zj1AGYuMdE/image.png\" title=\"czo\"><img src=\"/user_uploads/2/f4/iKOaG--Evsv4K9Zj1AGYuMdE/image.png\"></a></div>",
        "id": 1516655,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677731121
    },
    {
        "content": "<p>I think we should also change the hash icon here to the new one so that the margins around the icon make sense for all cases.</p>",
        "id": 1516657,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677731372
    },
    {
        "content": "<p>Waiting for some feedback from <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> before pushing changes.</p>",
        "id": 1516658,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677731500
    },
    {
        "content": "<p>This has probably been mentioned before but it's weird that we sometimes have the date in the bar and sometimes don't. We should just always have it there.</p>",
        "id": 1516667,
        "sender_full_name": "Yash RE",
        "timestamp": 1677737023
    },
    {
        "content": "<p>I agree that we should combine this with message selection border change:<br>\n<a href=\"/user_uploads/2/bd/wtCHEjVgtK4QCYgUPDHDFvvr/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bd/wtCHEjVgtK4QCYgUPDHDFvvr/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/bd/wtCHEjVgtK4QCYgUPDHDFvvr/image.png\"></a></div>",
        "id": 1516708,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677741169
    },
    {
        "content": "<p>In the final <a href=\"https://www.figma.com/file/jbNOiBWvbtLuHaiTj4CW0G/Zulip-Web-App?node-id=738%3A51120&amp;t=tOEVr93sHlpsdvnA-0\">figma design</a>, there is actually some gap on right in the date dividers.<br>\n<a href=\"/user_uploads/2/40/8_CMvboiLj7tYTirp0TbIIQ3/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/40/8_CMvboiLj7tYTirp0TbIIQ3/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/40/8_CMvboiLj7tYTirp0TbIIQ3/image.png\"></a></div>",
        "id": 1516715,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677741638
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> is that intentional?</p>",
        "id": 1516721,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677742024
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516521\">said</a>:</p>\n<blockquote>\n<p>Different observation: the text in the new headers feels like it's a bit too high. <a href=\"/user_uploads/2/5e/erVVcVt1x6XCKYq4ZFT8SiVh/image.png\">image.png</a> </p>\n<p>It's definitely misaligned with the edit/resolve/mute icons. It also feels like it has less room above it than below it, independent of those icons.</p>\n</blockquote>\n<p>That screenshot doesn't look right. The alignment is correct for me.<br>\n<a href=\"/user_uploads/2/1a/v0OFvzzFRl1RzwFoJSds_WxW/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1a/v0OFvzzFRl1RzwFoJSds_WxW/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/1a/v0OFvzzFRl1RzwFoJSds_WxW/image.png\"></a></div>",
        "id": 1516728,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677742750
    },
    {
        "content": "<p>The icons could be 0.5px above but that is not noticeable without the ruler line.</p>",
        "id": 1516733,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677743617
    },
    {
        "content": "<p><a href=\"/user_uploads/2/70/7jRv1jjhmb3x372_BQbvrvnh/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/70/7jRv1jjhmb3x372_BQbvrvnh/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/70/7jRv1jjhmb3x372_BQbvrvnh/image.png\"></a></div><p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> the svg icon you upload in <a href=\"https://github.com/zulip/zulip/pull/22021\">#22021</a> for hashtag has its center filled when applying color. I can probably fix it but I think it is better that you do it.</p>",
        "id": 1516741,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677744963
    },
    {
        "content": "<p>I suspect the new DM background colour matching the topic headers is unexpected/undesired, or I missed a conversation somewhere?</p>\n<p><a href=\"/user_uploads/2/b2/elnHFuhnFq3hvH0h6APOQuk0/screenshot-2023-03-02-091458Z.png\">screenshot-2023-03-02-091458Z.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b2/elnHFuhnFq3hvH0h6APOQuk0/screenshot-2023-03-02-091458Z.png\" title=\"screenshot-2023-03-02-091458Z.png\"><img src=\"/user_uploads/2/b2/elnHFuhnFq3hvH0h6APOQuk0/screenshot-2023-03-02-091458Z.png\"></a></div>",
        "id": 1516755,
        "sender_full_name": "Josh Klar",
        "timestamp": 1677748562
    },
    {
        "content": "<p>Oh, maybe I missed something: that colorization is shown <a href=\"#narrow/stream/101-design/topic/darker.20dark.20theme/near/1514302\">in one of Vlad's mockups, too</a></p>",
        "id": 1516756,
        "sender_full_name": "Josh Klar",
        "timestamp": 1677748675
    },
    {
        "content": "<p>hm. it's definitely way harder to scan for a specific channel color while scrolling through an interleaved view.</p>",
        "id": 1516829,
        "sender_full_name": "Ken Clary",
        "timestamp": 1677764760
    },
    {
        "content": "<blockquote>\n<p>When scrolled to the very beginning of a topic narrow, the date disappears from the header, so it's hard to tell when the conversation started</p>\n</blockquote>\n<p>Or if the topic is short enough to not require scrolling.<br>\n<a href=\"/user_uploads/2/6e/_OGmgieRbrCra-FgMTS12FyW/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6e/_OGmgieRbrCra-FgMTS12FyW/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/6e/_OGmgieRbrCra-FgMTS12FyW/image.png\"></a></div>",
        "id": 1516836,
        "sender_full_name": "Daniil Fadeev",
        "timestamp": 1677765261
    },
    {
        "content": "<p>I pushed <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a> to add the new message selected border changes to it and fix the above bugs:</p>\n<ul>\n<li>Date not visible on recipient bar.</li>\n<li>Extra space to left of date separator.</li>\n<li>Space on the sides of globe icon.</li>\n</ul>",
        "id": 1516878,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677767868
    },
    {
        "content": "<p><a href=\"/user_uploads/2/92/C-rBrIpG0yljDkIu38_czf9X/Screenshot-2023-03-02-at-8.03.58-PM.png\">Screenshot-2023-03-02-at-8.03.58-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/92/C-rBrIpG0yljDkIu38_czf9X/Screenshot-2023-03-02-at-8.03.58-PM.png\" title=\"Screenshot-2023-03-02-at-8.03.58-PM.png\"><img src=\"/user_uploads/2/92/C-rBrIpG0yljDkIu38_czf9X/Screenshot-2023-03-02-at-8.03.58-PM.png\"></a></div>",
        "id": 1516879,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677767890
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516728\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516521\">said</a>:</p>\n<blockquote>\n<p>Different observation: the text in the new headers feels like it's a bit too high. <a href=\"/user_uploads/2/5e/erVVcVt1x6XCKYq4ZFT8SiVh/image.png\">image.png</a> </p>\n<p>It's definitely misaligned with the edit/resolve/mute icons. It also feels like it has less room above it than below it, independent of those icons.</p>\n</blockquote>\n<p>That screenshot doesn't look right. The alignment is correct for me.<br>\n<a href=\"/user_uploads/2/1a/v0OFvzzFRl1RzwFoJSds_WxW/image.png\">image.png</a></p>\n</blockquote>\n<p>The alignment is just as wrong in that screenshot. Look at the amount of space above the stream name and topic, and below the stream name and topic. There is more space below than there is above.</p>",
        "id": 1516974,
        "sender_full_name": "Greg Price",
        "timestamp": 1677783634
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516733\">said</a>:</p>\n<blockquote>\n<p>The icons could be 0.5px above but that is not noticeable without the ruler line.</p>\n</blockquote>\n<p>Well, I did notice it, and didn't use a ruler line. So I think that demonstrates it is in fact possible for someone to notice :-)</p>",
        "id": 1516975,
        "sender_full_name": "Greg Price",
        "timestamp": 1677783787
    },
    {
        "content": "<p>Ok, pushed an update to fix it too.<br>\n<a href=\"/user_uploads/2/bb/aLnze823c6d4Ndll5aDajopa/Screenshot-2023-03-03-at-1.49.18-AM.png\">Screenshot-2023-03-03-at-1.49.18-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bb/aLnze823c6d4Ndll5aDajopa/Screenshot-2023-03-03-at-1.49.18-AM.png\" title=\"Screenshot-2023-03-03-at-1.49.18-AM.png\"><img src=\"/user_uploads/2/bb/aLnze823c6d4Ndll5aDajopa/Screenshot-2023-03-03-at-1.49.18-AM.png\"></a></div>",
        "id": 1517037,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677788415
    },
    {
        "content": "<p>Great, I think that looks much better!</p>",
        "id": 1517069,
        "sender_full_name": "Greg Price",
        "timestamp": 1677789816
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19444\">Ken Clary</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516829\">said</a>:</p>\n<blockquote>\n<p>hm. it's definitely way harder to scan for a specific channel color while scrolling through an interleaved view.</p>\n</blockquote>\n<p>Is this because the colored lines on the left are gone, or due to something else?</p>",
        "id": 1517105,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1677791570
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"25085\">Josh Klar</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516756\">said</a>:</p>\n<blockquote>\n<p>Oh, maybe I missed something: that colorization is shown <a href=\"#narrow/stream/101-design/topic/darker.20dark.20theme/near/1514302\">in one of Vlad's mockups, too</a></p>\n</blockquote>\n<p>Yes, it's intentional.</p>",
        "id": 1517106,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1677791587
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"12178\">Alex Vandiver</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516541\">said</a>:</p>\n<blockquote>\n<p>As a general note, this makes me <em>much</em> more cognizant of the currently-mostly-random color choices my streams have.</p>\n</blockquote>\n<p>Interesting, I would have thought this is a lot more subtle.</p>",
        "id": 1517118,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1677791819
    },
    {
        "content": "<p>On question <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> is it intentional that the font size in the header bars is 15px (vs the 14px font for the app)? My guess is it isn't (the design world has 15px as the base font everywhere), but I could see one wanting a slightly enlarged font for that component. (I guess in any case, feedback on that detail is appreciated).</p>",
        "id": 1517119,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1677791957
    },
    {
        "content": "<p>Yeah, Vlad suggested having 15px font size in the PR review.</p>",
        "id": 1517125,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677792120
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"9808\">Yash RE</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516667\">said</a>:</p>\n<blockquote>\n<p>This has probably been mentioned before but it's weird that we sometimes have the date in the bar and sometimes don't. We should just always have it there.</p>\n</blockquote>\n<p>I disagree with this. It can feel pretty cluttered to have \"TODAY\" always appearing in large font at the right end of any interleaved view, and I think it makes it harder to visually scan the information to have that repetition. </p>\n<p><span class=\"user-mention silent\" data-user-id=\"25585\">Daniil Fadeev</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516836\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>When scrolled to the very beginning of a topic narrow, the date disappears from the header, so it's hard to tell when the conversation started</p>\n</blockquote>\n<p>Or if the topic is short enough to not require scrolling.<br>\n<a href=\"/user_uploads/2/6e/_OGmgieRbrCra-FgMTS12FyW/image.png\">image.png</a></p>\n</blockquote>\n<p>However, this sounds like a bug in the refactor of the date display logic to use <code>position: sticky</code>! There should never be a state where a date is not displayed in that column. <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> can you investigate?</p>",
        "id": 1517126,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1677792122
    },
    {
        "content": "<p>Yeah, it is already fixed in the PR.</p>",
        "id": 1517127,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677792161
    },
    {
        "content": "<p>Great. I'll update the deployment to get today's bug fixes in.</p>",
        "id": 1517128,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1677792175
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517105\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"19444\">Ken Clary</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516829\">said</a>:</p>\n<blockquote>\n<p>hm. it's definitely way harder to scan for a specific channel color while scrolling through an interleaved view.</p>\n</blockquote>\n<p>Is this because the colored lines on the left are gone, or due to something else?</p>\n</blockquote>\n<p>It's probably because all the colors are now much more subtle pastels, so trying to catch \"all the <code>design</code> green\" or whatever is more difficult.</p>",
        "id": 1517164,
        "sender_full_name": "Ken Clary",
        "timestamp": 1677793317
    },
    {
        "content": "<p>perhaps the reason is less contrast between the color and the background.<br>\n(typing now, I notice the little left color band in the compose box is still the full color, and I wonder if that's a good style for messages themselves, rather than spreading it out over the header bar \"like butter scraped over too much bread\")</p>",
        "id": 1517169,
        "sender_full_name": "Ken Clary",
        "timestamp": 1677793437
    },
    {
        "content": "<p>Test-deploying the updated version now.</p>",
        "id": 1517188,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1677794176
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19444\">Ken Clary</span> Are you using light theme or dark theme?</p>",
        "id": 1517208,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1677795228
    },
    {
        "content": "<p>light theme for now</p>",
        "id": 1517209,
        "sender_full_name": "Ken Clary",
        "timestamp": 1677795252
    },
    {
        "content": "<p>just switched to dark theme and...would probably have the same problem, though the colors obv don't look pastel anymore</p>",
        "id": 1517210,
        "sender_full_name": "Ken Clary",
        "timestamp": 1677795311
    },
    {
        "content": "<p>might be less of a problem; would need to try for awhile</p>",
        "id": 1517212,
        "sender_full_name": "Ken Clary",
        "timestamp": 1677795331
    },
    {
        "content": "<p>(\"problem\" is relative and minor)</p>",
        "id": 1517213,
        "sender_full_name": "Ken Clary",
        "timestamp": 1677795344
    },
    {
        "content": "<p>i like the new scrolling behaviour with topics/headers, i.e. that you always can see the topic and that it doesn't scroll up with the contents below</p>",
        "id": 1517237,
        "sender_full_name": "RolandK",
        "timestamp": 1677797336
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"11088\">RolandK</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517237\">said</a>:</p>\n<blockquote>\n<p>i like the new scrolling behaviour with topics/headers, i.e. that you always can see the topic and that it doesn't scroll up with the contents below</p>\n</blockquote>\n<p>I think that's not new; here's <code>main</code> as of <a href=\"https://github.com/zulip/zulip/commit/5cf98d865\">zulip/zulip@5cf98d865</a>. Note the headers are \"sticky\"; I can still see the topic or PM recipients as I scroll:</p>\n<p><a href=\"/user_uploads/2/d0/a5Jj_4chZ0Xu5XCquxlhwsFK/Mar-02-2023-15-22-06.gif\">Mar-02-2023-15-22-06.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d0/a5Jj_4chZ0Xu5XCquxlhwsFK/Mar-02-2023-15-22-06.gif\" title=\"Mar-02-2023-15-22-06.gif\"><img src=\"/user_uploads/2/d0/a5Jj_4chZ0Xu5XCquxlhwsFK/Mar-02-2023-15-22-06.gif\"></a></div>",
        "id": 1517274,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1677799466
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1516741\">said</a>:</p>\n<blockquote>\n<p><a href=\"/user_uploads/2/70/7jRv1jjhmb3x372_BQbvrvnh/image.png\">image.png</a> </p>\n<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> the svg icon you upload in <a href=\"https://github.com/zulip/zulip/pull/22021\">#22021</a> for hashtag has its center filled when applying color. I can probably fix it but I think it is better that you do it.</p>\n</blockquote>\n<p>sorry, could you try this one <a href=\"/user_uploads/2/7c/wU_1t_i8BULTY17VT7Ys6WF6/Vector.svg\">Vector.svg</a>  ?</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;16&quot; height=&quot;16&quot; fill=&quot;none&quot; viewBox=&quot;0 0 16 16&quot;&gt;&lt;path fill=&quot;#000&quot; fill-rule=&quot;evenodd&quot; d=&quot;M6 1a1 1 0 0 0-1 1v3H2a1 1 0 0 0 0 2h3v2H2a1 1 0 1 0 0 2h3v3a1 1 0 1 0 2 0v-3h2v3a1 1 0 1 0 2 0v-3h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2h-3V2a1 1 0 1 0-2 0v3H7V2a1 1 0 0 0-1-1Zm3 8V7H7v2h2Z&quot; clip-rule=&quot;evenodd&quot;/&gt;&lt;/svg&gt;\n</code></pre></div>",
        "id": 1517483,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677819489
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> for working on this. Feels lik we are moving.</p>\n<p>Here are some corrections I think we should do.</p>\n<ol>\n<li>\n<p>right now the topic bar is higher than it should be by 2 px:<br>\n<a href=\"/user_uploads/2/92/4exeEd7IgAJdFYXSIWOzjVPN/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/92/4exeEd7IgAJdFYXSIWOzjVPN/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/92/4exeEd7IgAJdFYXSIWOzjVPN/image.png\"></a></div></li>\n<li>\n<p>Stream and topic font weight should be 600, right now it is regular text<br>\n<a href=\"/user_uploads/2/36/60vep2rM3tDEkKiGQrnjQoMF/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/36/60vep2rM3tDEkKiGQrnjQoMF/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/36/60vep2rM3tDEkKiGQrnjQoMF/image.png\"></a></div></li>\n<li>\n<p>bottom border is annoyingly different and breaks the outside border of the topic:<br>\n<a href=\"/user_uploads/2/32/kWCnvWkk73mtNQztQH84RmHS/image.png\">image.png</a><br>\nCould we make the bottom border match the outside border?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/32/kWCnvWkk73mtNQztQH84RmHS/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/32/kWCnvWkk73mtNQztQH84RmHS/image.png\"></a></div></li>\n</ol>",
        "id": 1517485,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677819886
    },
    {
        "content": "<ol start=\"4\">\n<li>I suggest to put date label 1px down.. could be done with top-padding on .recipient_row_date</li>\n</ol>",
        "id": 1517486,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677820055
    },
    {
        "content": "<p>Do you think we could move timestamps to the right side a bit? <a href=\"/user_uploads/2/28/inViCbRfQZbIIUAKeG3zt-1v/CleanShot-2023-03-03-at-00.07.492x.png\">CleanShot-2023-03-03-at-00.07.492x.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/28/inViCbRfQZbIIUAKeG3zt-1v/CleanShot-2023-03-03-at-00.07.492x.png\" title=\"CleanShot-2023-03-03-at-00.07.492x.png\"><img src=\"/user_uploads/2/28/inViCbRfQZbIIUAKeG3zt-1v/CleanShot-2023-03-03-at-00.07.492x.png\"></a></div><p>Something like this: <a href=\"/user_uploads/2/11/2IByILACC23mVr0soIi21LQm/image.png\">image.png</a> and I think we could make time <code>letter-spacing: .04em</code> (.messagebox-content .message_time) - same as on date</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/11/2IByILACC23mVr0soIi21LQm/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/11/2IByILACC23mVr0soIi21LQm/image.png\"></a></div>",
        "id": 1517488,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677820363
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517208\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"19444\">Ken Clary</span> Are you using light theme or dark theme?</p>\n</blockquote>\n<p>switching back to light theme. dark theme didn't particularly improve this. (but again, a really minor thing)</p>",
        "id": 1517728,
        "sender_full_name": "Ken Clary",
        "timestamp": 1677858403
    },
    {
        "content": "<p>This is kind of a bad state for the card to be cut from the bottom without border radius, is there any way we could improve that? <a href=\"/user_uploads/2/5a/zU4h_Lhm4cIW5cB4b8rM9wRr/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5a/zU4h_Lhm4cIW5cB4b8rM9wRr/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5a/zU4h_Lhm4cIW5cB4b8rM9wRr/image.png\"></a></div>",
        "id": 1517737,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677859599
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19444\">Ken Clary</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517728\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517208\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"19444\">Ken Clary</span> Are you using light theme or dark theme?</p>\n</blockquote>\n<p>switching back to light theme. dark theme didn't particularly improve this. (but again, a really minor thing)</p>\n</blockquote>\n<p>we could tune colors later if we strongly feel that this isn't great. Lets wait for background to land</p>",
        "id": 1517738,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677859710
    },
    {
        "content": "<p>Oh <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> I think <span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> mentioned mixing in the rgb color space and I just locked. He was right for some reason I put the parameter as \"rgb\" but it should be 'lch':</p>\n<p>Original (wrong)</p>\n<div class=\"codehilite\"><pre><span></span><code>function getRecipientBarColor({ color = &quot;#000000&quot;, darkMode = false }) {\n  return chroma.mix(color, darkMode ? &quot;black&quot; : &quot;white&quot;, 0.8, &quot;rgb&quot;).hex();\n}\n</code></pre></div>\n<p>Should be lch, also lets try 0.7 to bring a bit stronger color</p>\n<div class=\"codehilite\"><pre><span></span><code>function getRecipientBarColor({ color = &quot;#000000&quot;, darkMode = false }) {\n  return chroma.mix(color, darkMode ? &quot;black&quot; : &quot;white&quot;, 0.7, &quot;lch&quot;).hex();\n}\n</code></pre></div>",
        "id": 1517741,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677860121
    },
    {
        "content": "<p>Surely you want LAB, the Cartesian counterpart of the polar LCh space. LCh has singularities at black and white:</p>\n<div class=\"codehilite\" data-code-language=\"Node.js REPL console session\"><pre><span></span><code><span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">(</span><span class=\"s2\">\"#000000\"</span><span class=\"p\">).</span><span class=\"nx\">lch</span><span class=\"p\">()</span>\n<span class=\"p\">[</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kc\">NaN</span><span class=\"w\"> </span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">(</span><span class=\"s2\">\"#ffffff\"</span><span class=\"p\">).</span><span class=\"nx\">lch</span><span class=\"p\">()</span>\n<span class=\"p\">[</span><span class=\"w\"> </span><span class=\"mf\">100.00000386666655</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.00001795054880958058</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kc\">NaN</span><span class=\"w\"> </span><span class=\"p\">]</span>\n</code></pre></div>\n<p>so mixing in LCh is highly discontinuous in those regions:</p>\n<div class=\"codehilite\" data-code-language=\"Node.js REPL console session\"><pre><span></span><code><span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lch\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#005200'</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#010000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lch\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#643011'</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000001\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lch\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#004770'</span>\n</code></pre></div>\n<p>vs. LAB:</p>\n<div class=\"codehilite\" data-code-language=\"Node.js REPL console session\"><pre><span></span><code><span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lab\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#1d4715'</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#010000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lab\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#1e4715'</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000001\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lab\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#1d4716'</span>\n</code></pre></div>",
        "id": 1517898,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1677875537
    },
    {
        "content": "<p>LCh is useful for producing things like rainbow gradients, but you generally want LAB for perceptual mixing, which is why colord’s mix plugin works that way.</p>",
        "id": 1517904,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1677875681
    },
    {
        "content": "<p>This pixel should belong to the vertical border, not the horizontal one: <a href=\"/user_uploads/2/22/eKn9JtVVELHd5m0Ec8Wxfwv_/image1.png\">image1.png</a>, <a href=\"/user_uploads/2/95/8hFwIwQ4Yee_dAth8lNJdEkK/image2.png\">image2.png</a>.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/22/eKn9JtVVELHd5m0Ec8Wxfwv_/image1.png\" title=\"image1.png\"><img src=\"/user_uploads/2/22/eKn9JtVVELHd5m0Ec8Wxfwv_/image1.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/95/8hFwIwQ4Yee_dAth8lNJdEkK/image2.png\" title=\"image2.png\"><img src=\"/user_uploads/2/95/8hFwIwQ4Yee_dAth8lNJdEkK/image2.png\"></a></div>",
        "id": 1518037,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1677884501
    },
    {
        "content": "<p>Probably related to Vlad’s observation about the cut-off state after scrolling: <a href=\"/user_uploads/2/39/ZWQWBuMpnt0rRAkXxkV5fZ3I/image3.png\">image3.png</a>, <a href=\"/user_uploads/2/27/lKxIfVH_kBpASZoR-Z-QED7n/image4.png\">image4.png</a>.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/39/ZWQWBuMpnt0rRAkXxkV5fZ3I/image3.png\" title=\"image3.png\"><img src=\"/user_uploads/2/39/ZWQWBuMpnt0rRAkXxkV5fZ3I/image3.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/27/lKxIfVH_kBpASZoR-Z-QED7n/image4.png\" title=\"image4.png\"><img src=\"/user_uploads/2/27/lKxIfVH_kBpASZoR-Z-QED7n/image4.png\"></a></div>",
        "id": 1518038,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1677884664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"699\">Anders Kaseorg</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517898\">said</a>:</p>\n<blockquote>\n<p>Surely you want LAB, the Cartesian counterpart of the polar LCh space. LCh has singularities at black and white:</p>\n<div class=\"codehilite\" data-code-language=\"Node.js REPL console session\"><pre><span></span><code><span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">(</span><span class=\"s2\">\"#000000\"</span><span class=\"p\">).</span><span class=\"nx\">lch</span><span class=\"p\">()</span>\n<span class=\"p\">[</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kc\">NaN</span><span class=\"w\"> </span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">(</span><span class=\"s2\">\"#ffffff\"</span><span class=\"p\">).</span><span class=\"nx\">lch</span><span class=\"p\">()</span>\n<span class=\"p\">[</span><span class=\"w\"> </span><span class=\"mf\">100.00000386666655</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.00001795054880958058</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kc\">NaN</span><span class=\"w\"> </span><span class=\"p\">]</span>\n</code></pre></div>\n<p>so mixing in LCh is highly discontinuous in those regions:</p>\n<div class=\"codehilite\" data-code-language=\"Node.js REPL console session\"><pre><span></span><code><span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lch\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#005200'</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#010000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lch\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#643011'</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000001\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lch\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#004770'</span>\n</code></pre></div>\n<p>vs. LAB:</p>\n<p><div class=\"codehilite\" data-code-language=\"Node.js REPL console session\"><pre><span></span><code><span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lab\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#1d4715'</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#010000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lab\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#1e4715'</span>\n<span class=\"gp\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">chroma</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#00ff00\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000001\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"lab\"</span><span class=\"p\">).</span><span class=\"nx\">hex</span><span class=\"p\">()</span>\n<span class=\"s1\">'#1d4716'</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>probably you right about edges but the overall result we are looking for colors of topics is better in lch. <br>\nlab produces not vibrant colors at all</p>",
        "id": 1518091,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677891947
    },
    {
        "content": "<blockquote>\n<p>Stream and topic font weight should be 600, right now it is regular text</p>\n</blockquote>\n<p>You said you wanted them to be 500 <a href=\"https://github.com/zulip/zulip/pull/23782#issuecomment-1435763775\">here</a>, anyway changed them to 600.</p>",
        "id": 1518368,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677925597
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517483\">said</a>:</p>\n<blockquote>\n<p>sorry, could you try this one <a href=\"/user_uploads/2/7c/wU_1t_i8BULTY17VT7Ys6WF6/Vector.svg\">Vector.svg</a>  ?</p>\n<p><div class=\"codehilite\"><pre><span></span><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;16&quot; height=&quot;16&quot; fill=&quot;none&quot; viewBox=&quot;0 0 16 16&quot;&gt;&lt;path fill=&quot;#000&quot; fill-rule=&quot;evenodd&quot; d=&quot;M6 1a1 1 0 0 0-1 1v3H2a1 1 0 0 0 0 2h3v2H2a1 1 0 1 0 0 2h3v3a1 1 0 1 0 2 0v-3h2v3a1 1 0 1 0 2 0v-3h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2h-3V2a1 1 0 1 0-2 0v3H7V2a1 1 0 0 0-1-1Zm3 8V7H7v2h2Z&quot; clip-rule=&quot;evenodd&quot;/&gt;&lt;/svg&gt;\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>It has the same effect after removing <code>fill=none</code>. Without doing so, the svg is not even rendered.</p>",
        "id": 1518402,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677932512
    },
    {
        "content": "<p>Colord doesn't support LCH color mixing, should I just switch to using chroma?</p>",
        "id": 1518416,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677934521
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1518368\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Stream and topic font weight should be 600, right now it is regular text</p>\n</blockquote>\n<p>You said you wanted them to be 500 <a href=\"https://github.com/zulip/zulip/pull/23782#issuecomment-1435763775\">here</a>, anyway changed them to 600.</p>\n</blockquote>\n<p>The problem is that there is no such weight of the font loaded on Zulip, so 400 isn't different from 500. If you load the font-weight properly we could see it s a correct 500 I suggest we do that.</p>",
        "id": 1518529,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677951843
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1518402\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517483\">said</a>:</p>\n<blockquote>\n<p>sorry, could you try this one <a href=\"/user_uploads/2/7c/wU_1t_i8BULTY17VT7Ys6WF6/Vector.svg\">Vector.svg</a>  ?</p>\n<p><div class=\"codehilite\"><pre><span></span><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;16&quot; height=&quot;16&quot; fill=&quot;none&quot; viewBox=&quot;0 0 16 16&quot;&gt;&lt;path fill=&quot;#000&quot; fill-rule=&quot;evenodd&quot; d=&quot;M6 1a1 1 0 0 0-1 1v3H2a1 1 0 0 0 0 2h3v2H2a1 1 0 1 0 0 2h3v3a1 1 0 1 0 2 0v-3h2v3a1 1 0 1 0 2 0v-3h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2h-3V2a1 1 0 1 0-2 0v3H7V2a1 1 0 0 0-1-1Zm3 8V7H7v2h2Z&quot; clip-rule=&quot;evenodd&quot;/&gt;&lt;/svg&gt;\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>It has the same effect after removing <code>fill=none</code>. Without doing so, the svg is not even rendered.</p>\n</blockquote>\n<p>I don't understand the problem. This is the same svg I used in <a href=\"https://codepen.io/terpimost/pen/WNzdrJN\">example</a> about colors. I was using it as mask in css actually. Could it be something happening in your to font conversion?</p>",
        "id": 1518530,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677951963
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1518416\">said</a>:</p>\n<blockquote>\n<p>Colord doesn't support LCH color mixing, should I just switch to using chroma?</p>\n</blockquote>\n<p>haha colord does it in labs space as <span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> wants <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>)))<br>\n<a href=\"/user_uploads/2/b8/DZ_kFvxb7iLxLpVQ73Q2gewT/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b8/DZ_kFvxb7iLxLpVQ73Q2gewT/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b8/DZ_kFvxb7iLxLpVQ73Q2gewT/image.png\"></a></div><p>let me think what I could do here</p>",
        "id": 1518536,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677952109
    },
    {
        "content": "<p>Maybe check if the Oklab space works better? The <a href=\"https://colorjs.io/\"><code>colorjs.io</code> library</a> looks comprehensive, and has an efficient tree-shakeable <a href=\"https://colorjs.io/docs/procedural.html\">procedural interface</a>.</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"k\">import</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"kr\">as</span><span class=\"w\"> </span><span class=\"nx\">colorjs</span><span class=\"w\"> </span><span class=\"kr\">from</span><span class=\"w\"> </span><span class=\"s2\">\"colorjs.io/fn\"</span><span class=\"p\">;</span>\n\n<span class=\"nx\">colorjs</span><span class=\"p\">.</span><span class=\"nx\">ColorSpace</span><span class=\"p\">.</span><span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"nx\">colorjs</span><span class=\"p\">.</span><span class=\"nx\">sRGB</span><span class=\"p\">);</span>\n<span class=\"nx\">colorjs</span><span class=\"p\">.</span><span class=\"nx\">ColorSpace</span><span class=\"p\">.</span><span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"nx\">colorjs</span><span class=\"p\">.</span><span class=\"nx\">OKLab</span><span class=\"p\">);</span>\n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span>\n<span class=\"w\">  </span><span class=\"nx\">colorjs</span><span class=\"p\">.</span><span class=\"nx\">serialize</span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"nx\">colorjs</span><span class=\"p\">.</span><span class=\"nx\">mix</span><span class=\"p\">(</span><span class=\"s2\">\"#abcdef\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"#000000\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"nx\">space</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"oklab\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">outputSpace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"srgb\"</span><span class=\"p\">}),</span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"nx\">format</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"hex\"</span><span class=\"p\">}</span>\n<span class=\"w\">  </span><span class=\"p\">)</span>\n<span class=\"p\">);</span>\n</code></pre></div>",
        "id": 1518555,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1677956376
    },
    {
        "content": "<p>Hey, I managed to do with colord. here it is:<br>\n<a href=\"https://zulip-topic-feed-colors.vladkorobov.repl.co/?mode=dark\">https://zulip-topic-feed-colors.vladkorobov.repl.co/?mode=dark</a><br>\n<a href=\"https://zulip-topic-feed-colors.vladkorobov.repl.co/?mode=light\">https://zulip-topic-feed-colors.vladkorobov.repl.co/?mode=light</a></p>\n<p>I think the result is acceptable</p>",
        "id": 1518562,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677958990
    },
    {
        "content": "<p><a href=\"https://replit.com/@VladKorobov/zulip-topic-feed-colors#index.html\">https://replit.com/@VladKorobov/zulip-topic-feed-colors#index.html</a> - source</p>",
        "id": 1518563,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677959028
    },
    {
        "content": "<p>Guys, I already tried 2 libs... lets just deliver something that works.</p>",
        "id": 1518564,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677959077
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> I also made topic border darker in light and dark theme</p>",
        "id": 1518565,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677959140
    },
    {
        "content": "<p>colord d lab space does feel more like on a paper mixing... but its not bad I added a bit more color to the mix and for the dark case added a bit more</p>",
        "id": 1518571,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677959460
    },
    {
        "content": "<p><code>colord(darkMode ? \"#000000\" : \"#ffffff\").mix(color, darkMode ? 0.5 : 0.4).toHex();</code></p>",
        "id": 1518572,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677959481
    },
    {
        "content": "<p>For your prototype, you don’t need to switch libraries if that isn’t your thing, just to try out different formulas. Chroma.js supports LAB and Oklab too.</p>",
        "id": 1518577,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1677963059
    },
    {
        "content": "<p>I'm ok with how things work in colord in my last example. if you have suggestions you can \"fork\" and edit that one for the better result.</p>",
        "id": 1518579,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677964564
    },
    {
        "content": "<blockquote>\n<p>I don't understand the problem. This is the same svg I used in example about colors. I was using it as mask in css actually. Could it be something happening in your to font conversion?</p>\n</blockquote>\n<p>Ok, I will try to figure it out.</p>",
        "id": 1518649,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677996929
    },
    {
        "content": "<p>Just noting for future that I uploaded the SVG file to <a href=\"https://icomoon.io/\">https://icomoon.io/</a> and then downloaded it, which makes it work. See more details <a href=\"https://github.com/nfroidure/svgicons2svgfont/issues/62#issuecomment-579469997\">here</a>.</p>",
        "id": 1518752,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678046652
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1517737\">said</a>:</p>\n<blockquote>\n<p>This is kind of a bad state for the card to be cut from the bottom without border radius, is there any way we could improve that? <a href=\"/user_uploads/2/5a/zU4h_Lhm4cIW5cB4b8rM9wRr/image.png\">image.png</a></p>\n</blockquote>\n<p>Just trying to fix this right now, will add changes to <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a> for the rest.</p>",
        "id": 1518968,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678100900
    },
    {
        "content": "<p>What do you guys think of having separate font size for stream privacy icons until we update left sidebar with the new design?<br>\n<a href=\"/user_uploads/2/25/WZ2x7Uw5t6I7e3EJt7xWOe7I/Screenshot-2023-03-06-at-4.48.35-PM.png\">Screenshot-2023-03-06-at-4.48.35-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/25/WZ2x7Uw5t6I7e3EJt7xWOe7I/Screenshot-2023-03-06-at-4.48.35-PM.png\" title=\"Screenshot-2023-03-06-at-4.48.35-PM.png\"><img src=\"/user_uploads/2/25/WZ2x7Uw5t6I7e3EJt7xWOe7I/Screenshot-2023-03-06-at-4.48.35-PM.png\"></a></div>",
        "id": 1518969,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678101572
    },
    {
        "content": "<p>The font size of icons are 15px in the recipient bar in the screenshot, which are actually 16px in the design.</p>",
        "id": 1518970,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678101617
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> it would be great if you can provide svg for the new lock icon too so that we can get a better feel for it.</p>",
        "id": 1518971,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678101678
    },
    {
        "content": "<p>It was not present in <a href=\"https://github.com/zulip/zulip/pull/22021\">#22021</a></p>",
        "id": 1518972,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678101775
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1518971\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> it would be great if you can provide svg for the new lock icon too so that we can get a better feel for it.</p>\n</blockquote>\n<p>sorry i forgot to <a href=\"https://www.figma.com/file/jbNOiBWvbtLuHaiTj4CW0G/Zulip-Web-App?node-id=1989%3A130447&amp;t=GURFhZeRTEVU31XW-1\">link to figma</a>, but icons are usually there</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;16&quot; height=&quot;16&quot; fill=&quot;none&quot; viewBox=&quot;0 0 16 16&quot;&gt;&lt;path fill=&quot;#000&quot; fill-rule=&quot;evenodd&quot; d=&quot;M3.77 4.67v1.91h-.44c-1.15 0-2.08.94-2.08 2.09v4.66c0 1.15.93 2.09 2.08 2.09h9.34c1.15 0 2.08-.94 2.08-2.09V8.67c0-1.15-.93-2.09-2.08-2.09h-.44V4.67a4.23 4.23 0 1 0-8.46 0ZM8 2.23a2.43 2.43 0 0 0-2.43 2.44v1.91h4.86V4.67A2.43 2.43 0 0 0 8 2.23Zm.5 10.18a1.5 1.5 0 1 0-1 0v1.09h1v-1.09Z&quot; clip-rule=&quot;evenodd&quot;/&gt;&lt;/svg&gt;\n</code></pre></div>\n<p><a href=\"/user_uploads/2/e8/u88lK_2qA1_2xMkq5zcaA8_Y/lock.svg\">lock.svg</a></p>",
        "id": 1519130,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1678116764
    },
    {
        "content": "<p>Great! thanks!</p>",
        "id": 1519776,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678175645
    },
    {
        "content": "<p>Added fixes for the above feedback in <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a></p>",
        "id": 1519848,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678195052
    },
    {
        "content": "<p>I might update the PR further today to do a clean up of old hashtag and lock icons, but it can be test deployed right now.</p>",
        "id": 1519849,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678195129
    },
    {
        "content": "<p>Huh, the new dark theme colors look quite different. Anyway, curious to get feedback from CZO testing.</p>",
        "id": 1519881,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1678207383
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> this grew some merge conflicts today; can you ping me when you have it rebased so I can update the deployment?</p>",
        "id": 1520379,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1678237030
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> updated! (CI passed)</p>",
        "id": 1520448,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678245303
    },
    {
        "content": "<p>Did another push to <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a> based on feedback in <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/blue.20box\">#design &gt; blue box</a>. Just includes padding changes.</p>",
        "id": 1522339,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678473306
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> ping to test deploy this.</p>",
        "id": 1524151,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678775048
    },
    {
        "content": "<p>I saw the time stamp and message action buttons peeking out in the message header bar. I think it's reproducible if you zoom in a lot. (don't know if it's fixed in the updated PR)</p>\n<p><a href=\"/user_uploads/2/5/ypswukl1eIqljHiHWlfdLBUX/Screen-Shot-2023-03-14-at-1.18.05-PM.png\">Screen-Shot-2023-03-14-at-1.18.05-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5/ypswukl1eIqljHiHWlfdLBUX/Screen-Shot-2023-03-14-at-1.18.05-PM.png\" title=\"Screen-Shot-2023-03-14-at-1.18.05-PM.png\"><img src=\"/user_uploads/2/5/ypswukl1eIqljHiHWlfdLBUX/Screen-Shot-2023-03-14-at-1.18.05-PM.png\"></a></div>",
        "id": 1524859,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1678850699
    },
    {
        "content": "<p><em>Scratching my head over these micro-pixel problems.</em></p>",
        "id": 1524972,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678862384
    },
    {
        "content": "<p>Let me see what I can do.</p>",
        "id": 1524973,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678862417
    },
    {
        "content": "<p>I cannot reproduce it. Also, this shouldn't be possible since the background color and border are on the same element.</p>",
        "id": 1524980,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678863101
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1524980\">said</a>:</p>\n<blockquote>\n<p>I cannot reproduce it. Also, this shouldn't be possible since the background color and border are on the same element. Maybe something weird going on with Chrome here?</p>\n</blockquote>\n<p>Oh! but that's not the case for PM recipient bars, maybe just doing this will fix it.</p>",
        "id": 1524981,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678863192
    },
    {
        "content": "<p>Updated the PR with possible fix.</p>",
        "id": 1524984,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678863440
    },
    {
        "content": "<p>Cool, will get an updated version deployed here today.</p>",
        "id": 1525704,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1678922626
    },
    {
        "content": "<p>I'm aware of a few open issues that I'm tracking as things we should resolve in some way before integrating this:</p>\n<ul>\n<li><a class=\"stream-topic\" data-stream-id=\"9\" href=\"/#narrow/stream/9-issues/topic/Line.20wrapping.20messages\">#issues &gt; Line wrapping messages</a> </li>\n<li><a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/UI.20redesign.3A.20blue.20box\">#design &gt; UI redesign: blue box</a> </li>\n</ul>\n<p>Aside from those tactical issues, how are folks feeling about this design change after experiencing it for a while? </p>\n<p>This change was designed as part of a broader redesign, many other pieces of which we don't have test-deployed at this time. But to me at least the UI has felt nice and generally like Zulip with this version, so we should consider integrating without waiting for all of those other changes to be ready. (It would greatly simplify design integration logistics if we were able to merge this as a checkpoint, but that only makes sense if we feel it's a design improvement -- we definitely don't want to change our main screen visuals to an intermediate state that feels like a regression).</p>",
        "id": 1525745,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1678924310
    },
    {
        "content": "<p>I like the light theme more than the dark theme right now, but I feel this is a design improvement.</p>",
        "id": 1525975,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678939742
    },
    {
        "content": "<p>This has gone through various iterations, so I've not seen if things have improved yet, but I've not been too ken on some of the background colors for the header bar - they've been quite pale or faded in some streams, for example.</p>",
        "id": 1526060,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1678953058
    },
    {
        "content": "<p>A quick check - in light mode - shows lots of my fully-read streams look good, and PMs.</p>",
        "id": 1526063,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1678953272
    },
    {
        "content": "<p>That did promote quite a few 'inactive' streams back up after I only looked at them, though, which I wasn't expecting.</p>",
        "id": 1526065,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1678953313
    },
    {
        "content": "<p>The inactive thing is weird but known/expected; \"active\" is defined by whether there are any recent messages in your browser's cache from the stream, so visiting the stream makes it appear as active. It's not ideal but also a digression <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>.</p>",
        "id": 1526229,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1678980224
    },
    {
        "content": "<p>I've been happy with this change.</p>\n<p>I use the light theme; it seems like people have been less satisfied with the version in the dark theme.</p>",
        "id": 1526677,
        "sender_full_name": "Greg Price",
        "timestamp": 1679009338
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1525975\">said</a>:</p>\n<blockquote>\n<p>I like the light theme more than the dark theme right now, but I feel this is a design improvement.</p>\n</blockquote>\n<p>I agree that the light theme looks better than the dark theme after the recent design improvements. I used to prefer the dark theme before, but now I have switched to the light theme. However, most people nowadays prefer dark mode for almost all apps and love it more. Our dark mode could be better, which is why I would like to add the \"Improving Dark Theme\" project to my proposal for the \"Improve the UI and Visual Design\" project for GSOC. I would love to work on this project.</p>",
        "id": 1526809,
        "sender_full_name": "Hardik Dharmani",
        "timestamp": 1679037169
    },
    {
        "content": "<p>The is just a temporary state for the dark theme, it would look much better once the final design is implemented with the background color.</p>",
        "id": 1526814,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1679039316
    },
    {
        "content": "<p>I've been happy as a light theme user.</p>\n<p>Could we have more dark theme users chime in to compare the version we are testing vs. the version of dark theme we have in <code>main</code>? The bar for integrating it would be not having it feel like a regression. If it's not much of an improvement, or not as nice as the light theme, that's fine -- as noted above, the current state is just an intermediate step.</p>",
        "id": 1527158,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1679076639
    },
    {
        "content": "<p>I think the feedback we've gotten has indicated it feels like a regression. For example this:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"2406\">Neil Pilgrim (neiljp)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1526060\">said</a>:</p>\n<blockquote>\n<p>This has gone through various iterations, so I've not seen if things have improved yet, but I've not been too ken on some of the background colors for the header bar - they've been quite pale or faded in some streams, for example.</p>\n</blockquote>\n<p>(where from the next comment I'm pretty sure <span class=\"user-mention silent\" data-user-id=\"2406\">Neil Pilgrim (neiljp)</span> was describing the dark theme there.)</p>",
        "id": 1528585,
        "sender_full_name": "Greg Price",
        "timestamp": 1679339494
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"2406\">@Neil Pilgrim (neiljp)</span> If this is still your impression in the current version, I wonder if you could post some screenshots of the stream colors you don't think are working well?</p>",
        "id": 1528589,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1679339895
    },
    {
        "content": "<p>Since that comment we tuned the colors and I proposed the way to do them with color d library</p>",
        "id": 1528600,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1679340482
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> is that what is currently deployed?</p>",
        "id": 1528602,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1679340514
    },
    {
        "content": "<p>Colors are definitely much juicier</p>",
        "id": 1528603,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1679340522
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1528602\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> is that what is currently deployed?</p>\n</blockquote>\n<p>Yeah.</p>",
        "id": 1528643,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1679342773
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2406\">Neil Pilgrim (neiljp)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1526063\">said</a>:</p>\n<blockquote>\n<p>A quick check - in light mode - shows lots of my fully-read streams look good, and PMs.</p>\n</blockquote>\n<p>This was my follow-up investigation to the earlier comment, at which point I'd not checked if the improved stronger background colors were present across multiple narrows. When using the web app, I have been using light mode for some time now.</p>\n<p>The background colors definitely seemed improved compared to an earlier iteration.</p>",
        "id": 1528686,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1679347489
    },
    {
        "content": "<p>The very first deployment of this with the dark theme had basically a bug where the colors weren't being calculated correctly. So I'd encourage folks who might have switched off the dark theme because that initial version was weird to switch back and see what they think.</p>",
        "id": 1528835,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1679355378
    },
    {
        "content": "<p>I personally use the dark theme and didn't like that first version, but the fixed version feels nice to me.</p>",
        "id": 1528836,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1679355413
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/415-chat.2Ezulip.2Eorg/topic/experiments/near/1529970\">said</a>:</p>\n<blockquote>\n<p>I'm updating <a href=\"http://chat.zulip.org\">chat.zulip.org</a> with […] the latest version of <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar\">#design &gt; UI redesign: stream/topic header bar</a>.</p>\n</blockquote>\n<p>Is here and now a good time for me to post feedback on this version? <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 1530079,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1679456630
    },
    {
        "content": "<p>Yep, that's why we link the <a class=\"stream\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design\">#design</a> threads from the <a class=\"stream\" data-stream-id=\"415\" href=\"/#narrow/stream/415-chat.2Ezulip.2Eorg\">#chat.zulip.org</a> announcement messages.</p>",
        "id": 1530097,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1679460137
    },
    {
        "content": "<p>13 messages were moved from this topic to <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/font.20weight.20500\">#design &gt; font weight 500</a> by <span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span>.</p>",
        "id": 1530118,
        "sender_full_name": "Notification Bot",
        "timestamp": 1679461531
    },
    {
        "content": "<p>I split the other conversation into its own thread so that it can go on concurrently with this one.</p>",
        "id": 1530120,
        "sender_full_name": "Greg Price",
        "timestamp": 1679461615
    },
    {
        "content": "<p>The left/right borders clash with the recipient header's rounded corners:</p>\n<p><a href=\"/user_uploads/2/8f/-PXPUT69WoVZ6pwMZF5ZKeRq/image.png\">image.png</a> <a href=\"/user_uploads/2/c5/Lldad8EFKdbz2R_VemSWnG0V/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/8f/-PXPUT69WoVZ6pwMZF5ZKeRq/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/8f/-PXPUT69WoVZ6pwMZF5ZKeRq/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/c5/Lldad8EFKdbz2R_VemSWnG0V/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/c5/Lldad8EFKdbz2R_VemSWnG0V/image.png\"></a></div>",
        "id": 1530598,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1679506138
    },
    {
        "content": "<p>I think we want the rounded corners, and the left/right borders need to stop a little lower.</p>",
        "id": 1530683,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1679509252
    },
    {
        "content": "<p>Thanks for noticing, will try to fix!</p>",
        "id": 1530689,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1679509279
    },
    {
        "content": "<p>Oh! This bug is for sticky message headers only.</p>",
        "id": 1530697,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1679509486
    },
    {
        "content": "<p><a href=\"/user_uploads/2/4f/jQ3uQeVXLNkXvFwhpiaEiA_C/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4f/jQ3uQeVXLNkXvFwhpiaEiA_C/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/4f/jQ3uQeVXLNkXvFwhpiaEiA_C/image.png\"></a></div><p>The messagebox border peeks up into the sticky message header's corners -- and this will become a bigger issue when the messageboxes all have background.</p>",
        "id": 1531078,
        "sender_full_name": "Evy",
        "timestamp": 1679527677
    },
    {
        "content": "<p>That's already a problem with PMs then, thinking what we can do here...</p>",
        "id": 1531194,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1679548137
    },
    {
        "content": "<p>Ah true! Thanks :)</p>",
        "id": 1531201,
        "sender_full_name": "Evy",
        "timestamp": 1679548872
    },
    {
        "content": "<p>It was especially clear to me when I made the app background grey in light-mode (coming soon to CZO).</p>",
        "id": 1531202,
        "sender_full_name": "Evy",
        "timestamp": 1679548913
    },
    {
        "content": "<p>Pushed an update to <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a> to fix it.</p>",
        "id": 1531231,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1679551796
    },
    {
        "content": "<p>I've deployed the latest version of that here.</p>",
        "id": 1531792,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1679600922
    },
    {
        "content": "<p>I made some big changes that could have side effects, so let me know if you guys notice anything.</p>",
        "id": 1531795,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1679600995
    },
    {
        "content": "<p>This line spacing around the date divider bar looks unbalanced, I think?: <a href=\"/user_uploads/2/4c/xK3WOErsLGUttHuRWCtlKIAt/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4c/xK3WOErsLGUttHuRWCtlKIAt/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/4c/xK3WOErsLGUttHuRWCtlKIAt/image.png\"></a></div>",
        "id": 1531803,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1679601216
    },
    {
        "content": "<p>There are problems with the borders in Drafts:</p>\n<p><a href=\"/user_uploads/2/a3/hqXZvcNWjbbydMzji65peSf5/Screen-Shot-2023-03-23-at-3.12.19-PM.png\">Screen-Shot-2023-03-23-at-3.12.19-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/a3/hqXZvcNWjbbydMzji65peSf5/Screen-Shot-2023-03-23-at-3.12.19-PM.png\" title=\"Screen-Shot-2023-03-23-at-3.12.19-PM.png\"><img src=\"/user_uploads/2/a3/hqXZvcNWjbbydMzji65peSf5/Screen-Shot-2023-03-23-at-3.12.19-PM.png\"></a></div>",
        "id": 1531980,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1679609638
    },
    {
        "content": "<p>This is more visible issue with messages with backgrounds (bottom corners)</p>\n<p><a href=\"/user_uploads/2/dc/mW6AKiidSOiu6mN11by-EeJr/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/dc/mW6AKiidSOiu6mN11by-EeJr/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/dc/mW6AKiidSOiu6mN11by-EeJr/image.png\"></a></div>",
        "id": 1531991,
        "sender_full_name": "Evy",
        "timestamp": 1679610341
    },
    {
        "content": "<p>Fixed in PR now.<br>\n<a href=\"/user_uploads/2/8f/adfTEzeO49ZYXp2D8Ux4Wvw_/Screenshot-2023-03-24-at-2.22.47-PM.png\">Screenshot-2023-03-24-at-2.22.47-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/8f/adfTEzeO49ZYXp2D8Ux4Wvw_/Screenshot-2023-03-24-at-2.22.47-PM.png\" title=\"Screenshot-2023-03-24-at-2.22.47-PM.png\"><img src=\"/user_uploads/2/8f/adfTEzeO49ZYXp2D8Ux4Wvw_/Screenshot-2023-03-24-at-2.22.47-PM.png\"></a></div>",
        "id": 1532491,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1679648069
    },
    {
        "content": "<p><a href=\"/user_uploads/2/fb/h4rVfNdoQEpY6U6lsWkOqDjt/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/fb/h4rVfNdoQEpY6U6lsWkOqDjt/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/fb/h4rVfNdoQEpY6U6lsWkOqDjt/image.png\"></a></div><p>On narrow screens, can we limit the stream name size? So that the date doesn't get cut off.</p>",
        "id": 1535691,
        "sender_full_name": "Evy",
        "timestamp": 1680036927
    },
    {
        "content": "<p>Nice find!</p>",
        "id": 1535693,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1680037020
    },
    {
        "content": "<p>Pushed a fix to <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a></p>",
        "id": 1535863,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1680043801
    },
    {
        "content": "<p>sweeet -- I think it was already an issue before, but now it's fixed!</p>",
        "id": 1536016,
        "sender_full_name": "Evy",
        "timestamp": 1680048217
    },
    {
        "content": "<p>OK <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a> is merging to <code>main</code> once CI passes, thanks for all the work on feedback on this folks! </p>\n<p>I'm sure we'll continue fixing little quirks with this implementation over the coming weeks as they're noticed, but integrating this is a huge checkpoint on our way towards our redesign goals.</p>",
        "id": 1544999,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1681194185
    },
    {
        "content": "<p>Yeah, thanks so much for all the iteration on this! It's the most visible redesign change we've merged so far, and it was important to get all those details polished.</p>",
        "id": 1545091,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1681209381
    },
    {
        "content": "<p>I'm noticing that mention highlights extend to the datebar <a href=\"/user_uploads/2/33/bR87jkFizmpHym4Uz2vtQFNb/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/33/bR87jkFizmpHym4Uz2vtQFNb/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/33/bR87jkFizmpHym4Uz2vtQFNb/image.png\"></a></div>",
        "id": 1545622,
        "sender_full_name": "Evy",
        "timestamp": 1681244483
    },
    {
        "content": "<p>I'm working on changing that highlight into being one of two colors and get this, which looks a bit odd:</p>\n<p><a href=\"/user_uploads/2/7d/5aMmmkpIcCVk979fN-7hQOW8/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/7d/5aMmmkpIcCVk979fN-7hQOW8/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/7d/5aMmmkpIcCVk979fN-7hQOW8/image.png\"></a></div>",
        "id": 1545626,
        "sender_full_name": "Evy",
        "timestamp": 1681244605
    },
    {
        "content": "<p>This is <a href=\"https://github.com/zulip/zulip/pull/22419\">#22419</a> -- maybe <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> you could fiddle around with it a bit?</p>",
        "id": 1545627,
        "sender_full_name": "Evy",
        "timestamp": 1681244648
    },
    {
        "content": "<p>I will just open a separate PR to fix it.</p>",
        "id": 1545628,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1681244726
    },
    {
        "content": "<p>Ok cool :) Thanks!</p>",
        "id": 1545632,
        "sender_full_name": "Evy",
        "timestamp": 1681244863
    },
    {
        "content": "<p>You have set <code>var(--color-background-message-content);</code> with incorrect variable name, it should just be <code>color-background</code>.</p>",
        "id": 1548511,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1681542055
    },
    {
        "content": "<p>Where is this?</p>",
        "id": 1548767,
        "sender_full_name": "Evy",
        "timestamp": 1681624112
    },
    {
        "content": "<p>In you pr.</p>",
        "id": 1548776,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1681629853
    },
    {
        "content": "<p>The messages shouldn't be the app background color, that's a different color. I think the definition of <code>color-background-message-content</code> was lost in the PR though, so I can fix that. Does that address what you were talking about?</p>",
        "id": 1548861,
        "sender_full_name": "Evy",
        "timestamp": 1681672309
    },
    {
        "content": "<p>Yeah, the color of the date row should be the default message background color.</p>",
        "id": 1548886,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1681683764
    },
    {
        "content": "<p>Yeah okay I think we're more on the same page then. This is in the message PR that hasn't been deployed yet, right? I'll fix that soon.</p>",
        "id": 1549482,
        "sender_full_name": "Evy",
        "timestamp": 1681764626
    },
    {
        "content": "<p>Fixed :)</p>",
        "id": 1549865,
        "sender_full_name": "Evy",
        "timestamp": 1681786711
    },
    {
        "content": "<p>Some <a href=\"https://rust-lang.zulipchat.com/#narrow/stream/122653-zulip/topic/New.20design/near/350948511\">feedback in the Rust community</a> (world-viewable link). <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> FYI -- some comments on icon contrast we can think about.</p>",
        "id": 1551239,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1681921088
    },
    {
        "content": "<p>I was about to link to that. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 1551240,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1681921104
    },
    {
        "content": "<p>I've gone through that. I don't think I 100% understand icon contrast issue.<br>\nStrong color of DMs is a legit point, we should volume it down and I will come back with a list of tunes. <br>\nAs a father of 3 and a dog owner I can tell you that color of poop  is in range from white to black <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 1551339,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1681928032
    },
    {
        "content": "<blockquote>\n<p>I've gone through that. I don't think I 100% understand icon contrast issue.</p>\n</blockquote>\n<p>I think one person found this to be too low-contrast:</p>\n<p><a href=\"/user_uploads/2/3d/9NuFzR-rmumrYdAW-3K_2zu-/Screen-Shot-2023-04-19-at-11.46.29-AM.png\">Screen-Shot-2023-04-19-at-11.46.29-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3d/9NuFzR-rmumrYdAW-3K_2zu-/Screen-Shot-2023-04-19-at-11.46.29-AM.png\" title=\"Screen-Shot-2023-04-19-at-11.46.29-AM.png\"><img src=\"/user_uploads/2/3d/9NuFzR-rmumrYdAW-3K_2zu-/Screen-Shot-2023-04-19-at-11.46.29-AM.png\"></a></div><p>Others were commenting on the pencil/checkmark/mute buttons, but we haven't actually implemented the redesign for those yet.</p>",
        "id": 1551360,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1681930029
    },
    {
        "content": "<p>related comment from Pilot:</p>\n<p><a href=\"/user_uploads/2/c3/wHQgnVBxLlKgCeqjXi5tlXo2/image.png\">image.png</a><br>\nc14da962cafef3cface2c9319364eb74173d9260284bb48b2bb8ce19ba6213b9.png</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c3/wHQgnVBxLlKgCeqjXi5tlXo2/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/c3/wHQgnVBxLlKgCeqjXi5tlXo2/image.png\"></a></div>",
        "id": 1551399,
        "sender_full_name": "Evy",
        "timestamp": 1681931920
    },
    {
        "content": "<p>Hah.</p>",
        "id": 1551408,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1681932070
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1551360\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>I've gone through that. I don't think I 100% understand icon contrast issue.</p>\n</blockquote>\n<p>I think one person found this to be too low-contrast:</p>\n<p><a href=\"/user_uploads/2/3d/9NuFzR-rmumrYdAW-3K_2zu-/Screen-Shot-2023-04-19-at-11.46.29-AM.png\">Screen-Shot-2023-04-19-at-11.46.29-AM.png</a></p>\n<p>Others were commenting on the pencil/checkmark/mute buttons, but we haven't actually implemented the redesign for those yet.</p>\n</blockquote>\n<p>Why would we need to make it higher contrast at all?</p>",
        "id": 1551449,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1681935059
    },
    {
        "content": "<p>I dunno, you'd have to ask the user who provided the feedback. (You can join the Rust community if you like; it has open sign-ups.) The same user actually commented below that learning that they can customize stream colors solves whatever was bothering them about that part.</p>",
        "id": 1551464,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1681935605
    },
    {
        "content": "<p>3 messages were moved from this topic to <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/custom.20stream.20colors\">#design &gt; custom stream colors</a> by <span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span>.</p>",
        "id": 1551478,
        "sender_full_name": "Notification Bot",
        "timestamp": 1681936499
    },
    {
        "content": "<p>I think I agree that with some of our default colors, the stream privacy icon feels like it fades into the background. Here's another example:<br>\n<a href=\"/user_uploads/2/c/14nV2rPZzIoRO69ycWY_7PEI/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c/14nV2rPZzIoRO69ycWY_7PEI/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/c/14nV2rPZzIoRO69ycWY_7PEI/image.png\"></a></div>",
        "id": 1551480,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1681936700
    },
    {
        "content": "<p>It is possible the right fix for this is that we should programmatically change any colors that are the default colors that Zulip issues and have insufficient contrast from the background to be bolder versions of roughly those same colors, rather than changing the algorithms? I'm not sure if there's a way we could bolden the colors for display in that particular location that would feel good.</p>",
        "id": 1551483,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1681936784
    },
    {
        "content": "<p>(We should expect contrast to be relatively low between a color and a shade regenerated by mixing that color roughly 50/50 with another color, especially in cases where the color we're mixing with is closer to the specific stream color.)</p>",
        "id": 1551484,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1681936842
    },
    {
        "content": "<p>I have a vague recollection that we had some ideas around a replacement set for the 16-20 colors that Zulip issues when subscribing to a stream, but don't remember the details.</p>",
        "id": 1551485,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1681936876
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20stream.2Ftopic.20header.20bar/near/1551483\">said</a>:</p>\n<blockquote>\n<p>It is possible the right fix for this is that we should programmatically change any colors that are the default colors that Zulip issues and have insufficient contrast from the background to be bolder versions of roughly those same colors, rather than changing the algorithms? I'm not sure if there's a way we could bolden the colors for display in that particular location that would feel good.</p>\n</blockquote>\n<p>I suggest we tune algorithms... it 1 number change and see it in practice. It doesn't take much to mix less of a color on the light or dark background to highlight the color of the stream icon</p>",
        "id": 1551523,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1681940296
    },
    {
        "content": "<p>after that we can always generate set of colors as the new defaults...</p>",
        "id": 1551524,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1681940337
    },
    {
        "content": "<p>Sounds like a good first thing to try! Do you have a proposed tweak to try?</p>",
        "id": 1551632,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1681947867
    },
    {
        "content": "<p>Make suggestions here <a href=\"https://github.com/zulip/zulip/issues/25247\">https://github.com/zulip/zulip/issues/25247</a> (bottom)</p>",
        "id": 1553714,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1682301977
    }
]