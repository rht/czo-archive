[
    {
        "content": "<p>Hey! Having recently worked in a (Slack) org that frequently used <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> as a reaction to say \"thank you\", I noticed that folks don't use it that way here. However, the <img alt=\":thank_you:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/133.png\" title=\"thank you\"> emoji is not super nice, and doesn't seem to get much use either.</p>\n<p>Using <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span>  to mean \"thank you\" is <a href=\"https://emojipedia.org/folded-hands/\">quite standard</a>, but it's possible the <code>pray</code> label is deterring its use on Zulip. What do you guys think about making the following changes to our emoji names?</p>\n<ol>\n<li><code>thank_you</code> and <code>pray</code> will both map to <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> </li>\n<li><img alt=\":thank_you:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/133.png\" title=\"thank you\"> gets renamed to, e.g., <code>thank_you_bubble</code></li>\n</ol>",
        "id": 1160506,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1618248604
    },
    {
        "content": "<p>Also, if there are any other emoji names that have been bothering you, please post that as well, so that we can bundle all the changes together.</p>",
        "id": 1160508,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1618248673
    },
    {
        "content": "<p>Firstly, do these translate across emoji sets/themes well?<br>\nThe length of some names are a factor, perhaps, for search/typing? (<code>..._bubble</code>) Autocomplete mostly solves this I suppose.<br>\nIn zulip-term we show emoji names only, due to a typical lack of support for all the emoji, so I'm used to seeing eg <img alt=\":thank_you:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/133.png\" title=\"thank you\"> or <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> in messages or reactions/reacji as <code>:thank_you:</code> and <code>:pray:</code>.<br>\nIn ZT I believe we get one of these, so sometimes I'll see <code>:+1:</code> and other times <code>:thumbs_up:</code> in reactions - in messages do/can these come out as different?</p>",
        "id": 1160613,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1618250789
    },
    {
        "content": "<p>Broadly that's a <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> :)</p>",
        "id": 1160621,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1618251034
    },
    {
        "content": "<p>By default we do have <code>:thank_you:</code> as an alias of <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span>, but in this organization it’s been overridden by the custom emoji <img alt=\":thank_you:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/133.png\" title=\"thank you\">.</p>",
        "id": 1160766,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1618257263
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1160898,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1618261081
    },
    {
        "content": "<p>I notice in slack (well, at least one of the slacks I'm on) that typing \":thank\" will autocomplete with <code>:pray:</code> but will still call it <code>:pray:</code></p>",
        "id": 1160932,
        "sender_full_name": "Ken Clary",
        "timestamp": 1618263572
    },
    {
        "content": "<p>Yep, I see that on Slack as well. I don't think it's a great experience.</p>",
        "id": 1160948,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1618265650
    },
    {
        "content": "<p>Ah, it seems problematic that anyone adding emoji can override existing ones with no warning whatsoever. (I just tried it out with <code>carp streamer</code> <img alt=\":carp_streamer:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/136.png\" title=\"carp streamer\">.) We should probably check for name collisions and pop something up to warn users, if we allow it at all.</p>",
        "id": 1160960,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1618268313
    },
    {
        "content": "<p>I recently intentionally added <code>:thank_you:</code> for a number of reasons:</p>\n<ol>\n<li>I personally don't have a great association between \"pray\" and \"thank you\"</li>\n<li>I think that having something that explicitly says\" thank you\" or \"thanks\" is preferable to one that only implies thanks, by way of convention or social cues that may not be globally shared</li>\n<li>I think that having a culture of thanks is important, and having something that <em>says</em> its name is \"thank you\" (and not \"pray) helps seed the concept that it is a common enough concept to have in the community that it has its own dedicated icon.</li>\n</ol>\n<p>I am 100% not committed to the particular iconography.  But I am strongly in favor of having a dedicated icon.</p>",
        "id": 1160988,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618270060
    },
    {
        "content": "<p>I notice that in reactji, typing <code>:thank</code> shows <code>:pray:</code> <em>first</em>, which is not the behaviour I get in the compose box.</p>",
        "id": 1160990,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618270118
    },
    {
        "content": "<p>FWIW the official Unicode Consortium name of U+1F64F PERSON WITH FOLDED HANDS is, as usual, more culturally neutral.</p>",
        "id": 1160991,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1618270178
    },
    {
        "content": "<p>I also noticed that the aspect ratio for custom emoji is apparently not the same between Slack and Zulip, which I think cuts off access to a bunch of folks bringing over emoji that they like.</p>",
        "id": 1160992,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618270208
    },
    {
        "content": "<p>Are you referring to the bug I <del>fixed</del> in <a href=\"https://github.com/zulip/zulip/pull/2348\">#2348</a>? (Hmm, we never merged that…)</p>",
        "id": 1160994,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1618270354
    },
    {
        "content": "<p>I think there's a bug here, in that the behaviour is very much not consistent between the compose box and the reactji:<br>\n<a href=\"/user_uploads/2/de/6VwACIIZMrutAlPH__jYv8rm/Screen-Shot-2021-04-12-at-4.32.15-PM.png\">Screen-Shot-2021-04-12-at-4.32.15-PM.png</a><br>\n<a href=\"/user_uploads/2/78/xFTGYWyUj3DWxNy7lDUeQ_MW/Screen-Shot-2021-04-12-at-4.31.59-PM.png\">Screen-Shot-2021-04-12-at-4.31.59-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/de/6VwACIIZMrutAlPH__jYv8rm/Screen-Shot-2021-04-12-at-4.32.15-PM.png\" title=\"Screen-Shot-2021-04-12-at-4.32.15-PM.png\"><img src=\"/user_uploads/2/de/6VwACIIZMrutAlPH__jYv8rm/Screen-Shot-2021-04-12-at-4.32.15-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/78/xFTGYWyUj3DWxNy7lDUeQ_MW/Screen-Shot-2021-04-12-at-4.31.59-PM.png\" title=\"Screen-Shot-2021-04-12-at-4.31.59-PM.png\"><img src=\"/user_uploads/2/78/xFTGYWyUj3DWxNy7lDUeQ_MW/Screen-Shot-2021-04-12-at-4.31.59-PM.png\"></a></div><p>I would expect the same results in those, in the same order.</p>",
        "id": 1160995,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618270415
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"699\">Anders Kaseorg</span> <a href=\"#narrow/stream/101-design/topic/.22thank.20you.22.20emoji/near/1160994\">said</a>:</p>\n<blockquote>\n<p>Are you referring to the bug I fixed in <a href=\"https://github.com/zulip/zulip/pull/2348\">#2348</a>?</p>\n</blockquote>\n<p>Maybe!  I didn't investigate much.  Let me re-add one to test.</p>",
        "id": 1160996,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618270446
    },
    {
        "content": "<p>Yeah, you're right, it's actually a problem with non-square emoji.  <img alt=\":testing-aspect-ratio:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/137.png\" title=\"testing-aspect-ratio\"> is 128x81, but gets rendered as square.</p>",
        "id": 1160997,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618270686
    },
    {
        "content": "<p>Whoa.  That's <em>different</em> from how it's rendered in the emoji preview box, which is resized without preserving aspect ratio.</p>",
        "id": 1160998,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618270715
    },
    {
        "content": "<p>Well that’s pretty busted. I would expect most custom emoji to be square though?</p>",
        "id": 1160999,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1618270746
    },
    {
        "content": "<p>Yeah, probably.</p>",
        "id": 1161000,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618270774
    },
    {
        "content": "<p>Interesting! Some thoughts below. :)</p>\n<blockquote>\n<p>I think that having a culture of thanks is important</p>\n</blockquote>\n<p>I 100% agree that we should encourage the use of \"thank you\".  I think CZO actually uses it significantly less as a reaction than the Slack community in my previous job, and I sometimes see people using <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> when they mean \"thank you\".</p>\n<blockquote>\n<p>having something that says its name is \"thank you\" (and not \"pray)</p>\n</blockquote>\n<p>My understanding was that we could do this for the <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> icon -- at least, that's what I was trying to propose. If I'm confused about how this works, folks should let me know. :)</p>\n<blockquote>\n<p>I think that having something that explicitly says\" thank you\" or \"thanks\" is preferable to one that only implies thanks, by way of convention or social cues that may not be globally shared</p>\n</blockquote>\n<p>Mm, I can see that applying to a community like CZO in a way that it might not for a more constant and full-time org like a company.</p>\n<p>To me personally, having an icon that doesn't feel cute/fun is a deterrent against using it as reaction. Not sure if others have the same experience? Perhaps we should research some options and do a poll. :)</p>",
        "id": 1161011,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1618272380
    },
    {
        "content": "<p>Sounds like both <span class=\"user-mention silent\" data-user-id=\"12178\">Alex Vandiver</span> and I were thinking about what would encourage people to use a \"thank you\" reaction more often. :)</p>",
        "id": 1161027,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1618273791
    },
    {
        "content": "<p>Oops, looks like what I said above was not very clear. So the updated proposal is that we look around for cute icons that satisfy the criteria Alex described and grab one of those to use as <code>thank you</code>, with a poll to choose one if we have a handful of candidates.</p>",
        "id": 1161105,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1618290018
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> are you talking about doing this for zulip as a product, or CZO? if you type <code>thank you</code> into the emoji picker on a fresh zulip org, you get <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> (listed as <code>pray</code>). i think a reasonable action item would be to change that to be canonically <code>thank_you</code>, with <code>pray</code> as an alias, but i don't understand what we'd want another icon for?</p>\n<p>i think that renaming the <img alt=\":thank_you:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/133.png\" title=\"thank you\"> emoji in CZO to <code>thank_you_bubble</code> is a good idea, any org admin should be able to do that. it won't break any old emojis either.</p>",
        "id": 1161118,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1618291439
    },
    {
        "content": "<p>oh, wait, i totally misread <span class=\"user-mention silent\" data-user-id=\"12178\">Alex Vandiver</span>'s comment. that makes sense, yeah.</p>",
        "id": 1161119,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1618291508
    },
    {
        "content": "<p>here are some options:</p>\n<p><a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/15891.png\">https://zulip-avatars.s3.amazonaws.com/13/emoji/images/15891.png</a><br>\n<a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14181.png\">https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14181.png</a><br>\n<a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14176.png\">https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14176.png</a></p>\n<div class=\"message_inline_image\"><a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/15891.png\"><img src=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/15891.png\"></a></div><div class=\"message_inline_image\"><a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14181.png\"><img src=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14181.png\"></a></div><div class=\"message_inline_image\"><a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14176.png\"><img src=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14176.png\"></a></div>",
        "id": 1161122,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1618291564
    },
    {
        "content": "<p>See above for a bug with the middle option, because it's not square ( <img alt=\":testing-aspect-ratio:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/137.png\" title=\"testing-aspect-ratio\"> reads as \"HAN YOU\" to me)</p>",
        "id": 1161123,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618291604
    },
    {
        "content": "<p>ah, yeah. the image i linked for it is 64x64, so it should be fine, but we should fix that in general :)</p>",
        "id": 1161130,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1618291788
    },
    {
        "content": "<p>I'm not sure how using a textual solution resolves this; are we planning to have one per supported language? :)</p>",
        "id": 1161135,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1618292148
    },
    {
        "content": "<p><a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14175.gif\">this</a> is a non-textual option, although it doesn't really help if you don't know ASL :p</p>\n<div class=\"message_inline_image\"><a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14175.gif\" title=\"this\"><img src=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/14175.gif\"></a></div>",
        "id": 1161138,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1618292218
    },
    {
        "content": "<p>Maybe you want BSL or another international one? ;) (British, for those who don't know me)</p>",
        "id": 1161139,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1618292264
    },
    {
        "content": "<p>One thing this brings up, tangentially, is whether in internationalized Zulip (or Slack or...) one still types <code>:thumbs_up:</code>, or a localized form?<br>\nHas that been discussed?</p>",
        "id": 1161141,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1618292423
    },
    {
        "content": "<p>We currently have no internationalization of emoji names. I just opened a related proposal: <a href=\"https://github.com/zulip/zulip/pull/18121\">#18121</a>.</p>",
        "id": 1161142,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1618292565
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/.22thank.20you.22.20emoji/near/1160960\">said</a>:</p>\n<blockquote>\n<p>Ah, it seems problematic that anyone adding emoji can override existing ones with no warning whatsoever. (I just tried it out with <code>carp streamer</code> <img alt=\":carp_streamer:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/136.png\" title=\"carp streamer\">.) We should probably check for name collisions and pop something up to warn users, if we allow it at all.</p>\n</blockquote>\n<p>There was an issue opened about warnings for overriding emoji<br>\n<a href=\"https://github.com/zulip/zulip/issues/16913\">https://github.com/zulip/zulip/issues/16913</a></p>",
        "id": 1161152,
        "sender_full_name": "Sean Yuan",
        "timestamp": 1618293666
    },
    {
        "content": "<p>I think making the <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> glyph be called <code>:thank_you:</code> is a good solution.</p>",
        "id": 1161210,
        "sender_full_name": "Greg Price",
        "timestamp": 1618298590
    },
    {
        "content": "<p>A problem with a text-based option, in addition to being language-specific, is that it's likely to be unreadable.</p>\n<p>For example in <img alt=\":thank_you:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/133.png\" title=\"thank you\"> I can pretty much read the \"YOU\", but I would have no idea what the first line said if I hadn't at some point hovered over it to find out the name.</p>\n<p>As long as there's only one textual emoji around that has more or less the same color and shape, that's OK -- it makes it just one more emoji that you understand once you've learned what it is -- but that doesn't seem like a great pattern.</p>",
        "id": 1161211,
        "sender_full_name": "Greg Price",
        "timestamp": 1618298775
    },
    {
        "content": "<p>Just to clarify (since I was confused about this when I started the thread!), I think at this point we're specifically considering a textual option as a CZO custom emoji. I think in this context English language is not a problem, other than the potential size issue?</p>",
        "id": 1161226,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1618310839
    },
    {
        "content": "<p>I always read <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> as the \"Namaste\" gesture, which probably has slightly different connotations to Americans than other cultures, but seems vaguely thankful.</p>",
        "id": 1161310,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618320904
    },
    {
        "content": "<p>For czo I think this is fine, though deviating away from a default does risk confusing potential users of what the defaults are.</p>",
        "id": 1161365,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1618326658
    },
    {
        "content": "<p>I am mostly inclined to do nothing here.  I think there are plenty of ways to express gratitude, and it's possible that the emoji standards here may eventually evolve.</p>",
        "id": 1161369,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618327150
    },
    {
        "content": "<p>I've updated the description in <a href=\"https://github.com/zulip/zulip/pull/16913\">#16913</a> to state more clearly our plans here; also posted a comment on the PR for it.</p>",
        "id": 1161760,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618344943
    },
    {
        "content": "<p>You probably shouldn’t edit “I think” into someone else’s message without being clear that it’s your edit.</p>",
        "id": 1161766,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1618345257
    },
    {
        "content": "<p>I've adjusted the <a href=\"https://github.com/zulip/zulip/pull/16913\">#16913</a> description to make that clear.</p>",
        "id": 1161886,
        "sender_full_name": "Greg Price",
        "timestamp": 1618352664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/.22thank.20you.22.20emoji/near/1161122\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/15891.png\">https://zulip-avatars.s3.amazonaws.com/13/emoji/images/15891.png</a></p>\n</blockquote>\n<p>I think this one has just about the best chance at being readable of any attempt at squeezing the words \"thank you\" into an emoji.</p>\n<p>I tried uploading both that and the <img alt=\":thank_you:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/133.png\" title=\"thank you\"> bubble in a test org. Here's a screenshot of them as reactions:<br>\n<a href=\"/user_uploads/2/ca/GToJ8SP1pfyxLtPgGXd_lZH2/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ca/GToJ8SP1pfyxLtPgGXd_lZH2/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/ca/GToJ8SP1pfyxLtPgGXd_lZH2/image.png\"></a></div><p>Still not 100% legible, but I think it is a big improvement.</p>",
        "id": 1161896,
        "sender_full_name": "Greg Price",
        "timestamp": 1618353247
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"12178\">Alex Vandiver</span> <a href=\"#narrow/stream/101-design/topic/.22thank.20you.22.20emoji/near/1160990\">said</a>:</p>\n<blockquote>\n<p>I notice that in reactji, typing <code>:thank</code> shows <code>:pray:</code> <em>first</em>, which is not the behaviour I get in the compose box.</p>\n</blockquote>\n<p>BTW I just ran into this bug too (while making that screenshot) and was thrown by it.</p>\n<p>Looks like mobile doesn't have this bug either, just the web reaction-emoji picker.</p>",
        "id": 1161899,
        "sender_full_name": "Greg Price",
        "timestamp": 1618353533
    },
    {
        "content": "<p>Submitted <a href=\"https://github.com/zulip/zulip/pull/18135\">#18135</a>.</p>",
        "id": 1161916,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1618355228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"12178\">Alex Vandiver</span> <a href=\"#narrow/stream/101-design/topic/.22thank.20you.22.20emoji/near/1161916\">said</a>:</p>\n<blockquote>\n<p>Submitted <a href=\"https://github.com/zulip/zulip/pull/18135\">#18135</a>.</p>\n</blockquote>\n<p>I noticed that we get the first behavior( i.e irrelevant emoji in <code>:thank_you</code>  in compose box) only if we override  the default emoji.</p>",
        "id": 1162279,
        "sender_full_name": "Tushar Upadhyay (tushar912)",
        "timestamp": 1618396876
    },
    {
        "content": "<p>But I was not able to reproduce this behavior on CZO on mobile. Don't we use the shared typehead for emoji?</p>",
        "id": 1162291,
        "sender_full_name": "Tushar Upadhyay (tushar912)",
        "timestamp": 1618399110
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"18117\">@Tushar Upadhyay (tushar912)</span> We share some code for the typeahead piece, but there is webapp-specific code to build up the emoji data structures.</p>",
        "id": 1162292,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618399195
    },
    {
        "content": "<p>I see Thanks for clarifying.</p>",
        "id": 1162294,
        "sender_full_name": "Tushar Upadhyay (tushar912)",
        "timestamp": 1618399293
    },
    {
        "content": "<p>The symptom here seems to indicate something a little upstream of the typeahead logic, but I would have to debug it to be sure.</p>",
        "id": 1162297,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618399379
    },
    {
        "content": "<p>I can reproduce this in dev.</p>",
        "id": 1162305,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618401282
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> <span class=\"user-mention\" data-user-id=\"12178\">@Alex Vandiver</span> There's a one-line fix for the strange glitch that we render the wrong emoji in the typeahead for the native version of \":thank you:\".  The more fundamental problem here is that having two emojis named the same thing doesn't work in our markdown syntax.</p>",
        "id": 1162317,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618403867
    },
    {
        "content": "<p>The nature of the rendering glitch is that we think the non-realm emoji is a realm emoji in some of the final rendering logic, and then it's in a strange quasi state where we don't copy the emoji_code into the CSS, which has us show the emoji from the top-left corner of the spritesheet.</p>",
        "id": 1162318,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618403950
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/18145\">#18145</a> is relevant</p>",
        "id": 1162324,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618404636
    },
    {
        "content": "<p>OK, merged that.  Structurally, we mostly don't need a way to access the original non-realm emoji that has been overridden in most circumstances -- but we do need that to work if the emoji appears as an emoji reaction to old messages before the transition.</p>",
        "id": 1162438,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618418229
    },
    {
        "content": "<p>I think this is a problem statement that we should be able to prevent regressions in with a bit of node testing.</p>",
        "id": 1162439,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618418248
    },
    {
        "content": "<p>Should the non realm emoji be excluded from typeahead?</p>",
        "id": 1162440,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618418418
    },
    {
        "content": "<p>I think so, yeah.</p>",
        "id": 1162445,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618418618
    }
]