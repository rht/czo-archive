[
    {
        "content": "<p>I'm a bit late on this but I've got a rough version ready:<br>\n<a href=\"/user_uploads/2/25/6nry7RHAVkwrwH8TaUgioCGS/stream-member-prototype.gif\" target=\"_blank\" title=\"stream-member-prototype.gif\">stream-member-prototype.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/25/6nry7RHAVkwrwH8TaUgioCGS/stream-member-prototype.gif\" target=\"_blank\" title=\"stream-member-prototype.gif\"><img src=\"/user_uploads/2/25/6nry7RHAVkwrwH8TaUgioCGS/stream-member-prototype.gif\"></a></div><p>Haven't worked on the appearance of the buttons yet.<br>\nOne quirk here is that if you're in the stream list and try a search, you only get results from members of that stream. I think this is useful, but if opinions differ maybe we can change that.</p>",
        "id": 764391,
        "sender_full_name": "Yash RE",
        "timestamp": 1562421387
    },
    {
        "content": "<p>I wouldn't mind advice about what kind of button/toggle would look good here, by the way...</p>",
        "id": 764400,
        "sender_full_name": "Yash RE",
        "timestamp": 1562424068
    },
    {
        "content": "<p>Might I suggest a toggle along the lines of what we had deployed here for the Unreads on the left side bar?<br>\nThe default for the buddy list could be stream members only, but the toggle could be used to switch to the list of all members on the realm</p>",
        "id": 764403,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1562424327
    },
    {
        "content": "<p>That could help with the searching dilemma as well. The search could work for whatever list is currently visible</p>",
        "id": 764404,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1562424410
    },
    {
        "content": "<p>That seems like a fine idea, but would it be obvious to users that they can click the name to switch to all users and back? (I didn't know about Unreads for so long <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> )</p>",
        "id": 764405,
        "sender_full_name": "Yash RE",
        "timestamp": 1562424575
    },
    {
        "content": "<p>We could use HTML titles to let users know that is possible</p>",
        "id": 764443,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1562437305
    },
    {
        "content": "<p>cool! One possibility might be to add a down-chevron next to <code>USERS</code> which would open a dropdown to switch it. Note that we may eventually add a third option as well. <br>\nI tihnk search would ideally search all users. But that's not a blocker for merging this feature.</p>",
        "id": 764484,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1562476098
    },
    {
        "content": "<blockquote>\n<p>Note that we may eventually add a third option as well. </p>\n</blockquote>\n<p>Right, I forgot about that. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>\n<blockquote>\n<p>I think search would ideally search all users. But that's not a blocker for merging this feature.</p>\n</blockquote>\n<p>Right, it wouldn't be that hard to redo that bit based on what we decide.</p>\n<blockquote>\n<p>One possibility might be to add a down-chevron next to <code>USERS</code> which would open a dropdown to switch it.</p>\n</blockquote>\n<p>So, I'll work on this now. With the assumption that the default for streams would be stream-members and non-streams will be all-users.</p>\n<p>Also, should I work on a display setting for this or would it be something that's always on?</p>",
        "id": 764494,
        "sender_full_name": "Yash RE",
        "timestamp": 1562481561
    },
    {
        "content": "<blockquote>\n<p>So, I'll work on this now. With the assumption that the default for streams would be stream-members and non-streams will be all-users.</p>\n</blockquote>\n<p>The default should just be all-users, and it should never switch automatically. If you've selected the \"stream-members\" options, and are not in a stream/topic narrow, it should show all users, but not switch the selection.</p>\n<blockquote>\n<p>Also, should I work on a display setting for this or would it be something that's always on?</p>\n</blockquote>\n<p>Always on.</p>",
        "id": 764587,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1562500827
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>So, I'll work on this now. With the assumption that the default for streams would be stream-members and non-streams will be all-users.</p>\n</blockquote>\n<p>The default should just be all-users, and it should never switch automatically. If you've selected the \"stream-members\" options, and are not in a stream/topic narrow, it should show all users, but not switch the selection.</p>\n</blockquote>\n<p>That... doesn't really make sense to me?<br>\nbecause I don't understand why you'd have a selector visible that doesn't actually change anything...</p>\n<p>How about I hide the chevron in non-stream views, and only keep it visible in stream views.<br>\nIf the user doesn't switch to stream views, they'll always see the all user list and the text will always say \"USERS\".<br>\nIf the user clicks the chevron and selects the stream list, they'll see the text \"MEMBERS\" and the stream member list _in stream narrows_ but see the text \"USERS\" and the all user list _in non-stream views_ and the widget will check and update accordingly.</p>\n<p>ie what you were saying but they can only change from a stream narrow and the text always shows what actually is being viewed.</p>",
        "id": 764595,
        "sender_full_name": "Yash RE",
        "timestamp": 1562502384
    },
    {
        "content": "<p>Also, what would be the best title?<br>\nA full \"STREAM MEMBERS\" or just \"MEMBERS\" or something else?</p>",
        "id": 764596,
        "sender_full_name": "Yash RE",
        "timestamp": 1562502469
    },
    {
        "content": "<p>After thinking about this a bit, let's just start by doing this as a display setting, with the behavior I described.<br>\nThe setting can be</p>\n<div class=\"codehilite\"><pre><span></span>Who to show in users list\n[All users in organization]\n[Users in stream or PM]\n</pre></div>\n\n\n<p>I think there's an open question of what to do in All Messages, with \"Users in stream or PM\" selected. One option is to show the users in the conversation for the message under the blue box. Another option is to show all users. I think we may have to try both and see.</p>",
        "id": 764622,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1562513475
    },
    {
        "content": "<p>Oh... We want this for PMs too?<br>\nI actually thought about it and honestly I think it might be a bit wasteful. Normally it means you have an entire list of 1 person for single PMs. Group PMs is a much stronger use case but even then it's just a few people...<br>\nSo, for single PMs would it be worth it to try it?</p>",
        "id": 764649,
        "sender_full_name": "Yash RE",
        "timestamp": 1562520949
    },
    {
        "content": "<p>I think it's worth trying</p>",
        "id": 764651,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1562521861
    },
    {
        "content": "<p>I think the thing that's nice is that the right sidebar then is \"the people in the conversation\"</p>",
        "id": 764652,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1562522147
    },
    {
        "content": "<p>Okay :)</p>",
        "id": 764766,
        "sender_full_name": "Yash RE",
        "timestamp": 1562552170
    },
    {
        "content": "<p>So, one last thing left here is the interleaved \"is:private\" view (what you get when you click Private messages):<br>\nShould I just default to \"All users\" (which makes sense because it let's to you pick someone to pm) or would it be worth the effort to try and try something fancy like a list of all the people you've PMed yet?</p>",
        "id": 769579,
        "sender_full_name": "Yash RE",
        "timestamp": 1563439111
    },
    {
        "content": "<p>Let's do all users for now</p>",
        "id": 769712,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1563462891
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/issues/16808\">https://github.com/zulip/zulip/issues/16808</a><br>\nWhen user is looking for members of respective stream, then list of other groups members also appear, could be more subtle because this information is clearly causing unnecessary cluttering and definitely of less important than asked list of respective stream.<br>\n<a href=\"/user_uploads/2/ad/BvsonWbel9GbAwW37C38hQ-3/Group_member_list.gif\">Group_member_list.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ad/BvsonWbel9GbAwW37C38hQ-3/Group_member_list.gif\" title=\"Group_member_list.gif\"><img src=\"/user_uploads/2/ad/BvsonWbel9GbAwW37C38hQ-3/Group_member_list.gif\"></a></div>",
        "id": 1126191,
        "sender_full_name": "SOMIL JAIN",
        "timestamp": 1614751910
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> <span class=\"user-mention\" data-user-id=\"58\">@Steve Howell (showell)</span> <span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> what do you think about adding this user selection feature to Zulip?</p>",
        "id": 1126608,
        "sender_full_name": "Kenny Kariappa",
        "timestamp": 1614802376
    },
    {
        "content": "<p>I am working on this to complete the work of <span class=\"user-mention silent\" data-user-id=\"9808\">Yash RE</span>.</p>\n<p>Related Issue: <a href=\"https://github.com/zulip/zulip/pull/10208\">#10208</a><br>\nRelated PR: <a href=\"https://github.com/zulip/zulip/pull/12846\">#12846</a></p>\n<p>After playing a bit with PR,</p>\n<ul>\n<li>Current approach is, we give the option to users if they want to show all the users in the right sidebar or only show the \"selected stream or pm\" users in the sidebar. </li>\n<li>In PM with Tim, he suggested we should use the toggle button approach, which was first <a href=\"#narrow/stream/101-design/topic/stream.20member.20list/near/764391\">discussed here</a>, and later <a href=\"#narrow/stream/101-design/topic/stream.20member.20list/near/764622\">rejected here</a>.</li>\n</ul>\n<p>I have created a prototype with the buttons,</p>\n<p><a href=\"/user_uploads/2/50/Kf2CCF7cizV85T29_xaTexw6/right-sidebar-stream-members.gif\">right-sidebar-stream-members.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/50/Kf2CCF7cizV85T29_xaTexw6/right-sidebar-stream-members.gif\" title=\"right-sidebar-stream-members.gif\"><img src=\"/user_uploads/2/50/Kf2CCF7cizV85T29_xaTexw6/right-sidebar-stream-members.gif\"></a></div><p>What do guys think about this?</p>\n<p>Few more questions,</p>\n<ul>\n<li>Should we remove the highlighting of the user when we are in the narrow stream view? </li>\n<li>Should we provide a setting for the user to choose their default category i.e, \"Members\" or \"All members\"? (Current approach)</li>\n</ul>",
        "id": 1241047,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1627653333
    },
    {
        "content": "<p>Hmm, that could work... I think we'd need to figure out what text to put on the buttons to make it clear. The term \"member\" is used elsewhere to indicate permissions level (i.e. vs. admin or guest), so I think we should avoid it if we can.</p>\n<p>\"All users\" seems good for the right-hand button.</p>",
        "id": 1241118,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627664534
    },
    {
        "content": "<p>I'm excited to see this getting picked up again! This is definitely a point of confusion for new users.</p>",
        "id": 1241119,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627664594
    },
    {
        "content": "<p>I think we should have a user setting for it, but (assuming we have the toggle), it should probably just do the same thing the toggle does.</p>",
        "id": 1241120,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627664773
    },
    {
        "content": "<blockquote>\n<p>Should we remove the highlighting of the user when we are in the narrow stream view?</p>\n</blockquote>\n<p>Could you say more about what you mean here?</p>",
        "id": 1241121,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627664826
    },
    {
        "content": "<p>I think he means the greying out of non members of a stream when we are in the composebox.</p>",
        "id": 1241161,
        "sender_full_name": "Rohitt Vashishtha",
        "timestamp": 1627669030
    },
    {
        "content": "<p>I guess that would only be relevant in the \"All users\" view; I think we should keep it.</p>",
        "id": 1241179,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627670151
    },
    {
        "content": "<p>The title currently shows <code>USERS</code> so text wise I would got with <code>SUBSCRIBED</code> vs <code>ALL</code>, or possibly something more along the lines of <code>RECIPIENTS</code> (<code>IN CONVERSATION</code>) to encompass PMs more fully.</p>",
        "id": 1241511,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1627776284
    },
    {
        "content": "<blockquote>\n<p><code>RECIPIENTS (IN CONVERSATION)</code></p>\n</blockquote>\n<p>Might be too long! </p>\n<p>How about if the current narrow is the stream we show <code>Subscriber</code> and if it's PM we show <code>Recipients</code>?</p>\n<p>But then we need to decide what to show in the <code>All messages</code> view? Should we only show <code>All users</code>?</p>\n<p>Also for the <code>Recent topics</code> and <code>Private messages</code> view, should we only show <code>All users</code>?</p>",
        "id": 1241529,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1627794496
    },
    {
        "content": "<p>We could potentially show subscribers/recipients for the selected message/topic in the interleaved view. At the very least, we should have recipients-only lists as an option for any situation where we currently use fading to indicate who isn't subscribed. This includes opening the compose box from All messages, for instance.</p>",
        "id": 1241533,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627795559
    },
    {
        "content": "<p>I think it might be confusing if the options in the upper right appeared/disappeared in various views.</p>",
        "id": 1241535,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627795632
    },
    {
        "content": "<p>To clarify, I meant primarily <code>ALL</code> (for now) and then <code>SUBSCRIBERS</code> (if just streams) or <code>RECIPIENTS</code> (if applying this to PMs). I agree with Alya that changing it dynamically would be confusing - and how do I change the setting? It just disappeared? (if the button names/settings change dynamically with narrow/selection)</p>",
        "id": 1241558,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1627802152
    },
    {
        "content": "<p>Okay, Then we will go with <code>All</code> and <code>Recipients</code>.</p>",
        "id": 1242020,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1627883462
    },
    {
        "content": "<p>Maybe <code>All users</code> and <code>Recipients</code>?</p>",
        "id": 1242292,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627930759
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1242292\">said</a>:</p>\n<blockquote>\n<p>Maybe <code>All users</code> and <code>Recipients</code>?</p>\n</blockquote>\n<p>My suggestion was predicated on there being a main Users title, with two subtitle buttons of All/Recipients.</p>",
        "id": 1242305,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1627931648
    },
    {
        "content": "<p>Yeah, I'm not sure what's best, but the prototype in the gif above replaces  <code>Users</code>.</p>",
        "id": 1242334,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627932562
    },
    {
        "content": "<p>The PR is almost ready.</p>\n<p>Few more things to finalize,</p>\n<ul>\n<li>What should be the tooltip of <code>Recipients</code> and <code>All users</code> say? Currently, it's <code>Show users in your narrowed view</code> and <code>Show all users</code> respectively. </li>\n<li>For an interleaved views, where there are no messages, what should we show in the <code>Recipients</code> list? (Currently, we show either previously rendered  recipients or all users.)</li>\n<li>When the <code>Recipients</code> list is selected and we open compose box, should we grey out users which are not part of recipients?<br>\nSomething like this,<br>\n<a href=\"/user_uploads/2/fe/vCOjWNQnvSPW9UOzY72R3hO_/Screenshot-2021-08-05-at-1.08.43-AM.png\">Screenshot-2021-08-05-at-1.08.43-AM.png</a><div class=\"message_inline_image\"><a href=\"/user_uploads/2/fe/vCOjWNQnvSPW9UOzY72R3hO_/Screenshot-2021-08-05-at-1.08.43-AM.png\" title=\"Screenshot-2021-08-05-at-1.08.43-AM.png\"><img src=\"/user_uploads/2/fe/vCOjWNQnvSPW9UOzY72R3hO_/Screenshot-2021-08-05-at-1.08.43-AM.png\"></a></div></li>\n</ul>",
        "id": 1243786,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1628106186
    },
    {
        "content": "<blockquote>\n<p>What should be the tooltip of <code>Recipients</code> and <code>All users</code> say? Currently, it's <code>Show users in your narrowed view</code> and <code>Show all users</code> respectively. </p>\n</blockquote>\n<p>Maybe something like, \"Show users subscribed to selected stream\" or \"Show conversation participants\", depending on whether it's a stream or PM conversation? <code>Show all users</code> seems reasonable for the other one.</p>\n<blockquote>\n<p>For an interleaved views, where there are no messages, what should we show in the <code>Recipients</code> list? (Currently, we show either previously rendered  recipients or all users.)</p>\n</blockquote>\n<p>Showing all users makes sense to me.</p>\n<blockquote>\n<p>When the <code>Recipients</code> list is selected and we open compose box, should we grey out users which are not part of recipients?</p>\n</blockquote>\n<p>If <code>Recipients</code> is selected, we should just show the recipients there as well. The greyed out users should not be displayed at all.</p>",
        "id": 1243793,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1628106641
    },
    {
        "content": "<p>I have opened a <a href=\"https://github.com/zulip/zulip/pull/19541\">PR</a> for this. </p>\n<p>Here is the demo,<br>\n<a href=\"/user_uploads/2/38/1ofqWiDt7UFHPbC0i4xip4bs/narrowed_user_list.gif\">narrowed_user_list.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/38/1ofqWiDt7UFHPbC0i4xip4bs/narrowed_user_list.gif\" title=\"narrowed_user_list.gif\"><img src=\"/user_uploads/2/38/1ofqWiDt7UFHPbC0i4xip4bs/narrowed_user_list.gif\"></a></div><p>One more doubt, </p>\n<ul>\n<li>Currently, we avoid showing the user in the receipts list if it's the bot. <br>\nSo if the user has PMs to a bot it'd only show the (me) user in the list.</li>\n</ul>\n<p>Let me know if we can improve anything :).</p>\n<p>P.S: I'd really appreciate manually testing!</p>",
        "id": 1245534,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1628454114
    },
    {
        "content": "<p>I'm a little confused here about the \"Recipients\" concept; is the goal to show the users who would receive what are are composing, or the users subscribed to the stream you're viewing?</p>",
        "id": 1245685,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1628516952
    },
    {
        "content": "<p>The PR seems to implement the compose option (and has a lot of gymnastics to achieve that, with callbacks in all the code backs that adjust the compose state), but I think most users I've talked to would be more interested in seeing who is subscribed to the stream they're looking at.</p>",
        "id": 1245687,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1628517007
    },
    {
        "content": "<p>I guess my personal expectation for this feature is that if I'm looking at stream X and then start composing a private message, that the right sidebar would still show me who is a member of that stream, and not the one person I'm sending a PM to.</p>",
        "id": 1245690,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1628517077
    },
    {
        "content": "<p>Updated the PR, removed the compose state matching and buddy list mode setting feature.<br>\nSaving the <code>list mode</code> on browser storage instead.</p>\n<p><a href=\"/user_uploads/2/d6/zb4JR4wFrqJGHeNWAi85jyn8/demo.gif\">demo.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d6/zb4JR4wFrqJGHeNWAi85jyn8/demo.gif\" title=\"demo.gif\"><img src=\"/user_uploads/2/d6/zb4JR4wFrqJGHeNWAi85jyn8/demo.gif\"></a></div><blockquote>\n<p>When the <code>Recipients</code> list is selected and we open compose box, should we grey out users which are not part of recipients?</p>\n</blockquote>",
        "id": 1246186,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1628670101
    },
    {
        "content": "<p>Ah, hm, that makes sense... I think in that case we should keep the greying out behavior -- it's probably not <em>too</em> confusing even if you aren't sure what greying out means.</p>",
        "id": 1247282,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1629139305
    },
    {
        "content": "<p>Actually, playing around with the PR, I think keeping the fading is probably a bad idea. It might make users think that the right sidebar indicates who is receiving the message, whereas in fact it might only list a subset of the people who you're sending it to.</p>",
        "id": 1247285,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1629139782
    },
    {
        "content": "<p>We may event want to have an explicit indication that the right sidebar is not the addressee list in this situation.</p>",
        "id": 1247286,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1629139819
    },
    {
        "content": "<p>Another bit of feedback playing with the PR: we should make it more clear that the \"Recipients\" and \"All users\" are buttons you can click on. Right now, the button that isn't selected just looks like header text. Probably both options should have a button border around them, and we can play with, e.g. fading out the one that's not selected to indicate which one is active.</p>",
        "id": 1247287,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1629139944
    },
    {
        "content": "<blockquote>\n<p>The PR seems to implement the compose option (and has a lot of gymnastics to achieve that, with callbacks in all the code backs that adjust the compose state), but I think most users I've talked to would be more interested in seeing who is subscribed to the stream they're looking at.</p>\n</blockquote>\n<p>Oh, hm, if this is the feature, we probably need to rename <code>Recipients</code>.</p>",
        "id": 1247506,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1629196866
    },
    {
        "content": "<p>I updated the PR with the above-suggested changes. </p>\n<p>What do folks think the updated button design,</p>\n<p><a href=\"/user_uploads/2/5d/C6Pbki-gU-jjiGBFpJfNXAhT/demo.gif\">demo.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5d/C6Pbki-gU-jjiGBFpJfNXAhT/demo.gif\" title=\"demo.gif\"><img src=\"/user_uploads/2/5d/C6Pbki-gU-jjiGBFpJfNXAhT/demo.gif\"></a></div>",
        "id": 1248098,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1629372275
    },
    {
        "content": "<blockquote>\n<p>Oh, hm, if this is the feature, we probably need to rename Recipients.</p>\n</blockquote>\n<p>What should it be? Any suggestions?</p>",
        "id": 1248099,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1629372451
    },
    {
        "content": "<p>I like the button design. I think a more tab-like design may be superior, but this doesn't seem like something we should block on.</p>",
        "id": 1248130,
        "sender_full_name": "Steve Howell",
        "timestamp": 1629378407
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17964\">Riken Shah (Riken-Shah)</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1248099\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Oh, hm, if this is the feature, we probably need to rename Recipients.</p>\n</blockquote>\n<p>What should it be? Any suggestions?</p>\n</blockquote>\n<p>Maybe \"Subscribers\"?</p>",
        "id": 1248820,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1629537600
    },
    {
        "content": "<p>Unless I'm misunderstanding the intent of this feature, we still aim for this to work for PMs, in which case that language is inaccurate?</p>",
        "id": 1248970,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1629577417
    },
    {
        "content": "<p>Sorry if I missed it, but did we talk about just having sections in the right sidebar list for \"subscribed\" and \"not subscribed\"? That seems like it could potentially be cleaner, although I'm not sure.</p>",
        "id": 1249998,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1630012179
    },
    {
        "content": "<p>Hmm, that's an option... A down side of that approach would be that in orgs with a lot of users, you could potentially lose track of what type of users you're looking at if the section heading is not visible. We could add a secondary visual indication (background or color), but it might be too much.</p>",
        "id": 1251025,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1630434324
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2406\">Neil Pilgrim (neiljp)</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1248970\">said</a>:</p>\n<blockquote>\n<p>Unless I'm misunderstanding the intent of this feature, we still aim for this to work for PMs, in which case that language is inaccurate?</p>\n</blockquote>\n<p>Yeah, the feature should still work for PMs. <code>Subscribers</code>/<code>subscribed</code> seems kind of OK to me as a term for participants in a conversation, and I think it would be confusing if the heading changed as you navigate between streams and PMs. But curious what other folks think.</p>",
        "id": 1251026,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1630434482
    },
    {
        "content": "<p>Usually section headings are sticky, such that there's always one visible — I think that could be a pretty good design</p>",
        "id": 1251037,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1630435513
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"17964\">@Riken Shah (Riken-Shah)</span> just a quick mention to make sure you saw the next round of feedback here.</p>",
        "id": 1255636,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631734577
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> and I just spend some time talking through the design here, and we have a proposal that we think is coherent. :)</p>\n<p>The idea is to use a stacked view, and to get rid of the fading concept altogether. The overall setup would be:</p>\n<hr>\n<p>USERS <br>\n[search box if open]</p>\n<p><strong>Subscribers</strong> ▼ or <strong>Recipients</strong> ▼  <em>(collapsible list; heading depends on context as described below)</em><br>\nPerson A<br>\nPerson B<br>\n...</p>\n<p><strong>Others</strong> ▼ <em>(collapsible list)</em><br>\nPerson AA<br>\nPerson BB<br>\n...</p>\n<hr>\n<p>Search results keep the headings that are present in the current view, e.g. you might see:</p>\n<hr>\n<p>USERS<br>\n[T  ]<br>\n<strong>Subscribers</strong> ▼ <br>\nTim</p>\n<p><strong>Others</strong> ▼<br>\nTamara<br>\nTerry</p>\n<hr>\n<p>Sending the proposed rules for how context defines what to show in a separate message. :)</p>",
        "id": 1255681,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631737797
    },
    {
        "content": "<ol>\n<li>\n<p>If compose box is closed:<br>\n   a) Show <strong>Subscribers</strong>/<strong>Others</strong> in a stream or topic narrow.<br>\n   b) Show <strong>Recipients</strong>/<strong>Others</strong> in a PM thread narrow.<br>\n   c) Don't show separate sections in any interleaved view, including <strong>All Messages</strong>, <strong>Recent topics</strong>, <strong>Starred</strong>, search views, etc. Just display all users as we do today.</p>\n</li>\n<li>\n<p>If compose box is open:<br>\n  a) If steam or PM addressees match the narrow being viewed, display as in (a)/(b) above. Note that this applies even if you are composing in a different topic from the one you're viewing, as long as it's in the same stream. But it wouldn't apply if you happen to be viewing a different same with the same subscriber list.<br>\n  b) In the less frequent case when your compose box does <em>not</em> match the narrow being viewed, show <strong>Recipients</strong>/<strong>Others</strong> headings, with the <strong>Recipients</strong> defined by the <strong>compose box</strong> context. In this case we should also have a question mark next to <strong>Recipients</strong> to explain what's going on, at least when this happens in a non-interleaved view.</p>\n</li>\n</ol>",
        "id": 1255687,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631738351
    },
    {
        "content": "<p>With (2), we maintain the functionality currently provided by buddy list fading, which is that you can tell which users you are about to message.</p>",
        "id": 1255688,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631738399
    },
    {
        "content": "<p>What do folks think?</p>",
        "id": 1255689,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631738470
    },
    {
        "content": "<p>This seems like a good plan! A few thoughts:</p>\n<ul>\n<li>IMO the section headings should be sticky — do we want that as part of the spec?</li>\n<li>What should happen when you collapse a section then change narrows? Should the sections re-expand automatically?</li>\n<li>How does this interact with long-term offline users? I think we should make sure we show them if we're calling something \"Recipients\" or \"Subscribed\", do we have the infrastructure to do that?</li>\n</ul>",
        "id": 1255794,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1631748780
    },
    {
        "content": "<blockquote>\n<p>What should happen when you collapse a section then change narrows? Should the sections re-expand automatically?</p>\n</blockquote>\n<p>I would expect the sections to not re-expand when changing narrows; the use case is likely for folks who consider having the extra (and live-updating, since it resorts as new presence information comes in) information in the sidebar distracting.  </p>\n<blockquote>\n<p>IMO the section headings should be sticky — do we want that as part of the spec?</p>\n</blockquote>\n<p>I think so but am not entirely sure; I'd have a clearer sense of my opinion on that after being able to play with it.</p>\n<blockquote>\n<p>How does this interact with long-term offline users?</p>\n</blockquote>\n<p>That's a good question.  The simplest to do from a change management perspective would be to preserve our present behavior for what set of users appear in the sidebar, and then revisit that after we've done this migration.  But I think perhaps what I'd like to do is add an \"And N additional offline users\" line in each section, if there is anyone not being displayed; I think that would be straightforward and clear.</p>",
        "id": 1255815,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631750741
    },
    {
        "content": "<blockquote>\n<p>How does this interact with long-term offline users?<br>\nI'd like to do is add an \"And N additional offline users\" line in each section, if there is anyone not being displayed; I think that would be straightforward and clear.</p>\n</blockquote>\n<p>Yeah, good question! I think that would be fine to start with, and ideally down the line it would be possible to interact with that line to find out who those users are.</p>",
        "id": 1255949,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631807788
    },
    {
        "content": "<blockquote>\n<p>IMO the section headings should be sticky — do we want that as part of the spec?</p>\n</blockquote>\n<p>Yeah, that would be great to play with.</p>",
        "id": 1255953,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631807966
    },
    {
        "content": "<p>This sounds great :) I think my only concern is the compose-narrow != active-narrow case, which prompts me to think that for clarity and consistency the title of the user list top box should always change to something different when composing.</p>",
        "id": 1256487,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1631848357
    },
    {
        "content": "<p>(cross-reference to <a class=\"stream-topic\" data-stream-id=\"206\" href=\"/#narrow/stream/206-zulip-terminal/topic/User.20list.20sections.2Ffilters\">#zulip-terminal &gt; User list sections/filters</a>)</p>",
        "id": 1256489,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1631848525
    },
    {
        "content": "<blockquote>\n<p>for clarity and consistency the title of the user list top box should always change to something different when composing</p>\n</blockquote>\n<p>Mm, so is the idea to show \"Recipients\" when the compose box is open, even when the narrow and the compose box match? That seems reasonable...</p>",
        "id": 1256702,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631892296
    },
    {
        "content": "<p>Well, given 'Recipients' would now be used for PMs (?) when reading, I'd probably pick a different title, though it's a difficult selection.</p>",
        "id": 1256739,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1631897528
    },
    {
        "content": "<p>Do we need an issue for the above proposal (+ friendly amendments :))? <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> <span class=\"user-mention\" data-user-id=\"17964\">@Riken Shah (Riken-Shah)</span></p>",
        "id": 1258077,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1632346991
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> I think it'd be helpful to record a summary of the plan, but it could be in a comment on the existing pull request or existing issue, rather than a new issue.</p>",
        "id": 1258143,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1632353151
    },
    {
        "content": "<p>Sure, I added a detailed comment to the PR (<a href=\"https://github.com/zulip/zulip/pull/19541\">#19541</a>). I also added \"priority: high\" and \"release goal\" labels.</p>",
        "id": 1258449,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1632428619
    },
    {
        "content": "<p>I'm slightly confused by the suggestion of <code>sticky</code>... I Imagine this design as having two separate scroll bars, one for each section and I don't see how <code>sticky</code> would come into play... unless I'm imagining things differently than intended?</p>",
        "id": 1263901,
        "sender_full_name": "Yash RE",
        "timestamp": 1633648249
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"9808\">@Yash RE</span> I think the case where you'd want is if you've got:</p>\n<div class=\"codehilite\"><pre><span></span><code>Recipients\n{5 people}\n\nOthers users\n{1231 people}\n</code></pre></div>\n<p>and you're scrolled 300 users down, you'd want to see the \"Other users\" heading so you know what you're looking at.  (Since without some sticky mechanism, you wouldn't see either heading).</p>",
        "id": 1263914,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1633649149
    },
    {
        "content": "<p>Am I correct in understanding that you're saying you would be scrolling both sections with a single scrollbar ie there's a single scrollable list with two sections?</p>",
        "id": 1263918,
        "sender_full_name": "Yash RE",
        "timestamp": 1633649395
    },
    {
        "content": "<p>Yeah, I think that's what folks have in mind, but am not at all confident.</p>",
        "id": 1263921,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1633649949
    },
    {
        "content": "<p>(It's kinda hard to be sure until one's played with a prototype, I think)</p>",
        "id": 1263922,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1633649972
    },
    {
        "content": "<p>I'm starting to think that implementing this without making any changes to <code>buddy_list.js</code> (which is what <a href=\"https://github.com/zulip/zulip/pull/19541\">#19541</a> and <a href=\"https://github.com/zulip/zulip/pull/12846\">#12846</a> do) is unlikely.<br>\n<code>buddy_list.js</code> handles progressive scrolling / lazy loading,  so some care is needed while fiddling around there.</p>\n<p>This design so involves removing compose fade entirely, which would be a change isolated from the specifics of the design, and hence, could be a good starting point. (Perhaps after making a janky V1 prototype).</p>",
        "id": 1264037,
        "sender_full_name": "Yash RE",
        "timestamp": 1633692132
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"9808\">@Yash RE</span> is it the case that we're effectively placing the users who would have been faded by <code>compose_fade</code> in the second bucket?</p>",
        "id": 1265810,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1634082323
    },
    {
        "content": "<p>If so, we could start with a refactor to make that computation have a reasonable home in a module that isn't called <code>compose_fade.js</code> (which would then just be responsible for message feed fading).  I think <code>compose_fade.js</code> would still exist for the message feed fading logic.</p>",
        "id": 1265811,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1634082449
    },
    {
        "content": "<p>Oh, and I see we have a <code>compose_fade_users.js</code> that has the actual (tiny) bit of logic for managing the sidebar.</p>",
        "id": 1265812,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1634082461
    },
    {
        "content": "<p>I'd probably start with the prototype approach; what is hard here is figuring out the basics of the revised UX we want ignoring <code>compose_fade</code>.</p>",
        "id": 1265813,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1634082551
    },
    {
        "content": "<p>I have a prototype live on <a href=\"http://zulip.yashre42.zulipdev.org:9991/\">http://zulip.yashre42.zulipdev.org:9991/</a>.<br>\nI have the following todos:</p>\n<div class=\"codehilite\"><pre><span></span><code>- reset buddy_list when using x icon on compose_pm pill\n- sticky headings\n- line indicating long term idle users\n- make sure that re-narrowing doesn&#39;t expand lists\n</code></pre></div>",
        "id": 1265962,
        "sender_full_name": "Yash RE",
        "timestamp": 1634121672
    },
    {
        "content": "<p>Very cool! A few thoughts on the visuals:</p>\n<ul>\n<li>I think the standard way to use the caret for expanding/collapsing lists is to have it point to the right (&gt;) when the list is collapsed, and down when the list is expanded, so we should try that.</li>\n<li>The headings look bigger/bolder than they should be to me, given what's around them. I think the should probably be smaller (or at least no bigger than) the USERS heading, which is the main one in that area. We could also consider bumping up the size and/or contrast on the USERS heading, in which case we'll need to change the STREAMS one to match.</li>\n</ul>\n<p>By the way, whatever we do with headings in the right sidebar should probably be matched in the left sidebar when we create sections for streams in <a href=\"https://github.com/zulip/zulip/pull/19812\">#19812</a>. So we can keep that in mind a bit as we're figuring this out, and then update <a href=\"https://github.com/zulip/zulip/pull/19812\">#19812</a> when we have a solution we like.</p>",
        "id": 1266148,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1634150464
    },
    {
        "content": "<p>There are two commonly-seen designs for an expand-collapse widget. I took some notes on this a little while ago in a different context, so just went and tracked that message down -- <a href=\"#narrow/stream/19-documentation/topic/Improving.20API.20Docs.20UI/near/1239234\">here it is</a>:</p>\n<blockquote>\n<p>Common designs include:</p>\n<ul>\n<li>A down/up chevron at the end of the heading row. Material Design does this; search for \"expand and collapse\" <a href=\"https://material.io/components/lists\">here</a>, or \"expand a card\" <a href=\"https://material.io/components/cards\">here</a>.</li>\n<li>A right/down chevron, or triangle, at the start of the heading row (before the heading text). This is common in big nested trees, like in the Chrome dev tools' elements view.</li>\n</ul>\n</blockquote>",
        "id": 1266289,
        "sender_full_name": "Greg Price",
        "timestamp": 1634154503
    },
    {
        "content": "<p>The Material Design version has the chevrons pointing in the same directions as in the current prototype. But there are a few salient differences that I think are significant in making it look familiar and feel right:</p>\n<ul>\n<li>\n<p>The chevron goes at the end of the row (with appropriate padding), not right after the label.</p>\n<p>This is especially important when there are several collapsed headings next to each other: you want the chevrons either at the end, or (as in that other common design) at the start before the headings, so that they're vertically aligned.</p>\n</li>\n<li>\n<p>The chevron is a lot wider, less acute. (And in Material specifically, it's also a chevron, not a filled triangle.)</p>\n<p>The Material icons are open-source, so we can simply <a href=\"https://fonts.google.com/icons?icon.query=expand\">use them</a>.</p>\n<p>(In designs where it's a triangle instead of a chevron, it's still a lot wider, less acute. I think it's usually about a right angle at the tip. In the prototype, it looks like an equilateral (60°) or maybe even more acute.)</p>\n</li>\n</ul>",
        "id": 1266313,
        "sender_full_name": "Greg Price",
        "timestamp": 1634155013
    },
    {
        "content": "<p>In any case, we should try one of those two designs. Take a look at the examples I mentioned for a reference of what they might look like.</p>",
        "id": 1266315,
        "sender_full_name": "Greg Price",
        "timestamp": 1634155095
    },
    {
        "content": "<p>Thanks for tracking all that down!</p>",
        "id": 1266321,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1634155319
    },
    {
        "content": "<p>This is cool!  Another small suggestion: Perhaps we should show the count in each category after the label, e.g. \"Subscribers (15)?</p>",
        "id": 1266374,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1634159091
    },
    {
        "content": "<p>Thank you for the feedback, I'll continue working on this, so it's likely that <a href=\"http://zulip.yashre42.zulipdev.org:9991/\">http://zulip.yashre42.zulipdev.org:9991/</a> will be unavailable.</p>",
        "id": 1266556,
        "sender_full_name": "Yash RE",
        "timestamp": 1634178864
    },
    {
        "content": "<p>I've completed:</p>\n<ul>\n<li>Making the headings  sticky</li>\n<li>Make sure that re-narrowing doesn't expand lists</li>\n</ul>\n<p>And I'm leaving the server up, I believe it would be acceptable to begin working towards making a PR at this point, unless there's anything that we really would like to try out now?</p>",
        "id": 1266684,
        "sender_full_name": "Yash RE",
        "timestamp": 1634228045
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1266374\">said</a>:</p>\n<blockquote>\n<p>This is cool!  Another small suggestion: Perhaps we should show the count in each category after the label, e.g. \"Subscribers (15)?</p>\n</blockquote>\n<p>Yeah, I think this is actually pretty important in the case where the section is collapsed. As is, it looks like this: <a href=\"/user_uploads/2/9a/qJBpMEZDVX8X0RvJq14eCzqO/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/9a/qJBpMEZDVX8X0RvJq14eCzqO/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/9a/qJBpMEZDVX8X0RvJq14eCzqO/image.png\"></a></div><p>or this: <a href=\"/user_uploads/2/34/CGyeX__9XtZb90pr1Xv1VfT5/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/34/CGyeX__9XtZb90pr1Xv1VfT5/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/34/CGyeX__9XtZb90pr1Xv1VfT5/image.png\"></a></div><p>which look quite a lot like there are no subscribers at all.</p>\n<p>(Then once we have it in the case where the section is collapsed, we should also have it when uncollapsed: it's helpful summary information in itself, plus it avoids the heading changing on collapse/uncollapse.)</p>",
        "id": 1266727,
        "sender_full_name": "Greg Price",
        "timestamp": 1634236761
    },
    {
        "content": "<p>Yeah, agreed; <span class=\"user-mention\" data-user-id=\"9808\">@Yash RE</span> do you want to do that and then make a PR?</p>",
        "id": 1266813,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1634247018
    },
    {
        "content": "<p>sure.</p>",
        "id": 1266929,
        "sender_full_name": "Yash RE",
        "timestamp": 1634271135
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"2187\">@Greg Price</span> Nice one! One small thought, should the arrow icons come before the text?</p>",
        "id": 1266967,
        "sender_full_name": "Jore",
        "timestamp": 1634291293
    },
    {
        "content": "<p>Yeah, they should either go before the text, or else at the end of the heading row (not right after the text.)</p>\n<p>In common designs I see, this is also correlated with two different possibilities for just what the icons look like, as I mentioned above:<br>\n<span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1266289\">said</a>:</p>\n<blockquote>\n<p>Common designs include:</p>\n<ul>\n<li>A down/up chevron at the end of the heading row. Material Design does this; search for \"expand and collapse\" <a href=\"https://material.io/components/lists\">here</a>, or \"expand a card\" <a href=\"https://material.io/components/cards\">here</a>.</li>\n<li>A right/down chevron, or triangle, at the start of the heading row (before the heading text). This is common in big nested trees, like in the Chrome dev tools' elements view.</li>\n</ul>\n</blockquote>",
        "id": 1267300,
        "sender_full_name": "Greg Price",
        "timestamp": 1634336476
    },
    {
        "content": "<p>I've added the count at the end of the section headings and adjusted the icon, I've used a font awesome chevron since that's what we use in other places in the app (but I have no complaints against changing).</p>\n<p>I'm leaving the server up and I've begun to inch towards making a PR.</p>",
        "id": 1268055,
        "sender_full_name": "Yash RE",
        "timestamp": 1634567892
    },
    {
        "content": "<p>Awesome, I really like the changes!</p>\n<p>I'm wondering if we should make the headings a little lighter in light mode, so that they don't jump out quite as much?</p>",
        "id": 1268062,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1634574084
    },
    {
        "content": "<p>Yeah, I think the heading style might want a bit more iteration, but we could start testing on <a href=\"http://chat.zulip.org\">chat.zulip.org</a>.</p>",
        "id": 1268204,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1634595660
    },
    {
        "content": "<p>I'm still working on this, I was hoping to have a WIP PR yesterday, but had a small hiccup when I realized that <code>list_cursor.js</code> is fairly closely coupled to the structure of <code>buddy_list.js</code>, but also used in other places (this means that pressing <code>w</code> and using <code>↓</code> or <code>↑</code>only works on the \"recipient\" section and not the \"others\" section).<br>\nOther todos are:</p>\n<ul>\n<li>To completely remove <code>compose_fade_users.js</code>, the app currently seems to depend on a side effect of importing <code>compose_fade_helpers</code> via <code>compose_fade_users</code> and <code>buddy_data</code>.</li>\n<li>To add puppeteer tests. (Node tests pass and maintain coverage on each commit. Every commit also clears linter checks.)</li>\n<li>To reduce and optimize <code>activity.redraw()</code> calls.</li>\n</ul>\n<p>Some changes that are even further away are:</p>\n<ul>\n<li>To redo lazy loading (delayed insertion of users into html, based on scroll).</li>\n<li>To add a line counting the number of long term idle users. (Although, this isn't likely to be difficult since we have <code>people.get_non_active_human_ids()</code>.)</li>\n</ul>\n<p>All in all, <a href=\"https://github.com/zulip/zulip/compare/main...YashRE42:buddy-list-two-section-layout\">the changes</a> are not ready for review yet.</p>",
        "id": 1269531,
        "sender_full_name": "Yash RE",
        "timestamp": 1634816052
    },
    {
        "content": "<p>I also changed the font-weight to be 700 (was 800) on both day and night mode. I'm not sure if we should do 600 on day mode and 700 on night mode instead.</p>",
        "id": 1269532,
        "sender_full_name": "Yash RE",
        "timestamp": 1634816995
    },
    {
        "content": "<p><a href=\"/user_uploads/2/ea/QhdE1M3yUZEaW1DcqEx5G-Gn/image.png\">700</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ea/QhdE1M3yUZEaW1DcqEx5G-Gn/image.png\" title=\"700\"><img src=\"/user_uploads/2/ea/QhdE1M3yUZEaW1DcqEx5G-Gn/image.png\"></a></div><p><a href=\"/user_uploads/2/7f/DIkWUj4TQefagHFDCw1BUy_O/image.png\">600</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/7f/DIkWUj4TQefagHFDCw1BUy_O/image.png\" title=\"600\"><img src=\"/user_uploads/2/7f/DIkWUj4TQefagHFDCw1BUy_O/image.png\"></a></div>",
        "id": 1269533,
        "sender_full_name": "Yash RE",
        "timestamp": 1634817228
    },
    {
        "content": "<p>Hmm, I'm not sure... 650?</p>",
        "id": 1269760,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1634842954
    },
    {
        "content": "<p>700 <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 1269922,
        "sender_full_name": "Jore",
        "timestamp": 1634855783
    },
    {
        "content": "<p>650 <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#fallback_weights\">fallbacks</a> to 700</p>",
        "id": 1270329,
        "sender_full_name": "Yash RE",
        "timestamp": 1634935044
    },
    {
        "content": "<p>I've fixed puppeteer tests and opened WIP PR <a href=\"https://github.com/zulip/zulip/pull/20072\">#20072</a>. I've had a lot of flakey behavior from puppeteer.<br>\nI've also noticed two further bugs:</p>\n<ul>\n<li>unsubscribing a user does not update the buddy_list.</li>\n<li>When a user in the \"others\" list becomes active (eg by logging in) or changes their status or sets themselves as inactive, they will also appear in the wrong list briefly (they will be in both lists).</li>\n</ul>",
        "id": 1272197,
        "sender_full_name": "Yash RE",
        "timestamp": 1635269119
    },
    {
        "content": "<p>I think PR <a href=\"https://github.com/zulip/zulip/pull/20072\">#20072</a> could use some attention now, the profiling results are not optimistic but it might be helpful to see if it's noticeably worse in a real environment, maybe test deploy?</p>",
        "id": 1275154,
        "sender_full_name": "Yash RE",
        "timestamp": 1635834950
    },
    {
        "content": "<p>I've test-deployed this here, so we can start getting experience with it!</p>",
        "id": 1279437,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1636592878
    },
    {
        "content": "<p>A few things I've noticed:</p>\n<ul>\n<li>It wasn't obvious to me that the \"46\" is just online subscribers; I think \"Online subscribers (46)\" or \"Subscribers (46 online) would be a better label.  The \"Others\" label also needs work, since for an organization like this one with long-term idle users, it is by default the users who've been offline for less than 2 weeks or something like that, not everyone else in the organization.  Maybe \"Recently active subscribers (N)\" except that's too long.</li>\n<li>We need a bigger vertical gap before the \"Others\" label -- I had a hard time finding it when scrolling down.</li>\n<li>The rerender that happens when the data refreshes every minute seems to lose your scroll position by jumping you to the top.</li>\n<li>When you're filtering with a search, the lists are now \"All subscribers\" vs. \"Everyone else in the organization\", and that's not clear at all either.</li>\n</ul>\n<p><a href=\"/user_uploads/2/97/3xrps83B6nEVYnsdIOQEH1NE/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/97/3xrps83B6nEVYnsdIOQEH1NE/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/97/3xrps83B6nEVYnsdIOQEH1NE/image.png\"></a></div>",
        "id": 1279439,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1636593148
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"9808\">@Yash RE</span> just to make sure you saw I test-deployed this <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 1279440,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1636593193
    },
    {
        "content": "<p>I've seen a group called \"Recipients\" that's sometimes there and sometimes not.</p>\n<p>I think I've found a pattern: it's there when the compose box is open, and it'll show you all the users who will get the message?</p>\n<p><strong>edit</strong>: Mm, not always—I think it might never show up when I'm in a stream or topic narrow? But it can when I'm narrowed to a PM conversation, or the \"All messages\" narrow, again only when the compose box is open.</p>",
        "id": 1279466,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1636597012
    },
    {
        "content": "<p>The thing is, if I try to use the expand-collapse button to the left of the \"Recipients\" text by clicking it, the click causes the compose box to close, which causes the whole \"Recipients\" section to disappear and I have a hard time following what happened.</p>",
        "id": 1279467,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1636597063
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"13313\">Chris Bobbe</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1279466\">said</a>:</p>\n<blockquote>\n<p>I've seen a group called \"Recipients\" that's sometimes there and sometimes not.</p>\n<p>I think I've found a pattern: it's there when the compose box is open, and it'll show you all the users who will get the message?</p>\n<p><strong>edit</strong>: Mm, not always—I think it might never show up when I'm in a stream or topic narrow? But it can when I'm narrowed to a PM conversation, or the \"All messages\" narrow, again only when the compose box is open.</p>\n</blockquote>\n<p>The rule is to use \"Recipients\" whenever \"Subscribers\" is not an appropriate term; see <a href=\"https://github.com/zulip/zulip/pull/19541#issuecomment-926126287\">here</a> for details.</p>",
        "id": 1279481,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1636615290
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"13313\">Chris Bobbe</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1279467\">said</a>:</p>\n<blockquote>\n<p>The thing is, if I try to use the expand-collapse button to the left of the \"Recipients\" text by clicking it, the click causes the compose box to close, which causes the whole \"Recipients\" section to disappear and I have a hard time following what happened.</p>\n</blockquote>\n<p>Ooh, yeah! I guess interacting with those sections should not close the compose box?</p>",
        "id": 1279482,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1636615402
    },
    {
        "content": "<p>I also just noticed that closing the \"Other\" section loses your scroll position.</p>",
        "id": 1279483,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1636615669
    },
    {
        "content": "<blockquote>\n<p>The \"Others\" label also needs work, since for an organization like this one with long-term idle users, it is by default the users who've been offline for less than 2 weeks or something like that, not everyone else in the organization. Maybe \"Recently active subscribers (N)\" except that's too long.</p>\n</blockquote>\n<p>Hmm, \"recently active\" is also confusing because it might imply \"active in the past couple of hours\" rather than \"active in the past couple of weeks\".</p>\n<p>I suppose we could use a tooltip on the \"Others\" heading to explain what it means?</p>",
        "id": 1279484,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1636615760
    },
    {
        "content": "<p>So, there's actually a few things that happen here:<br>\n1) Our presence data just excludes all the long term idle users, so we don't count or show them.<br>\n2) Each list shows only active (filled green circle) and idle (half filled orange circle) users if the size of the list would otherwise be greater than 600 elements.<br>\n3) The count is only the users we're actually showing in the list.</p>\n<p>So, some of the trouble here could be handled by:</p>\n<ul>\n<li>implementing the \"... and N additional users\" line, and including both the offline users and the longer term idle users,</li>\n<li>adding the count from that line to the total that we show.</li>\n</ul>\n<p>Renaming (eg to <code>Subscribers (61 online)</code>) also makes sense to me.</p>\n<blockquote>\n<p>\"it is by default the users who've been offline for less than 2 weeks or something like that, not everyone else in the organization. Maybe \"Recently active subscribers (N)\" except that's too long.\"</p>\n</blockquote>\n<p>There should almost always be some online or idle users in that list as well. It's a list of everyone that's not subscribed, but it follows the same rules as above.</p>",
        "id": 1279496,
        "sender_full_name": "Yash RE",
        "timestamp": 1636622487
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"9808\">@Yash RE</span>  Can we make this as a button, cause as we hover on it, the mouse cursor turns into caret and it sometimes selects the heading. <br>\n<a href=\"/user_uploads/2/8/wgyPDM3WBXzOiaiB2FmxiKRV/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/8/wgyPDM3WBXzOiaiB2FmxiKRV/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/8/wgyPDM3WBXzOiaiB2FmxiKRV/image.png\"></a></div>",
        "id": 1279503,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1636627928
    },
    {
        "content": "<p>We just need <code>cursor: pointer</code> for that.</p>",
        "id": 1279516,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1636635101
    },
    {
        "content": "<p>yup, thanks for pointing it out though!</p>",
        "id": 1279526,
        "sender_full_name": "Yash RE",
        "timestamp": 1636640713
    },
    {
        "content": "<p>I noticed the following bug earlier today:</p>\n<ul>\n<li>If you hover over a name in the buddy list, such that the tooltip shows up and (slight guesswork) something causes the buddy list to redraw, the tooltip will be left orphaned and move to the top left of the screen.</li>\n<li>the above, but the tooltip might get stuck exactly where it is, even after you move the mouse away. (it'll jump to the top left if you scroll).</li>\n</ul>",
        "id": 1279565,
        "sender_full_name": "Yash RE",
        "timestamp": 1636649583
    },
    {
        "content": "<p>It might not have been noticed because you could have to leave the cursor there for up to a minute (until the next redraw happens).</p>",
        "id": 1279569,
        "sender_full_name": "Yash RE",
        "timestamp": 1636649706
    },
    {
        "content": "<p>I think there is some problem with translating \"subscribers\".<br>\nI see \"Mitglieder\" in the user list, which is quite misleading, as I assumed at first that this shows organisation wide informations (e.g. full-members, members, guests, ...) like Discord does.<br>\nThere might be the need to either translate \"Subscribers\" correctly to \"Abonnenten\", use \"Recipients\" (\"Empfänger\" in german) everywhere (at least in some languages) or append a \"Stream\" as \"Stream Mitglieder\" could not be miss understood.<br>\nBut I think even \"Abonnenten\" might be a bit confusing, too, as it is (with the exception being Youtube and Instagram) most of the time used for a paid subscription. Also it is not used in the stream details window.</p>\n<p>I personally like \"Stream Mitglieder\" most for the user list, but would like to keep \"Mitglieder\" in the stream details window.</p>\n<p>I wrote this in this stream as I guess that this might be a problem with multiple languages and not unique to german.</p>",
        "id": 1279745,
        "sender_full_name": "Felix (strifel)",
        "timestamp": 1636706603
    },
    {
        "content": "<p>Yeah, I think the English-language labels are not correct here.</p>",
        "id": 1280197,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1636762865
    },
    {
        "content": "<p><a href=\"/user_uploads/2/3f/AxwS9oYEGDqD1H6R-G0-KfPu/Screenshot-2021-11-13-at-10.21.24-AM.png\">Screenshot-2021-11-13-at-10.21.24-AM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3f/AxwS9oYEGDqD1H6R-G0-KfPu/Screenshot-2021-11-13-at-10.21.24-AM.png\" title=\"Screenshot-2021-11-13-at-10.21.24-AM.png\"><img src=\"/user_uploads/2/3f/AxwS9oYEGDqD1H6R-G0-KfPu/Screenshot-2021-11-13-at-10.21.24-AM.png\"></a></div><p>I am seeing the focus outline by just changing narrows sometimes. We should just remove the outline if we don't know why it's happening.</p>",
        "id": 1280322,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1636779167
    },
    {
        "content": "<p>I'm pulling this experiment off <a href=\"http://chat.zulip.org\">chat.zulip.org</a>, since we have a decent amount of feedback to work from at this point.</p>",
        "id": 1281487,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1636945499
    },
    {
        "content": "<p>So, if anyone is watching, you'll have noticed that this has gone idle for a bit, this is because other things were being prioritized, it might stay that way a bit longer (unless someone says this is more important), but I've left this in a state that should be easy for me to pick up again.</p>\n<p>Here's an unordered list of all of the todos we have:</p>\n<ul>\n<li>Interacting with the buddy list should not close the compose box.</li>\n<li>Others section heading should be more noticeable.</li>\n<li>Redraw should not lose scroll position (this includes redraws caused by eg closing section headings).</li>\n<li><code>curser: pointer</code> on the headings.</li>\n<li><code>user-select: none</code> on the headings.</li>\n<li>Redraw orphans tooltips which jump to the right.</li>\n<li>Translation/section-naming issues. </li>\n<li>Focus outline</li>\n<li>Header stacking issues &lt;---&gt; html structure</li>\n<li>Scrolling with arrow keys</li>\n<li>Fixing the calculations for magic padding</li>\n<li>Remove compose fade import dependency (essentially unrelated at this point).</li>\n<li>Add a line indicating long term idle users (with count).</li>\n</ul>",
        "id": 1285712,
        "sender_full_name": "Yash RE",
        "timestamp": 1637670713
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1279439\">said</a>:</p>\n<blockquote>\n<ul>\n<li>When you're filtering with a search, the lists are now \"All subscribers\" vs. \"Everyone else in the organization\", and that's not clear at all either</li>\n</ul>\n</blockquote>\n<p>Left this out because it's related to <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1279496\">this</a> (unless I'm not understanding the problem correctly).</p>",
        "id": 1285713,
        "sender_full_name": "Yash RE",
        "timestamp": 1637670967
    },
    {
        "content": "<p>right, I forgot:</p>\n<ul>\n<li>restore a couple of lines of test coverage</li>\n</ul>",
        "id": 1286631,
        "sender_full_name": "Yash RE",
        "timestamp": 1637784688
    },
    {
        "content": "<p>*<del>a couple</del> several<br>\nI did however, win a fight with zjquery so I think I'm on the right track.</p>",
        "id": 1287328,
        "sender_full_name": "Yash RE",
        "timestamp": 1638037049
    },
    {
        "content": "<p>slightly off topic, but what was the zquery issue?  (feel free to PM me or post on <a class=\"stream\" data-stream-id=\"43\" href=\"/#narrow/stream/43-automated-testing\">#automated testing</a> if it's a deeper issue than just normal zjquery-is-tricky-sometimes)</p>",
        "id": 1287851,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638201429
    },
    {
        "content": "<p>Well the actual code knows that the scrollHeight of the parent is equal to the sum of scrollHeights of the children and I had to figure out the right way to mock that. That's all. Took a while and a couple of poor approaches to get it right.</p>",
        "id": 1287854,
        "sender_full_name": "Yash RE",
        "timestamp": 1638202579
    },
    {
        "content": "<p>The amount of time it's taken to figure out even a hacky solution to manage adjust_scroll with arrow key nav....</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/66/yVwWQXXPKG6OdIlUHkSv5WE5/istockphoto-1205852013-612x612.jpg\"><img src=\"/user_uploads/2/66/yVwWQXXPKG6OdIlUHkSv5WE5/istockphoto-1205852013-612x612.jpg\"></a></div><p>But I've <strong>finally</strong> found <em>something</em> that kinda works.</p>",
        "id": 1289960,
        "sender_full_name": "Yash RE",
        "timestamp": 1638462553
    },
    {
        "content": "<p>/todo</p>",
        "id": 1289965,
        "sender_full_name": "Yash RE",
        "timestamp": 1638462781
    },
    {
        "content": "<p>I just had an idea for how to improve the UX in <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1279496\">this case </a>... Instead of filtering out everyone who's less than orange, let's first show the first 600 people based on existing sorting order (so orange and above will get precedence) and then filter out the rest.<br>\nThis means that if you have a stream with 800 subscribers, 798 of whom have not logged in for over a week, we'll show 600 subscribers instead of just 2.</p>",
        "id": 1290193,
        "sender_full_name": "Yash RE",
        "timestamp": 1638475780
    },
    {
        "content": "<p>And then we'll have that line explaining that there's another 200 that aren't being shown.</p>",
        "id": 1290197,
        "sender_full_name": "Yash RE",
        "timestamp": 1638475850
    },
    {
        "content": "<p>Shit! Sorry, I accidentally clicked some of these tasks in the task list above, mistakenly thinking I was in a test stream. Sorry!</p>",
        "id": 1290688,
        "sender_full_name": "Jore",
        "timestamp": 1638526622
    },
    {
        "content": "<p>no worries, fixed.</p>",
        "id": 1290698,
        "sender_full_name": "Yash RE",
        "timestamp": 1638528466
    },
    {
        "content": "<p>I'm can't clearly reproduce losing the scroll position, the trigger is not just a call to <code>activity.redraw()</code> but probably something else as well.</p>",
        "id": 1290764,
        "sender_full_name": "Yash RE",
        "timestamp": 1638545718
    },
    {
        "content": "<p>I have seen it happen, I just don't know what might be causing it.</p>",
        "id": 1290765,
        "sender_full_name": "Yash RE",
        "timestamp": 1638545743
    },
    {
        "content": "<p>nvm, I can reproduce with just <code>activity.redraw()</code></p>",
        "id": 1290873,
        "sender_full_name": "Yash RE",
        "timestamp": 1638557236
    },
    {
        "content": "<p>/todo</p>",
        "id": 1301515,
        "sender_full_name": "Yash RE",
        "timestamp": 1640554174
    },
    {
        "content": "<p>new todo because old one is having bugs that make it unusable, see <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/todo.20list.20bug\">#design &gt; todo list bug</a>.</p>",
        "id": 1301517,
        "sender_full_name": "Yash RE",
        "timestamp": 1640554214
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Stream.20Member.20list/near/1279439\">said</a>:</p>\n<blockquote>\n<p>It wasn't obvious to me that the \"46\" is just online subscribers; I think \"Online subscribers (46)\" or \"Subscribers (46 online) would be a better label.  The \"Others\" label also needs work, since for an organization like this one with long-term idle users, it is by default the users who've been offline for less than 2 weeks or something like that, not everyone else in the organization.  Maybe \"Recently active subscribers (N)\" except that's too long.</p>\n</blockquote>\n<p>Ah! This is actually a bug in the logic I wrote. The way I'd written it, the \"others\" list gets created by taking all the user_ids and then just filtering out the \"users\" ids.<br>\nThat's the wrong thing to do in the case of large orgs, where the \"users\" list get shrinked (ie all currently idle ids are removed) because it makes people show up in the \"others\" list when they're not supposed to.</p>",
        "id": 1302355,
        "sender_full_name": "Yash RE",
        "timestamp": 1640782860
    },
    {
        "content": "<p>users who are part of the stream, exploded to the right not if it is a good idea and in any case it should have the same theme as the stream to highlight its membership. I would rather collapse them and if I need to click and open the list. Also write USERS OF .. #stream name etc.</p>",
        "id": 1307389,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1641820466
    },
    {
        "content": "<p>Have you thought of something at the theme level, to highlight when they are within a topic of a stream?</p>",
        "id": 1307390,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1641820593
    },
    {
        "content": "<blockquote>\n<p>write USERS OF .. #stream name etc.</p>\n</blockquote>\n<p>I wanted to do that but they called subscribers in other places. Also Having USER and then User of... doesn't look right.</p>\n<blockquote>\n<p>users to have the same theme as the stream to highlight its membership</p>\n</blockquote>\n<p>Interesting idea. I'm not sure its necessary, definitely could be helpful. But there was a desire to reduce color there. Anyway if the primary list that you see would be users of selected stream after a while you get used to that... And if anything <em>all other users</em> list could be collapsed by default.</p>",
        "id": 1307429,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1641829116
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign/near/1307429\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>users to have the same theme as the stream to highlight its membership</p>\n</blockquote>\n<p>Interesting idea. I'm not sure its necessary, definitely could be helpful. But there was a desire to reduce color there. Anyway if the primary list that you see would be users of selected stream after a while you get used to that... And if anything <em>all other users</em> list could be collapsed by default.</p>\n</blockquote>\n<p>let's say that I notice that many users of my organization do not open Zulip Desktp in full screen mode, and the user list is hidden by default, if then when they open it they see two different lists of users, it could be a further element of confusion if they wanted to click directly on a user to start a private chat.</p>",
        "id": 1307433,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1641833186
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign/near/1307429\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>write USERS OF .. #stream name etc.</p>\n</blockquote>\n<p>I wanted to do that but they called subscribers in other places. Also Having USER and then User of... doesn't look right.<br>\n</p>\n</blockquote>\n<p>I meant to rename USERS to USERS OF</p>",
        "id": 1307434,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1641833306
    },
    {
        "content": "<p>I moved discussion of the design for showing stream subscribers in the Users panel from <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/UI.20redesign\">#design &gt; UI redesign</a> into this topic, which has a bunch of relevant context from prior work and discussions.</p>",
        "id": 1307555,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1641848179
    },
    {
        "content": "<p>The reason I didn't do just 2 headers is that if you have <strong>Users of X</strong> and <strong>All other users</strong> is that I thought we need a single panel header which has a global user filter. If we are going to have just 2 lists without shared header we should have 2 user filters.</p>",
        "id": 1307583,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1641850624
    },
    {
        "content": "<p>Yeah, I think that's right. The current design we have for this preserves the \"Users\" heading as well.</p>",
        "id": 1307588,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1641850805
    },
    {
        "content": "<p>One note about the subsections design is that I think we want them to be collapsible.</p>",
        "id": 1307589,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1641850835
    },
    {
        "content": "<p>here's an image of the section from <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/UI.20redesign\">#design &gt; UI redesign</a>:</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/46/gttI-X_52IbmXjpd_KZxXJ7x/image.png\"><img src=\"/user_uploads/2/46/gttI-X_52IbmXjpd_KZxXJ7x/image.png\"></a></div>",
        "id": 1307761,
        "sender_full_name": "Yash RE",
        "timestamp": 1641865716
    },
    {
        "content": "<p>as exposed to Vlad, it could create confusion for users, I report what is written</p>",
        "id": 1308783,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1641978015
    },
    {
        "content": "<p><em>users who are part of the stream, exploded to the right not if it is a good idea and in any case it should have the same theme as the stream to highlight its membership. I would rather collapse them and if I need to click and open the list. Also write USERS OF .. #stream name etc.</em></p>",
        "id": 1308784,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1641978149
    },
    {
        "content": "<p>\"Subscribers\" and \"Others\" are the section headings used in the current prototype. The sections are collapsible, and should maintain their state (collapsed or expanded).</p>",
        "id": 1308942,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1642010797
    },
    {
        "content": "<p>Yes, so its possible to collapse both lists.<br>\n<a href=\"/user_uploads/2/28/Rom8MxfjrUpS6YUA8q9iAQLZ/image.png\">image.png</a> <br>\n<a href=\"/user_uploads/2/5d/Pj6ZXYg40Ua3yTE_N6dPrskL/image.png\">image.png</a> <br>\n<span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> could you please remind the issue which was working on it?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/28/Rom8MxfjrUpS6YUA8q9iAQLZ/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/28/Rom8MxfjrUpS6YUA8q9iAQLZ/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/5d/Pj6ZXYg40Ua3yTE_N6dPrskL/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5d/Pj6ZXYg40Ua3yTE_N6dPrskL/image.png\"></a></div>",
        "id": 1308982,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1642015453
    },
    {
        "content": "<p>Ah, looks like we don't have a nice issue for it, which is why it's hard to find. The proposed plan in described in this GitHub comment: <a href=\"https://github.com/zulip/zulip/pull/19541#issuecomment-926126287\">https://github.com/zulip/zulip/pull/19541#issuecomment-926126287</a></p>\n<p>And <a href=\"https://github.com/zulip/zulip/pull/20072\">#20072</a> is the in-progress PR.</p>",
        "id": 1309112,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1642021981
    },
    {
        "content": "<p>Don't you think that we should show Subscribers of what?<br>\nI like that we can show the number of other users.<br>\n<a href=\"/user_uploads/2/24/Dlvfn1Hcw9uhQYPm1s5SQp_N/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/24/Dlvfn1Hcw9uhQYPm1s5SQp_N/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/24/Dlvfn1Hcw9uhQYPm1s5SQp_N/image.png\"></a></div>",
        "id": 1309161,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1642023101
    },
    {
        "content": "<p>the subscribers theme must be the same as the selected Stream to make it clearer</p>",
        "id": 1309586,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1642058627
    },
    {
        "content": "<p>So, I just pushed to <a href=\"https://github.com/zulip/zulip/pull/20072\">#20072</a>. There's minor changes that need to be made in terms of styling the section headings, and the \"... and N additional offline users\" texts (these do not currently include long term idle users, just those shrunk out of the list when it's too big).</p>\n<p>But I was wondering if we could start reviewing the JavaScript implementation. I think the biggest obstacle is going to be this commit <a href=\"https://github.com/zulip/zulip/pull/20072/commits/d9fcbfdbc7c45b4a8cb79fe80af641c90b969ab9\">hack: Add ListCursorWithScrollOverride hack.</a> which is essentially just how I've currently gotten arrow key navigation to work currently...</p>",
        "id": 1314733,
        "sender_full_name": "Yash RE",
        "timestamp": 1643015673
    },
    {
        "content": "<blockquote>\n<p>and the \"... and N additional offline users\" texts (these do not currently include long term idle users, just those shrunk out of the list when it's too big).</p>\n</blockquote>\n<p>Is the proposal here to figure out how to add the long term idle users, or to change the section headings to indicate that they are not being counted?</p>",
        "id": 1315255,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643067466
    },
    {
        "content": "<p>The prior, I don't believe it would not be an awful lot of work, it's just that those users aren't currently readily available to that code.</p>",
        "id": 1315551,
        "sender_full_name": "Yash RE",
        "timestamp": 1643083648
    },
    {
        "content": "<p>Cool, sounds good!</p>",
        "id": 1315869,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643140688
    },
    {
        "content": "<p>ugh, I meant to say:<br>\n*I don't believe it would be an awful lot of work</p>",
        "id": 1316198,
        "sender_full_name": "Yash RE",
        "timestamp": 1643182622
    }
]