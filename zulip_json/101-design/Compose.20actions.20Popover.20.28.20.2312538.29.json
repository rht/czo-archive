[
    {
        "content": "<p>Do we want this new drop-down menu/popover to be a part of the Reply button? The Reply button is inactive in streams that have no Topics.</p>\n<p><a href=\"/user_uploads/2/9e/mbDTVRvEev0busJEJxrNIpIl/Screenshot-from-2019-06-15-02-22-38.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-15-02-22-38.png\">Screenshot-from-2019-06-15-02-22-38.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/9e/mbDTVRvEev0busJEJxrNIpIl/Screenshot-from-2019-06-15-02-22-38.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-15-02-22-38.png\"><img src=\"/user_uploads/2/9e/mbDTVRvEev0busJEJxrNIpIl/Screenshot-from-2019-06-15-02-22-38.png\"></a></div>",
        "id": 753939,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560545588
    },
    {
        "content": "<p>stream with no topics meaning, stream with no messages?</p>",
        "id": 753941,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560545663
    },
    {
        "content": "<p>Yeah</p>",
        "id": 753942,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560545686
    },
    {
        "content": "<p>hm, good catch. I guess it's fine to disable all the compose actions in this case; it's pretty rare and basically an error state anyway.</p>",
        "id": 753945,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560545803
    },
    {
        "content": "<p>(new streams start with a default message on creation. So the only way you'd get to this state is e.g. by clicking on a stream link for a stream you don't have access to)</p>",
        "id": 753946,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560545840
    },
    {
        "content": "<p>Alright. There are a bunch of streams in the Dev Env that have no messages. I'll make sure the button is disabled.</p>",
        "id": 753947,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560545948
    },
    {
        "content": "<p>just to be clear, if it's not disabled that's fine too. <code>Reply</code> should be disabled, but I don't think it's too important what happens to the others.</p>",
        "id": 753948,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560546649
    },
    {
        "content": "<p>Do we test Popovers in the casper tests?</p>",
        "id": 754048,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560555695
    },
    {
        "content": "<p><a href=\"/user_uploads/2/d3/IuDSfD0DDfSYtkHYW4r5zLEu/59542541-1545c780-8f24-11e9-8784-d92ba8f667ce.png\" target=\"_blank\" title=\"59542541-1545c780-8f24-11e9-8784-d92ba8f667ce.png\">59542541-1545c780-8f24-11e9-8784-d92ba8f667ce.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d3/IuDSfD0DDfSYtkHYW4r5zLEu/59542541-1545c780-8f24-11e9-8784-d92ba8f667ce.png\" target=\"_blank\" title=\"59542541-1545c780-8f24-11e9-8784-d92ba8f667ce.png\"><img src=\"/user_uploads/2/d3/IuDSfD0DDfSYtkHYW4r5zLEu/59542541-1545c780-8f24-11e9-8784-d92ba8f667ce.png\"></a></div>",
        "id": 756513,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560970644
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span> Does the design for this look good?</p>",
        "id": 756514,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560970676
    },
    {
        "content": "<p>Is it possible to just use a split button?</p>",
        "id": 756515,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560970733
    },
    {
        "content": "<p>Also, this would require removal/modification of hotspots for these buttons since we are moving them to a popover now. <br>\nI was about to remove them entirely, but wasn't sure if that is what we'd want.</p>",
        "id": 756516,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560970758
    },
    {
        "content": "<p>yeah, fine to remove the hotspot</p>",
        "id": 756517,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560970854
    },
    {
        "content": "<p>one more thing is that for the <code>(c)</code> part, there is a special class that we use. You can see how we do it in the message actions popover</p>",
        "id": 756518,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560970894
    },
    {
        "content": "<blockquote>\n<p>Is it possible to just use a split button?</p>\n</blockquote>\n<p>Yeah, I'll do that.</p>",
        "id": 756519,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560970908
    },
    {
        "content": "<blockquote>\n<p>one more thing is that for the <code>(c)</code> part, there is a special class that we use. You can see how we do it in the message actions popover</p>\n</blockquote>\n<p>I'll check it out.</p>",
        "id": 756520,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560970925
    },
    {
        "content": "<blockquote>\n<p>Do we test Popovers in the casper tests?</p>\n</blockquote>\n<p>Should I modify the casper tests for this?</p>",
        "id": 756521,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560970946
    },
    {
        "content": "<p>I went with removing them at first, but again just wanted to confirm.</p>",
        "id": 756522,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560970960
    },
    {
        "content": "<p>and lastly, it would be great to do something like <code>New topic in #**design**</code>, since I think that explanation is a decent part of the benefit</p>",
        "id": 756523,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560970969
    },
    {
        "content": "<blockquote>\n<p>and lastly, it would be great to do something like <code>New stream message in #**design**</code>, since I think that's a decent part of the benefit</p>\n</blockquote>\n<p>It turned out to be a little tricky when I shifted these buttons to the popover. I was just about to work on figuring out a way to do that here.</p>",
        "id": 756524,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560971009
    },
    {
        "content": "<p>Not sure about the casper tests; Tim will probably make a call on that</p>",
        "id": 756525,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560971040
    },
    {
        "content": "<p>Okay. I'll continue with the rest of the work in the meantime.</p>",
        "id": 756526,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560971064
    },
    {
        "content": "<p>great. Thanks!</p>",
        "id": 756527,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560971072
    },
    {
        "content": "<p><a href=\"/user_uploads/2/c2/dw8mB0MDXyczYTFsnczyIsb7/Screenshot-from-2019-06-20-02-28-45.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-02-28-45.png\">Screenshot-from-2019-06-20-02-28-45.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c2/dw8mB0MDXyczYTFsnczyIsb7/Screenshot-from-2019-06-20-02-28-45.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-02-28-45.png\"><img src=\"/user_uploads/2/c2/dw8mB0MDXyczYTFsnczyIsb7/Screenshot-from-2019-06-20-02-28-45.png\"></a></div>",
        "id": 756622,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560977956
    },
    {
        "content": "<p><a href=\"/user_uploads/2/8b/0KEBiAmKaDuhJBR2dHJDjC_K/Screenshot-from-2019-06-20-02-32-57.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-02-32-57.png\">Screenshot-from-2019-06-20-02-32-57.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/8b/0KEBiAmKaDuhJBR2dHJDjC_K/Screenshot-from-2019-06-20-02-32-57.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-02-32-57.png\"><img src=\"/user_uploads/2/8b/0KEBiAmKaDuhJBR2dHJDjC_K/Screenshot-from-2019-06-20-02-32-57.png\"></a></div>",
        "id": 756633,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560978189
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span></p>",
        "id": 756671,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560979169
    },
    {
        "content": "<p><a href=\"user_uploads/2/39/ISNxD6scVeCI7oFir3xghHsh/Screenshot-from-2019-06-20-03-56-37.png\" target=\"_blank\" title=\"user_uploads/2/39/ISNxD6scVeCI7oFir3xghHsh/Screenshot-from-2019-06-20-03-56-37.png\">Screenshot-from-2019-06-20-03-56-37.png</a></p>\n<div class=\"message_inline_image\"><a href=\"user_uploads/2/39/ISNxD6scVeCI7oFir3xghHsh/Screenshot-from-2019-06-20-03-56-37.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-03-56-37.png\"><img src=\"user_uploads/2/39/ISNxD6scVeCI7oFir3xghHsh/Screenshot-from-2019-06-20-03-56-37.png\"></a></div>",
        "id": 756743,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560982431
    },
    {
        "content": "<ul>\n<li>I fixed one of the Casper tests (<code>frontend_tests/casper_tests/14-drafts.js </code>) to reflect the new changes. (Parts of) Another one had to be removed.</li>\n<li>Changed it to a split button.</li>\n<li>Added Dynamic text with Stream names.</li>\n<li>Fixed the issue with the hotkey hints.</li>\n</ul>",
        "id": 756773,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1560984647
    },
    {
        "content": "<p>cool! Looking at the stream popover menu, let's actually make this <code>New topic in stream **Denmark**</code>.<br>\nI think we might need to do some centering and sizing for the text and down-chevron, but that can be done once everything else is set.</p>",
        "id": 756882,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560991097
    },
    {
        "content": "<p>I think let's also use down triangle instead of down chevron here (e.g. the one we use in the upper right corner of the app)<br>\n<a href=\"user_uploads/2/f9/5NjHK-Fq1bK2cSD9yuPq8Lt6/pasted_image.png\" target=\"_blank\" title=\"user_uploads/2/f9/5NjHK-Fq1bK2cSD9yuPq8Lt6/pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"user_uploads/2/f9/5NjHK-Fq1bK2cSD9yuPq8Lt6/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"user_uploads/2/f9/5NjHK-Fq1bK2cSD9yuPq8Lt6/pasted_image.png\"></a></div>",
        "id": 756884,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560991131
    },
    {
        "content": "<p>I'll make these changes.</p>",
        "id": 757039,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561030685
    },
    {
        "content": "<p><a href=\"/user_uploads/2/22/zbdx7FPBeVCs0sy1XYtHqfpQ/Screenshot-from-2019-06-20-18-06-50.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-18-06-50.png\">Screenshot-from-2019-06-20-18-06-50.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/22/zbdx7FPBeVCs0sy1XYtHqfpQ/Screenshot-from-2019-06-20-18-06-50.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-18-06-50.png\"><img src=\"/user_uploads/2/22/zbdx7FPBeVCs0sy1XYtHqfpQ/Screenshot-from-2019-06-20-18-06-50.png\"></a></div><p><a href=\"/user_uploads/2/96/-MPYPB96kPrCWxLhnzXfH26t/Screenshot-from-2019-06-20-18-06-58.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-18-06-58.png\">Screenshot-from-2019-06-20-18-06-58.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/96/-MPYPB96kPrCWxLhnzXfH26t/Screenshot-from-2019-06-20-18-06-58.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-20-18-06-58.png\"><img src=\"/user_uploads/2/96/-MPYPB96kPrCWxLhnzXfH26t/Screenshot-from-2019-06-20-18-06-58.png\"></a></div>",
        "id": 757069,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561034256
    },
    {
        "content": "<p>great! One thing to check is how it looks in narrower windows (1 and 2-column mode).</p>",
        "id": 757164,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561046143
    },
    {
        "content": "<p>We have a <code>compose_mobile_private_button</code> that is visible at in the very narrow 1-column mode. I hadn't tried that before so didn't realize we had that. It does the same thing that we want this new button to do.</p>\n<p><a href=\"/user_uploads/2/7d/i_2v2uk1LXdPuoDYJ1uQ82nO/Screenshot-from-2019-06-21-03-55-53.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-21-03-55-53.png\">Screenshot-from-2019-06-21-03-55-53.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/7d/i_2v2uk1LXdPuoDYJ1uQ82nO/Screenshot-from-2019-06-21-03-55-53.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-21-03-55-53.png\"><img src=\"/user_uploads/2/7d/i_2v2uk1LXdPuoDYJ1uQ82nO/Screenshot-from-2019-06-21-03-55-53.png\"></a></div><p>The new popover, though, looks horrible in 1,2-column mode. The text moves on to the 2nd line. Changing the position of the popover (<code>top</code> -&gt; <code>right</code>) won't help either. </p>\n<p><a href=\"/user_uploads/2/50/ckOrQXfosIQT8yh2qirVPeiS/Screenshot-from-2019-06-21-03-56-27.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-21-03-56-27.png\">Screenshot-from-2019-06-21-03-56-27.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/50/ckOrQXfosIQT8yh2qirVPeiS/Screenshot-from-2019-06-21-03-56-27.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-21-03-56-27.png\"><img src=\"/user_uploads/2/50/ckOrQXfosIQT8yh2qirVPeiS/Screenshot-from-2019-06-21-03-56-27.png\"></a></div>",
        "id": 757380,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561069836
    },
    {
        "content": "<p>How should I proceed with this?</p>",
        "id": 757382,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561069856
    },
    {
        "content": "<p>we should remove whatever special thing we do for mobile web; the changes with this PR will take care of what compose_mobile_private_button was trying to solve</p>",
        "id": 757398,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561073734
    },
    {
        "content": "<p>For the popover, why can't we keep it as 1 line each? We can move the popover over to the left.<br>\nActually, I tihnk it might be better to just move the popover over to the left unconditionally (even for wide screens)</p>",
        "id": 757401,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561073887
    },
    {
        "content": "<p>To the left, as in, <code> * | Reply</code> ?</p>",
        "id": 757466,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561100668
    },
    {
        "content": "<p>I like the way we handle it in mobile web though. The <code>+</code> makes sense.</p>",
        "id": 757467,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561100705
    },
    {
        "content": "<p>no, I just mean moving the popover to the left (the thing that appears after you click the down-triangle), so that the right edge of the popover is aligned with the right edge of the button</p>",
        "id": 757632,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561131143
    },
    {
        "content": "<p>I already tried that. The button is way too low for the popover to be completely visible. If the position of the button has to remain the same then we will need a custom function to determine the popover placement like we do for the User profiles.</p>",
        "id": 757633,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561131332
    },
    {
        "content": "<p>like this? <a href=\"/user_uploads/2/9/8SGfIg3WgJSI_q3h_8clFTAa/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/9/8SGfIg3WgJSI_q3h_8clFTAa/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/9/8SGfIg3WgJSI_q3h_8clFTAa/pasted_image.png\"></a></div>",
        "id": 757635,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561132246
    },
    {
        "content": "<p>That would require custom placement. I'll make the change and post a screenshot here.</p>",
        "id": 757636,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561132304
    },
    {
        "content": "<p>So, CSS seems to work for this. Here is the result:<br>\n<a href=\"/user_uploads/2/fa/LgwMyuDMwHXmKHlqBOi0IgvO/Screenshot-from-2019-06-22-03-18-14.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-18-14.png\">Screenshot-from-2019-06-22-03-18-14.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/fa/LgwMyuDMwHXmKHlqBOi0IgvO/Screenshot-from-2019-06-22-03-18-14.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-18-14.png\"><img src=\"/user_uploads/2/fa/LgwMyuDMwHXmKHlqBOi0IgvO/Screenshot-from-2019-06-22-03-18-14.png\"></a></div>",
        "id": 757796,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561153786
    },
    {
        "content": "<p>In 1-column/mobile browser view:<br>\n<a href=\"/user_uploads/2/13/Ub2GIqJ71JbuAj-W7bi8JfDT/Screenshot-from-2019-06-22-03-18-30.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-18-30.png\">Screenshot-from-2019-06-22-03-18-30.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/13/Ub2GIqJ71JbuAj-W7bi8JfDT/Screenshot-from-2019-06-22-03-18-30.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-18-30.png\"><img src=\"/user_uploads/2/13/Ub2GIqJ71JbuAj-W7bi8JfDT/Screenshot-from-2019-06-22-03-18-30.png\"></a></div>",
        "id": 757797,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561153815
    },
    {
        "content": "<p>The mobile popover for comparison: (Just about to remove this entirely)<br>\n<a href=\"/user_uploads/2/af/nAMcjuh1f6dAGaRgmW9Ib1hp/Screenshot-from-2019-06-22-03-18-44.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-18-44.png\">Screenshot-from-2019-06-22-03-18-44.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/af/nAMcjuh1f6dAGaRgmW9Ib1hp/Screenshot-from-2019-06-22-03-18-44.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-18-44.png\"><img src=\"/user_uploads/2/af/nAMcjuh1f6dAGaRgmW9Ib1hp/Screenshot-from-2019-06-22-03-18-44.png\"></a></div>",
        "id": 757798,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561153857
    },
    {
        "content": "<p>I had to use negative margins for this and I'm hoping that's okay.</p>",
        "id": 757799,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561153925
    },
    {
        "content": "<p>I came across an issue with this approach. Longer stream names still cause a problem.</p>",
        "id": 757802,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561154230
    },
    {
        "content": "<p>The usual affordance would be to line up the bottom-right corner of the menu with the  top-right corner of the button.</p>",
        "id": 757803,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1561154324
    },
    {
        "content": "<p>yeah, let's try that. I think either that or a slight gap, whichever works better (e.g. github has a slight gap: <a href=\"/user_uploads/2/da/sOJl0UxWKRAGgHhpr_i0OZ6k/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a>)</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/da/sOJl0UxWKRAGgHhpr_i0OZ6k/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/da/sOJl0UxWKRAGgHhpr_i0OZ6k/pasted_image.png\"></a></div><p>For the box shadow let's match the gear menu popover.</p>",
        "id": 757804,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561154582
    },
    {
        "content": "<p>we should also remove the <code>+</code> button from the mobile web view</p>",
        "id": 757805,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561154606
    },
    {
        "content": "<blockquote>\n<p>The usual affordance would be to line up the bottom-right corner of the menu with the  top-right corner of the button.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> Was this in relation to</p>\n<blockquote>\n<p>I came across an issue with this approach. Longer stream names still cause a problem.</p>\n</blockquote>\n<p>If yes, then how can I do that?</p>",
        "id": 757817,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561155093
    },
    {
        "content": "<p><a href=\"/user_uploads/2/b4/3BTeo-7ni0k-d63FWCwql9c5/Screenshot-from-2019-06-22-03-41-47.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-41-47.png\">Screenshot-from-2019-06-22-03-41-47.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b4/3BTeo-7ni0k-d63FWCwql9c5/Screenshot-from-2019-06-22-03-41-47.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-41-47.png\"><img src=\"/user_uploads/2/b4/3BTeo-7ni0k-d63FWCwql9c5/Screenshot-from-2019-06-22-03-41-47.png\"></a></div><p><a href=\"/user_uploads/2/b3/em1F1YYkU-hNwzYjbUbu1K54/Screenshot-from-2019-06-22-03-42-03.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-42-03.png\">Screenshot-from-2019-06-22-03-42-03.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b3/em1F1YYkU-hNwzYjbUbu1K54/Screenshot-from-2019-06-22-03-42-03.png\" target=\"_blank\" title=\"Screenshot-from-2019-06-22-03-42-03.png\"><img src=\"/user_uploads/2/b3/em1F1YYkU-hNwzYjbUbu1K54/Screenshot-from-2019-06-22-03-42-03.png\"></a></div>",
        "id": 757818,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561155163
    },
    {
        "content": "<p>It was in reply to your screenshot. The first of your new screenshots (-47) looks right.</p>",
        "id": 757819,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1561155236
    },
    {
        "content": "<p>Ah, okay. But the problem here is that we show stream names when in a stream so that alignment does not work in that case, as shown in the last screenshot.</p>",
        "id": 757821,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561155328
    },
    {
        "content": "<p>I could set a max width, but we have a 60 character limit for stream names.</p>",
        "id": 757822,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561155363
    },
    {
        "content": "<p>Is there any way to align the right edge of the popover, and let the popover expand to the left?</p>",
        "id": 757823,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561155384
    },
    {
        "content": "<p>Yes, our settings menu in the upper-right corner works that way.</p>",
        "id": 757824,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1561155419
    },
    {
        "content": "<p>I think it just needs to be position: absolute; right: (something); display: inline-block.</p>",
        "id": 757825,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1561155487
    },
    {
        "content": "<p>Ideally we could use the same styling rules (<code>.dropdown-menu</code>).</p>",
        "id": 757827,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1561155642
    },
    {
        "content": "<p>What happens though when the stream name is very long?  20-30 characters or even more?</p>",
        "id": 757828,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561156150
    },
    {
        "content": "<p>At some point we might want to wrap the text. If we have a relatively shorter number then we could just have a fixed width for the popover.</p>",
        "id": 757829,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561156243
    },
    {
        "content": "<p>Maybe use an ellipsis for stream names longer than 10-15 characters?</p>",
        "id": 757831,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561156287
    },
    {
        "content": "<p>There are already a number of reasons why we don’t want to just use a fixed width, such as font differences and translations.</p>",
        "id": 757833,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1561156677
    },
    {
        "content": "<p>I didn't think of that. A combination of what you suggested above seems to work (somewhat). I'll try to get that to work as needed.</p>",
        "id": 757834,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561156814
    },
    {
        "content": "<p>I doubt even a 60 character stream name would cause a practical problem, but we could set a defensive max-width relative to the viewport width and let the lines wrap.</p>",
        "id": 757835,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1561156900
    },
    {
        "content": "<p>Bootstrap handles text wrapping if the length is greater than the viewport size, I believe.</p>",
        "id": 757837,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561156983
    },
    {
        "content": "<p>I'll test this once I'm done just in case.</p>",
        "id": 757838,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561157047
    },
    {
        "content": "<p>I am having a tough time figuring out how to do this correctly. After going through what we've used for <code>.dropdown-menu</code>, I can't seem to figure out what to use to align this to the right of the of the button.<br>\n<code>left: auto</code> with <code>right: (something)px</code>looks like the way to go, but a fixed value doesn't work for all widths.</p>",
        "id": 758305,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561333208
    },
    {
        "content": "<p>For the lack of a better solution, one way I figured out to do this is by locating the popover with respect to the click location. But it's not exactly what we wanted so any input/suggestions on the initial approach would be great.<br>\n<a href=\"/user_uploads/2/d8/4UemL4UOUdKkVXGrnjpJVkh8/Peek-2019-06-26-04-34.gif\" target=\"_blank\" title=\"Peek-2019-06-26-04-34.gif\">Popover location gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d8/4UemL4UOUdKkVXGrnjpJVkh8/Peek-2019-06-26-04-34.gif\" target=\"_blank\" title=\"Popover location gif\"><img src=\"/user_uploads/2/d8/4UemL4UOUdKkVXGrnjpJVkh8/Peek-2019-06-26-04-34.gif\"></a></div>",
        "id": 759846,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561503987
    },
    {
        "content": "<blockquote>\n<p>I am having a tough time figuring out how to do this correctly. After going through what we've used for <code>.dropdown-menu</code>, I can't seem to figure out what to use to align this to the right of the of the button.<br>\n<code>left: auto</code> with <code>right: (something)px</code>looks like the way to go, but a fixed value doesn't work for all widths.</p>\n</blockquote>\n<p>If anyone has an idea on how to fix this with CSS, I would really appreciate the input <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 760515,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561574687
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"11404\">@Alexandra Ciobîcă</span> <span class=\"user-mention\" data-user-id=\"815\">@Cynthia Lin</span> FYI in case you have time to help.</p>",
        "id": 760521,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1561574850
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span> What should I do with this one?</p>",
        "id": 761710,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1561840874
    },
    {
        "content": "<p>not sure. Hopefully Alexandra will have a chance to look at it when she's available?</p>",
        "id": 761751,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1561861874
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"11190\">@Vinit Singh</span> I have an idea about how to fix it. You can change the <code>placement</code> to <code>left</code> and move the popover with margin top and left to the wanted position:</p>\n<div class=\"codehilite\"><pre><span></span>.compose_actions_popover {\n    margin-top: -50px;\n    margin-left: 30px;\n}\n</pre></div>\n\n\n<p>I added the changes in this patch: <a href=\"/user_uploads/2/92/jKi8D6mgJifG2nBmf6RtaS0z/popover.patch\" target=\"_blank\" title=\"popover.patch\">popover.patch</a>. You can use it by writing <code>git apply /path_to_file/popover.patch</code> and it will add the changes I made.</p>\n<p>This is how it looks like:<br>\n<a href=\"/user_uploads/2/f3/wFbGarc-YsgOxkxT4jWdpwOY/Jul-02-2019-21-09-15.gif\" target=\"_blank\" title=\"Jul-02-2019-21-09-15.gif\">gif.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f3/wFbGarc-YsgOxkxT4jWdpwOY/Jul-02-2019-21-09-15.gif\" target=\"_blank\" title=\"gif.gif\"><img src=\"/user_uploads/2/f3/wFbGarc-YsgOxkxT4jWdpwOY/Jul-02-2019-21-09-15.gif\"></a></div>",
        "id": 762610,
        "sender_full_name": "Alexandra Ciobîcă",
        "timestamp": 1562092136
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"11404\">@Alexandra Ciobîcă</span> If you try resizing the browser in that case, the popover doesn’t stay in the expected place. I tried a version of this but hardcoded margins cause problems when the browser is resized.</p>",
        "id": 762613,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1562092478
    },
    {
        "content": "<p>I just tried it and I think it looks ok. The popover is removed if you resize the browser and if you click again then it is in the right position. <br>\n<a href=\"/user_uploads/2/7f/cBNqakh8rLn-70Ms2qo5-eiY/gif2.gif\" target=\"_blank\" title=\"gif2.gif\">gif2.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/7f/cBNqakh8rLn-70Ms2qo5-eiY/gif2.gif\" target=\"_blank\" title=\"gif2.gif\"><img src=\"/user_uploads/2/7f/cBNqakh8rLn-70Ms2qo5-eiY/gif2.gif\"></a></div><p>Is this what you are talking about?</p>",
        "id": 762614,
        "sender_full_name": "Alexandra Ciobîcă",
        "timestamp": 1562093137
    },
    {
        "content": "<p>My bad. I was on phone at the time and didn't realize you also changed <code>placement: left</code>. That's a great solution and works really well. Thank you.</p>",
        "id": 762651,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1562101216
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span> Can you please review this PR when you have the time? Thanks!</p>",
        "id": 764612,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1562510703
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/12538\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/12538\">#12538</a></p>",
        "id": 764623,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1562513586
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span> </p>\n<p><a href=\"/user_uploads/2/1e/JmbSxVH95YMYCRUrUz5pi8I-/reply_button_right_border.gif\" target=\"_blank\" title=\"reply_button_right_border.gif\">reply_button_right_border.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1e/JmbSxVH95YMYCRUrUz5pi8I-/reply_button_right_border.gif\" target=\"_blank\" title=\"reply_button_right_border.gif\"><img src=\"/user_uploads/2/1e/JmbSxVH95YMYCRUrUz5pi8I-/reply_button_right_border.gif\"></a></div><p><a href=\"/user_uploads/2/8b/1ihTqwckNtNkbEL4wzwGaBcW/reply_button_right_border_removed.gif\" target=\"_blank\" title=\"reply_button_right_border_removed.gif\">reply_button_right_border_removed.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/8b/1ihTqwckNtNkbEL4wzwGaBcW/reply_button_right_border_removed.gif\" target=\"_blank\" title=\"reply_button_right_border_removed.gif\"><img src=\"/user_uploads/2/8b/1ihTqwckNtNkbEL4wzwGaBcW/reply_button_right_border_removed.gif\"></a></div>",
        "id": 767701,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1563051283
    },
    {
        "content": "<p>I misunderstood the CSS change for the button. Made the correct change. This is what the button looks like now.<br>\n<a href=\"/user_uploads/2/90/tDpPm_xb0CyIXcD9DFN4Yvik/Screenshot_3.png\" target=\"_blank\" title=\"Screenshot_3.png\">Screenshot_3.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/90/tDpPm_xb0CyIXcD9DFN4Yvik/Screenshot_3.png\" target=\"_blank\" title=\"Screenshot_3.png\"><img src=\"/user_uploads/2/90/tDpPm_xb0CyIXcD9DFN4Yvik/Screenshot_3.png\"></a></div>",
        "id": 770707,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1563728860
    },
    {
        "content": "<p>hm, maybe I said the wrong thing. The spacing around the down triangle was correct in the previous image, just the spacing around the Reply and Drafts button should be increased</p>",
        "id": 770785,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1563752619
    },
    {
        "content": "<p>I'm not sure if I understand this correctly. I pushed a change to CSS, please let me know if that is what you meant. </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nc\">.compose_actions_dropdown</span> <span class=\"p\">{</span>\n    <span class=\"nt\">border-radius</span><span class=\"nd\">:</span> <span class=\"nt\">0px</span> <span class=\"nt\">4px</span> <span class=\"nt\">4px</span> <span class=\"nt\">0px</span><span class=\"o\">;</span>\n    <span class=\"nt\">padding</span><span class=\"nd\">:</span> <span class=\"nt\">3px</span> <span class=\"nt\">8px</span> <span class=\"o\">!</span><span class=\"nt\">important</span><span class=\"o\">;</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 771556,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1563908554
    }
]