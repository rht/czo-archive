[
    {
        "content": "<p>I really like the new scroll to bottom button! I couldn't find a thread for it, so I figured I'd make one for a couple bits of feedback:</p>\n<ul>\n<li>IMO the tooltip going to the left looks awkward, I'd prefer for it to be on top. (this is really minor, though)</li>\n<li>I don't think it should go away when the top of a topic view is visible — I often want to scroll to the first message in a topic, read it, and then scroll to the bottom to see what the recent conversation is. Right now, the scroll to bottom button doesn't help much, since it disappears in the time it takes to read the first message.</li>\n</ul>",
        "id": 1326760,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644563281
    },
    {
        "content": "<p>Also, it'd be nice if it faded in/out when it appears/disappears :)</p>",
        "id": 1326761,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644563307
    },
    {
        "content": "<p>Thanks for your feedback. We can keep the button always visible in a topic when the last message is not visible. Although, we should limit this to only desktops.</p>",
        "id": 1326846,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644580374
    },
    {
        "content": "<blockquote>\n<p>Also, it'd be nice if it faded in/out when it appears/disappears <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>\n</blockquote>\n<p>We don't have such animations anywhere in Zulip, but I can imagine it being useful. What do others think?</p>",
        "id": 1326847,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644580437
    },
    {
        "content": "<p>One more bit of feedback — I don' t think this button should show up when scrolling with the arrow keys or <code>j</code>/<code>k</code> — it's visual noise, and I'm not going to reach for my mouse if I'm using the keyboard already.</p>",
        "id": 1326903,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644598109
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/scroll.20to.20bottom/near/1326903\">said</a>:</p>\n<blockquote>\n<p>One more bit of feedback — I don' t think this button should show up when scrolling with the arrow keys or <code>j</code>/<code>k</code> — it's visual noise, and I'm not going to reach for my mouse if I'm using the keyboard already.</p>\n</blockquote>\n<p>I definitely agree with that for the current design, though I guess that may not be relevant if we keep the button always visible when the last message is off-screen.</p>",
        "id": 1327076,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644610052
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/scroll.20to.20bottom/near/1326846\">said</a>:</p>\n<blockquote>\n<p>Thanks for your feedback. We can keep the button always visible in a topic when the last message is not visible. Although, we should limit this to only desktops.</p>\n</blockquote>\n<p>We can leave the current version for a few more days for folks to play with, but I'd be interested in trying this experiment. We might find that the button is too bright when it's always visible, but we can try it out.</p>",
        "id": 1327082,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644610242
    },
    {
        "content": "<p>I just experienced some weird interactions between the button and the compose box.</p>\n<ol>\n<li>\n<p>When I first started composing, the button was on top of the compose box, which doesn't seem right. I would expect it to always be above.<br>\n<a href=\"/user_uploads/2/d9/qwLYTVx_7qpyNLqfzOBauyBq/Screen-Shot-2022-02-11-at-12.09.21-PM.png\">Screen-Shot-2022-02-11-at-12.09.21-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d9/qwLYTVx_7qpyNLqfzOBauyBq/Screen-Shot-2022-02-11-at-12.09.21-PM.png\" title=\"Screen-Shot-2022-02-11-at-12.09.21-PM.png\"><img src=\"/user_uploads/2/d9/qwLYTVx_7qpyNLqfzOBauyBq/Screen-Shot-2022-02-11-at-12.09.21-PM.png\"></a></div></li>\n<li>\n<p>As I kept writing my message, the button jumped up without me doing any scrolling. It actually jumped twice as I was typing:</p>\n</li>\n</ol>\n<p><a href=\"/user_uploads/2/99/TtmGLD8tkA9K5hamCQxifXIm/Screen-Shot-2022-02-11-at-12.09.50-PM.png\">Screen-Shot-2022-02-11-at-12.09.50-PM.png</a> <br>\n<a href=\"/user_uploads/2/3d/tYsKIo4RJSem7X_2HQ93raJQ/Screen-Shot-2022-02-11-at-12.10.40-PM.png\">Screen-Shot-2022-02-11-at-12.10.40-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/99/TtmGLD8tkA9K5hamCQxifXIm/Screen-Shot-2022-02-11-at-12.09.50-PM.png\" title=\"Screen-Shot-2022-02-11-at-12.09.50-PM.png\"><img src=\"/user_uploads/2/99/TtmGLD8tkA9K5hamCQxifXIm/Screen-Shot-2022-02-11-at-12.09.50-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/3d/tYsKIo4RJSem7X_2HQ93raJQ/Screen-Shot-2022-02-11-at-12.10.40-PM.png\" title=\"Screen-Shot-2022-02-11-at-12.10.40-PM.png\"><img src=\"/user_uploads/2/3d/tYsKIo4RJSem7X_2HQ93raJQ/Screen-Shot-2022-02-11-at-12.10.40-PM.png\"></a></div>",
        "id": 1327087,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644610380
    },
    {
        "content": "<p>Pulling on the bottom right corner of the compose box to expand it also doesn't work right -- the button ends up in the middle of the compose box before disappearing. Sometimes it jumps up after a bit.</p>",
        "id": 1327094,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644610517
    },
    {
        "content": "<p>Yeah, I've been liking the visuals of the button as well.  I agree with the feedback above, and also with a sense that it feels like it randomly appears/disappears when scrolling around, which I think is a consequence of (1) it not having a delay before appearing in response to a scroll and (2) there not being a slow fade animation.</p>",
        "id": 1327198,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644618260
    },
    {
        "content": "<p>I suspect the tooltip thing is a consequence of it being at the far right of its container, and it just needs to be tweaked to allow it to escape its container and then our default placement of <code>top</code> will apply.</p>",
        "id": 1327199,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644618283
    },
    {
        "content": "<p>Do we want the tooltip to teach the \"End\" hotkey to people?</p>",
        "id": 1327763,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644769450
    },
    {
        "content": "<p>yes, almost always</p>",
        "id": 1327767,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644769877
    },
    {
        "content": "<p>I remind. here again that circle should be in a square which grabs interaction and this square should be sticked to the bottom (the beginning of the compose box) without any gaps</p>",
        "id": 1327768,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644769939
    },
    {
        "content": "<p>For the current design, my two nitpicks are consistent with some of the other feedback:</p>\n<ul>\n<li>the button shouldn't disappear after N seconds, because I may be slow with the mouse</li>\n<li>the button should disappear as soon as I do any kind of keyboard navigation</li>\n</ul>",
        "id": 1327774,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644770726
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/scroll.20to.20bottom/near/1327763\">said</a>:</p>\n<blockquote>\n<p>Do we want the tooltip to teach the \"End\" hotkey to people?</p>\n</blockquote>\n<p>Many keyboards don't have <code>end</code>hotkey. Should we teach <code>Shift + G</code> instead?</p>",
        "id": 1328055,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644848524
    },
    {
        "content": "<p>Its better to test how keyboards emulate that... For example Cmd+Arrow Down or something like that. I wouldn't assign a letter to it</p>",
        "id": 1328058,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644849317
    },
    {
        "content": "<p><a href=\"/user_uploads/2/61/OhloB_oq5AVG6828F0Wrg6Li/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/61/OhloB_oq5AVG6828F0Wrg6Li/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/61/OhloB_oq5AVG6828F0Wrg6Li/image.png\"></a></div>",
        "id": 1328059,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644849325
    },
    {
        "content": "<p>In our keyboard help we say \"End or Shift-G\".  ^^^</p>",
        "id": 1328060,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644849369
    },
    {
        "content": "<p>Oh... if its already bind to that... sure</p>",
        "id": 1328062,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644849442
    },
    {
        "content": "<p>I don't know how easy is to ask the OS whether it has the End key.  In the hypothetical situations where we could detect with 100% accuracy that the End key is on the keyboard, I would want us to just teach the End key.</p>",
        "id": 1328063,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644849445
    },
    {
        "content": "<p>On keyboards where there is no End key... its usually <code>Fn + Right Arrow</code></p>",
        "id": 1328064,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644849495
    },
    {
        "content": "<p>But on Mac it is working as Page Down for me</p>",
        "id": 1328065,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644849516
    },
    {
        "content": "<p>Page Down does not go all the way to the end, does it?</p>",
        "id": 1328066,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644849553
    },
    {
        "content": "<p>Oh.. no its good. \"Fn+Arrow right\" is go to end, while <code>Fn+Arrow Down</code> is page down</p>",
        "id": 1328067,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644849556
    },
    {
        "content": "<p>So the challenge here is to educate people about \"Fn+Arrow right\" - I would write that instead of binding Shift+G</p>",
        "id": 1328069,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644849607
    },
    {
        "content": "<p>The reason is that such key should work even if your compose box is working</p>",
        "id": 1328070,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644849633
    },
    {
        "content": "<p>Ah, we have this code in <code>common.js</code>:</p>\n<div class=\"codehilite\"><pre><span></span><code> 51 export function adjust_mac_shortcuts(key_elem_class: string, require_cmd_style = false): void {\n 52     if (!has_mac_keyboard()) {\n 53         return;\n 54     }\n 55\n 56     const keys_map = new Map([\n 57         [&quot;Backspace&quot;, &quot;Delete&quot;],\n 58         [&quot;Enter&quot;, &quot;Return&quot;],\n 59         [&quot;Home&quot;, &quot;Fn + ←&quot;],\n 60         [&quot;End&quot;, &quot;Fn + →&quot;],\n 61         [&quot;PgUp&quot;, &quot;Fn + ↑&quot;],\n 62         [&quot;PgDn&quot;, &quot;Fn + ↓&quot;],\n 63         [&quot;Ctrl&quot;, &quot;⌘&quot;],\n 64     ]);\n 65\n 66     $(key_elem_class).each(function () {\n 67         let key_text = $(this).text();\n 68         const keys = key_text.match(/[^\\s+]+/g) || [];\n 69\n 70         if (key_text.includes(&quot;Ctrl&quot;) &amp;&amp; require_cmd_style) {\n 71             $(this).addClass(&quot;mac-cmd-key&quot;);\n 72         }\n 73\n 74         for (const key of keys) {\n 75             const replace_key = keys_map.get(key);\n 76             if (replace_key !== undefined) {\n 77                 key_text = key_text.replace(key, replace_key);\n 78             }\n 79         }\n 80\n 81         $(this).text(key_text);\n 82     });\n 83 }\n</code></pre></div>",
        "id": 1328072,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644849673
    },
    {
        "content": "<p>I'd like to just echo this bit of feedback:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/scroll.20to.20bottom.20.2319937/near/1326761\">said</a>:</p>\n<blockquote>\n<p>Also, it'd be nice if it faded in/out when it appears/disappears :)</p>\n</blockquote>\n<p>I think that sort of thing is pretty straightforward to express in CSS these days, and it would be a nice touch -- as is, it's slightly jarring when the button goes away.</p>",
        "id": 1347485,
        "sender_full_name": "Greg Price",
        "timestamp": 1647562680
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> want to make a pass at tweaking that?</p>",
        "id": 1347520,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1647563958
    },
    {
        "content": "<p>What do folks think is a good fade duration?  I feel like a very slow one might be annoying since what'll happen if you click may feel a bit unspecified while it's slowly fading, but we don't want it to be fast as that will draw the user's eye unnecessarily.</p>",
        "id": 1347521,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1647563999
    },
    {
        "content": "<p>For a first stab at it, I'd try like 250ms.</p>",
        "id": 1347550,
        "sender_full_name": "Greg Price",
        "timestamp": 1647566936
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/zulip/zulip/pull/21492\">#21492</a> and used <code>500ms</code> since we were already using that for <code>fadeIn</code> / <code>fadeOut</code>.</p>",
        "id": 1348595,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1647796743
    }
]