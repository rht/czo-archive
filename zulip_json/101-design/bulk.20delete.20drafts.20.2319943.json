[
    {
        "content": "<p>Hey everyone,<br>\ni am currently working on issue <a href=\"https://github.com/zulip/zulip/issues/19360\">#19360</a>, and i am having some trouble with the design.<br>\nThis is what i have currently:<br>\n<a href=\"/user_uploads/2/53/GBpgxlWX9QFGUI0xFYmSPArt/current-design-delete-drafts.gif\">current-design-delete-drafts.gif</a> <br>\nThe top row of buttons looks a bit strange/ out of place, but i am not really sure how to improve this.<br>\nSo if you have any suggestions it would be very appreciated!<br>\n(The corresponding PR: <a href=\"https://github.com/zulip/zulip/pull/19943\">#19943</a>)</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/53/GBpgxlWX9QFGUI0xFYmSPArt/current-design-delete-drafts.gif\" title=\"current-design-delete-drafts.gif\"><img src=\"/user_uploads/2/53/GBpgxlWX9QFGUI0xFYmSPArt/current-design-delete-drafts.gif\"></a></div>",
        "id": 1306236,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1641587799
    },
    {
        "content": "<p>IMO it would be better to have buttons saying \"Select all\"/\"Unselect all\" or something like that rather than just a \"global\" checkbox. It is not immediately clear what the \"global\" checkbox indicates when some but not all of the \"local\" checkboxes are selected, and using text seems to be the standard practice (as described in <a class=\"stream-topic\" data-stream-id=\"137\" href=\"/#narrow/stream/137-feedback/topic/drafts.20popup.20scrollbar\">#feedback &gt; drafts popup scrollbar</a>). My experience is mainly from file managers.</p>",
        "id": 1307160,
        "sender_full_name": "Abhijeet Bodas",
        "timestamp": 1641723452
    },
    {
        "content": "<p>For reference, Gmail uses a global checkbox (with a dropdown that offers additional options):<br>\n<a href=\"/user_uploads/2/87/tp2_-CD-TrTmCE-3WwtCeQq7/Screen-Shot-2022-01-10-at-9.18.52-AM.png\">Screen-Shot-2022-01-10-at-9.18.52-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/87/tp2_-CD-TrTmCE-3WwtCeQq7/Screen-Shot-2022-01-10-at-9.18.52-AM.png\" title=\"Screen-Shot-2022-01-10-at-9.18.52-AM.png\"><img src=\"/user_uploads/2/87/tp2_-CD-TrTmCE-3WwtCeQq7/Screen-Shot-2022-01-10-at-9.18.52-AM.png\"></a></div>",
        "id": 1307438,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1641835192
    },
    {
        "content": "<p>Yeah, that's a pretty standard design pattern and probably what we want to do here.</p>",
        "id": 1308476,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1641944640
    },
    {
        "content": "<p>I believe when I was reviewing the PR the checkboxes only showed up on hover. I think t looks better to have them always shown, as in the gif above. But something funny seems to be going on with the checkbox thickness -- it looks like the remaining checkbox gets thinner after the drafts are deleted.</p>",
        "id": 1308560,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1641949823
    },
    {
        "content": "<p><a href=\"/user_uploads/2/6e/tRq0PrdLBiJP1fNyGM1YlXis/bulk-delete.gif\">bulk-delete.gif</a> <br>\nThis is how i changed it after all of your (very helpfull) input, what do you think of it now? <br>\nAnd do you think it would be better to have buttons on the left or the right side of the header?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6e/tRq0PrdLBiJP1fNyGM1YlXis/bulk-delete.gif\" title=\"bulk-delete.gif\"><img src=\"/user_uploads/2/6e/tRq0PrdLBiJP1fNyGM1YlXis/bulk-delete.gif\"></a></div><p>I also thought about the proposal of a dropdown menu, maybe it would be nice to include something like that to make it possible to delete all drafts for a particular stream or something like that?</p>",
        "id": 1309682,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1642089636
    },
    {
        "content": "<blockquote>\n<p>But something funny seems to be going on with the checkbox thickness -- it looks like the remaining checkbox gets thinner after the drafts are deleted.</p>\n</blockquote>\n<p>Personally i can't see a difference, even with directly comparing the checkboxes in two windows next to each other. Maybe it just looks like they change because the quality of the gif is not the best?</p>",
        "id": 1309684,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1642090127
    },
    {
        "content": "<blockquote>\n<p>And do you think it would be better to have buttons on the left or the right side of the header?</p>\n</blockquote>\n<p>I think it's important to have the \"Select all\" checkbox be on the same side as the checkboxes for each individual draft.</p>\n<p>Using the right side seems the most natural to me with everything else we have going on in this popover. So the top right would have a trash can followed by the checkbox, in parallel with the trash can and checkbox on each individual draft.</p>",
        "id": 1309827,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1642107046
    },
    {
        "content": "<p>Hm, especially if we want to have the \"[Un]Select all drafts\" text, we should make sure something reasonable happens in narrow windows. This question will arise even with just the icons. E.g. in Russian, even in a reasonably wide window, the center text takes up the entire width:</p>\n<p><a href=\"/user_uploads/2/c4/UxlV8dtnBpQEIsiNz9t9CdV6/Screen-Shot-2022-01-13-at-12.51.12-PM.png\">Screen-Shot-2022-01-13-at-12.51.12-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c4/UxlV8dtnBpQEIsiNz9t9CdV6/Screen-Shot-2022-01-13-at-12.51.12-PM.png\" title=\"Screen-Shot-2022-01-13-at-12.51.12-PM.png\"><img src=\"/user_uploads/2/c4/UxlV8dtnBpQEIsiNz9t9CdV6/Screen-Shot-2022-01-13-at-12.51.12-PM.png\"></a></div>",
        "id": 1309832,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1642107232
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> </p>\n<blockquote>\n<p>I think it's important to have the \"Select all\" checkbox be on the same side as the checkboxes for each individual draft.</p>\n<p>Using the right side seems the most natural to me with everything else we have going on in this popover. So the top right would have a trash can followed by the checkbox, in parallel with the trash can and checkbox on each individual draft.</p>\n</blockquote>\n<p>You're right, that's probably more intuitive, i will move it to the right</p>\n<blockquote>\n<p>Hm, especially if we want to have the \"[Un]Select all drafts\" text, we should make sure something reasonable happens in narrow windows. This question will arise even with just the icons. E.g. in Russian, even in a reasonably wide window, the center text takes up the entire width:</p>\n</blockquote>\n<p>I implemented something to solve this yesterday. I thought it would probably be best to increase the vertical size of the header and move the buttons under the text like this:<br>\n<a href=\"/user_uploads/2/1c/7f3dISOiqlKIqhy1oT2H0jw2/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1c/7f3dISOiqlKIqhy1oT2H0jw2/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/1c/7f3dISOiqlKIqhy1oT2H0jw2/image.png\"></a></div><p>But i set the point where they are moved to a fixed value right now, because i didn't have in mind that other languages might take up more or less space, i will have to figure out how i can make that dependent on the language or the amount of space the header text takes up.</p>",
        "id": 1310289,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1642152760
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> i fixed the issue with narrow windows, i think the pull request is ready for another review now :)</p>",
        "id": 1322472,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1643969625
    },
    {
        "content": "<p>Great, thanks! I posted some comments on the PR.</p>",
        "id": 1322599,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643998975
    },
    {
        "content": "<p>As requested, some new screenshots :)</p>\n<p>Lightmode, with unselected checkboxes:<br>\n<a href=\"/user_uploads/2/fd/27XwP4NK7gZUsmdJ5YTw3XPw/tmp3.png\">tmp3.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/fd/27XwP4NK7gZUsmdJ5YTw3XPw/tmp3.png\" title=\"tmp3.png\"><img src=\"/user_uploads/2/fd/27XwP4NK7gZUsmdJ5YTw3XPw/tmp3.png\"></a></div><p>Lightmode, with selected checkboxes:<br>\n<a href=\"/user_uploads/2/1b/OX3Xb05DQjaq7DIzPBqPP19V/tmp4.png\">tmp4.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1b/OX3Xb05DQjaq7DIzPBqPP19V/tmp4.png\" title=\"tmp4.png\"><img src=\"/user_uploads/2/1b/OX3Xb05DQjaq7DIzPBqPP19V/tmp4.png\"></a></div><p>Darkmode, with unselected checkboxes:<br>\n<a href=\"/user_uploads/2/f0/FVPnqKObJFQXKMNrX1nJ2vfP/tmp.png\">tmp.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f0/FVPnqKObJFQXKMNrX1nJ2vfP/tmp.png\" title=\"tmp.png\"><img src=\"/user_uploads/2/f0/FVPnqKObJFQXKMNrX1nJ2vfP/tmp.png\"></a></div><p>Darkmode, with selected checkboxes:<br>\n<a href=\"/user_uploads/2/b2/SBHvJSEp1IZKKO7K5nzd_8Wb/tmp2.png\">tmp2.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b2/SBHvJSEp1IZKKO7K5nzd_8Wb/tmp2.png\" title=\"tmp2.png\"><img src=\"/user_uploads/2/b2/SBHvJSEp1IZKKO7K5nzd_8Wb/tmp2.png\"></a></div><p>In a narrow window:<br>\n<a href=\"/user_uploads/2/d3/BEajAHdSiR17elZbt0s5E_vF/tmp5.png\">tmp5.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d3/BEajAHdSiR17elZbt0s5E_vF/tmp5.png\" title=\"tmp5.png\"><img src=\"/user_uploads/2/d3/BEajAHdSiR17elZbt0s5E_vF/tmp5.png\"></a></div><p>In a really narrow window:<br>\n<a href=\"/user_uploads/2/8c/qBdei7OJGJiUs-dEERHrAEWO/tmp6.png\">tmp6.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/8c/qBdei7OJGJiUs-dEERHrAEWO/tmp6.png\" title=\"tmp6.png\"><img src=\"/user_uploads/2/8c/qBdei7OJGJiUs-dEERHrAEWO/tmp6.png\"></a></div><p>What do you think?</p>",
        "id": 1322996,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1644052856
    },
    {
        "content": "<p>I think that's looking good enough that the problems with those screenshots are more the existing problems with the Drafts modal being a relatively unpolished part of the product than the new feature.  I think the main thing that feels out of place is the background in the styling of the \"Unselect all\" button.</p>",
        "id": 1324349,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644286552
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> that's good to hear, i'd really like to finish this soon :)<br>\nWhat exactly is the problem with the background of the unselect button? Only the color, because this can be adapted pretty fast, or something else?</p>",
        "id": 1325454,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1644417357
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"21512\">@Julia Bichler</span> yeah, just the color -- it looks out of place.</p>",
        "id": 1325838,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644447990
    },
    {
        "content": "<p>okay, just in dark mode or generally? Because i think that the unselect button should have a different color then the select button, so it's easier to distinct the two. Or do you disagree? <br>\nOr what styling would you propose?</p>",
        "id": 1326832,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1644572639
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> do you have any feedback on this one?</p>",
        "id": 1327106,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644611241
    },
    {
        "content": "<p>check box in the current way is enough of an indicator of the selection.  I would align the title of the window and the text to the left.</p>",
        "id": 1327615,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644709451
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> <span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> like this?<br>\n<a href=\"/user_uploads/2/c7/vn5RmdHnXW1wmKFBh91Zl-UJ/tmp.png\">tmp.png</a> /home/julia/tmp.png</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c7/vn5RmdHnXW1wmKFBh91Zl-UJ/tmp.png\" title=\"tmp.png\"><img src=\"/user_uploads/2/c7/vn5RmdHnXW1wmKFBh91Zl-UJ/tmp.png\"></a></div><p><a href=\"/user_uploads/2/d5/nx9cKAME8G6dOIPDj5-j3wYe/tmp2.png\">tmp2.png</a> /home/julia/tmp2.png</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d5/nx9cKAME8G6dOIPDj5-j3wYe/tmp2.png\" title=\"tmp2.png\"><img src=\"/user_uploads/2/d5/nx9cKAME8G6dOIPDj5-j3wYe/tmp2.png\"></a></div><p><a href=\"/user_uploads/2/46/9ct1SyM4X0Z32ITkuwol-5rN/tmp3.png\">tmp3.png</a> /home/julia/tmp3.png</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/46/9ct1SyM4X0Z32ITkuwol-5rN/tmp3.png\" title=\"tmp3.png\"><img src=\"/user_uploads/2/46/9ct1SyM4X0Z32ITkuwol-5rN/tmp3.png\"></a></div><p><a href=\"/user_uploads/2/b9/l3IlApsBpTMn-kQJR24Rh-vn/tmp4.png\">tmp4.png</a> /home/julia/tmp4.png</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b9/l3IlApsBpTMn-kQJR24Rh-vn/tmp4.png\" title=\"tmp4.png\"><img src=\"/user_uploads/2/b9/l3IlApsBpTMn-kQJR24Rh-vn/tmp4.png\"></a></div>",
        "id": 1328007,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1644836062
    },
    {
        "content": "<p>Looks good to me, I would just correct alignment here : <a href=\"/user_uploads/2/2a/jABYW6E5Wuaah7uL-ELRCbm9/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/2a/jABYW6E5Wuaah7uL-ELRCbm9/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/2a/jABYW6E5Wuaah7uL-ELRCbm9/image.png\"></a></div>",
        "id": 1328057,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644849255
    },
    {
        "content": "<p>I feel like it's more standard to have the select all checkbox lined up with the checkboxes for the individual messages, although maybe that would result in too much padding on the right? I'd be interested to see it, though.</p>",
        "id": 1328932,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644928882
    },
    {
        "content": "<p>Can we do both -- align the right edge of the pill with the vertical border, and the checkbox within the pill with the checkboxes below it?</p>",
        "id": 1329502,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644969654
    },
    {
        "content": "<p>I'd want to play with it, but the left-side text alignment seems like a good idea now that we're adding another element to that top area.</p>",
        "id": 1329504,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644969710
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> This is how it would look like with the button aligned to the drafts:<br>\n<a href=\"/user_uploads/2/97/_D0a5gLUoMqtrwsbUH9j52Bh/tmp3.png\">tmp3.png</a> /home/julia/tmp3.png<br>\n<a href=\"/user_uploads/2/0/tJ2lKnbqxrmF9Mht0eul_d6P/tmp4.png\">tmp4.png</a> /home/julia/tmp4.png</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/97/_D0a5gLUoMqtrwsbUH9j52Bh/tmp3.png\" title=\"tmp3.png\"><img src=\"/user_uploads/2/97/_D0a5gLUoMqtrwsbUH9j52Bh/tmp3.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/0/tJ2lKnbqxrmF9Mht0eul_d6P/tmp4.png\" title=\"tmp4.png\"><img src=\"/user_uploads/2/0/tJ2lKnbqxrmF9Mht0eul_d6P/tmp4.png\"></a></div><p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> <span class=\"user-mention\" data-user-id=\"17945\">@Wesley Aptekar-Cassels</span> This is how it would look like if the checkboxes are aligned too:<br>\n<a href=\"/user_uploads/2/fc/BEXGdswnV6BxvgDFnJv3vYdk/tmp.png\">tmp.png</a> /home/julia/tmp.png<br>\n<a href=\"/user_uploads/2/a0/0AgHrs80xFBaSt9yosrWscxe/tmp2.png\">tmp2.png</a> /home/julia/tmp2.png</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/fc/BEXGdswnV6BxvgDFnJv3vYdk/tmp.png\" title=\"tmp.png\"><img src=\"/user_uploads/2/fc/BEXGdswnV6BxvgDFnJv3vYdk/tmp.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/a0/0AgHrs80xFBaSt9yosrWscxe/tmp2.png\" title=\"tmp2.png\"><img src=\"/user_uploads/2/a0/0AgHrs80xFBaSt9yosrWscxe/tmp2.png\"></a></div><p>What do you think?<br>\nPersonally i prefer the first option, the second option look a bit weird in my opinion (also, the first option works better if you zoom in a lot)</p>\n<p>(The exact allignment of this would probably have to be adapted again after merging PR <a href=\"https://github.com/zulip/zulip/pull/21096\">#21096</a>)</p>",
        "id": 1334809,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1645785738
    },
    {
        "content": "<p>I wouldn’t change label on a button and I would make right padding == left padding</p>",
        "id": 1334845,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645793865
    },
    {
        "content": "<p>What do you mean with change the label on a button? Do you mean that it changes from \"Select drafts\" to \"Unselect drafts\"?<br>\nAnd i guess you prefer the first option, right? Because there the padding is equal on both sides</p>",
        "id": 1335050,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1645818141
    },
    {
        "content": "<p>I suggest to use this version <a href=\"/user_uploads/2/b6/yqVpApUFh2s2MxYRWo_9ed9N/image.png\">image.png</a> but make left padding the same as right and don't change the label of the button</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b6/yqVpApUFh2s2MxYRWo_9ed9N/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b6/yqVpApUFh2s2MxYRWo_9ed9N/image.png\"></a></div>",
        "id": 1335417,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645843935
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> Like this?<br>\n<a href=\"/user_uploads/2/7a/_c3-Ji094gX9j2m1lVofXgS0/tmp.png\">tmp.png</a> /home/julia/tmp.png<br>\n<a href=\"/user_uploads/2/d0/Y1D6hO_-hHfmJ4wfmN7BbDYQ/tmp2.png\">tmp2.png</a> /home/julia/tmp2.png</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/7a/_c3-Ji094gX9j2m1lVofXgS0/tmp.png\" title=\"tmp.png\"><img src=\"/user_uploads/2/7a/_c3-Ji094gX9j2m1lVofXgS0/tmp.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/d0/Y1D6hO_-hHfmJ4wfmN7BbDYQ/tmp2.png\" title=\"tmp2.png\"><img src=\"/user_uploads/2/d0/Y1D6hO_-hHfmJ4wfmN7BbDYQ/tmp2.png\"></a></div>",
        "id": 1336015,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1646058983
    },
    {
        "content": "<p>For some reason vertical alignment inside the button is not great, but I don't think it is super critical now. <br>\nBecause I see that trash icon is also closer to the bottom of that button</p>",
        "id": 1336019,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646059324
    },
    {
        "content": "<p>apart of that I think its ok</p>",
        "id": 1336020,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646059336
    },
    {
        "content": "<p>Yeah i think that has something to do with the font-awsome icons. I tried changing the position, but that just changes the size of the button itself.<br>\nIf you think the design is good as is, do you know how i can get this merged, as the functionality is working already?</p>",
        "id": 1336022,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1646059885
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> please coordinate</p>",
        "id": 1336023,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646060304
    },
    {
        "content": "<p>Just checking this out now, and excited for this! Thanks for working on it :)</p>",
        "id": 1336353,
        "sender_full_name": "Evy",
        "timestamp": 1646082942
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"21512\">@Julia Bichler</span> I agree with what you and <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> landed on above, where both the outline box and the checkbox are aligned, and the space around \"Select all drafts\" is the same on both sides. When I look at the screenshots you shared, it looks to me like the checkbox is a bit too far to the left though -- could you please check?</p>",
        "id": 1336435,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646087167
    },
    {
        "content": "<p>Meanwhile, I can do another round of manual review and follow up on GitHub regarding next steps.</p>",
        "id": 1336437,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646087284
    },
    {
        "content": "<p>Actually, having played with the PR, I have a couple of additional design comments:</p>\n<ol>\n<li>Could you try making the checkbox the same size as the ones on individual messages (looks like it's currently smaller)? I think that might look better.</li>\n<li>Could you also try making the font size on \"Select all drafts\" the same as the rest of the text (14px) and post a screenshot with that as well?</li>\n</ol>\n<p>Also, it looks like when you check/uncheck the checkbox, the \"Select all drafts\" text shifts left/right by a tiny amount. Could that be fixed?</p>\n<p>We can figure out who can do a code review on this PR once those tweaks are done. Thanks!</p>",
        "id": 1336441,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646088061
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> Okay, so this is how it looks like now, with the checkboxes aligned and in the same size and the right placement and size of the text: <br>\n<a href=\"/user_uploads/2/e1/NUknYWrWGT5Wq3EV7EBSFx2D/tmp.png\">tmp.png</a> <br>\n<a href=\"/user_uploads/2/8c/16cD4IbYNqIVBUq_bT8upmPo/tmp2.png\">tmp2.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/e1/NUknYWrWGT5Wq3EV7EBSFx2D/tmp.png\" title=\"tmp.png\"><img src=\"/user_uploads/2/e1/NUknYWrWGT5Wq3EV7EBSFx2D/tmp.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/8c/16cD4IbYNqIVBUq_bT8upmPo/tmp2.png\" title=\"tmp2.png\"><img src=\"/user_uploads/2/8c/16cD4IbYNqIVBUq_bT8upmPo/tmp2.png\"></a></div>",
        "id": 1337862,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1646250775
    },
    {
        "content": "<p>That looks good to me!</p>",
        "id": 1337864,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646251749
    },
    {
        "content": "<p>Is there a reason we're using a different design of checkbox component for the \"Select all\" widget?</p>",
        "id": 1338026,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1646263257
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> Because that isn't an actual checkbox, it is just a icon to indicate if the drafts are currently marked or unmarked</p>",
        "id": 1338360,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1646317268
    },
    {
        "content": "<p>That seems like the right decision to me, and I suspect it's only confusing in the screenshots.</p>",
        "id": 1338363,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646317788
    },
    {
        "content": "<p>As the original author of <a href=\"https://github.com/zulip/zulip/pull/19360\">#19360</a>, I am really eager to see this merged or at least test-deployed.  It seems like a clear improvement that has gone through a lot of nice design iterations.  Nice work <span class=\"user-mention\" data-user-id=\"21512\">@Julia Bichler</span> and others!</p>",
        "id": 1338366,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646317908
    },
    {
        "content": "<p>By the way I re-opened <a href=\"https://github.com/zulip/zulip/pull/19360\">#19360</a> to reflect this ongoing work.</p>",
        "id": 1338369,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646317998
    },
    {
        "content": "<p>On a somewhat related note, should we add an option to the ellipsis menu for Drafts that says \"Manage drafts\"?  It would simply pop you into the modal just as if you had clicked on \"Drafts\".  I found myself slightly confused by our current single-item menu.  (obviously I was not totally confused, but it felt funny)</p>",
        "id": 1338370,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646318206
    },
    {
        "content": "<p>I suppose there's also an argument to just remove the menu once the above work gets completed, but I actually like the convenience.  99% of the time I know that I don't have any useful drafts, so as a user, I like the convenience.</p>",
        "id": 1338373,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646318698
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"58\">@Steve Howell (showell)</span> i agree with you that the menu with just one item looks a bit strange. However i am not sure about a 'Manage drafts' option, because that seems pretty redundant in my opinion.<br>\nI proposed a 'Hide drafts count' option a while ago, i thought that that would be nice because the starred messages menu has this too, so it would be consistent, but that didn't find approval.</p>",
        "id": 1338546,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1646331987
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"21512\">@Julia Bichler</span>, I think it's looking good from a UI perspective!</p>\n<p>In preparation for code review, could you please go through the recently updated <a href=\"https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code\">code review guide</a> to review your own work? The commit history needs some cleanup, and you may find other things to fix up as well.</p>\n<p>You can post a comment on the PR once it's ready for someone else to take a look. Thanks!</p>",
        "id": 1338708,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646344274
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/bulk.20delete.20drafts.20.2319943/near/1338370\">said</a>:</p>\n<blockquote>\n<p>On a somewhat related note, should we add an option to the ellipsis menu for Drafts that says \"Manage drafts\"?  It would simply pop you into the modal just as if you had clicked on \"Drafts\".  I found myself slightly confused by our current single-item menu.  (obviously I was not totally confused, but it felt funny)</p>\n</blockquote>\n<p>Yeah, I think that's probably a good idea; not sure what the best label is.</p>",
        "id": 1339422,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1646436213
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> i cleaned up my commit history and some other small stuff i found, i think the PR is now ready for a code review (i also commented this on the pull request itself) <br>\nI just wanted to comment here again because it would be good if my other PR in the drafts overly (<a href=\"https://github.com/zulip/zulip/pull/21280\">#21280</a>) gets merged soon, because after that i have to adapt this PR a bit, so that the button placement is computed correctly.</p>",
        "id": 1341617,
        "sender_full_name": "Julia Bichler",
        "timestamp": 1646851652
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention silent\" data-user-id=\"21512\">Julia Bichler</span> for working on this one. </p>\n<p>I have picked this one up and was figuring out the design on smaller screens. I wonder if the below layout looks good or not?</p>\n<p><a href=\"/user_uploads/2/1c/UDZQI8xj5IrWYZYj4OYezc0e/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1c/UDZQI8xj5IrWYZYj4OYezc0e/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/1c/UDZQI8xj5IrWYZYj4OYezc0e/image.png\"></a></div>",
        "id": 1568814,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684006033
    },
    {
        "content": "<p>I think it's important to keep the \"select all\" checkbox horizontally aligned with the checkboxes on individual drafts.</p>",
        "id": 1568921,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1684045844
    },
    {
        "content": "<p>Okay, yeah that makes perfect sense. <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 1568934,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684050529
    },
    {
        "content": "<p>Replying to the <a href=\"https://github.com/zulip/zulip/pull/25610#issuecomment-1550151805\">comment</a> on <a href=\"https://github.com/zulip/zulip/pull/25610\">#25610</a>.</p>\n<p>When using the language as Russian, as <span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> mentioned in the comment the text wraps to 3 lines and looks something like this.</p>\n<p><a href=\"/user_uploads/2/b5/-udr8HdkICp4x5bzx0rNDq5u/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b5/-udr8HdkICp4x5bzx0rNDq5u/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b5/-udr8HdkICp4x5bzx0rNDq5u/image.png\"></a></div><p>In the above image, I find the Trash can button a bit too close to the text below DRAFTS. I wonder what can be the possible fixes we can think about. Aligning the text to the left instead of center is a possible option.</p>\n<p>BTW this is how it looks on screens of different sizes:</p>\n<ul>\n<li>\n<p><a href=\"/user_uploads/2/7e/4XxYk2YyIpKMuj5DFA9mTe3Y/Screencast-from-17-05-23-010818-AM-IST.webm\">English</a></p>\n</li>\n<li>\n<p><a href=\"/user_uploads/2/6a/734RKnHiIbWRHGZUF7mpAznl/Screencast-from-17-05-23-011048-AM-IST.webm\">Russian</a></p>\n</li>\n</ul>",
        "id": 1570437,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684266117
    },
    {
        "content": "<p>Yes, I think our life will be easier if we left-align the text under the heading.</p>",
        "id": 1570538,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1684270645
    },
    {
        "content": "<p>I should note that in general we might want to work towards not having those few paragraphs of constant text at the top of the drafts overlay; it was definitely meant as a temporary solution when first introduced.</p>",
        "id": 1570736,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1684280739
    },
    {
        "content": "<p>Making drafts sync across devices will help. ;)</p>",
        "id": 1570817,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1684284644
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/bulk.20delete.20drafts.20.2319943/near/1570538\">said</a>:</p>\n<blockquote>\n<p>Yes, I think our life will be easier if we left-align the text under the heading.</p>\n</blockquote>\n<p>Making the text to be left-align for all screen sizes can be an easy fix. I will make the changes and drop in the screenshots here.</p>",
        "id": 1570905,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684297483
    },
    {
        "content": "<p>I tried making the text under the DRAFTS to be left aligned but after doing that it was getting wrapped on narrow screens which didn't look good. </p>\n<p><a href=\"/user_uploads/2/c2/pnDNSogFJe7QmUoWeX2msp33/image.png\">Before</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c2/pnDNSogFJe7QmUoWeX2msp33/image.png\" title=\"Before\"><img src=\"/user_uploads/2/c2/pnDNSogFJe7QmUoWeX2msp33/image.png\"></a></div><p>So what I have done is I have made the text center-aligned for smaller screens and displayed the buttons below them and on a bigger screen, I have left aligned the text and the buttons are on the other end. </p>\n<p><a href=\"/user_uploads/2/39/sYRXuQFaCctCy96-5dLuMJPp/image.png\">After</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/39/sYRXuQFaCctCy96-5dLuMJPp/image.png\" title=\"After\"><img src=\"/user_uploads/2/39/sYRXuQFaCctCy96-5dLuMJPp/image.png\"></a></div>",
        "id": 1571037,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684311186
    },
    {
        "content": "<p>If the user deletes all the drafts then the text shifts back to the center. I am not sure if this shift is looking good or not.</p>\n<p>This is what it looks like on various screen sizes:</p>\n<p><a href=\"/user_uploads/2/29/KLFCAIJAqZvJxGF8hhW-U_Zp/All-Screens.webm\">All-Screens.webm</a></p>\n<p><a href=\"/user_uploads/2/37/dyUwQY-ES_Ht5AoVR2fehXx_/All-Screens-Russian.webm\">All-Screens-Russian.webm</a></p>\n<p>I wonder what folks think about this change.</p>",
        "id": 1571038,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684311208
    },
    {
        "content": "<p>This looks reasonable to me. </p>\n<blockquote>\n<p>If the user deletes all the drafts then the text shifts back to the center. I am not sure if this shift is looking good or not.</p>\n</blockquote>\n<p>I think the placement of the text should not depend on whether the selection box , and we should just keep it on the left if it was there.</p>",
        "id": 1571206,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1684341221
    },
    {
        "content": "<p>This is how it is looking like after the above-mentioned change.</p>\n<p><a href=\"/user_uploads/2/e4/3Odoyx4SAc_mQB4aDMfQDJGz/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/e4/3Odoyx4SAc_mQB4aDMfQDJGz/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/e4/3Odoyx4SAc_mQB4aDMfQDJGz/image.png\"></a></div>",
        "id": 1571348,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684348585
    },
    {
        "content": "<p>That would probably look better if we put all the text on one line.</p>",
        "id": 1571583,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1684390224
    },
    {
        "content": "<p>Thanks for the suggestion, but it looks like there's too much text on one line.</p>\n<p><a href=\"/user_uploads/2/d0/X1lTRHxiex3DXHxaadp3WUHL/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d0/X1lTRHxiex3DXHxaadp3WUHL/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/d0/X1lTRHxiex3DXHxaadp3WUHL/image.png\"></a></div>",
        "id": 1571603,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684392096
    },
    {
        "content": "<p>I think it's better to just put the 2 lines in the center when the two buttons are not visible.</p>",
        "id": 1571903,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684430833
    },
    {
        "content": "<p>Yeah, maybe. I'd want to play with the PR to see how it feels when the buttons disappear.</p>",
        "id": 1572090,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1684442048
    },
    {
        "content": "<p>Just wanted to bring this up again. So what do folks think about the proposed design of the UI? The PR being talked about is <a href=\"https://github.com/zulip/zulip/pull/25610\">#25610</a>.</p>",
        "id": 1584508,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1685733789
    },
    {
        "content": "<p>Overall I think this is looking good. It does look to me like there should be more space on the lefthand side of the Select all drafts text--much like the left- and right-hand space is balanced on the boxes for individual message drafts. I think the vertical alignment of the checkbox looks off, too. Perhaps <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> would like to chime in on those matters? For reference:</p>\n<p><a href=\"/user_uploads/2/a7/8b3HJygZQvLrxCdS4c1McNsW/Screenshot-2023-06-05-at-2.02.56-PM.png\">Screenshot-2023-06-05-at-2.02.56-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/a7/8b3HJygZQvLrxCdS4c1McNsW/Screenshot-2023-06-05-at-2.02.56-PM.png\" title=\"Screenshot-2023-06-05-at-2.02.56-PM.png\"><img src=\"/user_uploads/2/a7/8b3HJygZQvLrxCdS4c1McNsW/Screenshot-2023-06-05-at-2.02.56-PM.png\"></a></div><p>I also note that when focusing the <code>&lt;button&gt;</code> element with the keyboard, I cannot actually select all messages with Enter/Return--but I can when activating the checkbox <code>&lt;input&gt;</code> element (or actually, the label element's <code>&lt;span&gt;</code>). The button works when pressing the spacebar, but it doesn't actually check the topmost box, there in the new UI.</p>\n<p>I also have additional comments on the HTML structure, which might impact some of the alignment/CSS things here, but I'll post those on the PR itself or possibly <a class=\"stream\" data-stream-id=\"6\" href=\"/#narrow/stream/6-frontend\">#frontend</a>, as they're more technical than design-related.</p>",
        "id": 1585514,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1685992593
    },
    {
        "content": "<p>Sorry, but so far I don’t have any suggestions until I try to design this window</p>",
        "id": 1585720,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1686006375
    },
    {
        "content": "<p>I have fixed the padding thing and now there is an equal amount of padding on both sides. Also regarding the accessibility thing, I have replaced the <code>&lt;input&gt;</code> element with an icon, and that icon is changed through jQuery. The button works when pressing the spacebar but when Enter/Return is pressed it opens the highlighted -- perhaps because of the current implementation of the drafts overlay.</p>\n<p><a href=\"/user_uploads/2/3/fp1RGqLQxiLok9vuaxI4pOgm/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3/fp1RGqLQxiLok9vuaxI4pOgm/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/3/fp1RGqLQxiLok9vuaxI4pOgm/image.png\"></a></div>",
        "id": 1586652,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686082046
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"26369\">@Karl Stolley</span> For the accessibility-related questions pertaining to applying focus to the <code>&lt;button&gt;</code> element and activating the checkbox element, did you end up posting something to <a class=\"stream\" data-stream-id=\"6\" href=\"/#narrow/stream/6-frontend\">#frontend</a> or did you go to the PR?</p>",
        "id": 1586656,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686082296
    },
    {
        "content": "<p>He actually <a href=\"https://github.com/zulip/zulip/pull/25610#discussion_r1218501086\">commented</a> on the PR.</p>\n<blockquote>\n<p>I'm not feeling good about this use of a &lt;button&gt; with an embedded &lt;label&gt; wrapping the actual control--the &lt;input&gt;--which then gets an aria-hidden attribute. I understand that we do some custom checkbox things with the &lt;span&gt;, but those are not going to be as accessible as the native checkbox controls.</p>\n<p>As I noted on CZO, the button pattern is causing some unpredictable behavior for keyboard navigation as well.</p>\n<p>Is there a reason to group these elements under a button? Especially because a properly associated &lt;label&gt; element will also function to activate the input (though, again, that might be short-circuited by the use of the inner &lt;span&gt; for displaying that control)?<br>\n</p>\n</blockquote>",
        "id": 1586663,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686082596
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"26135\">@Satyam Bansal</span> Is it easy to excerpt the HTML from your current approach to here? (either the code itself or the HTML from the resulting change)</p>",
        "id": 1586664,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686082823
    },
    {
        "content": "<p>As a general comment, the drafts UI should not be doing anything exotic, so there should be a way to express the UI using standard elements and semantics.  (And, of course, it would not surprise me if the existing code doesn't do that.)</p>",
        "id": 1586665,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686082926
    },
    {
        "content": "<p>Right now the following HTML is responsible for the <code>Select all drafts</code> button:</p>\n<div class=\"codehilite\" data-code-language=\"HTML\"><pre><span></span><code><span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"button small rounded select-drafts-button\"</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"button\"</span> <span class=\"na\">role</span><span class=\"o\">=</span><span class=\"s\">\"checkbox\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">span</span><span class=\"p\">&gt;</span>{{t \"Select all drafts\" }}<span class=\"p\">&lt;/</span><span class=\"nt\">span</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">i</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"fa fa-square-o fa-lg select-state-indicator\"</span> <span class=\"na\">aria-hidden</span><span class=\"o\">=</span><span class=\"s\">\"true\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">i</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n</code></pre></div>",
        "id": 1586666,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686082955
    },
    {
        "content": "<p>By \"right now\" you mean on main, not your branch, correct?</p>",
        "id": 1586667,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686083009
    },
    {
        "content": "<p>Not on main, this isn't merged. It's only my local branch right now.</p>",
        "id": 1586668,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686083069
    },
    {
        "content": "<p>Oh, so \"right now\" refers to the current state of your branch?</p>",
        "id": 1586669,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686083130
    },
    {
        "content": "<p>I haven't pushed the code yet. So technically it's on my local branch only.</p>",
        "id": 1586670,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686083210
    },
    {
        "content": "<p>It definitely feels strange to have to specify that the role of a button is to act like a checkbox, when there is already a way in HTML to specify a checkbox.</p>",
        "id": 1586674,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686083305
    },
    {
        "content": "<p>I kind of picked this one from the code used in the buttons present at the top in the <code>Recent conversations</code> tab.</p>",
        "id": 1586675,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686083341
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"26135\">Satyam Bansal</span> <a href=\"#narrow/stream/101-design/topic/bulk.20delete.20drafts.20.2319943/near/1586675\">said</a>:</p>\n<blockquote>\n<p>I kind of picked this one from the code used in the buttons present at the top in the <code>Recent conversations</code> tab.</p>\n</blockquote>\n<p>Yeah, fair enough.</p>",
        "id": 1586676,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686083355
    },
    {
        "content": "<p>I think the general approach to accessibility for this kind of problem is to do the simplest possible thing in HTML to implement a checkbox.  And then for all the visual styling, go to CSS.</p>",
        "id": 1586678,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686083416
    },
    {
        "content": "<p>This is a checkbox in terms of semantics, correct?  We are just asking the user the boolean question of whether to select all drafts, correct?</p>",
        "id": 1586679,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686083457
    },
    {
        "content": "<p>Yeah, that makes sense. There is a checkbox but it has some text with it as well -- so not just a checkbox.</p>",
        "id": 1586680,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686083513
    },
    {
        "content": "<p>The role of <code>checkbox</code> on a button is actually not a bad choice here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/switch_role\">role=\"switch\" with aria-checked is another possibility</a>, and this should probably toggle the <code>aria-checked</code> property, too. (My problem previously was with a child <code>&lt;input&gt;</code> element inside the <code>&lt;button&gt;</code>).</p>",
        "id": 1586681,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686083547
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"26369\">@Karl Stolley</span> I guess my question here (and it's not rhetorical, I don't know the answer) is why you wouldn't just use an <code>&lt;input type=\"checkbox\"&gt;</code> here?</p>",
        "id": 1586682,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686083662
    },
    {
        "content": "<p>That is what I would prefer, but I think this has something to do with the custom checkboxes that Zulip displays. To my mind, we should at least be exposing the native checkboxes to assistive technologies, which is why I'm bothered by <code>aria-hidden</code> on a checkbox input.</p>",
        "id": 1586696,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686084070
    },
    {
        "content": "<p>This feels like a relatively easy (relative to everything being hard, haha) thing to encapsulate in a component.  I don't fully understand why Zulip needs to have fancy checkboxes, apart from a little bit of basic styling that doesn't interfere with assistive technologies.  But insofar as Zulip wants to have super sexy checkboxes, it would be nice to have a simple component that builds up the DOM and applies some styles.</p>",
        "id": 1586700,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686084191
    },
    {
        "content": "<p>Something like this can be used to do the same thing, but then the checkbox won't look like the others:</p>\n<div class=\"codehilite\" data-code-language=\"HTML\"><pre><span></span><code><span class=\"p\">&lt;</span><span class=\"nt\">label</span> <span class=\"na\">for</span><span class=\"o\">=</span><span class=\"s\">\"select-all\"</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"button small rounded select-drafts-button\"</span><span class=\"p\">&gt;</span>\n    Select all drafts\n    <span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"checkbox\"</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">\"select-all\"</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"select-state-indicator\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">span</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"checkmark\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">span</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">label</span><span class=\"p\">&gt;</span>\n</code></pre></div>",
        "id": 1586705,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686084300
    },
    {
        "content": "<p>Making an accessible checkbox should be as simple as <code>make_checkbox({label: \"Select all drafts\", callback: select_all_drafts})</code>.  This is probably the granularity where Zulip should investigate making the software more composable.</p>",
        "id": 1586709,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686084454
    },
    {
        "content": "<p>(and then you just plunk it into the appropriate place of the DOM)</p>",
        "id": 1586710,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686084493
    },
    {
        "content": "<p>Agreed. What I like about your pattern there, Satyam, is that a label properly associated with a form element can also be activated to check and uncheck the box (either nested here, but also with the <code>for</code> attribute...which generally makes microlayout easier, because the label and the element can be siblings in, e.g., a flexbox or grid container).</p>",
        "id": 1586713,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686084556
    },
    {
        "content": "<p>I know that that could be a big rabbit hole to go down, but the Drafts UI is super low stakes.  It's really not up for any design awards.  It's purely functional in nature.</p>",
        "id": 1586714,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686084561
    },
    {
        "content": "<p>If we can do the Drafts checkbox in a more accessible (and simple) way, I would consider that a victory, even if there was a temporary lack of consistency with the rest of the app.</p>",
        "id": 1586715,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686084618
    },
    {
        "content": "<p>But that's just my opinion, of course. <span aria-label=\"laughter tears\" class=\"emoji emoji-1f602\" role=\"img\" title=\"laughter tears\">:laughter_tears:</span></p>",
        "id": 1586717,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686084634
    },
    {
        "content": "<p>Regardless of how we componentize, etc., having a <code>&lt;button&gt;</code>-style element with <code>role=switch</code> makes good sense (and gives wide design latitude) for things like toggles (checkboxes, but also starred/not starred, etc.)</p>",
        "id": 1586718,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686084665
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"26369\">Karl Stolley</span> <a href=\"#narrow/stream/101-design/topic/bulk.20delete.20drafts.20.2319943/near/1586718\">said</a>:</p>\n<blockquote>\n<p>Regardless of how we componentize, etc., having a <code>&lt;button&gt;</code>-style element with <code>role=switch</code> makes good sense (and gives wide design latitude) for things like toggles (checkboxes, but also starred/not starred, etc.)</p>\n</blockquote>\n<p>This might be a nit, but why <code>&lt;button&gt;</code> with <code>role</code> instead of <code>&lt;input type=\"checkbox\"&gt;</code>? (I think we're on the same page for your general points here, to be clear.)</p>",
        "id": 1586721,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686084773
    },
    {
        "content": "<p>For reference, here is what Recent Topics does.  It feels completely unnecessary to me that we need a super-stylized icon for the square that you click on, but that's just me being too simple-minded, I guess. &lt;/sarcasm&gt;</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;button data-filter=&quot;unread&quot; type=&quot;button&quot; class=&quot;btn btn-default btn-recent-filters &quot; role=&quot;checkbox&quot; aria-checked=&quot;false&quot;&gt;\n    &lt;i class=&quot;fa fa-square-o&quot;&gt;&lt;/i&gt;\n    Unread\n&lt;/button&gt;\n</code></pre></div>",
        "id": 1586737,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686085559
    },
    {
        "content": "<p>It's way easier to style a button to your heart's content in CSS than a checkbox, which is derived from the underlying OS's chrome.</p>",
        "id": 1586743,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686085649
    },
    {
        "content": "<p>I agree that it's a bit harder to style a checkbox than a button, but it's certainly not impossible: <a href=\"https://www.w3docs.com/snippets/css/how-to-style-a-checkbox-with-css.html\">https://www.w3docs.com/snippets/css/how-to-style-a-checkbox-with-css.html</a></p>\n<p>But I guess your argument would be that <code>role=switch</code> basically makes the <code>&lt;button&gt;</code> behave semantically like a checkbox to any users needing assistive technology?  And then that does indeed make styling a bit easier?</p>",
        "id": 1586750,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686085942
    },
    {
        "content": "<p>I am truly baffled by the need for a square icon.  Vanilla checkboxes look like this.  I totally understand wrapping them with a nice colored border, but do we really need to re-invent the square?</p>\n<p><a href=\"/user_uploads/2/4d/yuXLZY2PYoqKnRaGwfr5WO43/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4d/yuXLZY2PYoqKnRaGwfr5WO43/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/4d/yuXLZY2PYoqKnRaGwfr5WO43/image.png\"></a></div>",
        "id": 1586753,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686086310
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell</span> <a href=\"#narrow/stream/101-design/topic/bulk.20delete.20drafts.20.2319943/near/1586750\">said</a>:</p>\n<blockquote>\n<p>I agree that it's a bit harder to style a checkbox than a button, but it's certainly not impossible: <a href=\"https://www.w3docs.com/snippets/css/how-to-style-a-checkbox-with-css.html\">https://www.w3docs.com/snippets/css/how-to-style-a-checkbox-with-css.html</a></p>\n</blockquote>\n<p>Ah, no--that article's code, too, uses a <code>&lt;span&gt;</code> to create custom checkboxes. The system-native ones are hidden with <code>visibility: hidden</code> (which, again, is bad accessibility).</p>",
        "id": 1587373,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686145863
    },
    {
        "content": "<p>Just to be clear, I am not sure what the right answers are here. But I feel like it's a pretty good thing to a deep dive on. It's pretty fundamental.</p>",
        "id": 1587377,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686146120
    },
    {
        "content": "<p>This implementation kind of makes the most sense to me:</p>\n<div class=\"codehilite\" data-code-language=\"HTML\"><pre><span></span><code><span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"button small rounded select-drafts-button\"</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"button\"</span> <span class=\"na\">role</span><span class=\"o\">=</span><span class=\"s\">\"checkbox\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">span</span><span class=\"p\">&gt;</span>{{t \"Select all drafts\" }}<span class=\"p\">&lt;/</span><span class=\"nt\">span</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">i</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"fa fa-square-o fa-lg select-state-indicator\"</span> <span class=\"na\">aria-hidden</span><span class=\"o\">=</span><span class=\"s\">\"true\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">i</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n</code></pre></div>\n<p>It also makes the whole button accessible. I wonder if we want to make the checkbox inside the button accessible as well (because that doesn't make a lot of sense to me).</p>",
        "id": 1587378,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686146206
    },
    {
        "content": "<p>The <code>&lt;button&gt;</code> and its label text in the span carries the weight for making the control accessible. What's needed is a toggled <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-checked\"><code>aria-checked</code> attribute</a> to communicate state...the icon isn't going to be useful to assistive technologies in that regard.</p>",
        "id": 1587385,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686146385
    },
    {
        "content": "<p>To clarify: <code>aria-checked</code> would go on the <code>&lt;button&gt;</code> element</p>",
        "id": 1587386,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686146434
    },
    {
        "content": "<p>Okay, that makes perfect sense to me.</p>",
        "id": 1587389,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686146575
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell</span> <a href=\"#narrow/stream/101-design/topic/bulk.20delete.20drafts.20.2319943/near/1587377\">said</a>:</p>\n<blockquote>\n<p>Just to be clear, I am not sure what the right answers are here. But I feel like it's a pretty good thing to a deep dive on. It's pretty fundamental.</p>\n</blockquote>\n<p>It is fundamental, but the main insurmountable point is that elements like checkboxes and radio buttons are rooted in the underlying OS, and so do not play very nicely at all with CSS beyond things like sizing.</p>",
        "id": 1587392,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686146634
    },
    {
        "content": "<p>I think CSS can actually do a lot here (certainly beyond sizing), so I am not sure I completely buy your premise.  But if it's practical to just turn checkboxes into buttons to make the styling easier, then I guess it makes sense, as long as you get the accessibility right.</p>",
        "id": 1587395,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686146855
    },
    {
        "content": "<p>I'd love to be proven wrong, for sure :) But go see for yourself: <a href=\"https://codepen.io/karlstolley/pen/WNYNagR\">https://codepen.io/karlstolley/pen/WNYNagR</a> -- none of those fundamental properties (color, background-color, border) has any effect on the checkbox, which looks different even between Firefox and Chrome running on the same OS (MacOS, in this case). See also the abysmal state of things as documented on <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Forms/Property_compatibility_table_for_form_controls#check_boxes_and_radio_buttons\">MDN's compatibility tables for CSS properties as they affect checkbox and radio buttons</a><br>\n<a href=\"/user_uploads/2/aa/oHnhVb1BeS_HEcjIl4A4cMvG/firefox.png\">firefox.png</a><br>\n<a href=\"/user_uploads/2/8/ikXRlfa12iCySRuEE3JmR6T5/chrome.png\">chrome.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/aa/oHnhVb1BeS_HEcjIl4A4cMvG/firefox.png\" title=\"firefox.png\"><img src=\"/user_uploads/2/aa/oHnhVb1BeS_HEcjIl4A4cMvG/firefox.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/8/ikXRlfa12iCySRuEE3JmR6T5/chrome.png\" title=\"chrome.png\"><img src=\"/user_uploads/2/8/ikXRlfa12iCySRuEE3JmR6T5/chrome.png\"></a></div>",
        "id": 1587402,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686147824
    },
    {
        "content": "<p>For comparison, check out the state of things for <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Forms/Property_compatibility_table_for_form_controls#buttons\">button elements</a> on that same page.</p>\n<p>Note that I am not advocating for buttons where semantically a checkbox (or, better, a set of related checkboxes grouped in, say, <code>&lt;fieldset&gt;</code>) is the better, more accessible choice.</p>",
        "id": 1587405,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1686147946
    },
    {
        "content": "<p>I wish I could prove you wrong, but the evidence here is pretty compelling.  It's unfortunate, for sure.  I kinda wish we should stick with generic styling, but that's not the hill I want to die on. I do hope we can eventually make a component here, but that is probably also a battle for another day.</p>\n<p>So, to bring it back, I think Karl is advising Satyam to add <code>aria-checked</code> to the <code>button</code> tag, correct?</p>",
        "id": 1587635,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686163571
    },
    {
        "content": "<p><a href=\"https://www.youtube.com/shorts/BZgoXeKKR88\">https://www.youtube.com/shorts/BZgoXeKKR88</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"BZgoXeKKR88\" href=\"https://www.youtube.com/shorts/BZgoXeKKR88\"><img src=\"/external_content/fd08fd5bb3d3711ec2599af73d0b647f30f03da1/68747470733a2f2f692e7974696d672e636f6d2f76692f425a676f58654b4b5238382f64656661756c742e6a7067\"></a></div>",
        "id": 1587727,
        "sender_full_name": "Steve Howell",
        "timestamp": 1686166736
    },
    {
        "content": "<blockquote>\n<p>So, to bring it back, I think Karl is advising Satyam to add aria-checked to the button tag, correct?</p>\n</blockquote>\n<p>Yes, I have added the <code>aria-checked</code> property to the button and then changed it via jQuery whenever required. I also tested this using a screen reader and it behaved as expected.</p>",
        "id": 1587816,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686168886
    },
    {
        "content": "<p>I was wondering if this background color for the two buttons in the Dark Theme is a good one.</p>\n<p><a href=\"/user_uploads/2/44/WgBOIOJvp7a7YZSX64PTnk3s/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/44/WgBOIOJvp7a7YZSX64PTnk3s/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/44/WgBOIOJvp7a7YZSX64PTnk3s/image.png\"></a></div><p>and this is the color when the button is focused through the keyboard/mouse. Although there is nothing for the <code>hover</code> event, I am not sure if that is required or not.</p>\n<p><a href=\"/user_uploads/2/5d/doOU3rgJSFgc64uCyVgA5lBq/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5d/doOU3rgJSFgc64uCyVgA5lBq/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5d/doOU3rgJSFgc64uCyVgA5lBq/image.png\"></a></div>",
        "id": 1589871,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686344751
    },
    {
        "content": "<p>For now I think it is better be the same, so the first image looks better</p>",
        "id": 1590595,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1686443351
    },
    {
        "content": "<p>I think I might have created some confusion, so the first image just shows the background of the buttons when they are not in focus and the second is when the <code>Select all drafts</code> button is focused by the keyboard.</p>",
        "id": 1590905,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686510181
    },
    {
        "content": "<p>I suggest to leave focused state as browser default</p>",
        "id": 1590930,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1686518570
    },
    {
        "content": "<p>So this is how they look now.</p>\n<p><a href=\"/user_uploads/2/fb/d9Nwd_zeat0UBL5J1cazsFz4/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/fb/d9Nwd_zeat0UBL5J1cazsFz4/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/fb/d9Nwd_zeat0UBL5J1cazsFz4/image.png\"></a></div><p>Focussing on the <code>Delete</code> icon using the keyboard:</p>\n<p><a href=\"/user_uploads/2/5f/Vi27w0qFuRzvwH6XX0B-wSap/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5f/Vi27w0qFuRzvwH6XX0B-wSap/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5f/Vi27w0qFuRzvwH6XX0B-wSap/image.png\"></a></div><p>I tried leaving the focused state as the browser default but it had no effect whatsoever to the background color and hence I decided to go with <code>background-color: hsl(228deg 11% 17%);</code></p>",
        "id": 1591523,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1686600298
    }
]