[
    {
        "content": "<p>Hey Guys,<br>\nWhat do you think about the \"Save and Clear\" button design?</p>\n<p><a href=\"user_uploads/2/91/RWj_cAXQTyS2foJroIiILlj7/save_and_clear_button.gif\">save_and_clear_button.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"user_uploads/2/91/RWj_cAXQTyS2foJroIiILlj7/save_and_clear_button.gif\" title=\"save_and_clear_button.gif\"><img src=\"user_uploads/2/91/RWj_cAXQTyS2foJroIiILlj7/save_and_clear_button.gif\"></a></div><p>Should we replace the button with an icon?</p>",
        "id": 1197949,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1622396447
    },
    {
        "content": "<table>\n<thead>\n<tr>\n<th>Dark Mode</th>\n<th>Light Mode</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"/user_uploads/2/48/QBwyCFWGnRyrxF8fg0W6048S/Screenshot-2021-05-30-at-11.51.37-PM.png\">dark_mode.png</a></td>\n<td><a href=\"/user_uploads/2/ca/nfGy_ibgAzPi9V1XsnxaGSI_/Screenshot-2021-05-30-at-11.51.55-PM.png\">light_mode.png</a></td>\n</tr>\n</tbody>\n</table>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/48/QBwyCFWGnRyrxF8fg0W6048S/Screenshot-2021-05-30-at-11.51.37-PM.png\" title=\"dark_mode.png\"><img src=\"/user_uploads/2/48/QBwyCFWGnRyrxF8fg0W6048S/Screenshot-2021-05-30-at-11.51.37-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/ca/nfGy_ibgAzPi9V1XsnxaGSI_/Screenshot-2021-05-30-at-11.51.55-PM.png\" title=\"light_mode.png\"><img src=\"/user_uploads/2/ca/nfGy_ibgAzPi9V1XsnxaGSI_/Screenshot-2021-05-30-at-11.51.55-PM.png\"></a></div>",
        "id": 1197971,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1622399118
    },
    {
        "content": "<p>Hm, it looks a little funny next to the \"Press Enter to send\" text... I wonder if it would be better if it had white text on a darker background, to be more similar to the <strong>Send</strong> button?</p>",
        "id": 1198779,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1622572080
    },
    {
        "content": "<p>Is it like something \"save for later?\" that saves in draft?</p>",
        "id": 1198854,
        "sender_full_name": "Priyam Seth (Signior-X)",
        "timestamp": 1622574786
    },
    {
        "content": "<p>I feel like the the bottom right get's cluttered, feels like having a lot of options. so I feel it is removing the simplicity that we have.</p>",
        "id": 1198855,
        "sender_full_name": "Priyam Seth (Signior-X)",
        "timestamp": 1622574850
    },
    {
        "content": "<p>How does this look?</p>\n<p>With white font color,<br>\n<a href=\"/user_uploads/2/af/qiMrRlEr_dMOq-NOE2ebwD6K/Screenshot-2021-06-02-at-12.55.16-PM.png\">Screenshot-2021-06-02-at-12.55.16-PM.png</a> <br>\n<a href=\"/user_uploads/2/1e/hI1a6ee-2KaCjJJ3qD6yr3v5/Screenshot-2021-06-02-at-12.55.23-PM.png\">Screenshot-2021-06-02-at-12.55.23-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/af/qiMrRlEr_dMOq-NOE2ebwD6K/Screenshot-2021-06-02-at-12.55.16-PM.png\" title=\"Screenshot-2021-06-02-at-12.55.16-PM.png\"><img src=\"/user_uploads/2/af/qiMrRlEr_dMOq-NOE2ebwD6K/Screenshot-2021-06-02-at-12.55.16-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/1e/hI1a6ee-2KaCjJJ3qD6yr3v5/Screenshot-2021-06-02-at-12.55.23-PM.png\" title=\"Screenshot-2021-06-02-at-12.55.23-PM.png\"><img src=\"/user_uploads/2/1e/hI1a6ee-2KaCjJJ3qD6yr3v5/Screenshot-2021-06-02-at-12.55.23-PM.png\"></a></div>",
        "id": 1199360,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1622618938
    },
    {
        "content": "<p>With light greyish font color,<br>\n<a href=\"/user_uploads/2/1/VqRxhhY4j7Vik8FkaW_iPZ3D/Screenshot-2021-06-02-at-1.04.35-PM.png\">Screenshot-2021-06-02-at-1.04.35-PM.png</a><br>\n<a href=\"/user_uploads/2/df/DM_v_h1RMA1kSrriScSvwAJm/Screenshot-2021-06-02-at-1.04.31-PM.png\">Screenshot-2021-06-02-at-1.04.31-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1/VqRxhhY4j7Vik8FkaW_iPZ3D/Screenshot-2021-06-02-at-1.04.35-PM.png\" title=\"Screenshot-2021-06-02-at-1.04.35-PM.png\"><img src=\"/user_uploads/2/1/VqRxhhY4j7Vik8FkaW_iPZ3D/Screenshot-2021-06-02-at-1.04.35-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/df/DM_v_h1RMA1kSrriScSvwAJm/Screenshot-2021-06-02-at-1.04.31-PM.png\" title=\"Screenshot-2021-06-02-at-1.04.31-PM.png\"><img src=\"/user_uploads/2/df/DM_v_h1RMA1kSrriScSvwAJm/Screenshot-2021-06-02-at-1.04.31-PM.png\"></a></div><p>P.S: I liked the variant with the greyish one.</p>",
        "id": 1199361,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1622619332
    },
    {
        "content": "<p>I'm feeling that it's more intuitive to have buttons look brighter, while the greyish look may make it look somewhat disabled.</p>",
        "id": 1199422,
        "sender_full_name": "Zixuan James Li",
        "timestamp": 1622633154
    },
    {
        "content": "<p>One theory is that this button should go in the upper-right, next to the <code>x</code>, and maybe be an icon rather than a labeled button?</p>",
        "id": 1199619,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1622658311
    },
    {
        "content": "<p>Ideas for what icon? Are <a href=\"https://fontawesome.com/v4.7/icon/floppy-o\">floppy disks (fa-floppy-o)</a> still a thing? :)</p>",
        "id": 1199630,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1622658643
    },
    {
        "content": "<p>(It has an <code>fa-save</code> alias)</p>",
        "id": 1199635,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1622658813
    },
    {
        "content": "<p>Yep, I saw that. I expect if people have an idea of what it means, it will be <strong>save</strong>; the question is what fraction of users might be confused.</p>",
        "id": 1199643,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1622658953
    },
    {
        "content": "<p>I think users will recognize a floppy-disk icon as meaning \"save\". But is that the right thing to communicate here? We're saving drafts all along as you edit, right?</p>",
        "id": 1199680,
        "sender_full_name": "Greg Price",
        "timestamp": 1622662198
    },
    {
        "content": "<p>Yeah, good point -- it might cause people to think it's not saving as you go along... I was leaning towards writing out the words because I couldn't think of an icon that would actually express the full action, though of course we could have a tool tip to describe it.</p>",
        "id": 1199823,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1622668137
    },
    {
        "content": "<p>I think the bottom right is nice conceptually, in that it's an alternative to clicking <code>Send</code>. If you're not going to send another message right now (i.e. you're thinking about the <code>x</code> button), there's no reason to <code>save &amp; clear</code> your draft. But I don't have a great solution for making the visual design look nice.</p>",
        "id": 1199825,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1622668309
    },
    {
        "content": "<p>I'm not entirely sure what the intended UX is here. Is the idea that this is for the use case of, I'm in the middle of composing a long message and there's something new I want to make a quick reply to first?</p>\n<p>(IOW, what a hotkeys user might do with Escape, c.)</p>\n<p>After sending the quick reply, what happens next, and how does the user go on to resume the draft where they left off?</p>",
        "id": 1199865,
        "sender_full_name": "Greg Price",
        "timestamp": 1622670929
    },
    {
        "content": "<p>Yeah, that's the use case.</p>",
        "id": 1199899,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1622672162
    },
    {
        "content": "<p>This is to unblock us loading drafts into the composebox by default, right? If so, I'm not totally convinced by this approach — it's a lot of screen real estate for what I'd imagine is a pretty uncommon action, and one that users probably have more intuitive ways to deal with (copy draft, paste into text editor/doc/etc, write quick reply, copy draft back over). Or even write short response above the draft, cut the draft, send the short response, and paste the draft back into the composebox so it's re-saved.</p>\n<p>This seems like a very niche feature, which is unlikely to be very generally useful or understandable, and my preference would be to just have it so that one can only have one draft per topic (or, if we think that will seriously annoy power users, add an option to disable auto-loading drafts, which we will possibly want to do anyways).</p>",
        "id": 1200016,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1622685039
    },
    {
        "content": "<p>I also think it would be fine to special-case the case where someone does Ctrl+A, Backspace or some other method of deleting all of the text in the composebox at once (triple-click, etc), and preserving the draft in that case — I think that'll be much more useful to people, since a significant number of people probably already delete unwanted messages in that way.</p>",
        "id": 1200018,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1622685147
    },
    {
        "content": "<p>Yeah, I certainly am not happy with the visuals of what has been prototyped here.  It's worth thinking about the fact that we already have a \"Drafts\" thing in the compose box that is invisible to people; it's possible that we want to be extending/adjusting that instead visually.</p>",
        "id": 1200045,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1622687606
    },
    {
        "content": "<p>One not super thought out idea I've had in this space is what if there's some sort of <code>Up/Down</code> style keyboard shortcut to cycle through drafts to that recipient without leaving the leaving the compose box.  E.g. maybe <code>Alt+Up</code> would take you to an empty/new draft and <code>Alt+Down</code> would take you to the next draft (if any) to that recipient.</p>\n<p>And then we'd have some sort of up/down widgets attached to a \"Drafts\" thingy as well for mouse users.</p>",
        "id": 1200048,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1622687724
    },
    {
        "content": "<p>I'm pretty sure I would use a shortcut like that! I regularly did the equivalent as a barnowl/Zephyr user, and do occasionally miss it on Zulip.</p>",
        "id": 1200049,
        "sender_full_name": "Greg Price",
        "timestamp": 1622687774
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/save.20and.20clear.20button.20design/near/1200018\">said</a>:</p>\n<blockquote>\n<p>I also think it would be fine to special-case the case where someone does Ctrl+A, Backspace or some other method of deleting all of the text in the composebox at once (triple-click, etc), and preserving the draft in that case — I think that'll be much more useful to people, since a significant number of people probably already delete unwanted messages in that way.</p>\n</blockquote>\n<p>That's interesting, though I'll note that other users have the opposite intuition: That doing so should be a <a href=\"https://github.com/zulip/zulip/pull/18656\">way to delete a draft</a> rather than save one (I think currently that does save).</p>",
        "id": 1200050,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1622687837
    },
    {
        "content": "<p>I agree showing the  \"Save &amp; Clear\" button looks a bit odd. </p>\n<p>How about if we instead show the <a href=\"https://www.flaticon.com/free-icon/trash_2424877?term=recycle%20bin&amp;page=1&amp;position=11&amp;page=1&amp;position=11&amp;related_id=2424877&amp;origin=tag\">recycle bin icon</a> with the tooltip of \"Save and Clear\".<br>\n(<a href=\"https://image.flaticon.com/icons/png/512/2424/2424877.png\">icon.png</a>)</p>\n<div class=\"message_inline_image\"><a href=\"https://image.flaticon.com/icons/png/512/2424/2424877.png\" title=\"icon.png\"><img src=\"/external_content/b4c85576802db68945b5390ccf8f8ae51e7b3abc/68747470733a2f2f696d6167652e666c617469636f6e2e636f6d2f69636f6e732f706e672f3531322f323432342f323432343837372e706e67\"></a></div><p>To make the icon more visible, maybe we hide the icon if the text's length is &lt;=2 and fade-in when the length &gt;= 3.</p>\n<p>I am not sure what might be the best place for it but maybe beside the \"GIF\" icon.</p>\n<p>P.S: I agree that the user might confuse it with the \"Delete All\" button, but it also does that.</p>",
        "id": 1200257,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1622727542
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/save.20and.20clear.20button.20design/near/1200050\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/save.20and.20clear.20button.20design/near/1200018\">said</a>:</p>\n<blockquote>\n<p>I also think it would be fine to special-case the case where someone does Ctrl+A, Backspace or some other method of deleting all of the text in the composebox at once (triple-click, etc), and preserving the draft in that case — I think that'll be much more useful to people, since a significant number of people probably already delete unwanted messages in that way.</p>\n</blockquote>\n<p>That's interesting, though I'll note that other users have the opposite intuition: That doing so should be a <a href=\"https://github.com/zulip/zulip/pull/18656\">way to delete a draft</a> rather than save one (I think currently that does save).</p>\n</blockquote>\n<p>I think so current behavior confuses the normal user(as it goes against the natural behavior) and we should delete the draft.</p>",
        "id": 1200263,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1622728339
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/save.20and.20clear.20button.20design/near/1200048\">said</a>:</p>\n<blockquote>\n<p>One not super thought out idea I've had in this space is what if there's some sort of <code>Up/Down</code> style keyboard shortcut to cycle through drafts to that recipient without leaving the leaving the compose box.  E.g. maybe <code>Alt+Up</code> would take you to an empty/new draft and <code>Alt+Down</code> would take you to the next draft (if any) to that recipient.</p>\n<p>And then we'd have some sort of up/down widgets attached to a \"Drafts\" thingy as well for mouse users.</p>\n</blockquote>\n<p>I like that idea as a replacement for a <code>Save &amp; Clear</code> button! Maybe just up and down triangles (carets) next to <code>Drafts</code> for cycling through with the mouse, including the up one having the save &amp; clear functionality when  you're at the top draft already?</p>",
        "id": 1200306,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1622733843
    },
    {
        "content": "<p>I also like this idea! <br>\nShould we use the up/down button or some sort of shortcuts?</p>",
        "id": 1201255,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1622823756
    },
    {
        "content": "<p>I would consider implementing it as keyboard-only as a first commit, because I expect the hard part of this feature will be figuring out the mouse UI for it, and that may involve a lot of iteration on the visuals wrapping calls to the functions we write for iterating through drafts.</p>",
        "id": 1201271,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1622824211
    },
    {
        "content": "<p>I've opened the WIP PR for this <a href=\"https://github.com/zulip/zulip/pull/18718\">#18718</a>.</p>\n<p>We can rotate through drafts using <code>Cmd</code> + <code>Up</code>/<code>Down</code> Arrow Keys in Mac and <code>Ctrl</code> + <code>Up</code>/<code>Down</code> Arrow Keys in Windows.</p>\n<p>Here is the demo,<br>\n<a href=\"/user_uploads/2/21/kRhwuh2TpE0ORJCdhXHoP6S_/rotate_draft_in_compose_box.gif\">rotate_drafts_in_compose_box.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/21/kRhwuh2TpE0ORJCdhXHoP6S_/rotate_draft_in_compose_box.gif\" title=\"rotate_drafts_in_compose_box.gif\"><img src=\"/user_uploads/2/21/kRhwuh2TpE0ORJCdhXHoP6S_/rotate_draft_in_compose_box.gif\"></a></div><p>(It will also work similarly for PMs drafts.)</p>\n<p>I'd really appreciate any suggestion/thought on this!</p>",
        "id": 1201922,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1622939663
    },
    {
        "content": "<p>I had been imagining that it would just search drafts with a recipient matching the current narrow or current compose box recipient?  Not sure what seems intuitive to others here.</p>",
        "id": 1203288,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623107935
    },
    {
        "content": "<p>Yeah, I think that's more intuitive -- this is probably not the best way to switch the context that you're sending a message to, and could cause confusion.</p>",
        "id": 1203316,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1623108843
    },
    {
        "content": "<p>What should happen if the recipient fields are empty (eg: Stream and Topic both are empty, Stream name is present but the topic is empty)? It shouldn't load the draft?</p>",
        "id": 1203541,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623136861
    },
    {
        "content": "<p>Also, What do you guys think about this?</p>\n<p><strong>Horizontal alignment of buttons</strong>,<br>\n<a href=\"/user_uploads/2/b0/xGeAhaFIUV_AfVG4V_sUZPTT/horizontal-alignment-1.png\">horizontal-alignment-1.png</a><br>\n<a href=\"/user_uploads/2/ea/s6ZxXL4VDOKch-1kyjKF9QN-/horizontal-alignment-2.png\">horizontal-alignment-2.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b0/xGeAhaFIUV_AfVG4V_sUZPTT/horizontal-alignment-1.png\" title=\"horizontal-alignment-1.png\"><img src=\"/user_uploads/2/b0/xGeAhaFIUV_AfVG4V_sUZPTT/horizontal-alignment-1.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/ea/s6ZxXL4VDOKch-1kyjKF9QN-/horizontal-alignment-2.png\" title=\"horizontal-alignment-2.png\"><img src=\"/user_uploads/2/ea/s6ZxXL4VDOKch-1kyjKF9QN-/horizontal-alignment-2.png\"></a></div><p><strong>Vertical alignment of buttons</strong>,<br>\n<a href=\"/user_uploads/2/4/OJQ8kSbY0Pj64HIeU5DFTQ2k/vertical-alignment-1.png\">vertical-alignment-1.png</a><br>\n<a href=\"/user_uploads/2/18/o9z7yDshKYczE-vgxOuBH_rn/vertical-alignment-2.png\">vertical-alignment-2.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4/OJQ8kSbY0Pj64HIeU5DFTQ2k/vertical-alignment-1.png\" title=\"vertical-alignment-1.png\"><img src=\"/user_uploads/2/4/OJQ8kSbY0Pj64HIeU5DFTQ2k/vertical-alignment-1.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/18/o9z7yDshKYczE-vgxOuBH_rn/vertical-alignment-2.png\" title=\"vertical-alignment-2.png\"><img src=\"/user_uploads/2/18/o9z7yDshKYczE-vgxOuBH_rn/vertical-alignment-2.png\"></a></div><p>P.S: I liked the second one, should I increase it button size?</p>",
        "id": 1203546,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623137342
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"17964\">@Riken Shah (Riken-Shah)</span> I think the larger button size in the first one is better, but I'm also thinking we may end up wanting to move \"Drafts\" to the top area alongside the \"Write | Preview\" widget proposed in <a class=\"stream-topic\" data-stream-id=\"137\" href=\"/#narrow/stream/137-feedback/topic/compose.20preview.20widget\">#feedback &gt; compose preview widget</a>.</p>",
        "id": 1204511,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623196044
    },
    {
        "content": "<p>So it's possible that we should pause UI work on this and try to get that design implemented.</p>",
        "id": 1204512,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1623196063
    },
    {
        "content": "<p>Now, it will only load the draft if the composed state recipient matches the draft's recipient. </p>\n<p>You can see the demo of it <a href=\"https://github.com/zulip/zulip/pull/18718#issue-662674468\">here</a>.</p>\n<p>P.S: I avoided going with the current narrow state as sometimes it might be confusing for the user. (For example, If the user is narrowed to the topic and he opens compose box with <code>c</code> then it will have no topic in the compose box yet the user would be able to rotate through drafts.)  </p>\n<p>Though, if we want to go with the current narrow state then I just need to change one line.<br>\n(PR - <a href=\"https://github.com/zulip/zulip/pull/18718\">#18718</a>)</p>",
        "id": 1205060,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623248302
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17964\">Riken Shah (Riken-Shah)</span> <a href=\"#narrow/stream/101-design/topic/save.20and.20clear.20button.20design/near/1203541\">said</a>:</p>\n<blockquote>\n<p>What should happen if the recipient fields are empty (eg: Stream and Topic both are empty, Stream name is present but the topic is empty)? It shouldn't load the draft?</p>\n</blockquote>\n<p>We decided not to auto-load drafts in this case, but I think the \"down\" button should still take you to the most recent draft for whatever partial/empty recipient is chosen.</p>",
        "id": 1205110,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1623252786
    },
    {
        "content": "<p>One comment on the UI, which may continue to be relevant if we move the widget, is that it's currently not very clear that the arrows are associated with Drafts, as opposed to being an unrelated widget. Playing with spacing (putting the arrows clearly closer to Drafts than anything else) should help.</p>\n<p>I think having the arrows be a  different color than the <code>Drafts</code> link is another reason they don't look obviously related.</p>",
        "id": 1205114,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1623253032
    },
    {
        "content": "<blockquote>\n<p>I think the \"down\" button should still take you to the most recent draft for whatever partial/empty recipient is chosen</p>\n</blockquote>\n<p>It should just load the recent draft and would only be able to load another draft if the user has other drafts with the same recipient, right?</p>\n<p>Also, In the case of PMs, we would need the exact list of users, right? <br>\n(We wouldn't load the draft if the user has only typed user x and when clicking on the \"down\" button it loads the draft with user x and y.)</p>\n<p>P.S: Currently, I have restricted to load the draft if the recipient is partially chosen or empty.</p>",
        "id": 1205215,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623257437
    },
    {
        "content": "<p>Should we display the warning above compose box if the user tried to load the prev/next draft but there is no such draft exist?</p>\n<p>Because in the UI, will have the \"Up\"/\"Down\" button and we can disable it, But in the case of shortcuts user wouldn't know if the shortcut worked or not?</p>",
        "id": 1205216,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623257630
    },
    {
        "content": "<p>I have one more concern, currently, we don't show the tooltip while we rotate through drafts.</p>\n<p>Can it create confusion in a user's mind that their current message is deleted?</p>\n<p>Also, we can't show the tooltip because the compose box is open, i.e: It will look weird if the tooltip is pointing towards the \"Send\" button.</p>",
        "id": 1205219,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623258027
    },
    {
        "content": "<blockquote>\n<p>It should just load the recent draft and would only be able to load another draft if the user has other drafts with the same recipient, right?</p>\n</blockquote>\n<blockquote>\n<p>Also, In the case of PMs, we would need the exact list of users, right? <br>\n(We wouldn't load the draft if the user has only typed user x and when clicking on the \"down\" button it loads the draft with user x and y.)</p>\n</blockquote>\n<p>Yes, both of those sound right to me.</p>",
        "id": 1205695,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1623286538
    },
    {
        "content": "<blockquote>\n<p>Should we display the warning above compose box if the user tried to load the prev/next draft but there is no such draft exist?<br>\nBecause in the UI, will have the \"Up\"/\"Down\" button and we can disable it, But in the case of shortcuts user wouldn't know if the shortcut worked or not?</p>\n</blockquote>\n<p>Hm, maybe we should visually indicate when the button is disabled (fade it)?</p>",
        "id": 1205698,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1623286734
    },
    {
        "content": "<p>Few more doubts regarding the \"Loading the most recent draft if partial/empty recipient is chosen\" feature,</p>\n<ul>\n<li>\n<p>Should we allow the user to load the most recent draft if the stream and the topic field are selected, but compose message is empty?</p>\n</li>\n<li>\n<p>If the most recent draft has partially filed recipients or empty should we consider loading it or go to the next completely filled recipients draft?</p>\n</li>\n</ul>",
        "id": 1205868,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623328484
    },
    {
        "content": "<p>Should we continue UI discussion as there is mention for the \"Draft\" button location in <a href=\"https://github.com/zulip/zulip/pull/18757\">#18757</a> or Should we wait until it is implemented?</p>",
        "id": 1205965,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623338448
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17964\">Riken Shah (Riken-Shah)</span> <a href=\"#narrow/stream/101-design/topic/save.20and.20clear.20button.20design/near/1205965\">said</a>:</p>\n<blockquote>\n<p>Should we continue UI discussion as there is mention for the \"Draft\" button location in <a href=\"https://github.com/zulip/zulip/pull/18757\">#18757</a> or Should we wait until it is implemented?</p>\n</blockquote>\n<p>Ahh, sorry for the typo, </p>\n<p>Should we continue UI discussion as there is <em>no</em> mention of the \"Draft\" button location in <a href=\"https://github.com/zulip/zulip/pull/18757\">#18757</a> or Should we wait until it is implemented?</p>",
        "id": 1206741,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1623383880
    },
    {
        "content": "<p>Hey folks, I was just going through my pending PRs. <br>\nI am curious, do we still need this feature (Rotating drafts in compose box with the help of buttons or keyboard shortcut)?</p>",
        "id": 1359178,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1648986821
    },
    {
        "content": "<p>Instead of having the buttons in the compose, we could make the <code>Drafts</code> tooltip interactive with those buttons.</p>",
        "id": 1359233,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1648998626
    },
    {
        "content": "<p>I think there are two design issues here:</p>\n<p><strong>(1) How to view multiple drafts for a conversation if multiple exist</strong></p>\n<p>The rotation idea sounds nice for keyboard users.</p>\n<p>For mouse users: I think we could have the \"Drafts\" button open <em>only the drafts for the current narrow/conversation</em>.</p>\n<p><strong>(2) How to start a new message when a draft has been autoloaded in the compose box</strong></p>\n<p>The keyboard-powered message rotation could eventually lead to an empty compose box, but I feel like that wouldn't be very intuitive.</p>\n<p>I'm not really sure what the best thing to do in this situation is, and that's also where the \"save and clear\" button idea came from. I think a button like that would actually be something more like \"start new message\", at least in terms of functionality that we want to communicate to the user. It's less about saving (since we regularly do that anyways), and more about clearing the compose box to allow a new draft to be started. But I agree a button is pretty clunky. Curious if people have further thoughts on what experience would be good here.</p>",
        "id": 1359671,
        "sender_full_name": "Evy",
        "timestamp": 1649095244
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17964\">Riken Shah (Riken-Shah)</span> <a href=\"#narrow/stream/101-design/topic/save.20and.20clear.20button.20design/near/1359178\">said</a>:</p>\n<blockquote>\n<p>Hey folks, I was just going through my pending PRs. <br>\nI am curious, do we still need this feature (Rotating drafts in compose box with the help of buttons or keyboard shortcut)?</p>\n</blockquote>\n<p>I think the high-level answer is that we're still excited about this feature! :)</p>",
        "id": 1359695,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1649097328
    },
    {
        "content": "<blockquote>\n<p>For mouse users: I think we could have the \"Drafts\" button open <em>only the drafts for the current narrow/conversation</em>.</p>\n</blockquote>\n<p>Mmm, something like that could work. One possibility is to have two tabs in Drafts, something like \"This conversation\" and \"All\". We could be a bit smart about which one to show when the user opens the drafts:</p>\n<ul>\n<li>Open the \"All\" tab and disable the \"This conversation\" tab when there are no drafts in the current context.</li>\n<li>Open the \"This conversation\" tab from the compose box Drafts link.</li>\n<li>(perhaps) Open the \"All\" tab from the left sidebar link, or maybe make it dependent on whether the compose box is open of closed.</li>\n</ul>",
        "id": 1359699,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1649097630
    },
    {
        "content": "<p>That actually seems like something we could do independently of the restoring drafts feature; we could also decide whether we still want arrows for cycling through drafts for the current narrow or not.</p>",
        "id": 1359704,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1649097743
    },
    {
        "content": "<p>Yeah that sounds great! Sounds like a good plan for the solution to issue (1).</p>",
        "id": 1359738,
        "sender_full_name": "Evy",
        "timestamp": 1649099310
    },
    {
        "content": "<blockquote>\n<p>I think a button like that would actually be something more like \"start new message\"</p>\n</blockquote>\n<p>Yeah, that might be a better name. Since we don't expect it to be used all that often, we might be able to hide it under a menu attached to the \"send\" button, e.g. in the new design:</p>\n<p><a href=\"/user_uploads/2/49/l7yov9svlwTP4rGvLBzupMxI/Screen-Shot-2022-04-04-at-1.09.28-PM.png\">Screen-Shot-2022-04-04-at-1.09.28-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/49/l7yov9svlwTP4rGvLBzupMxI/Screen-Shot-2022-04-04-at-1.09.28-PM.png\" title=\"Screen-Shot-2022-04-04-at-1.09.28-PM.png\"><img src=\"/user_uploads/2/49/l7yov9svlwTP4rGvLBzupMxI/Screen-Shot-2022-04-04-at-1.09.28-PM.png\"></a></div><p>That menu will also need to have \"send later\" functionality, but maybe that's OK.</p>",
        "id": 1359798,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1649103027
    },
    {
        "content": "<p>That's fairly hidden, but because I think most people will be okay with having only one draft per thread, I feel like that's a fine place for it!</p>",
        "id": 1360014,
        "sender_full_name": "Evy",
        "timestamp": 1649111917
    },
    {
        "content": "<p>Yeah, I also liked the above approach.<br>\nCool, then I'd start working on its implementation.</p>",
        "id": 1361233,
        "sender_full_name": "Riken Shah (Riken-Shah)",
        "timestamp": 1649260781
    },
    {
        "content": "<p>You may be able to make use of some of the work in <a href=\"https://github.com/zulip/zulip/pull/20218\">#20218</a>.</p>",
        "id": 1361241,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1649261678
    },
    {
        "content": "<p>I filed <a href=\"https://github.com/zulip/zulip/pull/21716\">#21716</a> for the \"This conversation\" Drafts tab idea.</p>",
        "id": 1361520,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1649284977
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/save.20and.20clear.20button.20design/near/1359699\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>For mouse users: I think we could have the \"Drafts\" button open <em>only the drafts for the current narrow/conversation</em>.</p>\n</blockquote>\n<p>Mmm, something like that could work. One possibility is to have two tabs in Drafts, something like \"This conversation\" and \"All\". We could be a bit smart about which one to show when the user opens the drafts:</p>\n<ul>\n<li>Open the \"All\" tab and disable the \"This conversation\" tab when there are no drafts in the current context.</li>\n<li>Open the \"This conversation\" tab from the compose box Drafts link.</li>\n<li>(perhaps) Open the \"All\" tab from the left sidebar link, or maybe make it dependent on whether the compose box is open of closed.</li>\n</ul>\n</blockquote>\n<p>How about we add two sub-sections(\"All\" and \"This conversation\") under the left sidebar draft link that opens up when the link is clicked? We can then have the \"This conversation\" link disabled if there is no draft for the current conversation. I guess this could help eliminate any confusion?</p>",
        "id": 1362522,
        "sender_full_name": "Yash",
        "timestamp": 1649413545
    },
    {
        "content": "<p>Got it, we have to create different tabs for \"All\" and \"This conversation\" draft.</p>",
        "id": 1362553,
        "sender_full_name": "Yash",
        "timestamp": 1649418030
    },
    {
        "content": "<p>Yes, as described in the issue, I think tabs will be a good approach.</p>",
        "id": 1362663,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1649433646
    }
]