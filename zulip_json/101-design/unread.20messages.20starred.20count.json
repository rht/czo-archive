[
    {
        "content": "<p>I opened the issue <a href=\"https://github.com/zulip/zulip/issues/17938\"><a href=\"https://github.com/zulip/zulip/issues/17938\">zulip/zulip#17938</a></a> for improving the way we show counts of starred messages:</p>\n<p><a href=\"/user_uploads/2/4d/p3C0mUYaZ7OA8oVQBHRi8b1p/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4d/p3C0mUYaZ7OA8oVQBHRi8b1p/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/4d/p3C0mUYaZ7OA8oVQBHRi8b1p/image.png\"></a></div><p>I think this would be a nontrivial improvement in the product for new users to have this option on by default, but we can't do so without making our main screen look weird, so it'd be really great if folks can try out a few ideas for what this count should look like.</p>\n<p>(One idea is to just have the number inside a rounded-corners border we have for unread counts, but not have the grey fill color and instead just have the normal app background there).</p>",
        "id": 1150090,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1617312592
    },
    {
        "content": "<p><a href=\"/user_uploads/2/ac/dpBytPe1Mvg_Hzz8rPOkCwzp/Recent-topics-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_05_43-2.png\">Recent-topics-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_05_43-2.png</a> <a href=\"/user_uploads/2/84/7xU4yYZP8GGXR_0eThJD-l82/Private-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_10_04-2.png\">Private-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_10_04-2.png</a>  <br>\nIs this design look good in both modes <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ac/dpBytPe1Mvg_Hzz8rPOkCwzp/Recent-topics-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_05_43-2.png\" title=\"Recent-topics-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_05_43-2.png\"><img src=\"/user_uploads/2/ac/dpBytPe1Mvg_Hzz8rPOkCwzp/Recent-topics-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_05_43-2.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/84/7xU4yYZP8GGXR_0eThJD-l82/Private-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_10_04-2.png\" title=\"Private-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_10_04-2.png\"><img src=\"/user_uploads/2/84/7xU4yYZP8GGXR_0eThJD-l82/Private-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-18_10_04-2.png\"></a></div>",
        "id": 1151052,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617368552
    },
    {
        "content": "<p>Can you post a picture of how it looks along with unread counts?</p>",
        "id": 1151097,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1617371023
    },
    {
        "content": "<p>Yeah, the tricky bit here is making it look nice with the other counts.</p>",
        "id": 1151099,
        "sender_full_name": "Steve Howell",
        "timestamp": 1617371080
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1151097\">said</a>:</p>\n<blockquote>\n<p>Can you post a picture of how it looks along with unread counts?</p>\n</blockquote>\n<p>okay! i will post that too</p>",
        "id": 1151145,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617372305
    },
    {
        "content": "<p>That looks plausible to me.</p>",
        "id": 1151173,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1617375081
    },
    {
        "content": "<p><a href=\"/user_uploads/2/d6/Yjo5bsiAnSmGo7iF2Tdq8Kzi/3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_14_18.png\">3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_14_18.png</a> <a href=\"/user_uploads/2/81/11e-5Xhb5vb1bfhns9RTpuLm/3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_22_04.png\">3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_22_04.png</a> <br>\n<span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span>  This is the view with the other buttons too.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d6/Yjo5bsiAnSmGo7iF2Tdq8Kzi/3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_14_18.png\" title=\"3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_14_18.png\"><img src=\"/user_uploads/2/d6/Yjo5bsiAnSmGo7iF2Tdq8Kzi/3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_14_18.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/81/11e-5Xhb5vb1bfhns9RTpuLm/3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_22_04.png\" title=\"3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_22_04.png\"><img src=\"/user_uploads/2/81/11e-5Xhb5vb1bfhns9RTpuLm/3-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-02-04-2021-21_22_04.png\"></a></div>",
        "id": 1151268,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617379076
    },
    {
        "content": "<p>Can you do the following things and post:</p>\n<ul>\n<li>Increase the font-weight of the number.</li>\n<li>The bottom border shouldn't touch the bottom of blue background of button.</li>\n</ul>",
        "id": 1151316,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1617379944
    },
    {
        "content": "<p>ohkay!! i will work on these and post it back .<br>\nthankyou for your suggestion <span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span></p>",
        "id": 1151320,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617380074
    },
    {
        "content": "<p>You may also want to add some unread counts in muted streams to the screenshot for a more complete preview.</p>",
        "id": 1151405,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1617381805
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1151405\">said</a>:</p>\n<blockquote>\n<p>You may also want to add some unread counts in muted streams to the screenshot for a more complete preview.</p>\n</blockquote>\n<p>ohkay!! i would post that also</p>",
        "id": 1151549,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617384359
    },
    {
        "content": "<p><a href=\"/user_uploads/2/59/0iL9uRDlZWHN4o5fvgtQCnIr/15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_07_36.png\">15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_07_36.png</a> <a href=\"/user_uploads/2/79/jqmdVCg5bMSD9v4J-0KQEuMg/15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_03_07.png\">15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_03_07.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/59/0iL9uRDlZWHN4o5fvgtQCnIr/15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_07_36.png\" title=\"15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_07_36.png\"><img src=\"/user_uploads/2/59/0iL9uRDlZWHN4o5fvgtQCnIr/15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_07_36.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/79/jqmdVCg5bMSD9v4J-0KQEuMg/15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_03_07.png\" title=\"15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_03_07.png\"><img src=\"/user_uploads/2/79/jqmdVCg5bMSD9v4J-0KQEuMg/15-Starred-messages-Zulip-Dev-Zulip-Google-Chrome-04-04-2021-12_03_07.png\"></a></div><ul>\n<li>font weight increased </li>\n<li>the bottom doesn't touch the bottom border</li>\n<li>it has the mute stream counts.<br>\n<span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span></li>\n</ul>",
        "id": 1152818,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617518508
    },
    {
        "content": "<p>Looks better. Did you open a pull request for this change?</p>",
        "id": 1152882,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1617530730
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19353\">@Yashika Jothwani</span> This seems clearly better than what we have now, so I encourage you to open a PR.  Thanks for posting the screenshots and responding to the feedback!</p>",
        "id": 1152896,
        "sender_full_name": "Steve Howell",
        "timestamp": 1617534839
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1152882\">said</a>:</p>\n<blockquote>\n<p>Looks better. Did you open a pull request for this change?</p>\n</blockquote>\n<p>Yes, I had. <a href=\"https://github.com/zulip/zulip/pull/17985\">#17985</a></p>",
        "id": 1152902,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617534967
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1152896\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"19353\">Yashika Jothwani</span> This seems clearly better than what we have now, so I encourage you to open a PR.  Thanks for posting the screenshots and responding to the feedback!</p>\n</blockquote>\n<p>Ok! I had opened the PR. Welcome <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 1152903,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617535042
    },
    {
        "content": "<p>It appears to be failing the build:</p>\n<p><a href=\"/user_uploads/2/42/Duva-iNc40STDNP0nyU5X3sh/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/42/Duva-iNc40STDNP0nyU5X3sh/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/42/Duva-iNc40STDNP0nyU5X3sh/image.png\"></a></div>",
        "id": 1152905,
        "sender_full_name": "Steve Howell",
        "timestamp": 1617535229
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1152905\">said</a>:</p>\n<blockquote>\n<p>It appears to be failing the build:</p>\n<p><a href=\"/user_uploads/2/42/Duva-iNc40STDNP0nyU5X3sh/image.png\">image.png</a></p>\n</blockquote>\n<p>Yes! I am working on this.</p>",
        "id": 1152909,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617535313
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1152905\">said</a>:</p>\n<blockquote>\n<p>It appears to be failing the build:</p>\n<p><a href=\"/user_uploads/2/42/Duva-iNc40STDNP0nyU5X3sh/image.png\">image.png</a></p>\n</blockquote>\n<p>All tests passed, you can check now <a href=\"https://github.com/zulip/zulip/pull/17985\">#17985</a>.</p>",
        "id": 1152927,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617537906
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1152929,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617537935
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19353\">@Yashika Jothwani</span> Thanks! See <a href=\"https://github.com/zulip/zulip/pull/17985/files#r606795925\">https://github.com/zulip/zulip/pull/17985/files#r606795925</a></p>",
        "id": 1152934,
        "sender_full_name": "Steve Howell",
        "timestamp": 1617539875
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"58\">@Steve Howell (showell)</span> eliminated that in <a href=\"https://github.com/zulip/zulip/pull/17985\">#17985</a> as per your suggestion.</p>",
        "id": 1152947,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1617541893
    },
    {
        "content": "<p>We've ended up merging a version of this that looks like this:</p>\n<p><a href=\"/user_uploads/2/5/m7N09pBlXyeAS92Uw0_hn43b/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5/m7N09pBlXyeAS92Uw0_hn43b/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5/m7N09pBlXyeAS92Uw0_hn43b/image.png\"></a></div>",
        "id": 1162546,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618426464
    },
    {
        "content": "<p>I'd like to propose that we make the default to display counts of starred messages by default (rather than it being a setting you have to turn on).  This would make it a lot more discoverable that you can use this feature to keep track of messages you want to come back to.</p>",
        "id": 1162548,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618426518
    },
    {
        "content": "<p>Pretty sure for myself I'm going to turn that setting right back off again ASAP -- that number is going to be large and I don't really want to have it staring at me <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> </p>\n<p>But I think it makes sense as a default. Certainly for new users, and probably makes sense to turn on by default for existing users.</p>",
        "id": 1162592,
        "sender_full_name": "Greg Price",
        "timestamp": 1618428501
    },
    {
        "content": "<p>Yeah, it depends what you're using starred messages for. I think longer-term what we actually need to do is split it into two features -- \"mark to come back to soon\" vs. \"mark to come back to sometime\" -- so that a user doesn't need to pick how they're using it.</p>",
        "id": 1162658,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618431015
    },
    {
        "content": "<p>It feels like the left border for my starred unread count is a pixel or two too far to the left relative to All Messages.  I'm on day mode in the unlikely event that's relevant.</p>",
        "id": 1162812,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618441555
    },
    {
        "content": "<p>Both are two-digit numbers presently, and I don't think it's an optical illusion.</p>",
        "id": 1162815,
        "sender_full_name": "Steve Howell",
        "timestamp": 1618441612
    },
    {
        "content": "<p>This is because the border has a total thickness of 0.5px, and the interiors are the same size, so you sorta get a bonus pixel.</p>",
        "id": 1162818,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618441715
    },
    {
        "content": "<p>I am not sure what to do about that (we have a hack around it for the height which had the same problem).</p>",
        "id": 1162819,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1618441734
    },
    {
        "content": "<p>Regarding <a href=\"https://github.com/zulip/zulip/issues/18305\">https://github.com/zulip/zulip/issues/18305</a> and:<br>\n<span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1162548\">said</a>:</p>\n<blockquote>\n<p>I'd like to propose that we make the default to display counts of starred messages by default (rather than it being a setting you have to turn on).  This would make it a lot more discoverable that you can use this feature to keep track of messages you want to come back to.</p>\n</blockquote>\n<p>Do we need to change the value of <code>starred_message_counts</code> for existing users. Currently simply changing the default value to true in the model will only keep this setting true(by default) for newly created users and do not change the value of this setting for already existing users.</p>",
        "id": 1171744,
        "sender_full_name": "Purushottam Tiwari",
        "timestamp": 1619771672
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"17546\">@Purushottam Tiwari (m-e-l-u-h-a-n)</span> I think we should; basically they'll experience this as a new feature (since few users would have seen the display setting beforehand).</p>",
        "id": 1171832,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1619797375
    },
    {
        "content": "<p>Also, it appears that something in the 10-20% range of users had manually enabled this feature even when it was super ugly.  So this is an extremely popular setting.</p>",
        "id": 1171834,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1619797496
    },
    {
        "content": "<p>Hmm, for existing users I think it will require database access, as there was already a default value(false) set on it so changing it to true will only set it by default for newly created users(I mean, that django migration will not change value of this field for already existing users as it already had a default). <br>\nAlthough I'll try to find if it is possible using interface provided by django.</p>",
        "id": 1171876,
        "sender_full_name": "Purushottam Tiwari",
        "timestamp": 1619801629
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"17546\">@Purushottam Tiwari (m-e-l-u-h-a-n)</span> see <a href=\"https://zulip.readthedocs.io/en/latest/subsystems/schema-migrations.html\">https://zulip.readthedocs.io/en/latest/subsystems/schema-migrations.html</a> and <code>zerver/migrations/0290_remove_night_mode_add_color_scheme.py</code> for something to crib from.</p>",
        "id": 1171879,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1619802022
    },
    {
        "content": "<p>Created: <a href=\"https://github.com/zulip/zulip/pull/18337\">https://github.com/zulip/zulip/pull/18337</a></p>",
        "id": 1172467,
        "sender_full_name": "Purushottam Tiwari",
        "timestamp": 1619874600
    },
    {
        "content": "<p>i wasn't really following the conversation when it was happening, but i just want to chime in to mention that this is a really excellent feature and i'm glad we finally have it, thanks to the folks who worked on this!</p>",
        "id": 1172676,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1619896828
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1162548\">said</a>:</p>\n<blockquote>\n<p>I'd like to propose that we make the default to display counts of starred messages by default (rather than it being a setting you have to turn on).  This would make it a lot more discoverable that you can use this feature to keep track of messages you want to come back to.</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/unread.20messages.20starred.20count/near/1172676\">said</a>:</p>\n<blockquote>\n<p>i wasn't really following the conversation when it was happening, but i just want to chime in to mention that this is a really excellent feature and i'm glad we finally have it, thanks to the folks who worked on this!</p>\n</blockquote>\n<p>I think that says it all. <span aria-label=\"big smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"big smile\">:big_smile:</span></p>",
        "id": 1172686,
        "sender_full_name": "Cyphase",
        "timestamp": 1619898025
    },
    {
        "content": "<p>Agreed :) Coincidentally ZT will soon have starred counts displayed, so once the setting is there we can enable/disable it too :)</p>",
        "id": 1172688,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1619900596
    },
    {
        "content": "<p>(assuming we want to synchronize between clients like that? will mobile?)</p>",
        "id": 1172689,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1619900633
    },
    {
        "content": "<p>hmmm, that's a good idea, shouldn't be very tricky</p>",
        "id": 1172690,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1619900695
    },
    {
        "content": "<p>Right, but if you enable on one, do you want it on all, and vice versa? The UI will be different presumably - more so on mobile than web vs ZT, I suspect?</p>",
        "id": 1172692,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1619900906
    },
    {
        "content": "<p>oh, interesting question — i wasn't thinking about that. i could see the argument for either way, although i think if it is linked, that should be made clear. thinking about it, i'm not even sure whether the notification settings we have are synced with the server…</p>",
        "id": 1172693,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1619901067
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip-mobile/pull/4712\">#M4712</a></p>",
        "id": 1172695,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1619901562
    },
    {
        "content": "<p>Now that ZT has starred counts merged and enabled by default (<a href=\"https://github.com/zulip/zulip-terminal/pull/951\">#T951</a>), I wanted to clarify whether there is an expectation that clients sync that setting or not as per the above notes.</p>",
        "id": 1177497,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1620592509
    },
    {
        "content": "<p>I would argue that most correct is that all clients should use the same display setting for this; structurally, either the user is using starred messages as a TODO list or not, and if they are, they probably want the number to be displayed in all clients.</p>",
        "id": 1177522,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1620603796
    },
    {
        "content": "<p>Filed <a href=\"https://github.com/zulip/zulip-terminal/pull/1027\">#T1027</a> for synchronizing issue.</p>",
        "id": 1177523,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1620603828
    }
]