[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/1317599\">said</a>:</p>\n<blockquote>\n<p>Sounds good to me!</p>\n<p>I also like the proposal to disable the other compose box icons when preview mode is selected, so I'll file an issue for that.</p>\n</blockquote>\n<p>hey <span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>  I fixed it, this is how it is looking<br>\nin light theme<br>\n<a href=\"/user_uploads/2/5/7uaSPi2X1nQulIzpgrbDyfZ8/compose_box_preview_with_buttons_disabled.gif\">compose_box_preview_with_buttons_disabled.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5/7uaSPi2X1nQulIzpgrbDyfZ8/compose_box_preview_with_buttons_disabled.gif\" title=\"compose_box_preview_with_buttons_disabled.gif\"><img src=\"/user_uploads/2/5/7uaSPi2X1nQulIzpgrbDyfZ8/compose_box_preview_with_buttons_disabled.gif\"></a></div><p>in dark theme<br>\n<a href=\"/user_uploads/2/49/NFDjbNpog-86xT-AssNDDLY0/compose_box_preview_with_buttons_disabled_dark_theme.gif\">compose_box_preview_with_buttons_disabled_dark_theme.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/49/NFDjbNpog-86xT-AssNDDLY0/compose_box_preview_with_buttons_disabled_dark_theme.gif\" title=\"compose_box_preview_with_buttons_disabled_dark_theme.gif\"><img src=\"/user_uploads/2/49/NFDjbNpog-86xT-AssNDDLY0/compose_box_preview_with_buttons_disabled_dark_theme.gif\"></a></div><p>should I commit?</p>",
        "id": 1318246,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643408380
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22838\">@yogesh sirsat</span> The cursor should look like our other disabled cursors (e.g. when trying to edit a message that is too old).</p>",
        "id": 1318277,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643410162
    },
    {
        "content": "<p>You also need to grey out the disabled buttons. You can <code>git grep</code> for <code>disabled</code> to see how it's done elsewhere.</p>\n<p>In the future, you can post shorter gifs (without demonstrating interactions your PR does not change) or screenshots to make it faster to review your work. Thanks!</p>",
        "id": 1318278,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643410376
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1318277\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> The cursor should look like our other disabled cursors (e.g. when trying to edit a message that is too old).</p>\n</blockquote>\n<p>Ok <span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> I understood ,  I will work on that.</p>",
        "id": 1318516,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643436788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> this is how it is looking now<br>\n<a href=\"/user_uploads/2/2a/4oAAMRDsBLzM-02nJHKMwAis/compose_box_preview_with_buttons_disabled_improved.gif\">compose_box_preview_with_buttons_disabled_improved.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/2a/4oAAMRDsBLzM-02nJHKMwAis/compose_box_preview_with_buttons_disabled_improved.gif\" title=\"compose_box_preview_with_buttons_disabled_improved.gif\"><img src=\"/user_uploads/2/2a/4oAAMRDsBLzM-02nJHKMwAis/compose_box_preview_with_buttons_disabled_improved.gif\"></a></div>",
        "id": 1318629,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643459741
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span>  Are we close to being able to try out <a href=\"https://github.com/zulip/zulip/pull/20996\">#20996</a> and/or <a href=\"https://github.com/zulip/zulip/pull/20993\">#20993</a> here?</p>",
        "id": 1325521,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644428540
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/20996\">#20996</a> should be ready to test deploy.</p>",
        "id": 1325981,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644474324
    },
    {
        "content": "<p>I am somewhat biased, since I proposed hiding the icons instead of disabling them.  I like that we hide them.  It feels clean to me, and it makes it seem more obvious to me when I'm in preview mode, which is a somewhat rare mode for me.</p>",
        "id": 1327771,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644770343
    },
    {
        "content": "<p>Functionally that is ok.. but too much is changing on the screen also disabled buttons help to indicate that you are in a mode.</p>",
        "id": 1327773,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644770666
    },
    {
        "content": "<p>Could we please get the conflicts in <a href=\"https://github.com/zulip/zulip/pull/20996\">#20996</a> resolved so that it can be test-deployed here again? I'd love to play with it more and collect more feedback. <span class=\"user-mention\" data-user-id=\"22838\">@yogesh sirsat</span> <span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span></p>",
        "id": 1330174,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645042885
    },
    {
        "content": "<p>Okay.</p>",
        "id": 1330176,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1645042955
    },
    {
        "content": "<p>Its done.</p>",
        "id": 1330191,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1645043662
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/20993\">#20993</a> also rebased :).</p>",
        "id": 1330212,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1645044197
    },
    {
        "content": "<p>Deploying this now.</p>",
        "id": 1330413,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645054848
    },
    {
        "content": "<p>The go-back-to-editing icon looks washed out in preview mode in day theme.</p>",
        "id": 1336873,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646135500
    },
    {
        "content": "<p><a href=\"/user_uploads/2/f/wcpP1ZPYTWf8iPZPmiTJX9Yv/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f/wcpP1ZPYTWf8iPZPmiTJX9Yv/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/f/wcpP1ZPYTWf8iPZPmiTJX9Yv/image.png\"></a></div>",
        "id": 1336875,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646135535
    },
    {
        "content": "<p>Is it a design or code problem?</p>",
        "id": 1336891,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646136892
    },
    {
        "content": "<p>both</p>",
        "id": 1336892,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646136975
    },
    {
        "content": "<p>Okay, i will look in to that.</p>",
        "id": 1336894,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646137067
    },
    {
        "content": "<p>I really wished we followed GitHub's lead on this, and we just went to a tab interface.  Here is GH write mode:</p>\n<p><a href=\"/user_uploads/2/cc/hV2wfI6MzJzKDDvjBFiCDSh6/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/cc/hV2wfI6MzJzKDDvjBFiCDSh6/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/cc/hV2wfI6MzJzKDDvjBFiCDSh6/image.png\"></a></div>",
        "id": 1336895,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646137226
    },
    {
        "content": "<p>And here is preview mode:</p>\n<p><a href=\"/user_uploads/2/5c/7XzPjnwAszodO3-lKqT_RjOW/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5c/7XzPjnwAszodO3-lKqT_RjOW/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5c/7XzPjnwAszodO3-lKqT_RjOW/image.png\"></a></div>",
        "id": 1336896,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646137255
    },
    {
        "content": "<p>Yeah, it looks clean.</p>",
        "id": 1336897,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646137351
    },
    {
        "content": "<p>I know that we're slightly more screen-constrained than GH, so there might be pushback on tabs.  But I like how they don't clutter up preview mode with a bunch of disabled icons.  Having said that, I do think our current experiment does a good job of making the disabled icons easy to ignore.</p>",
        "id": 1336898,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646137358
    },
    {
        "content": "<p>I am actually not sure that using tabs would actually add any extra real estate.</p>",
        "id": 1336899,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646137424
    },
    {
        "content": "<p>(I also know that <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> has some medium-term design ideas for the compose box that deal with these icons, and they seem promising to me.  I am glad we are doing some interim experiments first, too.)</p>",
        "id": 1336901,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646137506
    },
    {
        "content": "<p><a href=\"/user_uploads/2/84/6P4c95KSYV1zaN9XBh52QAhF/edit_icon_disable_mode.png\">edit_icon_disable_mode</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/84/6P4c95KSYV1zaN9XBh52QAhF/edit_icon_disable_mode.png\" title=\"edit_icon_disable_mode\"><img src=\"/user_uploads/2/84/6P4c95KSYV1zaN9XBh52QAhF/edit_icon_disable_mode.png\"></a></div><p><a href=\"/user_uploads/2/4e/fJVqTg3AUVxgXD72pLRmMIHB/edit_icon_current.png\">edit_icon_current</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4e/fJVqTg3AUVxgXD72pLRmMIHB/edit_icon_current.png\" title=\"edit_icon_current\"><img src=\"/user_uploads/2/4e/fJVqTg3AUVxgXD72pLRmMIHB/edit_icon_current.png\"></a></div><p>I think the edit icon is looking the same.</p>",
        "id": 1336909,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646138404
    },
    {
        "content": "<p>Why is it opacity of 0.7?</p>",
        "id": 1336925,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646139804
    },
    {
        "content": "<p>Yes.</p>",
        "id": 1336926,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646139865
    },
    {
        "content": "<p>On hover it becomes 1</p>",
        "id": 1336927,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646139874
    },
    {
        "content": "<p>Ugh, I hate the idea that we need so many opacity levels:</p>\n<ul>\n<li>100% - we want you to see it</li>\n<li>70% - we want you to squint</li>\n<li>40% - we really want you to squint</li>\n</ul>",
        "id": 1336930,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646140119
    },
    {
        "content": "<p>Er, 30% here.  We really, really want you to squint.</p>",
        "id": 1336932,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646140574
    },
    {
        "content": "<p>And then are edit/resolve/mute icons, which aren't actually disabled, are 20% opacity!!!!</p>",
        "id": 1336933,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646140735
    },
    {
        "content": "<p>And we show message times in 40% opacity.  Oy vey.</p>",
        "id": 1336934,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646140781
    },
    {
        "content": "<p>FWIW Slack shows message times in 100% opacity, albeit with a kind of gray-ish color.</p>\n<p><a href=\"/user_uploads/2/a3/K1L2hC5C7Fy6_mSY_GRZzKy9/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/a3/K1L2hC5C7Fy6_mSY_GRZzKy9/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/a3/K1L2hC5C7Fy6_mSY_GRZzKy9/image.png\"></a></div>",
        "id": 1336935,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646140986
    },
    {
        "content": "<p>We are just wildly inconsistent in the middle pane.  When you hover over a message, the pencil, three-dot-menu, and star icons show up in gray (but 100% opacity), and then when you hover the actual icons they become blue.</p>",
        "id": 1336936,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646141495
    },
    {
        "content": "<p>Yeah.</p>",
        "id": 1336940,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646141707
    },
    {
        "content": "<p>Opacity is just a way to set a color. its ok to have many colors. Inconsistency about the color is not good. But I don't think we need to stress out this in the current design. In the new design I plan to be consistent and little details take time.</p>\n<p>About the tabs. Preview icon with selected state is a tab functionally. Disabling icons in this case is better to avoid blinking.<br>\nFor some reason preview container has a smaller height so there is \"jumping\" effect for me. I think we should fix that.</p>",
        "id": 1336962,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646147010
    },
    {
        "content": "<p>I'm going through iterations of redesign. Didn't have much progress the past week, not sure about this week, but I'll try my best.<br>\n<a href=\"/user_uploads/2/c7/zQuf1icDu-ibo8WzSzdDnbSw/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c7/zQuf1icDu-ibo8WzSzdDnbSw/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/c7/zQuf1icDu-ibo8WzSzdDnbSw/image.png\"></a></div>",
        "id": 1336965,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646147184
    },
    {
        "content": "<p>I am not convinced color choices are extremely difficult to design here.  We have icons in the recipient bar, messages, and compose box that we all treat as sort of secondary elements that we can’t display with our normal color scheme for some reason.  That’s fine.</p>",
        "id": 1336991,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646158748
    },
    {
        "content": "<p>Can’t we treat all our secondary-class icons as equally secondary?  Let’s give them all the same secondary color.  Maybe it’s slightly more nuanced, because we need a hover color.  And of course we need dark theme colors.</p>",
        "id": 1336993,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646158883
    },
    {
        "content": "<p>So four colors.</p>",
        "id": 1336994,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646158895
    },
    {
        "content": "<p>I know that some animals are more equal than other animals, but do we really need a super refined color hierarchy in our middle pane?</p>",
        "id": 1336996,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646159093
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1336962\">said</a>:</p>\n<blockquote>\n<p>For some reason preview container has a smaller height so there is \"jumping\" effect for me. I think we should fix that.</p>\n</blockquote>\n<p>I don't see a jumping effect when toggling preview.</p>",
        "id": 1337087,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1646165997
    },
    {
        "content": "<p>I’ll show this later, Im on Mac Chrome</p>",
        "id": 1337161,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646169506
    },
    {
        "content": "<p>Ah, I reported the jumping issue just a bit ago before seeing this thread: <a href=\"https://github.com/zulip/zulip/pull/21276\">#21276</a>. It includes a screen capture.</p>",
        "id": 1337489,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646179011
    },
    {
        "content": "<p>/poll If you got a chance to try both new variants of preview mode, which do you prefer?<br>\nFormatting icons disappear<br>\nFormatting icons are disabled</p>",
        "id": 1337500,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646179233
    },
    {
        "content": "<p>Heh, not a lot of feedback on this one. I think either version would be an improvement on the current UI. I don't have a strong preference between the two, but I think I agree with <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> 's preference for the disabled icons, since it's nice not to have too big of a change between preview mode and edit mode.</p>",
        "id": 1338553,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646333472
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"699\">Anders Kaseorg</span> left a comment on the PR that we shouldn’t disable the message formatting help button or the Drafts link, which makes sense to me. <span class=\"user-mention\" data-user-id=\"22838\">@yogesh sirsat</span> would you be up for updating <a href=\"https://github.com/zulip/zulip/pull/20993\">#20993</a> accordingly?</p>",
        "id": 1338554,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646333541
    },
    {
        "content": "<p>I just checked PR and tried to do accordingly to the new requests, after trying I think I might need some little time as this seems a little more complex than before, according to code.</p>",
        "id": 1338606,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646337214
    },
    {
        "content": "<p>Would it possibly help the implementation if the 3 permanently enabled icons were all in the same place?  It feels strange to have the preview icon so early in the list, since the logical order of operations is that you compose the message, possibly using all of our helpers, and then, right before you send, you preview the message.</p>",
        "id": 1338641,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646339842
    },
    {
        "content": "<p>Yes, it will help in implementation, and also it may look good too as you described.</p>",
        "id": 1338654,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646340615
    },
    {
        "content": "<p>Can you send a quick screenshot in normal mode?</p>",
        "id": 1338681,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646342334
    },
    {
        "content": "<p><a href=\"/user_uploads/2/de/I3th1Q6vLRFiaL9jnYX-wEI4/normal_mode.png\">normal_mode.png</a> <br>\nquickest <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/de/I3th1Q6vLRFiaL9jnYX-wEI4/normal_mode.png\" title=\"normal_mode.png\"><img src=\"/user_uploads/2/de/I3th1Q6vLRFiaL9jnYX-wEI4/normal_mode.png\"></a></div>",
        "id": 1338965,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646399123
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22838\">@yogesh sirsat</span> I mean can you send a screenshot that shows what it would like if we moved the preview icon to be next to the help/draft icons.</p>",
        "id": 1338966,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646399870
    },
    {
        "content": "<p>ohh okay.</p>",
        "id": 1338969,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646400071
    },
    {
        "content": "<p>For now, I implemented as <code>Anders Kaseorg</code> requested, also I will send a screenshot with a preview icon to be next to the help/draft icons.</p>\n<p><a href=\"/user_uploads/2/98/YhSxbhTWLjwx_qHC3JQIFqHZ/disable_except_help_draft_icon.png\">disable_except_help_draft_icon.png</a> <a href=\"/user_uploads/2/b2/8YYMOipH6Gc_d83XDJBJE258/disable_except_help_draft_icon.gif\">disable_except_help_draft_icon.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/98/YhSxbhTWLjwx_qHC3JQIFqHZ/disable_except_help_draft_icon.png\" title=\"disable_except_help_draft_icon.png\"><img src=\"/user_uploads/2/98/YhSxbhTWLjwx_qHC3JQIFqHZ/disable_except_help_draft_icon.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/b2/8YYMOipH6Gc_d83XDJBJE258/disable_except_help_draft_icon.gif\" title=\"disable_except_help_draft_icon.gif\"><img src=\"/user_uploads/2/b2/8YYMOipH6Gc_d83XDJBJE258/disable_except_help_draft_icon.gif\"></a></div>",
        "id": 1338972,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646400251
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1338966\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> I mean can you send a screenshot that shows what it would like if we moved the preview icon to be next to the help/draft icons.</p>\n</blockquote>\n<p>Actually, if we do like this, the preview icon will go to popover in mobile size screen, unless we change ordering</p>",
        "id": 1338975,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646400413
    },
    {
        "content": "<p>In desktop screen.<br>\n<a href=\"/user_uploads/2/ac/MQ0Z_VISyHaXNycxnz9kGate/preview_icon_to_the_right_most.png\">preview_icon_to_the_right_most.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ac/MQ0Z_VISyHaXNycxnz9kGate/preview_icon_to_the_right_most.png\" title=\"preview_icon_to_the_right_most.png\"><img src=\"/user_uploads/2/ac/MQ0Z_VISyHaXNycxnz9kGate/preview_icon_to_the_right_most.png\"></a></div>",
        "id": 1338982,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646400832
    },
    {
        "content": "<p><a href=\"/user_uploads/2/4/fmAqCGw9uVXfbNoZbqTLQDvw/mobile_size_screen.png\">mobile_size_screen.png</a> <br>\nin mobile screen.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4/fmAqCGw9uVXfbNoZbqTLQDvw/mobile_size_screen.png\" title=\"mobile_size_screen.png\"><img src=\"/user_uploads/2/4/fmAqCGw9uVXfbNoZbqTLQDvw/mobile_size_screen.png\"></a></div>",
        "id": 1338987,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646401166
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1338975\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1338966\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> I mean can you send a screenshot that shows what it would like if we moved the preview icon to be next to the help/draft icons.</p>\n</blockquote>\n<p>Actually, if we do like this, the preview icon will go to popover in mobile size screen, unless we change ordering</p>\n</blockquote>\n<p>In your screenshot the preview icon is still visible.  I don't understand why we can't fit more icons on the mobile screen, at least not in your screenshot.</p>",
        "id": 1338993,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646401838
    },
    {
        "content": "<p>After changing the ordering of HTML code a little, now it is fitting.</p>",
        "id": 1338996,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646402186
    },
    {
        "content": "<p><a href=\"/user_uploads/2/74/lS1ud5X1pgND6HJNFz2Py87-/disable_mode_mobile_screen.png\">disable_mode_mobile_screen.png</a><br>\n<a href=\"/user_uploads/2/9f/hhMxCm2nzf4-Ip0vwRkiKODU/disable_mode_desktop_screen.png\">disable_mode_desktop_screen.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/74/lS1ud5X1pgND6HJNFz2Py87-/disable_mode_mobile_screen.png\" title=\"disable_mode_mobile_screen.png\"><img src=\"/user_uploads/2/74/lS1ud5X1pgND6HJNFz2Py87-/disable_mode_mobile_screen.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/9f/hhMxCm2nzf4-Ip0vwRkiKODU/disable_mode_desktop_screen.png\" title=\"disable_mode_desktop_screen.png\"><img src=\"/user_uploads/2/9f/hhMxCm2nzf4-Ip0vwRkiKODU/disable_mode_desktop_screen.png\"></a></div>",
        "id": 1338997,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646402537
    },
    {
        "content": "<p>Which one should I push to PR.</p>",
        "id": 1339000,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646402743
    },
    {
        "content": "<p>oh... guys the back to editor button should be at the same place where preview button was</p>",
        "id": 1339003,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646403452
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1338972\">said</a>:</p>\n<blockquote>\n<p>For now, I implemented as <code>Anders Kaseorg</code> requested, also I will send a screenshot with a preview icon to be next to the help/draft icons.</p>\n<p><a href=\"/user_uploads/2/98/YhSxbhTWLjwx_qHC3JQIFqHZ/disable_except_help_draft_icon.png\">disable_except_help_draft_icon.png</a> <a href=\"/user_uploads/2/b2/8YYMOipH6Gc_d83XDJBJE258/disable_except_help_draft_icon.gif\">disable_except_help_draft_icon.gif</a></p>\n</blockquote>\n<p>You mean like this?</p>",
        "id": 1339007,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646403566
    },
    {
        "content": "<p>Yes</p>",
        "id": 1339011,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646403649
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1338972\">said</a>:</p>\n<blockquote>\n<p>For now, I implemented as <code>Anders Kaseorg</code> requested, also I will send a screenshot with a preview icon to be next to the help/draft icons.</p>\n<p><a href=\"/user_uploads/2/98/YhSxbhTWLjwx_qHC3JQIFqHZ/disable_except_help_draft_icon.png\">disable_except_help_draft_icon.png</a> <a href=\"/user_uploads/2/b2/8YYMOipH6Gc_d83XDJBJE258/disable_except_help_draft_icon.gif\">disable_except_help_draft_icon.gif</a></p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"22838\">@yogesh sirsat</span> let me know when the PR for this is ready for review.</p>",
        "id": 1339095,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646419654
    },
    {
        "content": "<p>I suppose we could try putting the preview/edit mode icon all the way to the right. I think it looks fine visually, but it seems like it would be inconvenient to tab to it for keyboard users.</p>",
        "id": 1339097,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646419738
    },
    {
        "content": "<p>before pushing changes I want you to know, currently on a mobile screen, this is how it will look, with the current changes help button would not be accessible while in preview.<br>\n<a href=\"/user_uploads/2/d8/a8a9u2klJEWcRdhy1VXdJzXB/mobile_screen_size.png\">mobile_screen_size.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d8/a8a9u2klJEWcRdhy1VXdJzXB/mobile_screen_size.png\" title=\"mobile_screen_size.png\"><img src=\"/user_uploads/2/d8/a8a9u2klJEWcRdhy1VXdJzXB/mobile_screen_size.png\"></a></div>",
        "id": 1339106,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646420441
    },
    {
        "content": "<blockquote>\n<p>with the current changes help button would not be accessible while in preview.</p>\n</blockquote>\n<p>That's the same as the current situation, so we can think about it separately if we decide to change that.</p>",
        "id": 1339110,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646420542
    },
    {
        "content": "<p>Okay, then I am pushing changes to PR.</p>",
        "id": 1339112,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646420680
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1339097\">said</a>:</p>\n<blockquote>\n<p>I suppose we could try putting the preview/edit mode icon all the way to the right. I think it looks fine visually, but it seems like it would be inconvenient to tab to it for keyboard users.</p>\n</blockquote>\n<p>Thanks for bringing up that use case.  I brought up similar issues earlier, but I have been kinda swayed that it's almost impossible to make the right decision here, as we have no real knowledge of which options would be more frequently used.  FWIW I am a keyboard user and I <strong>rarely</strong> use preview, so I do indeed just click on it.</p>",
        "id": 1339134,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646421504
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>  <a href=\"https://github.com/zulip/zulip/pull/20993\">PR</a> is ready for review.</p>",
        "id": 1339144,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646421996
    },
    {
        "content": "<p>Great, I can take a look. Looks like there's a CI check you'll need to fix as well.</p>",
        "id": 1339146,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646422485
    },
    {
        "content": "<p>Not because of these changes, rebasing will fix, no worries.</p>",
        "id": 1339157,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646422666
    },
    {
        "content": "<p>OK, I see a couple of problems with the \"...\" menu.</p>\n<ol>\n<li>We shouldn't disable the whole \"...\" menu, since <code>?</code> is in there. We should just disable the formatting buttons, but let you access the menu, I think.</li>\n<li>Even now, you can get to an incorrect state where formatting buttons are not disabled in preview mode by doing the following:</li>\n</ol>\n<ul>\n<li>Make the window narrow.</li>\n<li>Open the three-dot menu, and leave it open.</li>\n<li>Shift-tab to preview mode and press enter.</li>\n</ul>\n<p><a href=\"/user_uploads/2/5c/Up2ZrDX1mclu-OIn1u-FsNN2/Screen-Shot-2022-03-04-at-11.58.34-AM.png\">Screen-Shot-2022-03-04-at-11.58.34-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5c/Up2ZrDX1mclu-OIn1u-FsNN2/Screen-Shot-2022-03-04-at-11.58.34-AM.png\" title=\"Screen-Shot-2022-03-04-at-11.58.34-AM.png\"><img src=\"/user_uploads/2/5c/Up2ZrDX1mclu-OIn1u-FsNN2/Screen-Shot-2022-03-04-at-11.58.34-AM.png\"></a></div>",
        "id": 1339170,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646424139
    },
    {
        "content": "<p>Otherwise looks good!</p>",
        "id": 1339171,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646424146
    },
    {
        "content": "<p>Ohh, I will fix it immediately.</p>",
        "id": 1339177,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646424748
    },
    {
        "content": "<p><a href=\"/user_uploads/2/e3/MUdj9I-xzuZ05ieq9c9MYdgc/mobile_screen_size.gif\">mobile_screen_size.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/e3/MUdj9I-xzuZ05ieq9c9MYdgc/mobile_screen_size.gif\" title=\"mobile_screen_size.gif\"><img src=\"/user_uploads/2/e3/MUdj9I-xzuZ05ieq9c9MYdgc/mobile_screen_size.gif\"></a></div>",
        "id": 1339221,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646426899
    },
    {
        "content": "<p>the second problem still persists, I think it will take some time to figure out.</p>",
        "id": 1339226,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646427026
    },
    {
        "content": "<p>Currently, we are using CSS functions cursor and pointer-events to disable buttons which I guess only works for mouse.<br>\neven if we disable buttons without narrowing the window and try to use formatting buttons using the keyboard, they are not disabled.</p>",
        "id": 1339244,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646427773
    },
    {
        "content": "<p>I know I said this earlier, but simply hiding the buttons that you don't want to click would simplify the implementation here.  I know there's some subjective \"blink\" factor that makes some folks object to that UI, but I don't see it.</p>",
        "id": 1339261,
        "sender_full_name": "Steve Howell",
        "timestamp": 1646428304
    },
    {
        "content": "<p>I am assuming it will be fine if we skipped the disabled icons when pressing the tab.<br>\n<a href=\"/user_uploads/2/ee/Q2ELGrdYRswuT2DtE8D5ayc2/skip_disabled_icons_on_tab_press_mobile_screen.gif\">skip_disabled_icons_on_tab_press_mobile</a> <a href=\"/user_uploads/2/8a/mXKS51heD9kz_sLNr-G2bfZY/skip_disabled_icons_on_tab_press.gif\">skip_disabled_icons_on_tab_press</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ee/Q2ELGrdYRswuT2DtE8D5ayc2/skip_disabled_icons_on_tab_press_mobile_screen.gif\" title=\"skip_disabled_icons_on_tab_press_mobile\"><img src=\"/user_uploads/2/ee/Q2ELGrdYRswuT2DtE8D5ayc2/skip_disabled_icons_on_tab_press_mobile_screen.gif\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/8a/mXKS51heD9kz_sLNr-G2bfZY/skip_disabled_icons_on_tab_press.gif\" title=\"skip_disabled_icons_on_tab_press\"><img src=\"/user_uploads/2/8a/mXKS51heD9kz_sLNr-G2bfZY/skip_disabled_icons_on_tab_press.gif\"></a></div>",
        "id": 1339716,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646539384
    },
    {
        "content": "<p>while working on this I got to know that, enter key does not works on <code>...</code> menu.</p>",
        "id": 1339717,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646539498
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1339716\">said</a>:</p>\n<blockquote>\n<p>I am assuming it will be fine if we skipped the disabled icons when pressing the tab.</p>\n</blockquote>\n<p>Yeah, skipping seems correct.</p>",
        "id": 1339817,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646627800
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1339717\">said</a>:</p>\n<blockquote>\n<p>while working on this I got to know that, enter key does not works on <code>...</code> menu.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> FYI</p>\n<p>I also just noticed that for several of the buttons (e.g. bold and italic), tabbing to them and pressing <code>Enter</code> <em>both</em> triggers the button <em>and</em> inserts a line break, which seems like a bug.</p>",
        "id": 1339819,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646627957
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> <a href=\"#narrow/stream/101-design/topic/disable.20compose.20icons.20in.20preview.20.2320962/near/1339716\">said</a>:</p>\n<blockquote>\n<p>I am assuming it will be fine if we skipped the disabled icons when pressing the tab.<br>\n<a href=\"/user_uploads/2/ee/Q2ELGrdYRswuT2DtE8D5ayc2/skip_disabled_icons_on_tab_press_mobile_screen.gif\">skip_disabled_icons_on_tab_press_mobile</a> <a href=\"/user_uploads/2/8a/mXKS51heD9kz_sLNr-G2bfZY/skip_disabled_icons_on_tab_press.gif\">skip_disabled_icons_on_tab_press</a></p>\n</blockquote>\n<p><a href=\"https://github.com/zulip/zulip/pull/20993\">PR</a> is ready with these changes.</p>",
        "id": 1339908,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1646675904
    },
    {
        "content": "<p>Looks good to me, thanks! I think the next step is for <span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> to do a round of code review.</p>",
        "id": 1340191,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646691728
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/zulip/zulip/pull/21348\">#21348</a> for fixing the enter key bug.</p>",
        "id": 1340519,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1646720876
    },
    {
        "content": "<p>Are we going anywhere with this <a href=\"https://github.com/zulip/zulip/pull/20993\">#20993</a> <code>compose: Disable unneeded buttons while in preview.</code>?</p>\n<p>Just taking notes of my open PRs.</p>",
        "id": 1350575,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1648015494
    },
    {
        "content": "<p>Yes, I expect us to make a decision / merge the changes soon after the 5.0 release. I'll add a \"post release\" tag to the issue so that we don't lose track of it. Thanks for checking!</p>",
        "id": 1352577,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1648182648
    }
]