[
    {
        "content": "<p>Starting this thread to discuss the design for the horizontal bar which highlights the start of new unread messages</p>",
        "id": 753870,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560537519
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span> <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> ^</p>",
        "id": 753871,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560537534
    },
    {
        "content": "<p>cool! What would would be useful to discuss?</p>",
        "id": 753940,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560545628
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5593\">@Vaibhav</span> yeah, do you have questions at this point?</p>",
        "id": 754050,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1560555766
    },
    {
        "content": "<p>Yeah! Just wanted to know how the divider would look like.</p>",
        "id": 754053,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560555840
    },
    {
        "content": "<p>Another thing that wanted to ask was if we wanted the divider to be positioned absolute or not.<br>\nI think it should be absolutely placed because when it fades away it it doesn't mess up the placement of messages. But the issue is when there is no date divider, it is hard to fit such divider in the design</p>",
        "id": 754060,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560556012
    },
    {
        "content": "<p>Also, what actions should make the divider disappear?</p>",
        "id": 754064,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560556060
    },
    {
        "content": "<p>For the last question, the divider never disappears. When you change narrows and change back, it'll be gone.</p>",
        "id": 754068,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560556207
    },
    {
        "content": "<p>Then i guess there won't be any issue with the positioning. It can be placed similar to the date divider.</p>",
        "id": 754076,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560556302
    },
    {
        "content": "<p>in terms of how it looks: Let's just copy the screenshot I sent, for a first pass. <br>\nI think we'll want a different color, and possibly \"New\" instead of \"New messages\", but both of those will be pretty easy to change.</p>",
        "id": 754078,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560556308
    },
    {
        "content": "<p>Yeah, instead of the part where the date of messages before the divider is shown (on the left hand side of the date divider) we can write \"New\" and if this divider replaces the date divider then on the right hand side the date can appear or else will be left blank.</p>",
        "id": 754080,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560556445
    },
    {
        "content": "<p>sounds good. My guess is we'll end up playing around with this once we have a working prototype anyway (e.g. probably we should change our date dividers to show the date on the far right, and then just center the \"new messages\").</p>",
        "id": 754097,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560556753
    },
    {
        "content": "<p>I'm almost done with writing the code. How this works is the unread divider appears only when in particular topic or private message with a user/group. It goes away (or changes accordingly) if the narrow is changed. It does not appear for message that is first in it's group (say when a new topic is started). Here are a few snapshots:</p>\n<p><strong>With date divider</strong><br>\n<a href=\"/user_uploads/2/e5/zZBUEwHyLpZKzcn1prQw7Hfk/Screenshot-2019-06-18-at-12.51.22-AM.png\" target=\"_blank\" title=\"Screenshot-2019-06-18-at-12.51.22-AM.png\">Screenshot-2019-06-18-at-12.51.22-AM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/e5/zZBUEwHyLpZKzcn1prQw7Hfk/Screenshot-2019-06-18-at-12.51.22-AM.png\" target=\"_blank\" title=\"Screenshot-2019-06-18-at-12.51.22-AM.png\"><img src=\"/user_uploads/2/e5/zZBUEwHyLpZKzcn1prQw7Hfk/Screenshot-2019-06-18-at-12.51.22-AM.png\"></a></div><p><strong>Without date divider</strong><br>\n<a href=\"/user_uploads/2/9e/p31jPqc_42boPpUF1ycEn9Do/Screenshot-2019-06-18-at-12.51.42-AM.png\" target=\"_blank\" title=\"Screenshot-2019-06-18-at-12.51.42-AM.png\">Screenshot-2019-06-18-at-12.51.42-AM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/9e/p31jPqc_42boPpUF1ycEn9Do/Screenshot-2019-06-18-at-12.51.42-AM.png\" target=\"_blank\" title=\"Screenshot-2019-06-18-at-12.51.42-AM.png\"><img src=\"/user_uploads/2/9e/p31jPqc_42boPpUF1ycEn9Do/Screenshot-2019-06-18-at-12.51.42-AM.png\"></a></div><p><strong>Night mode</strong><br>\n<a href=\"/user_uploads/2/4e/h3Y1sa1bLnPrqZ5okCl2Pulm/Screenshot-2019-06-18-at-12.52.07-AM.png\" target=\"_blank\" title=\"Screenshot-2019-06-18-at-12.52.07-AM.png\">Screenshot-2019-06-18-at-12.52.07-AM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/4e/h3Y1sa1bLnPrqZ5okCl2Pulm/Screenshot-2019-06-18-at-12.52.07-AM.png\" target=\"_blank\" title=\"Screenshot-2019-06-18-at-12.52.07-AM.png\"><img src=\"/user_uploads/2/4e/h3Y1sa1bLnPrqZ5okCl2Pulm/Screenshot-2019-06-18-at-12.52.07-AM.png\"></a></div><p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> <span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span> ^</p>\n<p>[EDIT]: The message also includes sender if it includes the unread divider</p>",
        "id": 755083,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560801793
    },
    {
        "content": "<p>PR Submitted: <a href=\"https://github.com/zulip/zulip/pull/12594\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/12594\">#12594</a></p>",
        "id": 755085,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560802526
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5593\">@Vaibhav Rabber</span> awesome!  I'll take a quick look.</p>",
        "id": 755180,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1560805982
    },
    {
        "content": "<p>Pushed some changes to the PR and posted a few comments.</p>",
        "id": 755676,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560880530
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span> The unread markers currently extend the date dividers too. Do we want to undo that too or just for the unread_divider?</p>",
        "id": 755711,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560882952
    },
    {
        "content": "<p>oh, interesting. I would say to undo that too, though maybe there's some context I'm missing for why we did it that way?</p>",
        "id": 755715,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560883344
    },
    {
        "content": "<p>It looks a little funny because of the discontinuity if we shorten the unread marker for date dividers too</p>",
        "id": 755716,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560883419
    },
    {
        "content": "<p>I see. Ok, I guess the ideal might be:</p>\n<ul>\n<li>leave it in for date dividers</li>\n<li>remove it for unread_divider</li>\n</ul>",
        "id": 755718,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1560883820
    },
    {
        "content": "<p>Pushed the changes</p>",
        "id": 755719,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560884571
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5593\">@Vaibhav Rabber</span> does your push also cover the technical things I brought up?  Not sure if it's ready for another review by me yet.</p>",
        "id": 755753,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1560886305
    },
    {
        "content": "<p>Yes i did make those changes</p>",
        "id": 755771,
        "sender_full_name": "Vaibhav Rabber",
        "timestamp": 1560886558
    }
]