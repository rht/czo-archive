[
    {
        "content": "<p>Hey! There's been a suggestion to show the name of the person who added a reaction rather than the count when it's just one person. (One could potentially do this for 2-3 people as well.) What do folks think? It could be implemented as a personal option if some people love the idea and others prefer the current approach.</p>",
        "id": 1305561,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1641494174
    },
    {
        "content": "<p>Personally, I just prefer the count and I don't mind hovering over the reaction to see who reacted. That extra step to find out who reacted has rarely ever bothered me. A couple of points:</p>\n<ul>\n<li>If just one person reacted, showing the name by default would be pretty convenient.</li>\n<li>However, even with 2 people reacting, if one of the people reacting has a long name, that could become a distraction visually from the main message, so not sure how I feel about that.</li>\n<li>Either way, people should absolutely be able to disable this setting.</li>\n</ul>\n<p>Thanks! :)</p>",
        "id": 1305564,
        "sender_full_name": "Eeshan Garg",
        "timestamp": 1641495442
    },
    {
        "content": "<p>I think that current behavior is ok</p>",
        "id": 1305627,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1641503335
    },
    {
        "content": "<p>FWIW I regularly find it annoying that I need to hover over reactions to see who provided a given reaction.  So I'd definitely turn on such a setting if it existed.</p>\n<p>From a design philosophy perspective, we do want to minimize situations where you need to move your mouse to a specific spot in order to read a conversation.  And I think in a lot of conversations in a community like this one, it's often pretty important to the meaning to know who provided a <img alt=\":eqeq:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/138.png\" title=\"eqeq\"> or <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> or <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> reaction.  </p>\n<p>If the person had instead sent the emoji as a message, rather than as a reaction, I'd certainly be annoyed if we decided to not show the name/avatar for the sender without doing some work.  And I think given that there's a good number of users who use emoji reactions to communicate ideas like \"I agree with X\" or \"I'm looking at this\", in settings where there might be more than one person who could plausibly have given that reaction.</p>\n<p>But this probably would make sense as a default-off display setting at least to start, because it affects the visuals.  (I'd also want it to not adjust display in 1:1 PMs, since the other party is clear from context).</p>",
        "id": 1318318,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643412266
    },
    {
        "content": "<p>Ok, thoughts on how we would label the checkbox setting if we were to add it? I'm struggling to come up with a nice, succinct phrase.</p>",
        "id": 1318353,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643413935
    },
    {
        "content": "<p>Reaction Style with radio buttons next to visual examples</p>",
        "id": 1318363,
        "sender_full_name": "Steve Howell",
        "timestamp": 1643414783
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1318318\">said</a>:</p>\n<blockquote>\n<p>FWIW I regularly find it annoying that I need to hover over reactions to see who provided a given reaction.  So I'd definitely turn on such a setting if it existed.</p>\n<p>From a design philosophy perspective, we do want to minimize situations where you need to move your mouse to a specific spot in order to read a conversation.  And I think in a lot of conversations in a community like this one, it's often pretty important to the meaning to know who provided a <img alt=\":eqeq:\" class=\"emoji\" src=\"/user_avatars/2/emoji/images/138.png\" title=\"eqeq\"> or <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> or <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> reaction.  </p>\n<p>If the person had instead sent the emoji as a message, rather than as a reaction, I'd certainly be annoyed if we decided to not show the name/avatar for the sender without doing some work.  And I think given that there's a good number of users who use emoji reactions to communicate ideas like \"I agree with X\" or \"I'm looking at this\", in settings where there might be more than one person who could plausibly have given that reaction.</p>\n</blockquote>\n<p>I have a similar experience, and agree with all this reasoning.</p>\n<p>Quite often there'll be a conversation and some messages that have a single reaction, most often <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span>. It's really impossible to interpret what the reaction means without knowing who added it. Typically there's just one person for whom it'd really make conversational sense for them to have added it -- but it <em>could</em> have been someone else, otherwise a bystander, leaving the reaction. So if I'm involved in the conversation and/or actually need to read it, I usually feel I have to go mouse over and check that the reacter is who I think it is.</p>",
        "id": 1318371,
        "sender_full_name": "Greg Price",
        "timestamp": 1643415174
    },
    {
        "content": "<p>I especially feel this pain on the mobile app.</p>",
        "id": 1318374,
        "sender_full_name": "Steve Howell",
        "timestamp": 1643415282
    },
    {
        "content": "<p>Am I correct that most of these common feelings we have about the topic are specific to messages that we sent?</p>",
        "id": 1318376,
        "sender_full_name": "Steve Howell",
        "timestamp": 1643415475
    },
    {
        "content": "<p>No, this is just as relevant for me in reading a conversation between two other people, as long as it's a conversation I think is important for me to understand.  So I don't think there's any stronger coupling here than just \"in general I probably care more about conversations I'm in, but that's not the only reason I'd care about a conversation\".</p>",
        "id": 1318442,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643420713
    },
    {
        "content": "<p>what do you want to do if there are many emojis?</p>",
        "id": 1318453,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643424351
    },
    {
        "content": "<p>I think nothing different from now.</p>",
        "id": 1318470,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643432179
    },
    {
        "content": "<p>I filed <a href=\"https://github.com/zulip/zulip/pull/20980\">#20980</a>.</p>",
        "id": 1318474,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643433116
    },
    {
        "content": "<p>What are your thoughts on showing the profile picture of the user instead of the name?<br>\nInstagram DMs has a system where they show profile pictures of the users who reacted. If multiple users react with a common emoji, it shows their profile pics and if there's more than one emoji in the reactions, it just shows the count.</p>",
        "id": 1318601,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1643448364
    },
    {
        "content": "<p>Interesting idea</p>",
        "id": 1318932,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643509012
    },
    {
        "content": "<p>Did we briefly experiment with showing just a couple of names and then ellipses a while back?</p>",
        "id": 1318944,
        "sender_full_name": "Yash RE",
        "timestamp": 1643520978
    },
    {
        "content": "<p>Here is how telegram does it <a href=\"/user_uploads/2/d0/bTckUXKeBkJ0qS1m-lXYSjGj/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d0/bTckUXKeBkJ0qS1m-lXYSjGj/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/d0/bTckUXKeBkJ0qS1m-lXYSjGj/image.png\"></a></div>",
        "id": 1319246,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643564778
    },
    {
        "content": "<p>but once there are more than 1 person it converts to a number, I think we have to pick that N number after which it becomes a number</p>",
        "id": 1319247,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643564834
    },
    {
        "content": "<p>I think like as soon as number of people is bigger than a pizza group you talk about number not particular people. And if you do care about people, you can use the poll feature</p>",
        "id": 1319248,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643564891
    },
    {
        "content": "<p>overall telegram mac desktop app UX about emoji reaction is nice</p>",
        "id": 1319249,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643564970
    },
    {
        "content": "<p>the issues is that in Zulip people don't put good avatars or put them at all</p>",
        "id": 1319253,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643565149
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1319253\">said</a>:</p>\n<blockquote>\n<p>the issues is that in Zulip people don't put good avatars or put them at all</p>\n</blockquote>\n<p>yeah, it's kinda surprising really.</p>",
        "id": 1319347,
        "sender_full_name": "Yash RE",
        "timestamp": 1643603181
    },
    {
        "content": "<p>its not surprising at all ;)</p>",
        "id": 1319348,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643603296
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"9808\">@Yash RE</span> look at your avatar, its not a real face and it's hard to recognize what is exactly there until I open the picture in a larger size.<br>\nThere are people who don't like to show their face for multiple reasons, also it depends on a group where the communication is happening.</p>",
        "id": 1319350,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643603420
    },
    {
        "content": "<p>Yeah but I feel like we have more people that use the default gravatar avatars, here, than most other places on the internet.</p>",
        "id": 1319351,
        "sender_full_name": "Yash RE",
        "timestamp": 1643603502
    },
    {
        "content": "<p>Zulip is not a usual working chat like Slack. I guess you can see real faces even rarer than in Zulip</p>",
        "id": 1319353,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643603519
    },
    {
        "content": "<p>I wish gravatars were individually more unique... at the size we see them in, it's essentially just a solid color because differences in the patterns are too small to recognize.</p>",
        "id": 1319354,
        "sender_full_name": "Yash RE",
        "timestamp": 1643603600
    },
    {
        "content": "<p>Well, there is another approach instead of Gravatar. Just using first 2 letters of the name like VK. I'm personally don't like the current artificially generated images if you don't upload a photo... they all look similar</p>",
        "id": 1319355,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643603600
    },
    {
        "content": "<p>YEAH.</p>",
        "id": 1319356,
        "sender_full_name": "Yash RE",
        "timestamp": 1643603618
    },
    {
        "content": "<p>or you know, A solid color + initials would probably be most useful, and I  think it's significant that google uses that <em>everywhere</em>.</p>",
        "id": 1319357,
        "sender_full_name": "Yash RE",
        "timestamp": 1643603701
    },
    {
        "content": "<p>Well, there is a problem with that, what if you have 3 or 4 words in your name? What if you have one?</p>",
        "id": 1319359,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643603801
    },
    {
        "content": "<p>At minimum you want at least 2 letters in the avatar. I think that along side a variable background would be unique enough to be recognizable, but also be uniform enough to be aesthetic.</p>\n<p>I think it'd be fairly consistent to:</p>\n<ul>\n<li>take the first letter of the first word, and the first letter of the last word if there are 4 or more words.</li>\n<li>take the first letter of the first word, the first letter of the middle word, and the first letter of the last word if there are 3 words.</li>\n<li>take the first letter of the first word and the first letter of the last word if there are 2 words.</li>\n<li>take the first 2 letters of the word if there is only 1 word.</li>\n</ul>",
        "id": 1319363,
        "sender_full_name": "Yash RE",
        "timestamp": 1643604316
    },
    {
        "content": "<p>In early days we had every intention of supporting system-generated avatars, but it was removed in <a href=\"https://github.com/zulip/zulip/commit/5bea2f5e20c62d07a7ccfe96a91856e508bd0279\">5bea2f5e20c62d07a7ccfe96a91856e508bd0279</a></p>",
        "id": 1319511,
        "sender_full_name": "Steve Howell",
        "timestamp": 1643634832
    },
    {
        "content": "<p>This is what it looks like when we show 1 name per reaction and revert back to numbers if count is more than 1.</p>\n<p><a href=\"/user_uploads/2/69/cyOVa1h4r1hLIrsKr64xW-CH/Screenshot-2022-01-31-190612.jpg\">Screenshot-2022-01-31-190612.jpg</a> <a href=\"/user_uploads/2/a9/Spzzf_QPwRg9kv52LBHdOc9n/Screenshot-2022-01-31-190657.jpg\">Screenshot-2022-01-31-190657.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/69/cyOVa1h4r1hLIrsKr64xW-CH/Screenshot-2022-01-31-190612.jpg\" title=\"Screenshot-2022-01-31-190612.jpg\"><img src=\"/user_uploads/2/69/cyOVa1h4r1hLIrsKr64xW-CH/Screenshot-2022-01-31-190612.jpg\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/a9/Spzzf_QPwRg9kv52LBHdOc9n/Screenshot-2022-01-31-190657.jpg\" title=\"Screenshot-2022-01-31-190657.jpg\"><img src=\"/user_uploads/2/a9/Spzzf_QPwRg9kv52LBHdOc9n/Screenshot-2022-01-31-190657.jpg\"></a></div>",
        "id": 1319524,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1643636561
    },
    {
        "content": "<p>A problem I see when using letters instead of an abstract pattern is the potential for collisions between people’s initials and awkward/embarassing three-letter words in English (or other languages).</p>",
        "id": 1319527,
        "sender_full_name": "Jost Migenda",
        "timestamp": 1643637964
    },
    {
        "content": "<p>I kind of like when we show the name inside the emoji reaction, even if its breaking the layout a bit once the counter changes... Its brave and people do like to see their name</p>",
        "id": 1319530,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643643110
    },
    {
        "content": "<p>Yeah, those screenshots look pretty good to me.</p>\n<p>I suppose we could have a more complicated algorithm that would show, e.g. up to 3 names if there's only 1 reaction, and up to 1 name is there's more than 1 reaction. Not sure it would be worth it.</p>",
        "id": 1319676,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643655937
    },
    {
        "content": "<p>I have made a PR for this issue <a href=\"https://github.com/zulip/zulip/pull/21013\">here</a>. RIght now, it shows the name of the user when there is only 1 reaction per emoticon, and reverts back to numbers when the count of an emoticon is more than 1. </p>\n<p>I have added a checkbox at the bottom of the Settings &gt; Display settings &gt; Theme section to enable this setting, however, the changes only take place on reloading. Can someone guide me on how I can update the reactions at the same time  the setting is changed?... or suggest a cleaner approach perhaps?</p>\n<p><a href=\"/user_uploads/2/87/caqO4yrLpqG9M9sJO-v3o5y8/chrome-capture.jpg\">chrome-capture.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/87/caqO4yrLpqG9M9sJO-v3o5y8/chrome-capture.jpg\" title=\"chrome-capture.jpg\"><img src=\"/user_uploads/2/87/caqO4yrLpqG9M9sJO-v3o5y8/chrome-capture.jpg\"></a></div>",
        "id": 1320567,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1643746803
    },
    {
        "content": "<p>We should definitely plan to replace gravatars as default avatars, but let's not get too distracted with that.  I think actually just seeing a random gravatar would convey what I want to know: that it is not a super established user in the community.</p>",
        "id": 1320764,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643756176
    },
    {
        "content": "<p>I like the direction of doing avatars rather than names; feels more consistently compact.</p>",
        "id": 1320767,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643756219
    },
    {
        "content": "<p>It's possible with that design we won't feel the need for a setting at all.</p>",
        "id": 1320769,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643756238
    },
    {
        "content": "<p>I think we can try out both the names version and a version with avatars here, and see how they feel. For testing it here, it's fine if the settings don't update properly yet.</p>",
        "id": 1320792,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643757513
    },
    {
        "content": "<p>I guess I do quite like the screenshots with the names, thinking about this a bit more, so definitely agree it's worth trying this out.</p>",
        "id": 1322283,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643935764
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> for something to deploy for feedback, perhaps you can just drop from the PR for the moment the backend/settings part, and just have it unconditionally change how we display emoji reactions -- I think that'll be better for discussion to have everyone get the new behavior (And also simplify the PR).  That way we don't need to settle the database model for what set of options we want to offer users before deploying it.</p>",
        "id": 1322284,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643935811
    },
    {
        "content": "<p>Alright. I'll make the changes and notify here.</p>",
        "id": 1322343,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1643946371
    },
    {
        "content": "<p>I've made the suggested changes. <a href=\"https://github.com/zulip/zulip/pull/21013\">This</a> is the PR if anyone wants to take a look.</p>",
        "id": 1322592,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1643998187
    },
    {
        "content": "<p>Thanks! I posted some feedback on the PR.</p>",
        "id": 1322805,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644018572
    },
    {
        "content": "<p>This is what it looks like after the suggested changes.<br>\n<a href=\"/user_uploads/2/b/BmDQsySaRYIrMQ698NOqJ5Gu/Screenshot-2022-02-05-235738.jpg\">Screenshot-2022-02-05-235738.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b/BmDQsySaRYIrMQ698NOqJ5Gu/Screenshot-2022-02-05-235738.jpg\" title=\"Screenshot-2022-02-05-235738.jpg\"><img src=\"/user_uploads/2/b/BmDQsySaRYIrMQ698NOqJ5Gu/Screenshot-2022-02-05-235738.jpg\"></a></div>",
        "id": 1323072,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644085843
    },
    {
        "content": "<p>I'm still working on fixing the node tests.</p>",
        "id": 1323073,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644085893
    },
    {
        "content": "<p>Just occurred to me, but it's probably not worth worrying about someone named, for example, \"20\" confusing things when they reactji on a post. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 1323172,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1644103952
    },
    {
        "content": "<p>That seems like an appropriate thing to worry about. Also easy to fix: instead of displaying “<span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span> 3”, display “<span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span> Iago and 2 more”.</p>",
        "id": 1323173,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1644104743
    },
    {
        "content": "<p>That would also mean you don’t lose information as reactions are added—you always see the first user to react with each reaction.</p>",
        "id": 1323174,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1644104826
    },
    {
        "content": "<p>Hmm I guess someone could then name themselves “Iago and 2 more”.</p>",
        "id": 1323175,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1644104957
    },
    {
        "content": "<p>That approach just means that instead of \"3\" being the confusing username it's \"foo and 2 more\" (though perhaps that's not likely to come up). You can also disambiguate with something like bold/italics/underline/color.</p>",
        "id": 1323176,
        "sender_full_name": "Alex Dehnert",
        "timestamp": 1644104959
    },
    {
        "content": "<p>I was thinking the same thing. The \"... and 2 others\" part could have a different font/color.</p>",
        "id": 1323391,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644159073
    },
    {
        "content": "<p>One option would be to show the others as a styled  <code>+5</code> box, like we have in recent topics.</p>",
        "id": 1323930,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644262186
    },
    {
        "content": "<p>Sorry for the late update... I was caught up in assignments this weekend.<br>\nWhile working on fixing the node tests, I came up with a much cleaner approach to implement <a href=\"https://github.com/zulip/zulip/pull/21013\">this</a>. This is what it looks like now:</p>\n<p><a href=\"/user_uploads/2/32/orMRDOEWUPHJC8usNxex0-6E/Screenshot-2022-02-08-013830.jpg\">Screenshot-2022-02-08-013830.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/32/orMRDOEWUPHJC8usNxex0-6E/Screenshot-2022-02-08-013830.jpg\" title=\"Screenshot-2022-02-08-013830.jpg\"><img src=\"/user_uploads/2/32/orMRDOEWUPHJC8usNxex0-6E/Screenshot-2022-02-08-013830.jpg\"></a></div>",
        "id": 1324082,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644268848
    },
    {
        "content": "<p>Let me know if I should change something.</p>",
        "id": 1324087,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644269567
    },
    {
        "content": "<p>Thanks for posting the next iteration, <span class=\"user-mention silent\" data-user-id=\"22715\">Raghav Luthra</span> !</p>\n<p>Do folks think it's especially useful to see the name of the first person who reacted?</p>\n<p>If not, I think we should go back to just showing the number for 2+ people. Having someone's name be a number should be very rare, and the confusion <em>can</em> be resolved by hovering over the reaction to get a tooltip.</p>\n<p>If we do think the information is helpful, I'd be up for trying something along the lines of Tim's suggestion above (\"show the others as a styled <code>+5</code> box, like we have in recent topics\"); I think the current prototype is too wordy.</p>",
        "id": 1324165,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644274556
    },
    {
        "content": "<p>Yeah, I think I agree that I basically either want a list of names or a number on a given reaction, not a mix.  Both because it's wordy, and because of these styling issues with the \"and 5\" being not clearly separated from the names.  There's also i18n issues once you start doing that.</p>",
        "id": 1324184,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644275033
    },
    {
        "content": "<p>There's an argument that one just wants one or the other for the entire message; e.g. if we have 7 <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> and 1 <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span>, one doesn't really want to be calling out the name of the person who picked a different emoji?</p>",
        "id": 1324185,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644275081
    },
    {
        "content": "<p>Displaying multiple names, if we're doing that, as \"Full Name 1, Full Name 2\" avoids all the i18n complexity.</p>",
        "id": 1324186,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644275165
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1324185\">said</a>:</p>\n<blockquote>\n<p>There's an argument that one just wants one or the other for the entire message; e.g. if we have 7 <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> and 1 <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span>, one doesn't really want to be calling out the name of the person who picked a different emoji?</p>\n</blockquote>\n<p>I dunno, I think it'll feel more consistent to the user if we just have a rule that looks at how many people picked a particular reaction, without taking into account other reactions nearby.</p>",
        "id": 1324194,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644275505
    },
    {
        "content": "<p>Yeah, I'm not sure.  I think we kinda need to see a version of it in action to resolve the question of whether it potentially feels weird.</p>",
        "id": 1324314,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644283611
    },
    {
        "content": "<p>(I wouldn't want to create some sort of emergent social thing where folks feel self-conscious).</p>",
        "id": 1324316,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644283634
    },
    {
        "content": "<p>Well, my preference for what we try first is showing a name for any emoji that has one vote on it, and showing just a number for all others.</p>",
        "id": 1325073,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644364876
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1323930\">said</a>:</p>\n<blockquote>\n<p>One option would be to show the others as a styled  <code>+5</code> box, like we have in recent topics.</p>\n</blockquote>\n<p>I'll try and implement this as well.</p>",
        "id": 1325314,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644383458
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1325073\">said</a>:</p>\n<blockquote>\n<p>Well, my preference for what we try first is showing a name for any emoji that has one vote on it, and showing just a number for all others.</p>\n</blockquote>\n<p>I've implemented this in the <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a> as suggested. Here are the screenshots:<br>\n<a href=\"/user_uploads/2/b7/dXM-5zgt9Ers1tIngkrdY3O1/light-theme.jpg\">light-theme.jpg</a><br>\n<a href=\"/user_uploads/2/40/FHZ_dCvKVSq1dQoe8zOEGVNZ/dark-theme.jpg\">dark-theme.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b7/dXM-5zgt9Ers1tIngkrdY3O1/light-theme.jpg\" title=\"light-theme.jpg\"><img src=\"/user_uploads/2/b7/dXM-5zgt9Ers1tIngkrdY3O1/light-theme.jpg\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/40/FHZ_dCvKVSq1dQoe8zOEGVNZ/dark-theme.jpg\" title=\"dark-theme.jpg\"><img src=\"/user_uploads/2/40/FHZ_dCvKVSq1dQoe8zOEGVNZ/dark-theme.jpg\"></a></div>",
        "id": 1326212,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644498625
    },
    {
        "content": "<p>Nice! Why do the left-most and right-most reactions have a different background?</p>",
        "id": 1326313,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644512412
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1326313\">said</a>:</p>\n<blockquote>\n<p>Nice! Why do the left-most and right-most reactions have a different background?</p>\n</blockquote>\n<p>I was logged in as <code>aaron</code>.</p>",
        "id": 1326381,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644518269
    },
    {
        "content": "<p>Perhaps we could add '(you)' as a suffix to avoid confusion.</p>",
        "id": 1326383,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644518392
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1326402,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644519614
    },
    {
        "content": "<p>I still have to address the comment left by <span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span>. I misunderstood it at first but now I think I understand.</p>",
        "id": 1326407,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644520418
    },
    {
        "content": "<p>Ah, I see. I think we should display the user's own name as just \"You\", the same as we do in the emoji reaction tooltip.</p>",
        "id": 1326458,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644525363
    },
    {
        "content": "<p>I fixed the \"You\" issue and pushed that change back to the PR; which I've now also test-deployed here!</p>",
        "id": 1326504,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644530362
    },
    {
        "content": "<p>Feedback appreciated!  In particular I think I'm not at all sure how this feature should best handle situations like when the second person clicks to upvote a reaction from another user; I could imagine the <code>Name1, Name2</code> format as being best for a message with at most 3 total reactions.</p>",
        "id": 1326520,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644530434
    },
    {
        "content": "<p>I've already found them useful!</p>",
        "id": 1326584,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644535274
    },
    {
        "content": "<p>My one complaint is that the names are a bit hard to read; for me changing the size to 90% rather than 80% still looks nice visually and substantially addresses that.</p>\n<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> I added a commit to upstream/chat.zulip.org with <code>font-size: 90%</code> which I think helps a lot with this issue.  It does increase the size when showing unread counts, but that seems OK.</p>",
        "id": 1326585,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644535294
    },
    {
        "content": "<p><a href=\"/user_uploads/2/89/zN-QNbo5gBBCJduj2JL1L8ep/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/89/zN-QNbo5gBBCJduj2JL1L8ep/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/89/zN-QNbo5gBBCJduj2JL1L8ep/image.png\"></a></div>",
        "id": 1326586,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644535299
    },
    {
        "content": "<p>One quirky situation that threw me off with this experiment running is this:</p>\n<p><a href=\"/user_uploads/2/43/a01I51U6l_1t1SwXhDFRaIES/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/43/a01I51U6l_1t1SwXhDFRaIES/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/43/a01I51U6l_1t1SwXhDFRaIES/image.png\"></a></div>",
        "id": 1326599,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644536188
    },
    {
        "content": "<p>BTW <a class=\"stream\" data-stream-id=\"1\" href=\"/#narrow/stream/1-announce\">#announce</a> has a lot of messages with varied numbers of reactions and is useful for testing this feature.</p>\n<p><a href=\"#narrow/stream/1-announce/topic/mobile.20releases/near/1212130\">This message in particular</a> I think illustrates the issue I was worried about of overly highlighting the identity of whoever posted unique reactions on a message that has a lot of reactions in total:</p>\n<p><a href=\"/user_uploads/2/b0/cNKebRCVLMg-3i6mDQsFPWXJ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b0/cNKebRCVLMg-3i6mDQsFPWXJ/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b0/cNKebRCVLMg-3i6mDQsFPWXJ/image.png\"></a></div>",
        "id": 1326600,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644536365
    },
    {
        "content": "<p>To me, that suggests we might want the algorithm to be something like \"Show names if total reactions on message &lt;= 5\" rather than having it be individual for each emoji.</p>",
        "id": 1326601,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644536398
    },
    {
        "content": "<p>I guess people might find fun ways to make meaning out of an emoji squished up against their name or \"You\". (I don't know if there's anything to be done about this, just wanted to send the data point. <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span>)</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p><a href=\"/user_uploads/2/3a/25WiiD4Q7MOcMFGrvAu5rPWJ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3a/25WiiD4Q7MOcMFGrvAu5rPWJ/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/3a/25WiiD4Q7MOcMFGrvAu5rPWJ/image.png\"></a></div></div></div>\n<p>I guess it'll only show up with \"You\" to the person who reacted.</p>",
        "id": 1326694,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1644549744
    },
    {
        "content": "<p>My own tentative opinion is that I'd prefer avatar thumbnails instead of names. It'd take much less space per user, and you don't get more space just because you have a long name. (And we don't have to think about chopping off super long names.) If we use full names, I'm not sure something like \"Show names if total reactions on message &lt;= 5\" would work well (that's a lot of text), though maybe worth a try!</p>",
        "id": 1326695,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1644550580
    },
    {
        "content": "<p>I think one concern with showing names if unique but not otherwise, is that it could lead to:</p>\n<ul>\n<li>users wanting to standout picking unique reactions</li>\n<li>users wanting to blend in picking existing reactions</li>\n</ul>\n<p>There's already a sort of social aspect to 'who did that unique reaction?', but this would make it very explicit - or potentially push people away from doing so.</p>",
        "id": 1326705,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1644552160
    },
    {
        "content": "<p>That said, I do enjoy the little I've seen on czo with this look.</p>",
        "id": 1326707,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1644552234
    },
    {
        "content": "<p>This reminds me how the <code>I</code> key (well, lower case) on a message brings up a menu in the web app, whereas in ZT we use that for a general message menu - and it was the first place where we showed the full list of reactions and by who. Is that possible in the web app without hovering?</p>",
        "id": 1326709,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1644552361
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1326601\">said</a>:</p>\n<blockquote>\n<p>To me, that suggests we might want the algorithm to be something like \"Show names if total reactions on message &lt;= 5\" rather than having it be individual for each emoji.</p>\n</blockquote>\n<p>Yeah, seeing it in action, I agree with that. I might try something like &lt;=3 total names (across all reactions on a message) to avoid having too much text.</p>",
        "id": 1326755,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644561968
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1326458\">said</a>:</p>\n<blockquote>\n<p>Ah, I see. I think we should display the user's own name as just \"You\", the same as we do in the emoji reaction tooltip.</p>\n</blockquote>\n<p>I'm skipping to the end of this thread, so sorry if I missed context, but IMO I'd prefer it to not show \"You\" when I'm the one who reacted — I can tell that already from the shaded background, so I'd rather it just not show a name at all (since I find that to be less visual noise)</p>",
        "id": 1326757,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644562314
    },
    {
        "content": "<p>Also, I'd love it if we could make sure that whatever we do on this feature won't break our ability to do <a href=\"https://github.com/zulip/zulip/pull/4712\">#4712</a> well in the future :)</p>",
        "id": 1326758,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644562814
    },
    {
        "content": "<p>Hm, shaded background looks pretty subtle to me. I think I've sometimes forgotten whether I reacted or somebody else did, so being able to tell seems useful, and I worry I might find the shading too subtle?</p>",
        "id": 1326773,
        "sender_full_name": "Alex Dehnert",
        "timestamp": 1644564018
    },
    {
        "content": "<p>Yeah, our contrast on that is way less than Slack/Discord/etc. We should fix that :)</p>",
        "id": 1326776,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644564718
    },
    {
        "content": "<p>(<a class=\"stream-topic\" data-stream-id=\"137\" href=\"/#narrow/stream/137-feedback/topic/emoji.20reaction.20background.20contrast\">#feedback &gt; emoji reaction background contrast</a>)</p>",
        "id": 1326778,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644564884
    },
    {
        "content": "<p>I've updated the node tests to account for the \"You\" detail as well.</p>",
        "id": 1327028,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644607216
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1326757\">said</a>:</p>\n<blockquote>\n<p>I'm skipping to the end of this thread, so sorry if I missed context, but IMO I'd prefer it to not show \"You\" when I'm the one who reacted — I can tell that already from the shaded background, so I'd rather it just not show a name at all (since I find that to be less visual noise)</p>\n</blockquote>\n<p>Hm, I expect this would be confusing. Even if we make the blue coloring more distinct, users might not be consciously aware of what it means (I wasn't until we started discussing it just now!).</p>",
        "id": 1327073,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644609909
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1326758\">said</a>:</p>\n<blockquote>\n<p>Also, I'd love it if we could make sure that whatever we do on this feature won't break our ability to do <a href=\"https://github.com/zulip/zulip/pull/4712\">#4712</a> well in the future <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>\n</blockquote>\n<p>It won't, so need to worry about that.</p>",
        "id": 1327300,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644624251
    },
    {
        "content": "<p>I think there is an argument for displaying your own name rather than \"You\" for the same reason we display your own name as the sender of messages: Because that's how other users will view the content.</p>",
        "id": 1327301,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644624314
    },
    {
        "content": "<p>And also it'd just feel more consistent that when a reaction is added to a message, the size of the thing created is the same for everyone.</p>",
        "id": 1327302,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644624415
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1326755\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1326601\">said</a>:</p>\n<blockquote>\n<p>To me, that suggests we might want the algorithm to be something like \"Show names if total reactions on message &lt;= 5\" rather than having it be individual for each emoji.</p>\n</blockquote>\n<p>Yeah, seeing it in action, I agree with that. I might try something like &lt;=3 total names (across all reactions on a message) to avoid having too much text.</p>\n</blockquote>\n<p>&lt;=3 seems worth trying; obviously it's easy to play with that parameter.  <span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> would you be up for adding an additional commit that makes this change, without modifying the commits implementing the version we're presently testing?  I expect it might require a bit of messy refactoring in order to be able to plumb through the necessary information to the right place.</p>",
        "id": 1327306,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644624576
    },
    {
        "content": "<p>I had a question regarding the above behavior.<br>\nIf the current user has reacted, do we show \"You\" as the first vote regardless of whether they were the first one to react (like we do in the reaction tooltip), or do we want to maintain chronological order?</p>",
        "id": 1327496,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644670091
    },
    {
        "content": "<p>The above scenario is considering the votes are &lt;= 3 of course.</p>",
        "id": 1327497,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644670152
    },
    {
        "content": "<p>This is how it looks with the latter approach:<br>\n<a href=\"/user_uploads/2/f4/wP2bf-Wo9IRD53zo0w_-FreN/Screenshot-2022-02-12-213438.jpg\">Screenshot-2022-02-12-213438.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f4/wP2bf-Wo9IRD53zo0w_-FreN/Screenshot-2022-02-12-213438.jpg\" title=\"Screenshot-2022-02-12-213438.jpg\"><img src=\"/user_uploads/2/f4/wP2bf-Wo9IRD53zo0w_-FreN/Screenshot-2022-02-12-213438.jpg\"></a></div>",
        "id": 1327517,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644682012
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22715\">Raghav Luthra</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1327496\">said</a>:</p>\n<blockquote>\n<p>I had a question regarding the above behavior.<br>\nIf the current user has reacted, do we show \"You\" as the first vote regardless of whether they were the first one to react (like we do in the reaction tooltip), or do we want to maintain chronological order?</p>\n</blockquote>\n<p>I'd retain chronological order.</p>",
        "id": 1327519,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644683085
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1327306\">said</a>:</p>\n<blockquote>\n<p>&lt;=3 seems worth trying; obviously it's easy to play with that parameter.  <span class=\"user-mention silent\" data-user-id=\"22715\">Raghav Luthra</span> would you be up for adding an additional commit that makes this change, without modifying the commits implementing the version we're presently testing?  I expect it might require a bit of messy refactoring in order to be able to plumb through the necessary information to the right place.</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span>  I think I'll have to use the <code>rerender_messages_view_for_user(user_id)</code> function from <code>static/js/message_live_update.js</code> to check and rerender messages every time a reaction is added or removed. So should I address <a href=\"https://github.com/zulip/zulip/pull/21013#issuecomment-1034250952\">this</a> comment first and push the changes in the original commit?</p>",
        "id": 1327560,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644691305
    },
    {
        "content": "<p>I feel like my Zulip experience has improved with this change.</p>",
        "id": 1328998,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644935539
    },
    {
        "content": "<p>Here's a video of the \"&lt;=3\" behaviour across all reactions,  although there are still a few bugs that I have to fix before I push the commit.</p>\n<p><a href=\"/user_uploads/2/bc/w8AYhEg6QtgImhDzvEueYo8L/show_names_for_lt3_votes.gif\">show_names_for_lt3_votes.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bc/w8AYhEg6QtgImhDzvEueYo8L/show_names_for_lt3_votes.gif\" title=\"show_names_for_lt3_votes.gif\"><img src=\"/user_uploads/2/bc/w8AYhEg6QtgImhDzvEueYo8L/show_names_for_lt3_votes.gif\"></a></div><p><a href=\"/user_uploads/2/b8/QaBUFZIBRT95s5HWtVzwwfvX/show_names_for_lt3_votes.mp4\">show_names_for_lt3_votes.mp4</a></p>",
        "id": 1329104,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1644948255
    },
    {
        "content": "<p>Cool! I guess being the fourth voter might feel a little surprising, but that might be OK. Excited to try it out when it's ready!</p>",
        "id": 1329457,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644967866
    },
    {
        "content": "<p>I've made another commit to <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a> implementing the \"&lt;=3\" behaviour. Here's how it looks:</p>\n<p><a href=\"/user_uploads/2/48/XVvH0bdCkizsOQm64sZZ1YDK/show_names_if_votes_lte3.gif\">show_names_if_votes_lte3.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/48/XVvH0bdCkizsOQm64sZZ1YDK/show_names_if_votes_lte3.gif\" title=\"show_names_if_votes_lte3.gif\"><img src=\"/user_uploads/2/48/XVvH0bdCkizsOQm64sZZ1YDK/show_names_if_votes_lte3.gif\"></a></div>",
        "id": 1330737,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1645122438
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 1330738,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1645122604
    },
    {
        "content": "<p>Cool, thanks! Looks like there's a node test that needs to be fixed?</p>",
        "id": 1331031,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645142185
    },
    {
        "content": "<p>I'll wait for that to be fixed, because it is annoying to have the <a href=\"http://chat.zulip.org\">chat.zulip.org</a> branch failing tests.</p>",
        "id": 1331041,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645142380
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> fyi since I think that's the only blocker for redeploying this.</p>",
        "id": 1331042,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645142400
    },
    {
        "content": "<p>I'll update here as soon as I fix them.</p>",
        "id": 1331184,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1645160907
    },
    {
        "content": "<p>I deployed the updated version of <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a> that switches at 3 total reactions on a message earlier today.</p>",
        "id": 1333167,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645579255
    },
    {
        "content": "<p>I like it better for sure; don't yet have an opinion on whether 3 or 4 or 5 is the right cutoff since it hasn't come up for me yet.</p>",
        "id": 1333168,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645579279
    },
    {
        "content": "<p>I am currently still feeling like \"You =&gt; {full_name}\" would be an improvement, i.e. we should remove the special handling of \"You\"; it feels jarring to see \"You\" in a context where a name normally would be, especially since there's no styling that would indicate a person named \"You\" differently.  (I have a friend whose legal first name was transliterated from Chinese as \"You\", so it's not an impossible situation)</p>",
        "id": 1333170,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645579309
    },
    {
        "content": "<blockquote>\n<p>I am currently still feeling like \"You =&gt; {full_name}\" would be an improvement, i.e. we should remove the special handling of \"You\"</p>\n</blockquote>\n<p>I have the opposite intuition -- curious what other folks think.</p>",
        "id": 1333254,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645596791
    },
    {
        "content": "<p>I prefer \"You\", especially if we also have styling cues that reactions came from yourself.</p>",
        "id": 1333367,
        "sender_full_name": "Steve Howell",
        "timestamp": 1645633522
    },
    {
        "content": "<p>I prefer Me because it was me…</p>",
        "id": 1333952,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645659855
    },
    {
        "content": "<p>I encountered a bug on the web app when you double click on a reaction but I'm not able to reproduce it locally.<br>\n<a href=\"/user_uploads/2/91/iMwyMXMF42noZpV-_tqCw_s7/Zulip-Community-Zulip-Personal-Microsoft_-Edge-2022-02-24-12-04-47.gif\">On CZO</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/91/iMwyMXMF42noZpV-_tqCw_s7/Zulip-Community-Zulip-Personal-Microsoft_-Edge-2022-02-24-12-04-47.gif\" title=\"On CZO\"><img src=\"/user_uploads/2/91/iMwyMXMF42noZpV-_tqCw_s7/Zulip-Community-Zulip-Personal-Microsoft_-Edge-2022-02-24-12-04-47.gif\"></a></div><p><a href=\"/user_uploads/2/72/m87XAfj9Yl4H7IPWDRERXs0A/design-Zulip-Dev-Zulip-Personal-Microsoft_-Edge-2022-02-24-12-05-26.gif\">On local machine</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/72/m87XAfj9Yl4H7IPWDRERXs0A/design-Zulip-Dev-Zulip-Personal-Microsoft_-Edge-2022-02-24-12-05-26.gif\" title=\"On local machine\"><img src=\"/user_uploads/2/72/m87XAfj9Yl4H7IPWDRERXs0A/design-Zulip-Dev-Zulip-Personal-Microsoft_-Edge-2022-02-24-12-05-26.gif\"></a></div><p>Update: I can reproduce it locally but its very rare and happens a lot faster.</p>",
        "id": 1334078,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1645685270
    },
    {
        "content": "<p>I'll study the code in <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a> to see what's causing it.</p>",
        "id": 1334079,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1645685397
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> it's very possible the bug is independent of <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a>; more likely is that it's just an existing problem with local echo.</p>",
        "id": 1334382,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645732248
    },
    {
        "content": "<p>Often you can make that sort of bug reliably reproducible by adding a <code>time.sleep(5)</code> in the backend code for the views to add/remove a reaction.</p>",
        "id": 1334383,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645732280
    },
    {
        "content": "<p>Any feedback on the experience we had for a few days of having it transition once you got past 3 total reactions?</p>",
        "id": 1335336,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645833987
    },
    {
        "content": "<p>Currently the experiment is not deployed, and my personal experience is that not having this feature is now annoying, which is a good sign that this is a good feature.  But we'll need to decide if we want this feature unconditionally, or to have an option controlling it.</p>",
        "id": 1335337,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645834026
    },
    {
        "content": "<p>Probably an option controlling it</p>",
        "id": 1336110,
        "sender_full_name": "Jore",
        "timestamp": 1646073431
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"20503\">@Jore</span> can you comment more on that?  It'd be helpful to be specific, since that may help us think about what label to give an option, etc.</p>",
        "id": 1336347,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1646082683
    },
    {
        "content": "<p>I don't use the CZO web interface much, but of late I have repeatedly found myself wishing <em>discord</em> had \"show names on reactions\", so that's a promising sign for this feature...</p>",
        "id": 1340445,
        "sender_full_name": "Alex Dehnert",
        "timestamp": 1646713313
    },
    {
        "content": "<p>Haha, yeah, I agree with the feeling that now that I've experienced it, it's annoying to not have it <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>.</p>",
        "id": 1340470,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1646717448
    },
    {
        "content": "<p>Yes, it's a good feature. But like everything, it might be good to be able to toggle it on and off? I don't feel strongly either way though.</p>",
        "id": 1341416,
        "sender_full_name": "Jore",
        "timestamp": 1646817427
    },
    {
        "content": "<p>Yep, the plan is to make a setting to control it.</p>",
        "id": 1341639,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646852723
    },
    {
        "content": "<p>Hello folks. Since my college exams have started, I'll only resume working on <a href=\"https://github.com/zulip/zulip/pull/20980\">#20980</a> once they get over (around a week from now). I hope that's okay .<span aria-label=\"fingers crossed\" class=\"emoji emoji-1f91e\" role=\"img\" title=\"fingers crossed\">:fingers_crossed:</span><br>\nAs this is a related topic, I thought I'd inform here.</p>",
        "id": 1343177,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1647031030
    },
    {
        "content": "<p>Thanks for the heads up -- good luck on the exams!</p>",
        "id": 1343184,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1647031984
    },
    {
        "content": "<p>This feature was great while it was deployed here! I find myself missing it now that it's not -- looking forward to seeing it completed and merged.</p>",
        "id": 1345536,
        "sender_full_name": "Greg Price",
        "timestamp": 1647384822
    },
    {
        "content": "<p>Yeah, I wonder if I should try to push to finish it in during the week between 5.0-rc1 and 5.0 final.</p>",
        "id": 1345617,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1647386507
    },
    {
        "content": "<p>(Since the main work is just plumbing through a setting and picking a title for it)</p>",
        "id": 1345619,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1647386532
    },
    {
        "content": "<p>I'm tagging it is a post-release goal, but I don't think we have to stress about it for 5.0.</p>",
        "id": 1345620,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1647386587
    },
    {
        "content": "<p>For the record, I'm sad this isn't making the 5.0 cut!  I really think it was a smart innovation, and I'm certainly missing not having it deployed here anymore.</p>",
        "id": 1349504,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1647908267
    },
    {
        "content": "<p>Yeah, me too. It's possible if some other thing delays the release that we'll end up including it; I don't think it needs much more testing, just a bit of cleanup.</p>",
        "id": 1349507,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1647908401
    },
    {
        "content": "<p>I really enjoyed the feature as well, but I think it's fine to postpone it to 6.0.  I am still hoping we can do a fairly quick turnaround on 6.0 for features like this and mark-as-unread that aren't quite ready for 5.0 but pretty close to completion.</p>",
        "id": 1349886,
        "sender_full_name": "Steve Howell",
        "timestamp": 1647958919
    },
    {
        "content": "<p>Hello folks. Sorry for the late update. As discussed earlier, I have added a checkbox in Display settings at the end of the Theme section. This is what it looks like:<br>\n<a href=\"/user_uploads/2/e1/fHXu9D8n-JuxGBy86EQ-9d0C/Screenshot-2022-03-23-000134.jpg\">Screenshot-2022-03-23-000134.jpg</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/e1/fHXu9D8n-JuxGBy86EQ-9d0C/Screenshot-2022-03-23-000134.jpg\" title=\"Screenshot-2022-03-23-000134.jpg\"><img src=\"/user_uploads/2/e1/fHXu9D8n-JuxGBy86EQ-9d0C/Screenshot-2022-03-23-000134.jpg\"></a></div><p>I have 2 things I'd like to ask.</p>\n<ol>\n<li>In the description text for the setting should we also add a small example illustrating the effect this setting will have? (similar to the translate_emoticons setting above)</li>\n<li>On checking/unchecking the box, should we prompt the user for a reload or should the changes be reflected immediately? Currently one will have to reload the page to see any changes.</li>\n</ol>",
        "id": 1350043,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1647974614
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1349507\">said</a>:</p>\n<blockquote>\n<p>Yeah, me too. It's possible if some other thing delays the release that we'll end up including it; I don't think it needs much more testing, just a bit of cleanup.</p>\n</blockquote>\n<p>Might I ask when is 5.0 scheduled for release?</p>",
        "id": 1350044,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1647974853
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> see <a class=\"stream-topic\" data-stream-id=\"2\" href=\"/#narrow/stream/2-general/topic/zulip.205.2E0.20release.20plan\">#general &gt; zulip 5.0 release plan</a>, but it's scheduled for Thursday. Could slip to the following week if something comes up.</p>",
        "id": 1350056,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1647975595
    },
    {
        "content": "<p>Generally we want changes to be reflected immediately. I'd expect that to not be hard in this case; <code>message_live_update.rerender_messages_view</code> will do it.</p>",
        "id": 1350060,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1647975708
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> I have fixed the CI failures and cleaned the commit history in <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a>.  Let me know if I should change anything else.</p>",
        "id": 1363986,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1649604363
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> I have left <a href=\"https://github.com/zulip/zulip/pull/21013#discussion_r856527202\">this</a> comment explaining my approach to resolve the duplicate function problem for <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a>.</p>\n<p>Also I noticed the description text for this setting has a period(<code>.</code>) at the end. I don't see one for the other settings so I'm reporting it here.<br>\n<a href=\"/user_uploads/2/b9/3SDa6sJdqlqTbmxNMMjfg8kM/Screenshot-2022-04-23-013520.jpg\">2022-04-23-013520.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b9/3SDa6sJdqlqTbmxNMMjfg8kM/Screenshot-2022-04-23-013520.jpg\" title=\"2022-04-23-013520.jpg\"><img src=\"/user_uploads/2/b9/3SDa6sJdqlqTbmxNMMjfg8kM/Screenshot-2022-04-23-013520.jpg\"></a></div>",
        "id": 1371943,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1650658109
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> posted some more comments there. I think we're getting close.</p>",
        "id": 1372092,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1650668515
    },
    {
        "content": "<p>I noticed that when you enable/disable the setting from default user settings, it doesn't get saved. </p>\n<p><a href=\"/user_uploads/2/d8/ARom-QKvPu6fVeJwg072yz1_/screencast-localhost_9991-2022.04.26-02_58_19.webm\">screencast-localhost_9991-2022.04.26-02_58_19.webm</a></p>\n<p>Is this a bug?</p>",
        "id": 1373252,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1650922403
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> I think it's likely that is a bug in this PR -- it should display a \"Save / Discard\" widget when you click the checkbox.</p>",
        "id": 1373414,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1650931358
    },
    {
        "content": "<p>So my guess is it is not registered properly.</p>",
        "id": 1373415,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1650931364
    },
    {
        "content": "<p>I have updated <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a> -</p>\n<ul>\n<li>The last commit (<a href=\"https://github.com/zulip/zulip/commit/a0e388c39387cb8d2884ac79dcdc716379642a43\">a0e388c39387cb8d2884ac79dcdc716379642a43</a>) fixes the \"Save/Discard\" widget bug, so it can be merged into main before the others.</li>\n<li>I have also made the CSS change (vote_text from blue to black) into a separate commit as suggested.</li>\n</ul>",
        "id": 1386991,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1654114831
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"13313\">@Chris Bobbe</span> reported a layout issue on small screens that I think is in the implementation of this feature:<br>\n<a href=\"#narrow/stream/6-frontend/topic/reacting-users.20names.3A.20text.20wrapping/near/1392792\">https://chat.zulip.org/#narrow/stream/6-frontend/topic/reacting-users.20names.3A.20text.20wrapping/near/1392792</a></p>",
        "id": 1393152,
        "sender_full_name": "Greg Price",
        "timestamp": 1655444022
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1393152\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"13313\">Chris Bobbe</span> reported a layout issue on small screens that I think is in the implementation of this feature:<br>\n<a href=\"#narrow/stream/6-frontend/topic/reacting-users.20names.3A.20text.20wrapping/near/1392792\">https://chat.zulip.org/#narrow/stream/6-frontend/topic/reacting-users.20names.3A.20text.20wrapping/near/1392792</a></p>\n</blockquote>\n<p>Adding a <code>display: flex</code> property and disabling the <code>height</code> property in the <code>.message_reaction</code> class seems to improve it.</p>\n<p>Before:<br>\n<a href=\"/user_uploads/2/bb/CdF2TIDmw2_qsVCz4LycwHCU/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bb/CdF2TIDmw2_qsVCz4LycwHCU/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/bb/CdF2TIDmw2_qsVCz4LycwHCU/image.png\"></a></div><p>After:<br>\n<a href=\"/user_uploads/2/f5/FVHR4T2Cx0Cu29DpkaeWI5zr/Screenshot-2022-06-19-011757.jpg\">Screenshot-2022-06-19-011757.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f5/FVHR4T2Cx0Cu29DpkaeWI5zr/Screenshot-2022-06-19-011757.jpg\" title=\"Screenshot-2022-06-19-011757.jpg\"><img src=\"/user_uploads/2/f5/FVHR4T2Cx0Cu29DpkaeWI5zr/Screenshot-2022-06-19-011757.jpg\"></a></div><p>Shall I open a PR for this?</p>",
        "id": 1393609,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1655581955
    },
    {
        "content": "<p>Thanks for investigating! I see an odd yellow mark just below the <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> emoji, and the rectangle doesn’t have enough height to contain the second line of text plus appropriate padding. Could you look into these issues please?</p>",
        "id": 1393660,
        "sender_full_name": "Chris Bobbe",
        "timestamp": 1655605858
    },
    {
        "content": "<p>I suspect that odd yellow mark is the next emoji below it in the spritesheet, peeking through. That suggests that the element showing the actual emoji image is growing too tall.</p>",
        "id": 1394853,
        "sender_full_name": "Greg Price",
        "timestamp": 1655858253
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1394853\">said</a>:</p>\n<blockquote>\n<p>I suspect that odd yellow mark is the next emoji below it in the spritesheet, peeking through. That suggests that the element showing the actual emoji image is growing too tall.</p>\n</blockquote>\n<p><a href=\"/user_uploads/2/b6/BooV3QVjg-ajbedDcbHXJF9K/Screenshot-2022-06-25-005944.jpg\">Screenshot-2022-06-25-005944.jpg</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b6/BooV3QVjg-ajbedDcbHXJF9K/Screenshot-2022-06-25-005944.jpg\" title=\"Screenshot-2022-06-25-005944.jpg\"><img src=\"/user_uploads/2/b6/BooV3QVjg-ajbedDcbHXJF9K/Screenshot-2022-06-25-005944.jpg\"></a></div><p>The emoji image was shrinking in width which was causing this issue. Setting a <code>min-width</code> property seems to fix it.</p>",
        "id": 1396221,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1656099260
    },
    {
        "content": "<p>I'm still looking into adjusting the rectangle properly.</p>",
        "id": 1396222,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1656099319
    },
    {
        "content": "<p>Cool. We probably want <code>width</code> rather than <code>min-width</code> -- if the element gets wider than intended, it'll probably start showing the emoji to the right of it (in the spritesheet) peeking through.</p>",
        "id": 1396266,
        "sender_full_name": "Greg Price",
        "timestamp": 1656103763
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1396266\">said</a>:</p>\n<blockquote>\n<p>Cool. We probably want <code>width</code> rather than <code>min-width</code> -- if the element gets wider than intended, it'll probably start showing the emoji to the right of it (in the spritesheet) peeking through.</p>\n</blockquote>\n<p><a href=\"/user_uploads/2/c9/m4sxQGLs7ow3wloceYgny7yN/Screenshot-2022-06-26-014554.jpg\">Screenshot-2022-06-26-014554.jpg</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c9/m4sxQGLs7ow3wloceYgny7yN/Screenshot-2022-06-26-014554.jpg\" title=\"Screenshot-2022-06-26-014554.jpg\"><img src=\"/user_uploads/2/c9/m4sxQGLs7ow3wloceYgny7yN/Screenshot-2022-06-26-014554.jpg\"></a></div><p>A <code>width</code> property was present already...yet the actual width here was 14 instead of 17. This is probably happening because the parent element is using <code>display: flex</code> (<a href=\"https://stackoverflow.com/questions/67992773/div-with-absolute-width-is-smaller-than-specified\">https://stackoverflow.com/questions/67992773/div-with-absolute-width-is-smaller-than-specified</a>). Adding a <code>min-width</code>  or <code>flex-shrink: 0</code> seems to keep it at 17.</p>",
        "id": 1396585,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1656189266
    },
    {
        "content": "<p>Ah, got it. I think <code>flex-shrink: 0</code> is probably a clearer way to express that, then -- otherwise it's likely to be mysterious to the reader why a <code>min-width</code> is needed that just repeats the same value as the <code>width</code>.</p>",
        "id": 1397193,
        "sender_full_name": "Greg Price",
        "timestamp": 1656350908
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> can you update <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a> for this bug fix? I think it belongs there, rather than in a new PR, since that hasn't been merged yet.</p>\n<p>(You can potentially do the structural <code>flex</code> changes in a prep commit, refactoring the existing CSS?).</p>",
        "id": 1397723,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1656373551
    },
    {
        "content": "<p><a href=\"/user_uploads/2/c/PlXWOIh2ALU0bqjTAHEJbc4q/Screenshot-2022-06-30-015950.jpg\">Screenshot-2022-06-30-015950.jpg</a> <a href=\"/user_uploads/2/3a/14QqKMrI0C1lzsYViVYgOYhb/Screenshot-2022-06-30-020012.jpg\">Screenshot-2022-06-30-020012.jpg</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c/PlXWOIh2ALU0bqjTAHEJbc4q/Screenshot-2022-06-30-015950.jpg\" title=\"Screenshot-2022-06-30-015950.jpg\"><img src=\"/user_uploads/2/c/PlXWOIh2ALU0bqjTAHEJbc4q/Screenshot-2022-06-30-015950.jpg\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/3a/14QqKMrI0C1lzsYViVYgOYhb/Screenshot-2022-06-30-020012.jpg\" title=\"Screenshot-2022-06-30-020012.jpg\"><img src=\"/user_uploads/2/3a/14QqKMrI0C1lzsYViVYgOYhb/Screenshot-2022-06-30-020012.jpg\"></a></div><p>I've added a prep commit for the <code>flex</code> changes in <a href=\"https://github.com/zulip/zulip/pull/21013\">#21013</a>. The above screenshots show how it looks like when the <code>vote_text</code> gets too long.</p>",
        "id": 1398688,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1656536274
    },
    {
        "content": "<p>Let me know how if the margins or paddings need any changes.</p>",
        "id": 1398691,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1656536790
    },
    {
        "content": "<p>That looks much better! I think in that version it no longer looks buggy or broken.</p>\n<p>A couple of things to ideally tweak in that second screenshot (where the names have wrapped):</p>\n<ul>\n<li>The emoji would probably look better to have vertically centered, rather than at the top.</li>\n<li>It feels like it could use a couple more px of vertical padding between the text and the borders.</li>\n<li>There's a puzzling amount of blank space at the right.</li>\n</ul>",
        "id": 1398700,
        "sender_full_name": "Greg Price",
        "timestamp": 1656537337
    },
    {
        "content": "<p>The first two of those are probably easy to adjust. The third might be tricky, if it comes from some subtle interaction in the layout algorithm; if it turns out to be tricky and you get stuck, I'd recommend not spending too much time on it and just letting it be.</p>",
        "id": 1398701,
        "sender_full_name": "Greg Price",
        "timestamp": 1656537456
    },
    {
        "content": "<p><a href=\"/user_uploads/2/24/xKqZvFhndtdy--q4EAJ2JzgN/Screenshot-2022-07-06-234741.jpg\">Screenshot-2022-07-06-234741.jpg</a> <a href=\"/user_uploads/2/7c/PJ58Xf0cT0E6p629UXRd5Osv/Screenshot-2022-07-07-002614.jpg\">Screenshot-2022-07-07-002614.jpg</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/24/xKqZvFhndtdy--q4EAJ2JzgN/Screenshot-2022-07-06-234741.jpg\" title=\"Screenshot-2022-07-06-234741.jpg\"><img src=\"/user_uploads/2/24/xKqZvFhndtdy--q4EAJ2JzgN/Screenshot-2022-07-06-234741.jpg\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/7c/PJ58Xf0cT0E6p629UXRd5Osv/Screenshot-2022-07-07-002614.jpg\" title=\"Screenshot-2022-07-07-002614.jpg\"><img src=\"/user_uploads/2/7c/PJ58Xf0cT0E6p629UXRd5Osv/Screenshot-2022-07-07-002614.jpg\"></a></div><p>Screenshots after addressing the first 2 points.</p>",
        "id": 1400622,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1657134728
    },
    {
        "content": "<p>Cool, that looks like a successful fix for those two points.</p>",
        "id": 1400624,
        "sender_full_name": "Greg Price",
        "timestamp": 1657134967
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> can you do a screenshot showing the an emoji with a multi-line list of users, where there's also a second emoji on the message? I think that's a corner case that could look wrong, so I'd like to check it.</p>",
        "id": 1402981,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1657586840
    },
    {
        "content": "<p>(Overall, this is looking promising!)</p>",
        "id": 1402982,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1657586847
    },
    {
        "content": "<p><a href=\"/user_uploads/2/2d/Xf2naUEN37FN00-YvD-m3iGT/Screenshot-2022-07-12-073847.jpg\">Screenshot-2022-07-12-073847.jpg</a> <a href=\"/user_uploads/2/49/ZJ7EZYFVr6a7QHww85Ma2ufx/Screenshot-2022-07-12-074030.jpg\">Screenshot-2022-07-12-074030.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/2d/Xf2naUEN37FN00-YvD-m3iGT/Screenshot-2022-07-12-073847.jpg\" title=\"Screenshot-2022-07-12-073847.jpg\"><img src=\"/user_uploads/2/2d/Xf2naUEN37FN00-YvD-m3iGT/Screenshot-2022-07-12-073847.jpg\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/49/ZJ7EZYFVr6a7QHww85Ma2ufx/Screenshot-2022-07-12-074030.jpg\" title=\"Screenshot-2022-07-12-074030.jpg\"><img src=\"/user_uploads/2/49/ZJ7EZYFVr6a7QHww85Ma2ufx/Screenshot-2022-07-12-074030.jpg\"></a></div>",
        "id": 1402987,
        "sender_full_name": "Raghav Luthra",
        "timestamp": 1657592077
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22715\">@Raghav Luthra</span> cool, that looks great.</p>",
        "id": 1407103,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1658266206
    },
    {
        "content": "<p>Is this intentional behaviour?<br>\n<a href=\"https://i.gyazo.com/668d7cc761ea33180fac5914b72f8ff4.gif\">https://i.gyazo.com/668d7cc761ea33180fac5914b72f8ff4.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"https://i.gyazo.com/668d7cc761ea33180fac5914b72f8ff4.gif\"><img src=\"/external_content/fa1ff035eae1e9c73ac32a345a8c5f9504a855f5/68747470733a2f2f692e6779617a6f2e636f6d2f36363864376363373631656133333138306661633539313462373266386666342e676966\"></a></div>",
        "id": 1455457,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1666790077
    },
    {
        "content": "<p>When I reload the page, user names on reactions go away, but are displayed again on interaction.</p>",
        "id": 1455460,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1666790187
    },
    {
        "content": "<p>No, that's a bug; were probably falling to compute the vote text correctly in the code path called from message_list_view.js for rendering.</p>",
        "id": 1455533,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1666798013
    },
    {
        "content": "<p>This seems like hard to debug. The bug can only be reproduced in <code>All messages</code> narrow.</p>",
        "id": 1455638,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1666814917
    },
    {
        "content": "<p>Possibly due to us tracking <code>home</code> message_list separately in <code>message_lists</code>:</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"k\">export</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">initialize</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nx\">home</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nx\">message_list</span><span class=\"p\">.</span><span class=\"nx\">MessageList</span><span class=\"p\">({</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nx\">table_name</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"zhome\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nx\">filter</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nx\">Filter</span><span class=\"p\">([{</span><span class=\"nx\">operator</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"in\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">operand</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"home\"</span><span class=\"p\">}]),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nx\">excludes_muted_topics</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nx\">current</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">home</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 1455651,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1666815488
    },
    {
        "content": "<p>Ahh, that's a helpful detail; I can take a pass at it this afternoon.</p>",
        "id": 1455718,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1666820480
    },
    {
        "content": "<p>I tracked that bug down and fixed it; with that change, I'm test-deploying this experiment here again.</p>",
        "id": 1455770,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1666832095
    },
    {
        "content": "<p>There's one known bug remaining, which is that the <code>+</code> button to add an additional emoji reaction type in the emoji reactions row should look like it does on <code>main</code>, with the <code>+</code>  centered:</p>\n<p><a href=\"/user_uploads/2/89/I3MLJIDmVYcgYRLyStWk18Gc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/89/I3MLJIDmVYcgYRLyStWk18Gc/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/89/I3MLJIDmVYcgYRLyStWk18Gc/image.png\"></a></div>",
        "id": 1455771,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1666832181
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1455770\">said</a>:</p>\n<blockquote>\n<p>I tracked that bug down and fixed it; with that change, I'm test-deploying this experiment here again.</p>\n</blockquote>\n<p>Thanks!</p>",
        "id": 1455842,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1666843807
    },
    {
        "content": "<p>Should be fixed now.<br>\n<a href=\"/user_uploads/2/8f/TvYQbljptmpQEcfBYTO034WC/Screenshot-2022-10-27-at-10.00.33-AM.png\">Screenshot-2022-10-27-at-10.00.33-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/8f/TvYQbljptmpQEcfBYTO034WC/Screenshot-2022-10-27-at-10.00.33-AM.png\" title=\"Screenshot-2022-10-27-at-10.00.33-AM.png\"><img src=\"/user_uploads/2/8f/TvYQbljptmpQEcfBYTO034WC/Screenshot-2022-10-27-at-10.00.33-AM.png\"></a></div>",
        "id": 1455864,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1666845060
    },
    {
        "content": "<p>I just noticed in <a class=\"stream-topic\" data-stream-id=\"2\" href=\"/#narrow/stream/2-general/topic/zulip.206.2E0\">#general &gt; zulip 6.0</a> that someone reacted who had an emoji at the end of their name. Should the design be adjusted slightly to visually group that with the name, as opposed to the reaction emoji on the left of the name?</p>",
        "id": 1466946,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1668724577
    },
    {
        "content": "<p>Hm, it looks reasonable to me as it currently is... (Note that this is someone who literally has an emoji in their name; emoji statuses are not displayed in reactions.)</p>",
        "id": 1466951,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1668724863
    },
    {
        "content": "<p>I recently upgraded my server to Zulip 6. In general I like this feature that you can see the names of up to three people in the reactions, bit it takes up a lot of space. I compared it with how Telegram displays it. They show not the names but the profile pictures next to the reaction, with about a 1/3rd overlap. This takes up a lot less space and I think looks very nice. Don't know if this was previously discussed, maybe this would be an improvement to this new feature in zulip :)</p>",
        "id": 1483685,
        "sender_full_name": "Lumrenion",
        "timestamp": 1672601460
    },
    {
        "content": "<p>Hm, what do folks think? I personally like having the names, which are easier to parse than avatars, and the space use doesn't bother me. So perhaps if we had a feature to show avatars, we'd want that to be an additional display option.</p>",
        "id": 1484097,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1672695009
    },
    {
        "content": "<p>I agree that the names are easier to understand than I expect avatars would be, though I can imagine it being an option.</p>\n<p>The only situation I can imagine it being too excessive is some case where the reactions wrap for some reason (narrow window? long names?), or if there are lots of very short messages with a few reactions to almost every message - both could look messy or cluttered.</p>",
        "id": 1484104,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1672696556
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"20570\">Lumrenion</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1483685\">said</a>:</p>\n<blockquote>\n<p>I recently upgraded my server to Zulip 6. In general I like this feature that you can see the names of up to three people in the reactions, bit it takes up a lot of space.</p>\n</blockquote>\n<p>I'm not sure what the space was going to be used for otherwise -- the vertical space is required for the emoji themselves, and the limit on number of people should mean that it doesn't overflow the horizontal line to take up any more.</p>\n<p>Is it less that it takes up more space, and more that it seems more cluttered?</p>",
        "id": 1484523,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1672774072
    },
    {
        "content": "<p>cluttered might be the correct word <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> When two people reacted with the same emoji, we have a line break (at least on mobile), then a third person reacts with another one so the first line of reactions is an emoji, the second a name, third again an emoji. It seems unclean. But this is just my opinion and I just wanted to make a suggestion for this fairly new feature :)</p>",
        "id": 1485126,
        "sender_full_name": "Lumrenion",
        "timestamp": 1672846305
    },
    {
        "content": "<p>Ah, calling out mobile as more of a problem makes sense - I can imagine with the narrower width that it may break in the middle of a name, or take up more space if there are different emoji reactions.</p>",
        "id": 1485128,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1672846660
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"20570\">Lumrenion</span> Would you be able to post a screenshot to make it easier to understand what you're describing?</p>",
        "id": 1485344,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1672870926
    },
    {
        "content": "<p>of course, just need three people to react on a post other than me, as my name is replaced with „You“</p>",
        "id": 1485709,
        "sender_full_name": "Lumrenion",
        "timestamp": 1672920789
    },
    {
        "content": "<p>I think that message now has too many reactions to demonstrate; the behavior switches after 2-3 total reactions, not \"votes on an individual reaction\".</p>",
        "id": 1486161,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1672968156
    },
    {
        "content": "<p>(removed my additional reacts so we can have 2+3 test cases without interference!)</p>",
        "id": 1486162,
        "sender_full_name": "Josh Klar",
        "timestamp": 1672968505
    },
    {
        "content": "<p>I believe the limit is 3 on desktop and 2 on mobile.</p>",
        "id": 1486165,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1672968660
    },
    {
        "content": "<p>Some apps don't allow more than a single emoji reaction to a post which helps with an issue of having same name multiple times... but I think it kills the fun. So if one person reacts to the post with multiple emoji is ok:<br>\n<a href=\"/user_uploads/2/46/6QiEwdGmclpv7ptJkOhzcULX/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/46/6QiEwdGmclpv7ptJkOhzcULX/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/46/6QiEwdGmclpv7ptJkOhzcULX/image.png\"></a></div><p>It actually increases accountability for emoji reaction. There is no way to write dirty word with emoji under your post <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> like <strong>B</strong> <strong>A</strong> <strong>D</strong></p>",
        "id": 1486411,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1673017729
    },
    {
        "content": "<p>So you see exactly what you've done <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> <a href=\"/user_uploads/2/45/OFkhZ25FsY618I81GtQnIZQp/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/45/OFkhZ25FsY618I81GtQnIZQp/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/45/OFkhZ25FsY618I81GtQnIZQp/image.png\"></a></div>",
        "id": 1486412,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1673017763
    },
    {
        "content": "<p>I'm not fan of emoji in general and I don't use any statuses ever... But there is no big reason to no allow multi emoji input from a single user, so people can express... multiple emotions like: <a href=\"/user_uploads/2/37/0VPHOLZW2JHDYPDvKlQo3xOt/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/37/0VPHOLZW2JHDYPDvKlQo3xOt/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/37/0VPHOLZW2JHDYPDvKlQo3xOt/image.png\"></a></div>",
        "id": 1486413,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1673017967
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/emoji.20reactions.20with.20names/near/1486165\">said</a>:</p>\n<blockquote>\n<p>I believe the limit is 3 on desktop and 2 on mobile.</p>\n</blockquote>\n<p>Hm, I think there's some confusion. By \"the limit\" I mean the limit up until we show the names. After that, we show reaction counts. There's no limit on how many times a user can react or anything like that.</p>",
        "id": 1486445,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1673024175
    }
]