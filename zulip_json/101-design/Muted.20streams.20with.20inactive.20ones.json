[
    {
        "content": "<p>Hello,</p>\n<p>What would you think of putting the muted streams with the inactive ones?</p>",
        "id": 1235364,
        "sender_full_name": "Sol",
        "timestamp": 1626850425
    },
    {
        "content": "<p>It is particularly annoying when a user is subscribed to multiple streams and those muted ones take precious space on the sidebar</p>",
        "id": 1235366,
        "sender_full_name": "Sol",
        "timestamp": 1626850509
    },
    {
        "content": "<p>For example, in our organization we have a bunch of log streams we would like not to see everyday</p>",
        "id": 1235367,
        "sender_full_name": "Sol",
        "timestamp": 1626850545
    },
    {
        "content": "<p>It’s the same idea as <a href=\"https://github.com/zulip/zulip/issues/11864\">https://github.com/zulip/zulip/issues/11864</a> updated now that we have the bottom section with inactive streams (which didn’t appear in the issue, maybe not implemented at that time?)</p>",
        "id": 1235369,
        "sender_full_name": "Sol",
        "timestamp": 1626850623
    },
    {
        "content": "<p>That seems helpful... Does anyone like having the muted streams high? I'm wondering whether or not it needs to be a user-specific option.</p>\n<p>We would also need to figure out how to distinguish muted streams from inactive steams.</p>",
        "id": 1236170,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1626928450
    },
    {
        "content": "<p>I think inactive streams don’t show the number of unread messages? Unlike muted streams. Or it could be that streams can only become inactive when you’ve already read all messages, either way it could be used as a way to distinguish them?</p>",
        "id": 1236270,
        "sender_full_name": "Sol",
        "timestamp": 1626937716
    },
    {
        "content": "<p>Yeah, I guess the unread counts will often distinguish the two, but it's not guaranteed (you can mark all messages in a muted stream as read, for example). I think we would want a more explicit hint about what's going on.</p>",
        "id": 1236497,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1626977801
    },
    {
        "content": "<p>Maybe add <span aria-label=\"zzz\" class=\"emoji emoji-1f4a4\" role=\"img\" title=\"zzz\">:zzz:</span> to inactive ones and/or <span aria-label=\"mute\" class=\"emoji emoji-1f507\" role=\"img\" title=\"mute\">:mute:</span> to the muted ones? (Replacing/along with the # of the <span aria-label=\"locked\" class=\"emoji emoji-1f512\" role=\"img\" title=\"locked\">:locked:</span> icon). There may be a more clever way to do it but at least that would be explicit</p>",
        "id": 1238403,
        "sender_full_name": "Sol",
        "timestamp": 1627151738
    },
    {
        "content": "<p>I think that's a promising idea to play with; at least for muting, I'd use the normal \"muted notification\" icon we use elsewhere rather than a color emoji.</p>",
        "id": 1239124,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1627341842
    },
    {
        "content": "<p>Yeah, I think we can use the muted icon, but I'd be inclined to put it somewhere else (left of the unread count?) to avoid overloading the meaning of the left-side icons.</p>",
        "id": 1239144,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627343023
    },
    {
        "content": "<p>I filed <a href=\"https://github.com/zulip/zulip/pull/19396\">#19396</a>. Thoughts on what should happen if/when we make it possible to specifically umute or follow a topic within a muted stream? Where should a muted stream with some umuted topics in it get sorted?</p>",
        "id": 1239165,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627343948
    },
    {
        "content": "<p>I'd probably sort it depending on whether there's unread or recent unmuted traffic, but I'm not sure.</p>",
        "id": 1239182,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1627346556
    },
    {
        "content": "<p>Based on <a href=\"https://github.com/zulip/zulip/issues/19396\">zulip/zulip#19396</a>, I made following prototype. I'd be happy to get reviews and suggestions:<br>\n<a href=\"/user_uploads/2/a3/cmdEq78u91OSvD4b2g1WyxrC/muted_active_streams.gif\">muted_active_streams.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/a3/cmdEq78u91OSvD4b2g1WyxrC/muted_active_streams.gif\" title=\"muted_active_streams.gif\"><img src=\"/user_uploads/2/a3/cmdEq78u91OSvD4b2g1WyxrC/muted_active_streams.gif\"></a></div>",
        "id": 1244502,
        "sender_full_name": "Purushottam Tiwari",
        "timestamp": 1628196467
    },
    {
        "content": "<p>Regarding symbols, ZT doesn't have inactive logic at this point, but for muted we've gone back and forth on it but for now just have a symbol rather than unread count too, for muted streams.<br>\nInitially I thought having them grouped could be good, but it probably depends how long they're muted for - having them move around feels problematic: easy for 10-15 streams, less so for more? Does it scroll to where the muted stream is put?</p>",
        "id": 1244530,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1628200655
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"17546\">@Purushottam Tiwari</span> that prototype looks pretty good to me!</p>",
        "id": 1244566,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1628206179
    },
    {
        "content": "<p>Nice! It might look better if all the muted icons were vertically aligned with each other.</p>",
        "id": 1244590,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1628207318
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1244590\">said</a>:</p>\n<blockquote>\n<p>Nice! It might look better if all the muted icons were vertically aligned with each other.</p>\n</blockquote>\n<p>Hmm width of unread count varies with number of unread message (and I expect them to be large/irregular for muted streams). We can solve this issue of alignment  if we show them at the right of unread count.</p>",
        "id": 1244704,
        "sender_full_name": "Purushottam Tiwari",
        "timestamp": 1628247307
    },
    {
        "content": "<p>I’d replace the # with the muted icon</p>",
        "id": 1244712,
        "sender_full_name": "Sol",
        "timestamp": 1628253886
    },
    {
        "content": "<p>Keeping slash-bell icon at the right of unread count was making them look a bit crushed. Also all bell icons were not aligned in a single line vertically even in that arrangement. So I opened <a href=\"https://github.com/zulip/zulip/pull/19533\">#19533</a> with current arrangement.</p>",
        "id": 1244728,
        "sender_full_name": "Purushottam Tiwari",
        "timestamp": 1628256466
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"21010\">Sol</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1244712\">said</a>:</p>\n<blockquote>\n<p>I’d replace the # with the muted icon</p>\n</blockquote>\n<p>That would hide the information about which streams are private vs. public, so keeping the slash-bell on the right seems better to me.</p>",
        "id": 1247292,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1629140897
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1247292\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"21010\">Sol</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1244712\">said</a>:</p>\n<blockquote>\n<p>I’d replace the # with the muted icon</p>\n</blockquote>\n<p>That would hide the information about which streams are private vs. public, so keeping the slash-bell on the right seems better to me.</p>\n</blockquote>\n<p>I'm not sure this has to be the case — we could show the lock in the case of a {muted, private} stream, and the mute icon in the case of a {muted, public} stream.</p>\n<p>Right now on mobile, we do the opposite, which seems bad (a private, but muted stream shows up as the mute icon), but on the whole, I like the idea of replacing the # much better than the idea of adding a entire new icon.</p>\n<p>FWIW, I haven't seen any complaints about how we do it on mobile.</p>",
        "id": 1249997,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1630012031
    },
    {
        "content": "<p>Muted private streams are probably somewhat rare, so I don't think we can interpret a lack of feedback as providing a clear answer here.</p>",
        "id": 1256422,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631835790
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"17546\">@Purushottam Tiwari</span> this is great!  I just reviewed <a href=\"https://github.com/zulip/zulip/pull/19533\">#19533</a>, fixed a few small things, and am test-deploying this here so that we can get experience with its precise user experience and collect feedback.</p>",
        "id": 1256448,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631837812
    },
    {
        "content": "<p>(The present implementation sticks with placing the muted icon to the left of the unread count, which has the potential alignment problem but not the others.)</p>",
        "id": 1256449,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631837914
    },
    {
        "content": "<p>OK, this is test-deployed on <a href=\"http://chat.zulip.org\">chat.zulip.org</a>, so feedback is appreciated!</p>",
        "id": 1256462,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631838677
    },
    {
        "content": "<p>I wonder if following this change, we should replace the <code>\\hrule</code> lines in the left sidebar with labels (e.g. \"Muted streams\" and \"Dormant/Inactive streams\")</p>",
        "id": 1256463,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631838708
    },
    {
        "content": "<p>Yeah, I definitely think we should have labels for those sections.</p>\n<p>Should we label all sections, including pinned and active streams?</p>",
        "id": 1256522,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631858649
    },
    {
        "content": "<p>Separately, it looks like the muted (bell-slash) icon is missing for inactive streams. I think muted inactive streams should have it as well.</p>",
        "id": 1256524,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631858702
    },
    {
        "content": "<p>Excited to see this deployed for testing!</p>",
        "id": 1256526,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631858744
    },
    {
        "content": "<blockquote>\n<p>Muted private streams are probably somewhat rare, so I don't think we can interpret a lack of feedback as providing a clear answer here.</p>\n</blockquote>\n<p>Personally I think this is a reason to be ok with the experience being slightly worse in this case — very few people will see it.</p>",
        "id": 1256707,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1631893116
    },
    {
        "content": "<p>Now that I see this on CZO (was on mobile for my previous message), I think adding a heading for each section and removing the bell icons (which seem like a lot of noise/not aligned) seems like a good option. Do we want to go forward with that?</p>",
        "id": 1256781,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1631905121
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"17945\">Wesley Aptekar-Cassels</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1256781\">said</a>:</p>\n<blockquote>\n<p>Now that I see this on CZO (was on mobile for my previous message), I think adding a heading for each section and removing the bell icons (which seem like a lot of noise/not aligned) seems like a good option. Do we want to go forward with that?</p>\n</blockquote>\n<p>Both of those sound good to me.</p>\n<p>With three sections (pinned, normal, and inactive), we'd already sometimes heard feedback that it was confusing what they all were. Having four sections seems likely to make it more so, and headings would help a lot.</p>\n<p>And I agree with the feedback that the bell icons are noisy and not aligned.<br>\n<a href=\"/user_uploads/2/23/3InSA_XkZtpeCafyuar9dxsZ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/23/3InSA_XkZtpeCafyuar9dxsZ/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/23/3InSA_XkZtpeCafyuar9dxsZ/image.png\"></a></div>",
        "id": 1256802,
        "sender_full_name": "Greg Price",
        "timestamp": 1631908037
    },
    {
        "content": "<p>Hm, if we name the sections and remove the bell icons, that still leaves the question of if/how we indicate muted streams when the appear in the idle streams section. Or should muted idle streams show up in the muted section instead?</p>",
        "id": 1256879,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1631921000
    },
    {
        "content": "<p>Hmm, it would be a bit odd if muting a stream effectively \"promoted\" it to a higher section.</p>",
        "id": 1256880,
        "sender_full_name": "Greg Price",
        "timestamp": 1631921140
    },
    {
        "content": "<p>Though it may not super matter -- if you bother to mute a stream, it's probably one with plenty of traffic.</p>",
        "id": 1256881,
        "sender_full_name": "Greg Price",
        "timestamp": 1631921157
    },
    {
        "content": "<p>What about switching the bell and the unread count, so the bell is right-aligned?</p>",
        "id": 1256886,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1631921586
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"12178\">Alex Vandiver</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1256886\">said</a>:</p>\n<blockquote>\n<p>What about switching the bell and the unread count, so the bell is right-aligned?</p>\n</blockquote>\n<p>We could try that -- hard to know how it'd look without seeing it.</p>",
        "id": 1256974,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631926836
    },
    {
        "content": "<p>A design challenge with doing headings is that I think we like the \"STREAMS\" heading at the top (which we might not want to change to \"PINNED STREAMS\", because it has UI for all streams in its row), but then it might look weird for the thing immediately below \"STREAMS\" to be \"PINNED STREAMS\", and also perhaps a poor use of vertical space.</p>",
        "id": 1256975,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631926928
    },
    {
        "content": "<p>It'd be simpler to just do headings for \"Muted streams\" and \"Inactive streams\", but inconsistent.</p>",
        "id": 1256977,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1631926955
    },
    {
        "content": "<p>For what it's worth, Slack gives up on having an overall \"Channels\" heading, and just treats \"Channels\" as an equivalent heading to starred channels and other channel groups.</p>\n<p><a href=\"/user_uploads/2/6e/07coV4A5tO4AXe2cruYUwXtp/Screen-Shot-2021-09-20-at-9.52.49-AM.png\">Screen-Shot-2021-09-20-at-9.52.49-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6e/07coV4A5tO4AXe2cruYUwXtp/Screen-Shot-2021-09-20-at-9.52.49-AM.png\" title=\"Screen-Shot-2021-09-20-at-9.52.49-AM.png\"><img src=\"/user_uploads/2/6e/07coV4A5tO4AXe2cruYUwXtp/Screen-Shot-2021-09-20-at-9.52.49-AM.png\"></a></div>",
        "id": 1257326,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1632156880
    },
    {
        "content": "<p>But Zulip topics add some complexity to the situation, and I do think the overall heading is helpful.</p>",
        "id": 1257327,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1632156915
    },
    {
        "content": "<p>Maybe we should see how bad two headings in a row look? I suppose we could also have a rule where we don't show whatever the first heading is (probably either \"Pinned streams\" or \"Active streams\").</p>",
        "id": 1257329,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1632157037
    },
    {
        "content": "<p><a href=\"/user_uploads/2/1a/ZSAvPKuVOQNQCzbtn9jDIFhN/Bildschirmfoto-2021-09-20-um-21.12.44.png\">Bildschirmfoto-2021-09-20-um-21.12.44.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1a/ZSAvPKuVOQNQCzbtn9jDIFhN/Bildschirmfoto-2021-09-20-um-21.12.44.png\" title=\"Bildschirmfoto-2021-09-20-um-21.12.44.png\"><img src=\"/user_uploads/2/1a/ZSAvPKuVOQNQCzbtn9jDIFhN/Bildschirmfoto-2021-09-20-um-21.12.44.png\"></a></div><p>Another relevant thing is that Slack does allow you to group channels.<br>\nSo Starred are just like other Categories</p>",
        "id": 1257369,
        "sender_full_name": "Felix (strifel)",
        "timestamp": 1632165210
    },
    {
        "content": "<p>Yep, thanks for sharing that screenshot! I don't currently have access to a paid Slack organization, which is required for creating custom groupings.</p>",
        "id": 1257382,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1632169085
    },
    {
        "content": "<p>Did not know that it was a paid-only feature...<br>\nHere are a few more screenshots (in german, sorry)</p>\n<p><a href=\"/user_uploads/2/e5/E08i6GEgE7ePld7QpcXl9tS6/Bildschirmfoto-2021-09-20-um-22.35.30.png\">Creating a \"folder\" </a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/e5/E08i6GEgE7ePld7QpcXl9tS6/Bildschirmfoto-2021-09-20-um-22.35.30.png\" title=\"Creating a &quot;folder&quot; \"><img src=\"/user_uploads/2/e5/E08i6GEgE7ePld7QpcXl9tS6/Bildschirmfoto-2021-09-20-um-22.35.30.png\"></a></div><p><a href=\"/user_uploads/2/f3/-Rf4d50Bu44vrtSNWeIwIY8g/Bildschirmfoto-2021-09-20-um-22.46.47.png\">Selecting a channel to move</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f3/-Rf4d50Bu44vrtSNWeIwIY8g/Bildschirmfoto-2021-09-20-um-22.46.47.png\" title=\"Selecting a channel to move\"><img src=\"/user_uploads/2/f3/-Rf4d50Bu44vrtSNWeIwIY8g/Bildschirmfoto-2021-09-20-um-22.46.47.png\"></a></div><p>\"Direct messages\" is just another \"folder\".<br>\nAnd private chats/direct messages can be moved to a different section. So all in all it is a lot more flexible than Zulips design.</p>\n<p>Muting a stream does grey-out the title (not the icon) and moves it to the bottom of its category.</p>\n<p>I like Zulips the new way of having the muted streams at the bottom but I do like that Slack does not show a bell icon and do find it too obtrusive in Zulip.</p>",
        "id": 1257397,
        "sender_full_name": "Felix (strifel)",
        "timestamp": 1632170698
    },
    {
        "content": "<p>I filed <a href=\"https://github.com/zulip/zulip/pull/19812\">#19812</a> -- I think at this point we just need to play around with a few options and see what works. Would be excited to see someone pick this up!</p>",
        "id": 1257990,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1632336022
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>  I want to work on this issue</p>",
        "id": 1258177,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1632370493
    },
    {
        "content": "<p>Sure, thanks <span class=\"user-mention\" data-user-id=\"19353\">@Yashika Jothwani</span> ! Please post here when you have some design ideas to share, so that folks can provide early feedback.</p>",
        "id": 1258338,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1632420951
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1258338\">said</a>:</p>\n<blockquote>\n<p>Sure, thanks <span class=\"user-mention silent\" data-user-id=\"19353\">Yashika Jothwani</span> ! Please post here when you have some design ideas to share, so that folks can provide early feedback.</p>\n</blockquote>\n<p>Yeah, sure I will post here.</p>",
        "id": 1258658,
        "sender_full_name": "Yashika Jothwani",
        "timestamp": 1632452979
    },
    {
        "content": "<p>As an update, <a href=\"https://github.com/zulip/zulip/pull/19812\">#19812</a> is now unassigned -- anyone feel like picking it up? I think figuring out section headings is probably a blocker for deploying the muted streams section to Zulip Cloud.</p>",
        "id": 1262342,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1633367119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>  I want to pick up the issue.<br>\nI have have made changes mentioned in the issue, what are your view ?<br>\n<a href=\"/user_uploads/2/b1/tG_2ycFXr9R4pzg2iZgGxZE0/image.png\">image.png</a> <br>\n<a href=\"/user_uploads/2/17/MX_k41wTX1fMXd_e6dv7Ww_K/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b1/tG_2ycFXr9R4pzg2iZgGxZE0/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b1/tG_2ycFXr9R4pzg2iZgGxZE0/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/17/MX_k41wTX1fMXd_e6dv7Ww_K/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/17/MX_k41wTX1fMXd_e6dv7Ww_K/image.png\"></a></div>",
        "id": 1332180,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1645377168
    },
    {
        "content": "<p>how about pinned muted streams?</p>",
        "id": 1332187,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645382353
    },
    {
        "content": "<p>Oops forgot to include that in screen shot  <br>\n<a href=\"/user_uploads/2/c6/8BE3NC-88rst0eNuhjHNuhxk/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c6/8BE3NC-88rst0eNuhjHNuhxk/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/c6/8BE3NC-88rst0eNuhjHNuhxk/image.png\"></a></div>",
        "id": 1332189,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1645382982
    },
    {
        "content": "<p>It looks like headers kind of misleading</p>",
        "id": 1332191,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645384983
    },
    {
        "content": "<p>What if muted vs not muted will be solved by grouping them just visually... muted channels always at the second half of the list, the way idle and offline users in the users list.</p>",
        "id": 1332192,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645385041
    },
    {
        "content": "<p>And pinned just above a line like now</p>",
        "id": 1332193,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645385057
    },
    {
        "content": "<p>for pinned streams we might use some spatial small of icon</p>",
        "id": 1332194,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645385101
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1332194\">said</a>:</p>\n<blockquote>\n<p>for pinned streams we might use some spatial small of icon</p>\n</blockquote>\n<p>Yes instead on \"Pinned stream\" we can use a pin icon too.</p>",
        "id": 1332203,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1645389544
    },
    {
        "content": "<p>I'll address that in the new design mocks</p>",
        "id": 1332205,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645392978
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> I think the concern about just grouping the sections without explicit labels was that it would get confusing. As noted in <a href=\"https://github.com/zulip/zulip/pull/19812\">#19812</a>, we also have an inactive streams category (missing from the screenshots above).</p>",
        "id": 1333065,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645574173
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"14842\">shlok patel (madrix01)</span> could you prototype removing the overall<code>STREAMS</code> header altogether, and using the <code>STREAMS</code> font for the subsection headings?</p>",
        "id": 1333068,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645574217
    },
    {
        "content": "<p>What is inactive stream?</p>",
        "id": 1333188,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645580395
    },
    {
        "content": "<p><a href=\"https://zulip.com/help/manage-inactive-streams\">https://zulip.com/help/manage-inactive-streams</a></p>",
        "id": 1333200,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645581817
    },
    {
        "content": "<p>Another thing to try if we do go with the headings is just making them less dark (in light mode) and/or less bold -- it seems like they are drawing too much attention.</p>",
        "id": 1333269,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645599241
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> and I also chatted about whether we might be able to manage without section headings after all.</p>\n<p>One thing that's awkward about naming the sections is that muted streams are actually scattered throughout. Technically, the sections described in  <a href=\"https://github.com/zulip/zulip/pull/19812\">#19812</a> are:</p>\n<ol>\n<li>Pinned streams (any -- muted/unmuted, active/inactive)</li>\n<li>Active unmuted streams (excluding pinned)</li>\n<li>Active muted streams (excluding pinned)</li>\n<li>Inactive streams (muted and not, excluding pinned)</li>\n</ol>",
        "id": 1333272,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645599473
    },
    {
        "content": "<p>How do I make a stream \"Inactive\" in dev environment?</p>",
        "id": 1333321,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1645618767
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1333068\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"14842\">shlok patel (madrix01)</span> could you prototype removing the overall<code>STREAMS</code> header altogether, and using the <code>STREAMS</code> font for the subsection headings?</p>\n</blockquote>\n<p><a href=\"/user_uploads/2/38/kWPqCBolxfLsS3_TUYaB5eYy/image.png\">image.png</a> <br>\n<a href=\"/user_uploads/2/d2/Pm99VuD9btBhNkRz7CFQhQD-/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/38/kWPqCBolxfLsS3_TUYaB5eYy/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/38/kWPqCBolxfLsS3_TUYaB5eYy/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/d2/Pm99VuD9btBhNkRz7CFQhQD-/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/d2/Pm99VuD9btBhNkRz7CFQhQD-/image.png\"></a></div>",
        "id": 1333323,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1645619363
    },
    {
        "content": "<p>In this case where would we put the filter and create icon?</p>",
        "id": 1333324,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1645619594
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"14842\">shlok patel (madrix01)</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1333321\">said</a>:</p>\n<blockquote>\n<p>How do I make a stream \"Inactive\" in dev environment?</p>\n</blockquote>\n<p>Try something like this in your dev environment:</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"o\">---</span> <span class=\"nx\">a</span><span class=\"o\">/</span><span class=\"k\">static</span><span class=\"err\">/js/stream_data.js</span>\n<span class=\"o\">+++</span> <span class=\"nx\">b</span><span class=\"o\">/</span><span class=\"k\">static</span><span class=\"err\">/js/stream_data.js</span>\n<span class=\"err\">@@</span> <span class=\"o\">-</span><span class=\"mf\">191</span><span class=\"p\">,</span><span class=\"mf\">6</span> <span class=\"o\">+</span><span class=\"mf\">191</span><span class=\"p\">,</span><span class=\"mf\">9</span> <span class=\"err\">@@</span> <span class=\"k\">export</span> <span class=\"kd\">function</span> <span class=\"nx\">is_filtering_inactives</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n <span class=\"p\">}</span>\n\n <span class=\"k\">export</span> <span class=\"kd\">function</span> <span class=\"nx\">is_active</span><span class=\"p\">(</span><span class=\"nx\">sub</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n<span class=\"o\">+</span>    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">sub</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">===</span> <span class=\"s2\">\"Denmark\"</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n<span class=\"o\">+</span>        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"o\">+</span>    <span class=\"p\">}</span>\n     <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">filter_out_inactives</span> <span class=\"o\">||</span> <span class=\"nx\">sub</span><span class=\"p\">.</span><span class=\"nx\">pin_to_top</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n         <span class=\"c1\">// If users don't want to filter inactive streams</span>\n         <span class=\"c1\">// to the bottom, we respect that setting and don't</span>\n</code></pre></div>",
        "id": 1333366,
        "sender_full_name": "Steve Howell",
        "timestamp": 1645633413
    },
    {
        "content": "<p>That seems visually better, though I think we'd need more vertical space above the section headings. But yeah, it does create a challenge for those icons. Hmm.</p>",
        "id": 1333673,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645648292
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <br>\n<a href=\"/user_uploads/2/dc/dpDZaKPFgMrLZThlEmd7IScn/image.png\">image.png</a> <br>\nWith Inactive stream category.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/dc/dpDZaKPFgMrLZThlEmd7IScn/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/dc/dpDZaKPFgMrLZThlEmd7IScn/image.png\"></a></div>",
        "id": 1334278,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1645711401
    },
    {
        "content": "<p>As current we are pushing  stream row elements into a <code>#stream_filters</code> while adding <code>&lt;div class=\"sidebar-title streams_subheader\"&gt;PINNED STREAMS&lt;/div&gt;</code> for each title or <code>&lt;hr&gt;</code> just for the line. Can we make different headings in the <code>.hbs</code> itself and then add the stream according to the stream type?</p>",
        "id": 1336900,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646137460
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>  For the browse and create stream, can we add the button like the one in the slack for adding channels ? <br>\n<a href=\"/user_uploads/2/b7/qkCLfw9s4VbtoCYvc0131wZu/image.png\">image.png</a><br>\nAnd a persistent search bar at the top of pinned streams.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b7/qkCLfw9s4VbtoCYvc0131wZu/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b7/qkCLfw9s4VbtoCYvc0131wZu/image.png\"></a></div>",
        "id": 1336952,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646143449
    },
    {
        "content": "<p>Hmm, yeah, we could do something like that, but it's not ideal. My concerns are (a) that it's good for these functions to be placed where they are most relevant contextually, and (b) that it gives more prominence that necessary to functionality that is actually used pretty rarely. (FWIW, Slack hides the channel browser under the \"More\" menu until you use it, at least for me.)</p>",
        "id": 1337527,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646181321
    },
    {
        "content": "<p>OK, here's something else I'd love to try if you are up for it <span class=\"user-mention\" data-user-id=\"14842\">@shlok patel (madrix01)</span> :</p>\n<ol>\n<li>Bring back the STREAMS heading.</li>\n<li>\n<p>Change the subheadings to similar in style to the date line: small font, centered inside the same type of line separator we currently use.<br>\n<a href=\"/user_uploads/2/36/OeRr8hANkvt-fASjQWF-3v9j/Screen-Shot-2022-03-01-at-4.33.39-PM.png\">Screen-Shot-2022-03-01-at-4.33.39-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/36/OeRr8hANkvt-fASjQWF-3v9j/Screen-Shot-2022-03-01-at-4.33.39-PM.png\" title=\"Screen-Shot-2022-03-01-at-4.33.39-PM.png\"><img src=\"/user_uploads/2/36/OeRr8hANkvt-fASjQWF-3v9j/Screen-Shot-2022-03-01-at-4.33.39-PM.png\"></a></div></li>\n<li>\n<p>Remove the \"Muted streams\" heading, since it's kind of misleading -- muted streams show up in all three sections. But keep the ordering of active unmuted streams &gt; active muted streams, as in the screenshots above.</p>\n</li>\n</ol>",
        "id": 1337528,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646181486
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span>  here are the the mocks for the changes mentioned above<br>\n<a href=\"/user_uploads/2/10/tT1cTd9PZGFpx04uHViWd40H/image.png\">image.png</a> <br>\nThe horizontal line may be a little inconsistent, I'm not able to dynamically change the width of the horizontal line, I'm currently working on it.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/10/tT1cTd9PZGFpx04uHViWd40H/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/10/tT1cTd9PZGFpx04uHViWd40H/image.png\"></a></div>",
        "id": 1337773,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646241176
    },
    {
        "content": "<p><a href=\"/user_uploads/2/bc/osNHJ_-z5HqeREGJBFt3tf0d/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bc/osNHJ_-z5HqeREGJBFt3tf0d/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/bc/osNHJ_-z5HqeREGJBFt3tf0d/image.png\"></a></div>",
        "id": 1337775,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646241228
    },
    {
        "content": "<p>Cool, thanks! Could we try it with regular capitalization as well (\"Pinned streams\", etc.)?</p>",
        "id": 1337825,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646245119
    },
    {
        "content": "<p><a href=\"/user_uploads/2/6b/QJxGsKWADehdr1tPv5y9bmOk/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6b/QJxGsKWADehdr1tPv5y9bmOk/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/6b/QJxGsKWADehdr1tPv5y9bmOk/image.png\"></a></div>",
        "id": 1338318,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646301214
    },
    {
        "content": "<p><a href=\"/user_uploads/2/5d/f_P0JfLEk1DOQrrx8XBxKMBu/image.png\">image.png</a> <br>\nI think some bigger font would look good on this.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5d/f_P0JfLEk1DOQrrx8XBxKMBu/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/5d/f_P0JfLEk1DOQrrx8XBxKMBu/image.png\"></a></div>",
        "id": 1338364,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646317838
    },
    {
        "content": "<p>Wow <span class=\"user-mention\" data-user-id=\"14842\">@shlok patel (madrix01)</span>, I like that solution. I'll try that idea</p>",
        "id": 1338503,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1646328007
    },
    {
        "content": "<p>I agree that this direction seems promising!</p>\n<p>It's hard for me to evaluate the font size from the screenshots. Could you push one of these versions to the PR, for manual testing? Note that we always use sentence case (\"Active streams\", not \"Active Streams\").</p>\n<p>I think the line is thinner in the earlier screenshot? That looks better to me.</p>",
        "id": 1338712,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646344614
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1338712\">said</a>:</p>\n<blockquote>\n<p>Note that we always use sentence case (\"Active streams\", not \"Active Streams\").</p>\n</blockquote>\n<p>It was by mistake, I'll Update the PR today.</p>",
        "id": 1338896,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646375969
    },
    {
        "content": "<p>I have updated the PR, the node test won't pass as I haven't changed the styling in the node tests, I'll add it once we get finalised on this.</p>",
        "id": 1338901,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646376989
    },
    {
        "content": "<p>Can anyone suggest a better way to add the line around the title, I have added the same way as the time shown in between the messages.</p>",
        "id": 1338902,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646377172
    },
    {
        "content": "<p>PR <a href=\"https://github.com/zulip/zulip/pull/21201\">#21201</a></p>",
        "id": 1338903,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646377212
    },
    {
        "content": "<p><a href=\"/user_uploads/2/99/D_Fg2c6SHvDYx6Y0iDrMCp-F/image.png\">image.png</a> <br>\nFinally figured out how to make lines with equal length :)  <br>\nUpdated PR <a href=\"https://github.com/zulip/zulip/pull/21201\">#21201</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/99/D_Fg2c6SHvDYx6Y0iDrMCp-F/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/99/D_Fg2c6SHvDYx6Y0iDrMCp-F/image.png\"></a></div>",
        "id": 1338946,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646391069
    },
    {
        "content": "<p>Cool! Playing with it on dev, <span class=\"user-mention\" data-user-id=\"14842\">@shlok patel (madrix01)</span> could you try making the lines more faint, same as they are in the left sidebar right now?</p>",
        "id": 1339234,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646427387
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> <br>\n<a href=\"/user_uploads/2/ba/8MKydKtkcZ1MzsmasnqbmZf1/image.png\">image.png</a> Is this what you are asking for? or should I make this line more dull?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ba/8MKydKtkcZ1MzsmasnqbmZf1/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/ba/8MKydKtkcZ1MzsmasnqbmZf1/image.png\"></a></div>",
        "id": 1340560,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1646733649
    },
    {
        "content": "<p>Oh, oops, I just realized that the lines currently look quite different in the left sidebar vs. the message feed if you're in dark mode. It's harder to tell in light mode.</p>\n<p><span class=\"user-mention\" data-user-id=\"14842\">@shlok patel (madrix01)</span> let's try changing them to match the date lines in the message feed (in light and dark mode).</p>",
        "id": 1340713,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1646757502
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>  I made the stream type seperators same as that of the date row.<br>\nLight mode<br>\n<a href=\"/user_uploads/2/43/ccgWpCRIoi3Vn5kKdHVXD-lA/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/43/ccgWpCRIoi3Vn5kKdHVXD-lA/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/43/ccgWpCRIoi3Vn5kKdHVXD-lA/image.png\"></a></div><p>Dark mode<br>\n<a href=\"/user_uploads/2/26/2qOVDJQb9X5sner5e7egZU3I/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/26/2qOVDJQb9X5sner5e7egZU3I/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/26/2qOVDJQb9X5sner5e7egZU3I/image.png\"></a></div>",
        "id": 1343069,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1647025422
    },
    {
        "content": "<p>Sorry for the delay <span aria-label=\"big smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"big smile\">:big_smile:</span></p>",
        "id": 1343070,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1647025453
    },
    {
        "content": "<p>I suggest to don't use word <code>stream</code> 3 times</p>",
        "id": 1343074,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1647025858
    },
    {
        "content": "<p>Cool, thanks for the update! I think it looks good visually, but I found a bug (posted on the PR).</p>",
        "id": 1343075,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1647025877
    },
    {
        "content": "<p>Mm, yeah, just \"Pinned\", \"Active\" and \"Inactive\" is probably good.</p>",
        "id": 1343077,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1647025896
    },
    {
        "content": "<p>Also, I think we should sort the pinned streams with unmuted &gt; muted, same as we do for active streams.</p>",
        "id": 1343078,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1647025969
    },
    {
        "content": "<p>But it's might be best not to resort inactive streams, because there muted vs. unmuted are not visually distinct?</p>",
        "id": 1343080,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1647026002
    },
    {
        "content": "<p>I'm not sure.</p>",
        "id": 1343081,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1647026019
    },
    {
        "content": "<p>Pushed the code with following changes.</p>\n<ul>\n<li><a href=\"/user_uploads/2/eb/mLTQCP0G0XZygA4XH7HH-Aqm/image.png\">image.png</a> removed the \"streams\" from the heading <div class=\"message_inline_image\"><a href=\"/user_uploads/2/eb/mLTQCP0G0XZygA4XH7HH-Aqm/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/eb/mLTQCP0G0XZygA4XH7HH-Aqm/image.png\"></a></div></li>\n<li>Fixed the muting bug, turns out it was caused because of the sorting absent in the Pinned topics.</li>\n<li>Added unmuted &gt; muted style in pinned topics. </li>\n</ul>\n<p>Thanks!!</p>",
        "id": 1343140,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1647029385
    },
    {
        "content": "<p>Looks great!</p>",
        "id": 1343221,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1647035163
    },
    {
        "content": "<p>I just saw this deployed experimentally on czo, so a few thoughts:</p>\n<ul>\n<li>The section categories are great - pinning has always been rather implied</li>\n<li>Grouping muted streams at the bottom sort of feels good, but also kinda weird:<ul>\n<li>I need to scroll over my muted pinned streams to get to unmuted unpinned streams?</li>\n<li>each newly-titled explicit section (pinned/active/inactive) is no longer alphabetically-ordered (I picked up on this only a bit later)</li>\n</ul>\n</li>\n<li>Streams move around between sections on loading; this may be an existing issue since, for example, unpinned muted streams with unreads were initially inactive during loading?</li>\n</ul>",
        "id": 1385860,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1653698056
    },
    {
        "content": "<p>In the new design we are supposed to do something like this <a href=\"/user_uploads/2/3/T4ldpzzbwFrTAGPyFqFdhBc6/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3/T4ldpzzbwFrTAGPyFqFdhBc6/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/3/T4ldpzzbwFrTAGPyFqFdhBc6/image.png\"></a></div>",
        "id": 1385885,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1653700636
    },
    {
        "content": "<p>I guess muted could be active</p>",
        "id": 1385886,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1653700675
    },
    {
        "content": "<p>Thanks for the feedback!</p>\n<blockquote>\n<p>I need to scroll over my muted pinned streams to get to unmuted unpinned streams?</p>\n</blockquote>\n<p>This is currently the case as well; the muted pinned streams are just mixed in with the unmuted pinned streams.</p>",
        "id": 1386482,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1654024060
    },
    {
        "content": "<blockquote>\n<p>Streams move around between sections on loading; this may be an existing issue since, for example, unpinned muted streams with unreads were initially inactive during loading?</p>\n</blockquote>\n<p>This could be worth a <a class=\"stream\" data-stream-id=\"6\" href=\"/#narrow/stream/6-frontend\">#frontend</a> discussion if someone has thoughts on what's going on.</p>",
        "id": 1386484,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1654024160
    },
    {
        "content": "<p>I'm personally enjoying not having the muted streams interleaved with my other streams.</p>",
        "id": 1386934,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1654108551
    },
    {
        "content": "<p>The moving around while loading is hard to fix -- what's going on is that the definition of what is \"active\" is based on information the client gets while loading, aka the <a class=\"stream-topic\" data-stream-id=\"6\" href=\"/#narrow/stream/6-frontend/topic/fetching.20message.20history\">#frontend &gt; fetching message history</a> cluster of complexity.</p>",
        "id": 1387060,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1654118778
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1386482\">said</a>:</p>\n<blockquote>\n<p>Thanks for the feedback!</p>\n<blockquote>\n<p>I need to scroll over my muted pinned streams to get to unmuted unpinned streams?<br>\nThis is currently the case as well; the muted pinned streams are just mixed in with the unmuted pinned streams.</p>\n</blockquote>\n</blockquote>\n<p>Right, but this ties in with the other point. ie currently each section (eg. pinned) has one ordering with different styling for mutes, as opposed to a separate sub-section for mutes which is also ordered. Lookup in the lists by users is alphabetical, but now there are extra lists, and temporary muting (as opposed to pinning) will reorder the lists too (\"where has that stream gone?\").</p>\n<p>I understand the appeal to 'tidy' the mutes together, and maybe more of a background-color grouping would help demonstrated the sub-list nature of the mutes, but equally I wonder if the extra lists could also be confusing.</p>",
        "id": 1387227,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1654124209
    },
    {
        "content": "<p>One could imagine having Muted always go in their own section, as in below Pinned you'd have \"Pinned and muted\", and below \"Active\" you'd have \"Active and muted\". (With the headings only being present if you have any, etc.)</p>",
        "id": 1387230,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1654124350
    },
    {
        "content": "<p>I think it's likely fairly rare to both pin and mute a stream, though I have one with that configuration.</p>",
        "id": 1387231,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1654124373
    },
    {
        "content": "<p>I tend to have <a class=\"stream\" data-stream-id=\"7\" href=\"/#narrow/stream/7-test-here\">#test here</a> in that category these days - and I imagine 'water cooler' type streams might fit that way, ie. busy streams to dip into infrequently?</p>",
        "id": 1387285,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1654126821
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1387230\">said</a>:</p>\n<blockquote>\n<p>One could imagine having Muted always go in their own section, as in below Pinned you'd have \"Pinned and muted\", and below \"Active\" you'd have \"Active and muted\". (With the headings only being present if you have any, etc.)</p>\n</blockquote>\n<p>Hm, I guess that's an option. It's not exactly their own section -- we would end up with up to 6 sections.</p>",
        "id": 1387286,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1654127180
    },
    {
        "content": "<p>Yeah, the main cost of that in my mind is that it's wasted vertical space; the model we have in the present is that model implicitly, without the extra labels.</p>",
        "id": 1387885,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1654215987
    },
    {
        "content": "<p>Vertical space does feel decently prescious there.</p>",
        "id": 1387886,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1654216016
    },
    {
        "content": "<p>Huh, I'm not sure if this is new or I missed it earlier, but it looks like we have a bug where we show the section headers in the \"more topics\" view. <span class=\"user-mention\" data-user-id=\"14842\">@shlok patel (madrix01)</span> FYI</p>\n<p><a href=\"/user_uploads/2/21/N_Egdu0O1kGerhFtWvxDjK1M/Screen-Shot-2022-06-03-at-2.23.43-PM.png\">Screen-Shot-2022-06-03-at-2.23.43-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/21/N_Egdu0O1kGerhFtWvxDjK1M/Screen-Shot-2022-06-03-at-2.23.43-PM.png\" title=\"Screen-Shot-2022-06-03-at-2.23.43-PM.png\"><img src=\"/user_uploads/2/21/N_Egdu0O1kGerhFtWvxDjK1M/Screen-Shot-2022-06-03-at-2.23.43-PM.png\"></a></div>",
        "id": 1388315,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1654291535
    },
    {
        "content": "<p>I'll look into it. Seems like we have to add conditional while rendering \"more topics\"</p>",
        "id": 1388342,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1654293716
    },
    {
        "content": "<p>I have updated the PR with the bug fix.</p>",
        "id": 1389044,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1654533298
    },
    {
        "content": "<p>Cool, thanks, looks good to me!</p>",
        "id": 1389280,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1654548072
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> do you want to review and deploy an update to CZO?</p>",
        "id": 1389281,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1654548085
    },
    {
        "content": "<p>I was able to complete the finishing work to merge <a href=\"https://github.com/zulip/zulip/pull/21201\">#21201</a> today. It's not currently deployed on <a href=\"http://chat.zulip.org\">chat.zulip.org</a>, but will be the next time I do a <a href=\"http://chat.zulip.org\">chat.zulip.org</a> deployment from <code>main</code>.</p>",
        "id": 1416333,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1659831309
    },
    {
        "content": "<p>Has anything changed feature-wise in this, or are the muted streams still grouped?</p>",
        "id": 1416365,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1659832678
    },
    {
        "content": "<p>Muted streams are still at the bottom of the category that applies to them. I did not see a clear consensus to add more horizontal line labels, so we're going to try this version and see how it goes.</p>",
        "id": 1416405,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1659841433
    },
    {
        "content": "<p>While I remain not fully convinced by the muted choice, I think this is a good change overall.</p>\n<p>As a follow-up, do we want the section headings to float, a little like the FRB? When scrolling, the pinned heading goes away so it's not obvious that the top streams are pinned - and presumably the same would apply to the other headings if the sections were large enough.</p>",
        "id": 1416613,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1659893067
    },
    {
        "content": "<p>I just muted a stream and it took a while to move; not sure if that's reproducible. Not sure if I noted that before, but muting moving a stream in the list is another reason I like the current ordering.</p>",
        "id": 1416648,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1659893505
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2406\">Neil Pilgrim (neiljp)</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1416648\">said</a>:</p>\n<blockquote>\n<p>I just muted a stream and it took a while to move; not sure if that's reproducible. Not sure if I noted that before, but muting moving a stream in the list is another reason I like the current ordering.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"14842\">@shlok (madrix01)</span> can you do some testing to see if you can reproduce this?</p>",
        "id": 1417737,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1660087075
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2406\">Neil Pilgrim (neiljp)</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1416648\">said</a>:</p>\n<blockquote>\n<p>I just muted a stream and it took a while to move; not sure if that's reproducible. Not sure if I noted that before, but muting moving a stream in the list is another reason I like the current ordering.</p>\n</blockquote>\n<p>That's helpful feedback! The main motivation I'd originally had for having muted streams stay in their place was this consideration (both for finding them alphabetically by scanning the list, and that it might feel like the stream \"disappeared\" on your when you muted it). But that was mostly motivated by thinking about it like 2013, not actual experience <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>.</p>",
        "id": 1417738,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1660087143
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> I think this bug is happening because we completely render the list everytime we peform any action on the stream status.</p>",
        "id": 1417966,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1660148177
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1417738\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"2406\">Neil Pilgrim (neiljp)</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1416648\">said</a>:</p>\n<blockquote>\n<p>[...]<br>\nNot sure if I noted that before, but muting moving a stream in the list is another reason I like the current ordering.</p>\n</blockquote>\n<p>That's helpful feedback! The main motivation I'd originally had for having muted streams stay in their place was this consideration (both for finding them alphabetically by scanning the list, and that it might feel like the stream \"disappeared\" on your when you muted it). But that was mostly motivated by thinking about it like 2013, not actual experience :).</p>\n</blockquote>\n<p>We've recently moved to this ordering for autocomplete after work from <span class=\"user-mention\" data-user-id=\"22454\">@Shivam Deotarse</span>, but while this is a different ordering to the stream list ordering, the above is one reason why I don't favor also adjusting the stream list ordering. This is particularly so in ZT where one is likely focused on an element that you mute, so having it jump-away (or focus move suddenly) seems a bad experience.</p>",
        "id": 1418002,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1660155730
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"14842\">@shlok (madrix01)</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1417966\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> I think this bug is happening because we completely render the list everytime we perform any action on the stream status.</p>\n</blockquote>\n<p>Can you explain this in more detail? The report was that it didn't move immediately, and a complete rerender should result in it moving immediately.</p>",
        "id": 1418475,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1660255691
    },
    {
        "content": "<p>Oh, yes that shouldn't cause the error, because the same logic is used when the streams are pinned or unpinned. So i guess it would be taking time in the <code>stream_muting.update_is_muted()</code>.</p>",
        "id": 1418749,
        "sender_full_name": "shlok (madrix01)",
        "timestamp": 1660283177
    },
    {
        "content": "<p>I reproduced the noticeable movement slowness just now. I suspect this is magnified by having a significant number of unread messages. The stream had about 500 unreads, but I have thousands generally unread, as well as likely others in muted streams, if that's relevant. Or maybe my machine is just being slow again :)</p>",
        "id": 1419419,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1660458059
    },
    {
        "content": "<p>Any updates on the performance issue discussed above? We may want to file an issue to make sure we don't lose track of it.</p>",
        "id": 1422934,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1661191029
    },
    {
        "content": "<blockquote>\n<p>As a follow-up, do we want the section headings to float, a little like the FRB? When scrolling, the pinned heading goes away so it's not obvious that the top streams are pinned - and presumably the same would apply to the other headings if the sections were large enough.</p>\n</blockquote>\n<p>Good question! <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> what do you think?</p>",
        "id": 1422936,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1661191081
    },
    {
        "content": "<p>In my generally responsive Zulip UI here, a ~370-unread message stream takes maybe 2s to move. It changes color first quickly, then shifts around later.</p>\n<p>That time doesn't seem to vary noticeably for a stream with eg. 10x more unreads.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> Did you have any slowness before? Since you accidentally lost your unreads, is there any difference now?</p>",
        "id": 1423056,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1661201365
    },
    {
        "content": "<p>It's still quite slow for me for a CZO stream to move down when it's muted, even with very few unreads anywhere. So I don't think the unreads should be relevant here.</p>",
        "id": 1423077,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1661203059
    },
    {
        "content": "<p>I think the next step here is to setup a development environment with a large number of streams and then profile the operation; or maybe do it using <a class=\"stream\" data-stream-id=\"7\" href=\"/#narrow/stream/7-test-here\">#test here</a>. It seems most likely to be an actual performance issue, not a \"we're sleeping for 500ms\" thing.</p>",
        "id": 1423217,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1661211101
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Muted.20streams.20with.20inactive.20ones/near/1422936\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>As a follow-up, do we want the section headings to float, a little like the FRB? When scrolling, the pinned heading goes away so it's not obvious that the top streams are pinned - and presumably the same would apply to the other headings if the sections were large enough.</p>\n</blockquote>\n<p>Good question! <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> what do you think?</p>\n</blockquote>\n<p>My position is that we should scroll everything  <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 1424021,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1661310450
    },
    {
        "content": "<p>Well we could scroll everything but still have sticky headers so that you can see what section you're in without having to scroll up to find the last heading -- are you saying you'd prefer to not have that? I don't have a strong personal opinion at present, but I'm not sure I see a clear downside to sticky headers other than implementation complexity.</p>",
        "id": 1425273,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1661473876
    }
]