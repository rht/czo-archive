[
    {
        "content": "<p>Should the link for uploaded images open lightbox? E.g. try clicking <a href=\"/user_uploads/2/61/kEIoWXVS3DfT2VXKp2bjvWJJ/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">this link</a> <br>\nvs clicking on the image.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/61/kEIoWXVS3DfT2VXKp2bjvWJJ/pasted_image.png\" target=\"_blank\" title=\"this link\"><img src=\"/user_uploads/2/61/kEIoWXVS3DfT2VXKp2bjvWJJ/pasted_image.png\"></a></div>",
        "id": 601335,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529446189
    },
    {
        "content": "<p>In the desktop app, we open the lightbox for both the cases.</p>",
        "id": 601391,
        "sender_full_name": "Akash Nimare",
        "timestamp": 1529465744
    },
    {
        "content": "<p>I think it works as we originally intended to.  You click once to open the lightbox and you then click the \"Open\" button to follow the actual link.  I find the current UI less than obvious, but I see the benefit of being able to pan images that just happen to be hosted by third party sites.  (This comes up with giphy bot, for example.)</p>",
        "id": 601435,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529492638
    },
    {
        "content": "<p>Yeah, I think the webapp behavior is the desired behavior.  It's tricky for the desktop app, though, because it doesn't have an \"external browser tab\" place to do that default open.</p>",
        "id": 601562,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1529508411
    },
    {
        "content": "<p>To clarify, I think the desktop app behavior is the more natural one, and am suggesting the webapp follow it. I think simpler is better in this case, and both things doing the same thing is simpler than having the link do something different from the image. </p>\n<p>Not a big deal though (and also probably the long term solution is to do something more like github or gmail, which don't show the image name at all in most cases).</p>",
        "id": 601574,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529508877
    },
    {
        "content": "<p>I'm about to invoke the giphy bot here to show why I like the webapp behavior, despite it being a bit confusing.  (Folks can click on the image to see the experience.)</p>",
        "id": 601579,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529509414
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5585\">@Steve's Trivia Bot</span> cats</p>",
        "id": 601580,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529509428
    },
    {
        "content": "<p><a href=\"https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif\" target=\"_blank\" title=\"https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif\">Click to enlarge</a><a href=\"/static/images/interactive-bot/giphy/powered-by-giphy.png\" target=\"_blank\" title=\"/static/images/interactive-bot/giphy/powered-by-giphy.png\"></a></p>\n<div class=\"message_inline_image\"><a href=\"https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif\" target=\"_blank\" title=\"Click to enlarge\"><img src=\"https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif\"></a></div><div class=\"message_inline_image\"><a href=\"/static/images/interactive-bot/giphy/powered-by-giphy.png\" target=\"_blank\" title=\"\"><img src=\"/static/images/interactive-bot/giphy/powered-by-giphy.png\"></a></div>",
        "id": 601581,
        "sender_full_name": "Steve's Trivia Bot",
        "timestamp": 1529509429
    },
    {
        "content": "<p>clicking the image just seems broken for me?</p>",
        "id": 601582,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529509506
    },
    {
        "content": "<p>no lightbox for you?</p>",
        "id": 601583,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529509538
    },
    {
        "content": "<p>I guess now it's brkoen in the message feed as well:<br>\n<a href=\"/user_uploads/2/6f/uQSDBhEuCpEAWtz7CzBDBz4z/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6f/uQSDBhEuCpEAWtz7CzBDBz4z/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/6f/uQSDBhEuCpEAWtz7CzBDBz4z/pasted_image.png\"></a></div>",
        "id": 601596,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529511572
    },
    {
        "content": "<p>Can you view the markdown?  Mine looks like this:</p>\n<div class=\"codehilite\"><pre><span></span>[Click to enlarge](https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif)[](/static/images/interactive-bot/giphy/powered-by-giphy.png)\n</pre></div>",
        "id": 601597,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529511682
    },
    {
        "content": "<p>Also, what happens if you try to view the image directly on giphy's site?:</p>\n<div class=\"message_inline_image\"><a href=\"https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif\" target=\"_blank\" title=\"https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif\"><img src=\"https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif\"></a></div>",
        "id": 601598,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529511749
    },
    {
        "content": "<p>ugh, above is not what I meant :)  but you can view-source to get the link</p>",
        "id": 601599,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529511807
    },
    {
        "content": "<p><code>https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif</code></p>",
        "id": 601600,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529511832
    },
    {
        "content": "<p>source for me is</p>\n<div class=\"codehilite\"><pre><span></span>[Click to enlarge](https://media1.giphy.com/media/NqZn5kPN8VVrW/giphy.gif)[](/static/images/interactive-bot/giphy/powered-by-giphy.png)\n</pre></div>",
        "id": 601603,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529511860
    },
    {
        "content": "<p>going to the link directly works (gif of cat jumping off a ledge)</p>",
        "id": 601605,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529511925
    },
    {
        "content": "<p>oddly it worked right when you sent it, and then when I clicked on it to open lightbox, it stopped working</p>",
        "id": 601606,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529511959
    },
    {
        "content": "<p>Somewhat related, I get an odd bug after opening the lightbox.  See how I have remnants of the image after I close the lightbox:</p>\n<p><a href=\"/user_uploads/2/36/0i-7g0kZ6OB216mM7btRuRXe/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/36/0i-7g0kZ6OB216mM7btRuRXe/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/36/0i-7g0kZ6OB216mM7btRuRXe/pasted_image.png\"></a></div>",
        "id": 601610,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529512110
    },
    {
        "content": "<p>I assume my bug is some strange z-index glitch.</p>",
        "id": 601612,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529512155
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"131\">@Rishi Gupta</span> Going back to your bug, one theory is that you just got a 40x from giphy for some transient reason, and now the browser's confused.  So I guess the next thing would be to try a hard reload.  Zulip isn't really doing much here beyond putting the link in vanilla HTML tags.</p>",
        "id": 601613,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529512235
    },
    {
        "content": "<p>cool, works on hard reload. Why do you like the current webapp behavior for this?</p>",
        "id": 601614,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529512348
    },
    {
        "content": "<blockquote>\n<p>... Why do you like the current webapp behavior for this?</p>\n</blockquote>\n<p>because I like seeing the image zoomed more than I want to giphy's website directly</p>\n<p>(I am not completely decided on this, though.  I see the argument for simplicity, but I want to defend the current way as not being completely without merit.)</p>",
        "id": 601618,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529512511
    },
    {
        "content": "<p>Let me do a quick poll, and people can vote on multiple options, as always.</p>",
        "id": 601619,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529512600
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>(poll aborted due to further discussion)\n</pre></div>",
        "id": 601620,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529512603
    },
    {
        "content": "<p>Is my proposal the third one? (both image clicks and link clicks open lightbox)</p>",
        "id": 601624,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1529512849
    },
    {
        "content": "<p>Hrm, I may have misunderstood what people are proposing to change here.</p>",
        "id": 601634,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529513799
    },
    {
        "content": "<p>I think I misread your original question as being about the image, not the link.</p>",
        "id": 601644,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529514150
    },
    {
        "content": "<p>I think keeping behavior consistent between both the link and the thumbnail opening the lightbox makes more sense because lightbox affords as much space as opening the link in a new tab. We could add a link to the original source in the lightbox. They both seem as feasible on the webapp. Not exactly sure about mobile.</p>",
        "id": 601730,
        "sender_full_name": "Armaan Ahluwalia",
        "timestamp": 1529518305
    },
    {
        "content": "<p>Better yet remove link altogether from the feed as I'm not sure what it adds. Maybe move the link below the image as it provides a good fallback in case of things going wrong from the external source.</p>",
        "id": 601731,
        "sender_full_name": "Armaan Ahluwalia",
        "timestamp": 1529518444
    },
    {
        "content": "<p>I think the link is partly motivated by people referring to images in the middle of a sentence but it doesn’t have to be a link and it could be some other ui or text that says “see below” or something.</p>",
        "id": 601732,
        "sender_full_name": "Steve Howell",
        "timestamp": 1529518982
    }
]