[
    {
        "content": "<p>Here is the <a href=\"https://www.loom.com/share/9f29729abf4746babd2bbb30490ef05f\">video</a> and <a href=\"https://www.figma.com/proto/jbNOiBWvbtLuHaiTj4CW0G/Zulip-Web-App?page-id=738%3A51120&amp;node-id=2090%3A143207&amp;viewport=-61%2C55%2C0.37&amp;scaling=min-zoom&amp;starting-point-node-id=738%3A51121\">prototype</a> of the redesign proposal for the show more/less buttons.</p>\n<p><a href=\"/user_uploads/2/90/9YY5aYrteOv1rLFvUGVr7Q-u/folded-message.png\">folded-message.png</a> <a href=\"/user_uploads/2/59/tEw4Uq_TJV4vehFmGn6CSfxv/unfolded-message.png\">unfolded-message.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/90/9YY5aYrteOv1rLFvUGVr7Q-u/folded-message.png\" title=\"folded-message.png\"><img src=\"/user_uploads/2/90/9YY5aYrteOv1rLFvUGVr7Q-u/folded-message.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/59/tEw4Uq_TJV4vehFmGn6CSfxv/unfolded-message.png\" title=\"unfolded-message.png\"><img src=\"/user_uploads/2/59/tEw4Uq_TJV4vehFmGn6CSfxv/unfolded-message.png\"></a></div>",
        "id": 1381039,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1652671865
    },
    {
        "content": "<p>Any thoughts/feedback on this one?</p>",
        "id": 1395403,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1655946494
    },
    {
        "content": "<p>I'm not 100% convinced by only rounding the bottom corners, since I don't think the square top corners really flow from the message body. </p>\n<p>The fade-out makes sense.</p>",
        "id": 1395408,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1655947273
    },
    {
        "content": "<p>Agreed with Alex.</p>",
        "id": 1395453,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1655965670
    },
    {
        "content": "<p>looking good</p>",
        "id": 1395481,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1655968029
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"12178\">Alex Vandiver</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20show.20more.2Fless/near/1395408\">said</a>:</p>\n<blockquote>\n<p>I'm not 100% convinced by only rounding the bottom corners, since I don't think the square top corners really flow from the message body. </p>\n<p>The fade-out makes sense.</p>\n</blockquote>\n<p>Sure we can make all round.<br>\n<a href=\"/user_uploads/2/bc/nhhkChiOR_m1WhHT2x3P-smO/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bc/nhhkChiOR_m1WhHT2x3P-smO/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/bc/nhhkChiOR_m1WhHT2x3P-smO/image.png\"></a></div>",
        "id": 1399761,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1656970816
    },
    {
        "content": "<p>I like the fading effect, but I'm not sure I like the background for the \"show more\" button -- it feels kinda faint, like perhaps it's faded like the adjacent content. </p>\n<p>I'm not sure what is good -- we don't want a really active button style (like, say, blue).</p>",
        "id": 1407127,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1658267662
    },
    {
        "content": "<p>Ok, I'll get back with another suggestion about this</p>",
        "id": 1407252,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1658275856
    },
    {
        "content": "<p>how about this <a href=\"/user_uploads/2/b6/VsX5eHTneoiBQ3poPtEeNZ1n/image.png\">image.png</a> <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b6/VsX5eHTneoiBQ3poPtEeNZ1n/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b6/VsX5eHTneoiBQ3poPtEeNZ1n/image.png\"></a></div>",
        "id": 1409794,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1658715322
    },
    {
        "content": "<p>I also think that double click should expand the message</p>",
        "id": 1409797,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1658717378
    },
    {
        "content": "<p>And it should be possible to do that with some hot key too... like space bar?</p>",
        "id": 1409798,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1658717441
    },
    {
        "content": "<p>Maybe we want something that attracts less attention?</p>",
        "id": 1409820,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1658721743
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20show.20more.2Fless/near/1409798\">said</a>:</p>\n<blockquote>\n<p>And it should be possible to do that with some hot key too... like space bar?</p>\n</blockquote>\n<p>I think <code>-</code> currently does that; space is a pagedown alias, I think.</p>",
        "id": 1415349,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1659651787
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20show.20more.2Fless/near/1409820\">said</a>:</p>\n<blockquote>\n<p>Maybe we want something that attracts less attention?</p>\n</blockquote>\n<p>Yeah, I think the full width look feels a bit distracting, in part because many messages don't extend to the full width. We don't want this to be confused visually for the date dividers, which are the existing full-width line type things we have.</p>",
        "id": 1415350,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1659651857
    },
    {
        "content": "<p>Something like this:<br>\n<a href=\"/user_uploads/2/dc/E7Zp1m-_lzUX_r_3pY2HLA6E/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/dc/E7Zp1m-_lzUX_r_3pY2HLA6E/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/dc/E7Zp1m-_lzUX_r_3pY2HLA6E/image.png\"></a></div>",
        "id": 1415511,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1659676748
    },
    {
        "content": "<p>Hm, that last one makes me think of our scroll down button.</p>",
        "id": 1415719,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1659728572
    },
    {
        "content": "<p>Yeah, I think I like the earlier designs we've played with that just have a button over the center of the message.</p>",
        "id": 1415748,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1659729693
    },
    {
        "content": "<p>Ok, let's get back to something you used to. Minimal word on white background. The only change is that we don't use <code>[ ]</code> and there is a hover state which highlights the whole button<br>\n<a href=\"https://www.loom.com/share/a5c733e12ef74bf68b1593793dc36286\">https://www.loom.com/share/a5c733e12ef74bf68b1593793dc36286</a></p>\n<p><a href=\"/user_uploads/2/80/9ClYIgs_LRcMoLaQcDTMedxz/folded-message.png\">folded-message.png</a> <br>\n<a href=\"/user_uploads/2/c7/pDXJy-k07koHQ3KBIdzwbFRM/folded-message-hover.png\">folded-message-hover.png</a> <br>\n<a href=\"/user_uploads/2/27/eh9laLfykhhEeEhOjeu1tXsC/unfolded-message.png\">unfolded-message.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/80/9ClYIgs_LRcMoLaQcDTMedxz/folded-message.png\" title=\"folded-message.png\"><img src=\"/user_uploads/2/80/9ClYIgs_LRcMoLaQcDTMedxz/folded-message.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/c7/pDXJy-k07koHQ3KBIdzwbFRM/folded-message-hover.png\" title=\"folded-message-hover.png\"><img src=\"/user_uploads/2/c7/pDXJy-k07koHQ3KBIdzwbFRM/folded-message-hover.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/27/eh9laLfykhhEeEhOjeu1tXsC/unfolded-message.png\" title=\"unfolded-message.png\"><img src=\"/user_uploads/2/27/eh9laLfykhhEeEhOjeu1tXsC/unfolded-message.png\"></a></div>",
        "id": 1416296,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1659825064
    },
    {
        "content": "<p>Hmm, that version feels a bit too subtle without being hovered.</p>",
        "id": 1416452,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1659843725
    },
    {
        "content": "<p>I feel like the design is totally fine. If we change it to \"View Full Message\" or \"Expand\"  instead of \"Show More\", that would make it more user friendly.</p>",
        "id": 1416561,
        "sender_full_name": "Zaid Ahmad",
        "timestamp": 1659879750
    },
    {
        "content": "<p>Here's my design. <br>\n• Added box-shadow<br>\n• Removed <code>[]</code><br>\n• Changed text to <code>Show More...</code> and <code>Show Less</code></p>\n<p><a href=\"/user_uploads/2/b5/P2mj1tITODFZMF4D9kxhWqoI/test1.png\">folded-message</a><br>\n<a href=\"/user_uploads/2/fe/Bgo9TH-H9CUibQB88erU2lml/test2.png\">unfolded-message</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b5/P2mj1tITODFZMF4D9kxhWqoI/test1.png\" title=\"folded-message\"><img src=\"/user_uploads/2/b5/P2mj1tITODFZMF4D9kxhWqoI/test1.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/fe/Bgo9TH-H9CUibQB88erU2lml/test2.png\" title=\"unfolded-message\"><img src=\"/user_uploads/2/fe/Bgo9TH-H9CUibQB88erU2lml/test2.png\"></a></div>",
        "id": 1416564,
        "sender_full_name": "Zaid Ahmad",
        "timestamp": 1659882031
    },
    {
        "content": "<p>UPDATED DESIGN<br>\n• Added some padding below the <code>Show More...</code> and <code>Show Less</code> buttons for better readability.<br>\n• Added hover effect.</p>\n<p>Personally I think this design goes well with the overall light theme of the website.</p>\n<p><a href=\"/user_uploads/2/ea/-v7OoJvatnAwN9_UONI7pfMb/updated1.png\">folded-message</a> <br>\n<a href=\"/user_uploads/2/9d/YUm0gsDY-Bzle24FoWWm9aE-/updated2.png\">on-hovering-over-the-button</a> <br>\n<a href=\"/user_uploads/2/c2/PuYTT3LQueOQ2wFWK9UImzIz/updated3.png\">unfolded-message</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ea/-v7OoJvatnAwN9_UONI7pfMb/updated1.png\" title=\"folded-message\"><img src=\"/user_uploads/2/ea/-v7OoJvatnAwN9_UONI7pfMb/updated1.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/9d/YUm0gsDY-Bzle24FoWWm9aE-/updated2.png\" title=\"on-hovering-over-the-button\"><img src=\"/user_uploads/2/9d/YUm0gsDY-Bzle24FoWWm9aE-/updated2.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/c2/PuYTT3LQueOQ2wFWK9UImzIz/updated3.png\" title=\"unfolded-message\"><img src=\"/user_uploads/2/c2/PuYTT3LQueOQ2wFWK9UImzIz/updated3.png\"></a></div>",
        "id": 1416572,
        "sender_full_name": "Zaid Ahmad",
        "timestamp": 1659888535
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20show.20more.2Fless/near/1416452\">said</a>:</p>\n<blockquote>\n<p>Hmm, that version feels a bit too subtle without being hovered.</p>\n</blockquote>\n<p>Too subtle that you afraid that what...?</p>",
        "id": 1416736,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1659910275
    },
    {
        "content": "<p>I think we should try to live with this and if it feels nor right increase the contrast...</p>",
        "id": 1416738,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1659910324
    },
    {
        "content": "<p>Oh, maybe I misunderstood something -- would the hover area appear when hovering over any part of the message, or just the button itself?</p>",
        "id": 1417189,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1660002729
    },
    {
        "content": "<p>I thought just the bottom as it is working now. But if you think it’s appropriate/possible to highlight it if hover over the message I vote foe that</p>",
        "id": 1417195,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1660003480
    },
    {
        "content": "<p>Honestly, I'm pretty uncertain in my opinions on this detail; would be helpful for others to comment.</p>",
        "id": 1417196,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1660003530
    },
    {
        "content": "<p>let me prepare interactive prototype and record some thoughts on a video</p>",
        "id": 1417232,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1660007636
    },
    {
        "content": "<p>Here is the <a href=\"https://www.figma.com/proto/jbNOiBWvbtLuHaiTj4CW0G/Zulip-Web-App?page-id=738%3A51120&amp;node-id=2348%3A180261&amp;viewport=478%2C-1272%2C0.26&amp;scaling=min-zoom&amp;starting-point-node-id=2348%3A180261&amp;show-proto-sidebar=1\">prototype</a> <br>\nAnd some video clarifications <a href=\"https://www.loom.com/share/5e97ce83c38543e9b0dd390cfb1ec229\">https://www.loom.com/share/5e97ce83c38543e9b0dd390cfb1ec229</a><br>\n<span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span></p>",
        "id": 1417248,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1660010046
    },
    {
        "content": "<p>Yeah, after playing with that prototype I think this version is worth trying out to see how it feels in normal use.</p>",
        "id": 1417734,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1660086909
    },
    {
        "content": "<p>I like that proposal!</p>\n<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> could you also show what it looks like on a message with an @-mention, to make sure the purple on a purple background will be OK? Otherwise, I think it's ready to be written up as an issue.</p>",
        "id": 1422961,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1661193211
    },
    {
        "content": "<p>good catch, the problem isn't with a color but with that white shadow... I need to rethink the approach a bit.</p>",
        "id": 1424033,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1661311264
    },
    {
        "content": "<p>Here is the <a href=\"https://www.figma.com/proto/jbNOiBWvbtLuHaiTj4CW0G/Zulip-Web-App?page-id=738%3A51120&amp;node-id=2905%3A211770&amp;viewport=-1821%2C-2660%2C0.5&amp;scaling=min-zoom&amp;starting-point-node-id=738%3A51121&amp;show-proto-sidebar=1\">updated prototype</a> and key screens:<br>\n<a href=\"/user_uploads/2/49/44o5heKubN5woqXyqPKGSnSH/folded-message-hover-01.png\">folded-message-hover-01.png</a> <br>\n<a href=\"/user_uploads/2/27/EiMl7B169hu2nFyq3hF_VrfL/folded-message-hover-02.png\">folded-message-hover-02.png</a><br>\n<a href=\"/user_uploads/2/ba/2VWRF3Xn1Dvsx8IhhvOWsIDh/unfolded-message-03.png\">unfolded-message-03.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/49/44o5heKubN5woqXyqPKGSnSH/folded-message-hover-01.png\" title=\"folded-message-hover-01.png\"><img src=\"/user_uploads/2/49/44o5heKubN5woqXyqPKGSnSH/folded-message-hover-01.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/27/EiMl7B169hu2nFyq3hF_VrfL/folded-message-hover-02.png\" title=\"folded-message-hover-02.png\"><img src=\"/user_uploads/2/27/EiMl7B169hu2nFyq3hF_VrfL/folded-message-hover-02.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/ba/2VWRF3Xn1Dvsx8IhhvOWsIDh/unfolded-message-03.png\" title=\"unfolded-message-03.png\"><img src=\"/user_uploads/2/ba/2VWRF3Xn1Dvsx8IhhvOWsIDh/unfolded-message-03.png\"></a></div><p>It will be a bit tricky to implement, but I think <span class=\"user-mention\" data-user-id=\"21453\">@Evy</span> already understands it well.<br>\nI will clarify all the nuances in the issue if <span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> thinks that is ready for that. Usually I also create the dark version for that...</p>",
        "id": 1424875,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1661401144
    },
    {
        "content": "<p>Works for me!</p>",
        "id": 1424980,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1661447207
    },
    {
        "content": "<p>Yeah, that seems reasonable to me.</p>",
        "id": 1425267,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1661473553
    },
    {
        "content": "<p>Filed <a href=\"https://github.com/zulip/zulip/issues/22801\">https://github.com/zulip/zulip/issues/22801</a></p>",
        "id": 1426741,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1661706738
    },
    {
        "content": "<p>I just took over a PR and it currently looks like this</p>\n<p><a href=\"/user_uploads/2/1a/KrSPxa034XfVYTPpWlWbc0yi/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1a/KrSPxa034XfVYTPpWlWbc0yi/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/1a/KrSPxa034XfVYTPpWlWbc0yi/image.png\"></a></div><p>Vlad has asked to have it fade to the background color at the bottom of the message, but then the message outline could look like this (from an image Vlad shared in April)</p>\n<p><a href=\"/user_uploads/2/b6/_KiiEjij6DISDEFNad4Q_iaX/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b6/_KiiEjij6DISDEFNad4Q_iaX/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b6/_KiiEjij6DISDEFNad4Q_iaX/image.png\"></a></div><p>I don't really like the outline having that fade effect on it, and also think it might look weird if the message fades to background while the outline stays. My intuition is that we shouldn't change it from the first screenshot I posted there unless we for some reason got rid of the blue box. But open to other thoughts! I wanted to bring it up before changing it to see what people think.</p>",
        "id": 1578006,
        "sender_full_name": "Evy",
        "timestamp": 1685140170
    },
    {
        "content": "<p>I think fading the blue box itself doesn't really work, but that might not be what <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> had in mind.</p>",
        "id": 1578020,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1685140307
    },
    {
        "content": "<p>I strongly believe that the first screenshot looks better compared to the second one, as it has a proper outline and maintains consistency.</p>",
        "id": 1578021,
        "sender_full_name": "Palash Baderia",
        "timestamp": 1685140328
    },
    {
        "content": "<p>I'm going off of this comment where Vlad shared that screenshot <a href=\"https://github.com/zulip/zulip/pull/25119#issuecomment-1513570700\">https://github.com/zulip/zulip/pull/25119#issuecomment-1513570700</a></p>",
        "id": 1578022,
        "sender_full_name": "Evy",
        "timestamp": 1685140420
    },
    {
        "content": "<p>The blue box/message boundaries definitely shouldn't be faded that way; probably there's some confusion here. </p>\n<p>But in the first screenshot, if we're going to use 6 lines of vertical screen real estate for a preview of a long message, it seems very sad for half of that to be unreadable due to fading -- we'd be better off making the part that we show shorter with a more abrupt indication that we've cut off the message.</p>",
        "id": 1578127,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1685143185
    },
    {
        "content": "<p>So that's something we should keep in mind while thinking about this -- the feature is most helpful if it's not consuming a lot of space in your message with unhelpful space. (And we'll want to tune the cutoff points for what gets collapsed depending on exactly how tall the cutoff points are)</p>",
        "id": 1578129,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1685143309
    },
    {
        "content": "<p>Yeh, i don’t think blue box should be faded. Consider fading was my mistake</p>",
        "id": 1578322,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1685147540
    },
    {
        "content": "<p>Can you share a design of what you'd like it to look like with the blue box?</p>",
        "id": 1578452,
        "sender_full_name": "Evy",
        "timestamp": 1685151788
    },
    {
        "content": "<p>The main idea of the design was that background color transitioning to the message color revealing the content. Blue box could be just on top of it as usual. I think the solution could be a mask-image with a gradient <a href=\"https://www.digitalocean.com/community/tutorials/css-masking-with-mask-image\">https://www.digitalocean.com/community/tutorials/css-masking-with-mask-image</a></p>",
        "id": 1580640,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1685411329
    },
    {
        "content": "<p>something like this <br>\n<a href=\"/user_uploads/2/1a/DnAsNwQ-Z6m8jqa8qCk0TvJu/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1a/DnAsNwQ-Z6m8jqa8qCk0TvJu/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/1a/DnAsNwQ-Z6m8jqa8qCk0TvJu/image.png\"></a></div>",
        "id": 1580643,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1685411829
    },
    {
        "content": "<p>Can you show an example with the mention-background?</p>",
        "id": 1580675,
        "sender_full_name": "Evy",
        "timestamp": 1685419598
    },
    {
        "content": "<p>I haven't seen use of <code>mask-image</code> before -- <span class=\"user-mention\" data-user-id=\"26369\">@Karl Stolley</span> do you have best practices opinions on it?</p>",
        "id": 1580676,
        "sender_full_name": "Evy",
        "timestamp": 1685419688
    },
    {
        "content": "<p>I understand it in theory, but I haven’t worked with it myself. I’m curious about the topic, though, so I’m happy to share what resources I find. I might try to whip up a little demo to poke at, too</p>",
        "id": 1580815,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1685449174
    },
    {
        "content": "<p>So the problem with highlighted message is that background color applied on the very top level:<br>\n<a href=\"/user_uploads/2/9f/ixCRcnfVkYvlPZJi9LMgHi7t/image.png\">image.png</a><br>\nSo if we mask all that, we are masking focus rect too. To do that trick with a mask we have to change what divs are in which. That is why I told <span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> that is not a simple task.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/9f/ixCRcnfVkYvlPZJi9LMgHi7t/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/9f/ixCRcnfVkYvlPZJi9LMgHi7t/image.png\"></a></div><p>Ideally is to have a message container div which doesn't do anything, while inside have layers:<br>\nLayer - 0 -highlighting+hover <br>\nLayer - 1 - User, <br>\nLayer - 2 - Message content<br>\nLayer - 3 - focus rect, unread marker</p>\n<p>Layer 1 and 2 could be together</p>\n<p>With this approach we could control things independently. For masking in case of more less we could apply the same mask twice: </p>\n<ol>\n<li>for the highlight </li>\n<li>for the content.</li>\n</ol>",
        "id": 1581307,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1685479772
    },
    {
        "content": "<p>But if you guys not inspired by the design and wish to have some in between version just go ahead with possible fixes without such design neediness. We could still apply mask to the message and don't bother about the whole message highlight.</p>",
        "id": 1581308,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1685479880
    },
    {
        "content": "<p>Can you show a visual example/design with the mention-background and a more-less, in the way you want it to look?</p>",
        "id": 1581403,
        "sender_full_name": "Evy",
        "timestamp": 1685486588
    },
    {
        "content": "<p>I'd prefer to figure out implementation after I have a clear understanding of what it should look like.</p>",
        "id": 1581404,
        "sender_full_name": "Evy",
        "timestamp": 1685486613
    },
    {
        "content": "<p>Sure. It will take me some time to update the design. I will go through comments I made in the PR and try to assemble interactive version to be sure that it is in a good state.</p>",
        "id": 1581585,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1685500023
    },
    {
        "content": "<p>Sweet sounds good!</p>",
        "id": 1582678,
        "sender_full_name": "Evy",
        "timestamp": 1685601615
    },
    {
        "content": "<p>hi <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> just wanted to follow up and see if you had a sense of when this would be ready :)</p>",
        "id": 1587605,
        "sender_full_name": "Evy",
        "timestamp": 1686160626
    },
    {
        "content": "<p>no not yet, sorry</p>",
        "id": 1587632,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1686163394
    },
    {
        "content": "<p>Video clarification <a href=\"https://share.cleanshot.com/y11s8Gx9\">https://share.cleanshot.com/y11s8Gx9</a><br>\nFigma frames <a href=\"https://www.figma.com/file/jbNOiBWvbtLuHaiTj4CW0G/Zulip-Web-App?type=design&amp;node-id=5788%3A355553&amp;mode=design&amp;t=SpRMhP1tE27wwt2X-1\">https://www.figma.com/file/jbNOiBWvbtLuHaiTj4CW0G/Zulip-Web-App?type=design&amp;node-id=5788%3A355553&amp;mode=design&amp;t=SpRMhP1tE27wwt2X-1</a><br>\nQuestion is how much vertical space to dedicated after and before the button. I think 4 px till it hit focus rectangle which is 1 px, so 5px from the edge. But we can experiment with that. I don't want it to mess the whole structure of padding/margins</p>",
        "id": 1600900,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1688050845
    },
    {
        "content": "<p>Figma replaced Inspect view with Dev mode. This work better if everything is a component and even generate code... <br>\n<a href=\"/user_uploads/2/cd/YgFU9dUBWbvXp0ejKYutIv5v/CleanShot-2023-06-29-at-11.02.392x.png\">CleanShot-2023-06-29-at-11.02.392x.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/cd/YgFU9dUBWbvXp0ejKYutIv5v/CleanShot-2023-06-29-at-11.02.392x.png\" title=\"CleanShot-2023-06-29-at-11.02.392x.png\"><img src=\"/user_uploads/2/cd/YgFU9dUBWbvXp0ejKYutIv5v/CleanShot-2023-06-29-at-11.02.392x.png\"></a></div><p>This is a new feature and not many people adapted it, but it should simplify navigation within design files.<br>\nI think this mode requires editor rights... I will experiment with it later, but you can always copy the whole file and be editor of that.</p>",
        "id": 1600902,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1688051103
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"21453\">@Evy</span> I hope video helps</p>",
        "id": 1600903,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1688051176
    },
    {
        "content": "<p>This is awesome thanks for all this!</p>",
        "id": 1600942,
        "sender_full_name": "Evy",
        "timestamp": 1688054928
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> are you okay with the buttons being different colors over different backgrounds? This happens because they have transparent background colors</p>\n<p><a href=\"/user_uploads/2/d7/nMbhmZRJLOb1vAFvvPIAMW2w/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d7/nMbhmZRJLOb1vAFvvPIAMW2w/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/d7/nMbhmZRJLOb1vAFvvPIAMW2w/image.png\"></a></div>",
        "id": 1602784,
        "sender_full_name": "Evy",
        "timestamp": 1688347307
    },
    {
        "content": "<p>Second question: Someone had previously noted wanting to be able to read most of the preview text -- do you want to limit the mask to the bottom some-number-of-pixels of the message? Or would you rather the gradient extend fully to the top of the message.</p>",
        "id": 1602785,
        "sender_full_name": "Evy",
        "timestamp": 1688347531
    },
    {
        "content": "<p>for reference:</p>\n<p><a href=\"/user_uploads/2/10/LEYAxMm-guR4_UyrPBjHi0w6/image.png\">full height (123px)</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/10/LEYAxMm-guR4_UyrPBjHi0w6/image.png\" title=\"full height (123px)\"><img src=\"/user_uploads/2/10/LEYAxMm-guR4_UyrPBjHi0w6/image.png\"></a></div><p><a href=\"/user_uploads/2/64/OMf8PRaAQSQg71BvK9quRM3u/image.png\">100px</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/64/OMf8PRaAQSQg71BvK9quRM3u/image.png\" title=\"100px\"><img src=\"/user_uploads/2/64/OMf8PRaAQSQg71BvK9quRM3u/image.png\"></a></div><p><a href=\"/user_uploads/2/9a/bgy_F1Pkcuhu1Cb6Fb-EOyk4/image.png\">60px</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/9a/bgy_F1Pkcuhu1Cb6Fb-EOyk4/image.png\" title=\"60px\"><img src=\"/user_uploads/2/9a/bgy_F1Pkcuhu1Cb6Fb-EOyk4/image.png\"></a></div>",
        "id": 1602786,
        "sender_full_name": "Evy",
        "timestamp": 1688347581
    },
    {
        "content": "<p>This change is otherwise ready for you to take a look! <a href=\"https://github.com/zulip/zulip/pull/25787\">#25787</a></p>",
        "id": 1602791,
        "sender_full_name": "Evy",
        "timestamp": 1688348460
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"21453\">@Evy</span> thank you for putting up such a great question. Transparency is the easiest way to blend a button to a background, so it was intentional.</p>\n<p>I like example of 100px.</p>",
        "id": 1603324,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1688439085
    },
    {
        "content": "<p>Ok great! Thanks</p>",
        "id": 1603342,
        "sender_full_name": "Evy",
        "timestamp": 1688441110
    },
    {
        "content": "<p>Updated! <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> if you want to design review on the PR, it's ready now :)</p>",
        "id": 1603664,
        "sender_full_name": "Evy",
        "timestamp": 1688482659
    },
    {
        "content": "<p>UI redesign: more-less message interaction. <a href=\"https://github.com/zulip/zulip/pull/25787\">#25787</a></p>",
        "id": 1603665,
        "sender_full_name": "Evy",
        "timestamp": 1688482669
    },
    {
        "content": "<p>I see some comments by <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span>, I guess I should review after. It would be nice to see gifs for the case when the message is: </p>\n<ul>\n<li>focused unread</li>\n<li>group mention when viewer is part of a group</li>\n<li>person mention when viewer is a person</li>\n</ul>\n<p>How do you feel yourself as a user about the interaction <span class=\"user-mention\" data-user-id=\"21453\">@Evy</span> ?</p>",
        "id": 1604157,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1688568617
    },
    {
        "content": "<p>It feels good to me as a user! I will make some gifs for those :)</p>",
        "id": 1604216,
        "sender_full_name": "Evy",
        "timestamp": 1688573882
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/25787\">#25787</a> is now updated after review and with those gifs -- <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> let me know what you think!</p>",
        "id": 1604993,
        "sender_full_name": "Evy",
        "timestamp": 1688660376
    },
    {
        "content": "<p>made my comments there</p>",
        "id": 1606446,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1688831958
    },
    {
        "content": "<p>Hmm, what's the thinking of the 100px option of the 60px option? I thought 60px looked by far the best of those -- I feel like we're wasting vertical space if most of the lines we take the space to show are faded and hard to read; we'd be better off doing the gradient on only the bottom 40-60px.</p>",
        "id": 1609241,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1689266928
    },
    {
        "content": "<p>I don’t read beyond 1st line if i have no intention to open full message. If you feel that 60px is better - sure go for it. But anything less is not great, we should take at least 3 lines for the shadow and shadowing and it should feel smooth</p>",
        "id": 1609356,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1689273871
    },
    {
        "content": "<p>For me, I often read the first few lines to get a feel for what it's about in deciding whether to open it.</p>",
        "id": 1609412,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1689274932
    },
    {
        "content": "<p>Cool, updated to 60px in <a href=\"https://github.com/zulip/zulip/pull/25787\">#25787</a></p>",
        "id": 1611820,
        "sender_full_name": "Evy",
        "timestamp": 1689714732
    },
    {
        "content": "<p>Merged and that's now running here, feedback appreciated!</p>",
        "id": 1616224,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1690346167
    },
    {
        "content": "<p>I just saw this UI, and it looks slick!</p>",
        "id": 1616225,
        "sender_full_name": "Alex Vandiver",
        "timestamp": 1690346260
    },
    {
        "content": "<p>I really like having the long click target but with the subtle coloring.  This feels like a definite improvement to me.</p>",
        "id": 1616430,
        "sender_full_name": "Steve Howell",
        "timestamp": 1690372450
    },
    {
        "content": "<p>I liked the new button, but I'm curious if anyone else finds button scale-down on click bit excessive.</p>",
        "id": 1623429,
        "sender_full_name": "Brijmohan Siyag",
        "timestamp": 1691734684
    },
    {
        "content": "<p>The redesign has more scaling like that. I'm coming to like it, but I think it will stand out a bit on controls like this until there's more scaling-on-click behavior across the UI.</p>",
        "id": 1623506,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1691759906
    },
    {
        "content": "<p>Yeah I'm not sure I like scaling-on-click but I think we should get a bit more experience with it and then do a poll or something. It's not the kind of thing that's super hard to remove if we find it isn't working (either overall, or more likely for a particular class of element).</p>",
        "id": 1624052,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1691801358
    },
    {
        "content": "<p>That original \"show more\" UI has been one of our ugliest warts that was basically unchanged since first being prototyped about 10 years ago, so I'm very glad to have it cleaned up.</p>",
        "id": 1624053,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1691801393
    },
    {
        "content": "<blockquote>\n<p>scale-down on click bit excessive</p>\n</blockquote>\n<p>It is a wide button and scaling here doesn't work as good as on smaller buttons. I suggest a small step of improvement is to add transition and see how it goes.</p>",
        "id": 1624507,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1691981595
    },
    {
        "content": "<p>also since we have all the effects for this button we can just cancel scaling for it later and see if it feels better</p>",
        "id": 1624509,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1691981648
    }
]