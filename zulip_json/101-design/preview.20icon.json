[
    {
        "content": "<p>The preview icon in compose message box seems to be small (although having the same font size like other icons)<br>\nIt's hard to judge(especially for the new users) that the icon meant to be used as a preview.<br>\n Can we use directly button or Link(like for <code>Drafts</code>) to replace that?</p>",
        "id": 848614,
        "sender_full_name": "Siddharth",
        "timestamp": 1586242267
    },
    {
        "content": "<p>Agreed with both your points. We should probably try alternative icons though, before changing it entirely.</p>",
        "id": 848643,
        "sender_full_name": "Vinit Singh",
        "timestamp": 1586251805
    },
    {
        "content": "<p>I have also observed some strange behavior with its icon too. It is not as bright as other icons. Also on hovering over it, it becomes like other icons(brightness increased similar to other icons), unlike the blue filter which comes when we hover over other icons.</p>",
        "id": 848645,
        "sender_full_name": "Shubham Gupta",
        "timestamp": 1586252203
    },
    {
        "content": "<p>How difficult would it be to live render at least some of the markdown? As far as I've seen, other apps don't make you click \"preview\" to show the effect of simple stuff like <strong>bold</strong>, <em>italics</em> and <del>strikethrough</del>. Ofc, other applications don't have as much math support but would the stuff above be very hard to do?</p>",
        "id": 848653,
        "sender_full_name": "Yash RE",
        "timestamp": 1586254748
    },
    {
        "content": "<p>That can be a little complicated to implement.<br>\nThink about once the text gets bold/italics how can I undo that once its rendered in that style?</p>",
        "id": 848674,
        "sender_full_name": "Siddharth",
        "timestamp": 1586255757
    },
    {
        "content": "<p>I'd expect it to be how everyone else does it, backspacing the formatted text unformats it and removes the formatting character at the end.</p>",
        "id": 848736,
        "sender_full_name": "Yash RE",
        "timestamp": 1586260915
    },
    {
        "content": "<p>We are basically on par with how GH does it:</p>\n<p><a href=\"/user_uploads/2/cc/NmzAlQfCsivRYEBLsds2fFQm/image.png\" title=\"image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/cc/NmzAlQfCsivRYEBLsds2fFQm/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/cc/NmzAlQfCsivRYEBLsds2fFQm/image.png\"></a></div>",
        "id": 848744,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586261746
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"9808\">Yash RE</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/848736\" title=\"#narrow/stream/101-design/topic/preview.20icon/near/848736\">said</a>:</p>\n<blockquote>\n<p>I'd expect it to be how everyone else does it, backspacing the formatted text unformats it and removes the formatting character at the end.</p>\n</blockquote>\n<p>oh I see...that we do for sure</p>",
        "id": 848745,
        "sender_full_name": "Siddharth",
        "timestamp": 1586261774
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/848744\" title=\"#narrow/stream/101-design/topic/preview.20icon/near/848744\">said</a>:</p>\n<blockquote>\n<p>We are basically on par with how GH does it:</p>\n</blockquote>\n<p>Some design decisions need to made<br>\nBut can we use similar tabs experience here also for preview?</p>",
        "id": 848747,
        "sender_full_name": "Siddharth",
        "timestamp": 1586261874
    },
    {
        "content": "<p>Hmm <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span>. I like the tab idea.</p>\n<p>My suggestion to break away from GHs design here was mostly based on the fact that we're a chat application and they're not.</p>",
        "id": 848748,
        "sender_full_name": "Yash RE",
        "timestamp": 1586261967
    },
    {
        "content": "<p>When Slack rolled out their wysiwig features, it was <strong>not</strong> universally loved.</p>",
        "id": 848749,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586262258
    },
    {
        "content": "<p>It might have been a vocal minority, of course, that complained about it.</p>",
        "id": 848751,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586262286
    },
    {
        "content": "<p>I'm not crazy about the tabs idea, just because we're more constrained for space.  I think our help icons, at least in day mode, are way too faint, as you can barely see the <span aria-label=\"eye\" class=\"emoji emoji-1f441\" role=\"img\" title=\"eye\">:eye:</span> icon that toggles the preview.  But once you know it's there, it's pretty usable.</p>",
        "id": 848752,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586262371
    },
    {
        "content": "<p>If somebody wants a quick CSS task, it would be nice to tweak the opacity of the icons for emoji/formatting/attachment/video/preview.  They are barely visible in day mode, and they seem to have inconsistent darkness when you hover them (i.e. the preview icon is faint even on hover, whereas the video icon gets 100% dark).</p>",
        "id": 848753,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586262571
    },
    {
        "content": "<p>I am on it</p>",
        "id": 848754,
        "sender_full_name": "Siddharth",
        "timestamp": 1586262617
    },
    {
        "content": "<p>I also wish the pencil icon and bell icon were a bit more visible.  Right now the opacity makes us just look indecisive, like do we want only people with keen eyesight to see these, but make everybody else squint?</p>",
        "id": 848755,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586262672
    },
    {
        "content": "<p>Also, I want to get some feedback that we use the <a href=\"http://(https://fontawesome.com/icons/eye?style=regular)\" title=\"http://(https://fontawesome.com/icons/eye?style=regular)\">outlined</a> version of eye, can we consider the <a href=\"https://fontawesome.com/icons/eye?style=solid\" title=\"https://fontawesome.com/icons/eye?style=solid\">solid</a> version which is more visible?</p>",
        "id": 848756,
        "sender_full_name": "Siddharth",
        "timestamp": 1586262727
    },
    {
        "content": "<p>I'm guessing the solid version would be an improvement.</p>",
        "id": 848757,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586262763
    },
    {
        "content": "<p>Obviously, test everything in day mode and night, and be sure to hover.  I think the daytime opacities might have been the result of somebody setting values that make sense for night mode but look bad in day mode.</p>",
        "id": 848758,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586262824
    },
    {
        "content": "<p>I see there is a lot of inconsistency for the icon opacity and hover effect in the message narrow.<br>\nThere are places where hover give bluish shade and in some places, we have a white icon on hover</p>\n<p><a href=\"/user_uploads/2/b6/2ZdrMEJJDwpaZtwhgr1_yDdt/hover_blue.gif\" title=\"hover_blue.gif\">hover_blue.gif</a> <a href=\"/user_uploads/2/cf/2vvE8iLT8VkzJwtLdVs5AEoO/hover_white.gif\" title=\"hover_white.gif\">hover_white.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b6/2ZdrMEJJDwpaZtwhgr1_yDdt/hover_blue.gif\" title=\"hover_blue.gif\"><img src=\"/user_uploads/2/b6/2ZdrMEJJDwpaZtwhgr1_yDdt/hover_blue.gif\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/cf/2vvE8iLT8VkzJwtLdVs5AEoO/hover_white.gif\" title=\"hover_white.gif\"><img src=\"/user_uploads/2/cf/2vvE8iLT8VkzJwtLdVs5AEoO/hover_white.gif\"></a></div>",
        "id": 848816,
        "sender_full_name": "Siddharth",
        "timestamp": 1586269597
    },
    {
        "content": "<p>Should I stick with one hover style? <br>\nAnd which should be the preferred behaviour?</p>",
        "id": 848818,
        "sender_full_name": "Siddharth",
        "timestamp": 1586269656
    },
    {
        "content": "<p>I am 90% sure our intention here is to have the same hover style for all these icons, and we just have some implementation bugs.  For night mode I favor something high contrast--white seems like the best option there.</p>\n<p>Probably the main trick here is to make the CSS sane enough so that we can tweak this in the future in a predictable way, so I'd worry more about the code organization aspects for now than the actual colors.</p>",
        "id": 848823,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586270095
    },
    {
        "content": "<p>From what I could tell, the intention behind the blue shade on hover is to signify that clicking this will open up something, where you'll have to perform a task. The ones that do not require a user to compulsorily perform a task next are hence not given that blue shade on hover. <br>\nIn the compose box, the smiley icon will open up the emojis modal, formatting will open up message formatting help modal and attach files will open up your file explorer, which is why the bluish shade. Add video call adds a link, so maybe that's why. Whereas, the preview icon isn't performing any such functions, hence the simple highlight on hover.<br>\nSame goes for the mute topic icon (which opens up a modal to just notify the action or maybe undo it if you want) and the pencil edit icon.</p>",
        "id": 849722,
        "sender_full_name": "Vaibhav Raj Singh",
        "timestamp": 1586361047
    },
    {
        "content": "<p>I am somewhat skeptical that the blue-vs.-not-blue distinction is a) useful and b) consistently enforced.  Right now, in day mode, why is the icon for emoji reactions blue but the one for compose box emojis black?</p>\n<p>It's a very muddy distinction, anyway.  What's considered a side effect?  All the icons do something, otherwise they'd be pointless.  For example, maybe preview doesn't pop a modal, but it does put you into a completely different mode.  So is it more effectful than the paper clip (because it does something right away?) or less effectful (because it doesn't eventually load stuff to the server)?</p>\n<p>It feels overly complicated to me, and we should make all the icons hover to one consistently nice color and opacity for each mode (day and night).</p>",
        "id": 849735,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586361784
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"13307\">@Vaibhav Raj Singh</span> Just to be clear, are you sort of reverse engineering the original designer's intentions here?  Or are you seeing more exact evidence of intentions here, like a code comment or a commit description?  Sometimes <code>git blame</code> can be useful for this kind of archeology.</p>",
        "id": 849737,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586361927
    },
    {
        "content": "<p>The former one. The blue on hover basically might make the user ready for something to open up. Those icons basically are links to something afterall.</p>",
        "id": 849739,
        "sender_full_name": "Vaibhav Raj Singh",
        "timestamp": 1586362123
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 849740,
        "sender_full_name": "Vaibhav Raj Singh",
        "timestamp": 1586362165
    },
    {
        "content": "<p>Hmm, there are some inconsistencies with the day and night mode implementation. But, I hope what I said previously is what the original design intended.</p>",
        "id": 849742,
        "sender_full_name": "Vaibhav Raj Singh",
        "timestamp": 1586362449
    },
    {
        "content": "<p>I think the thing we want to avoid is the user clicks on something, where they expect a modal, but instead things just change without any further intervention.  I think that's the kind of experience that irritates users the most.  Fortunately, I think there are only two things that have immediate side effects:</p>\n<ul>\n<li>starring: this is super intuitive for how to undo, and it's small stakes</li>\n<li>preview: slightly more problematic, I guess, but we should address this by making it clear how to go back once you're in preview mode, not by making the icon feel scary</li>\n</ul>",
        "id": 849744,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586362513
    },
    {
        "content": "<p>And actually the preview icon is pretty intuitive, as clicking on it immediately turns the icon to the paper-on-pencil icon, which makes it somewhat clear how to reverse it.</p>",
        "id": 849745,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586362552
    },
    {
        "content": "<p>I should also mention the bell icon, which also immediately mutes you (a pretty important side effect), but gives you an undo dialog (so not traumatic).</p>",
        "id": 849746,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586362661
    },
    {
        "content": "<p>So my opinion here is still to <strong>just use one color/opacity for all hovered icons</strong> (per \"day\" or \"night\" mode).</p>",
        "id": 849747,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586362730
    },
    {
        "content": "<p>I guess one caveat is that the recipient bars have a different background.</p>",
        "id": 849748,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586362797
    },
    {
        "content": "<p>but we should avoid obscure differences</p>",
        "id": 849749,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586362813
    },
    {
        "content": "<p>I am not sure how blue on hover will let the user know its gonna open something?</p>",
        "id": 849796,
        "sender_full_name": "Siddharth",
        "timestamp": 1586366381
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"11296\">Siddharth</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/849796\" title=\"#narrow/stream/101-design/topic/preview.20icon/near/849796\">said</a>:</p>\n<blockquote>\n<p>I am not sure how blue on hover will let the user know its gonna open something?</p>\n</blockquote>\n<p>From a personal opinion, I do use this method. Sort of how you make a link turn blue on hover. But we could go with the same hover effect if that's what the popular opinion is.</p>",
        "id": 849797,
        "sender_full_name": "Vaibhav Raj Singh",
        "timestamp": 1586366681
    },
    {
        "content": "<p>We are using pretty old version if font awesome i.e 4.7 (2017)<br>\nAnd there are places where I want to make icons from outline to a solid one (especially for the emoji smile and the preview icon)<br>\nI need to upgrade the version to version 5 to use those<br>\nThere will be a lot of places where changes need to be done for almost all icons then<br>\nShould I upgrade the font awesome version?</p>",
        "id": 850242,
        "sender_full_name": "Siddharth",
        "timestamp": 1586433501
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"58\">@Steve Howell</span></p>",
        "id": 850243,
        "sender_full_name": "Siddharth",
        "timestamp": 1586433646
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"11296\">@Siddharth</span> Can you elaborate on the changes?  Are there changes we can make now before the upgrade, to prep for the upgrade?  For example, you could:</p>\n<ul>\n<li>create a commit that upgrades FA</li>\n<li>sweep the code to fix stuff that breaks</li>\n<li>revert the commit and re-provision back to 4.7</li>\n<li>see if anything's broken there</li>\n</ul>\n<p>Something like that, so that we can try to manage the upgrade somewhat incrementally.  (And then we'd just merge the changes that work on both 4.7 and 5.0 for starters.)</p>",
        "id": 850262,
        "sender_full_name": "Steve Howell",
        "timestamp": 1586435743
    },
    {
        "content": "<p>one thing I can do before the upgrade is change hover effect and opacities of the icons</p>",
        "id": 850278,
        "sender_full_name": "Siddharth",
        "timestamp": 1586436223
    },
    {
        "content": "<p>I am  not sure upgrading to version 5 can work with the current code of 4.7<br>\nex: for bell icon the way of writing icon is <code>&lt;i class=\"fa fa-bell\"&gt;&lt;/i&gt;</code> for 4.7<br>\nand <code>&lt;i class=\"fas fa-bell\"&gt;&lt;/i&gt;</code> for 5^<br>\nThat extra appended <code>s</code> after <code>fa</code> represent the type of icon we want to use <code>s</code> for solid, <code>r</code> for regular <code>l</code> for light<br>\n<a href=\"https://fontawesome.com/icons/bell?style=solid\" title=\"https://fontawesome.com/icons/bell?style=solid\">check this out</a></p>",
        "id": 850293,
        "sender_full_name": "Siddharth",
        "timestamp": 1586436829
    },
    {
        "content": "<p>same bell icon for <a href=\"https://fontawesome.com/v4.7.0/icon/bell-o\" title=\"https://fontawesome.com/v4.7.0/icon/bell-o\">4.7v</a></p>",
        "id": 850296,
        "sender_full_name": "Siddharth",
        "timestamp": 1586437012
    },
    {
        "content": "<p>I found this document that can help!</p>",
        "id": 850301,
        "sender_full_name": "Siddharth",
        "timestamp": 1586437801
    },
    {
        "content": "<p><a href=\"https://fontawesome.com/how-to-use/on-the-web/setup/upgrading-from-version-4\" title=\"https://fontawesome.com/how-to-use/on-the-web/setup/upgrading-from-version-4\">https://fontawesome.com/how-to-use/on-the-web/setup/upgrading-from-version-4</a></p>",
        "id": 850302,
        "sender_full_name": "Siddharth",
        "timestamp": 1586437818
    },
    {
        "content": "<p>One thing I'm not happy about with FontAwesome v5 is that they went semi-commercial with v5, with a lot of icons having the version you actually want in one of their paid ad-ons.</p>",
        "id": 850336,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1586439966
    },
    {
        "content": "<p>Which is I think why we ended up deciding not to upgrade to font awesome v5 in the past.</p>",
        "id": 850337,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1586439999
    },
    {
        "content": "<p>Worth looking at again, but we should make sure we're happy with the licensing situation for the icons we want to use before updating.</p>",
        "id": 850339,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1586440251
    },
    {
        "content": "<p>oh I see</p>",
        "id": 850350,
        "sender_full_name": "Siddharth",
        "timestamp": 1586440882
    },
    {
        "content": "<p>But if I am able to check that all the icons we are currently using fall under free version...is it worth spending time to work on upgrade?</p>",
        "id": 850352,
        "sender_full_name": "Siddharth",
        "timestamp": 1586440955
    },
    {
        "content": "<p>I think if that's the case, we could do so.  <a href=\"https://fontawesome.com/license/free\" title=\"https://fontawesome.com/license/free\">https://fontawesome.com/license/free</a> suggests their free version is still FOSS and OK for us to use.</p>",
        "id": 850357,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1586441220
    },
    {
        "content": "<p>OK, here's the previous thread about upgrading to 5.0.0:<br>\n<a href=\"#narrow/stream/65-checkins/topic/Aditya/near/591404\" title=\"#narrow/stream/65-checkins/topic/Aditya/near/591404\">https://chat.zulip.org/#narrow/stream/65-checkins/topic/Aditya/near/591404</a></p>",
        "id": 850358,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1586441357
    },
    {
        "content": "<p>I think we should look at the <code>lock</code> example that Aditya mentioned and see if the issue still applies.</p>",
        "id": 850359,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1586441371
    },
    {
        "content": "<p>If they're fixed the fact that some versions of icons that were previously free in 4.7.0 are paid in 5.0.0, upgrading makes sense to me.  But if they haven't, I don't see a strong reason not to stay on 4.7.0 forever.</p>",
        "id": 850360,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1586441429
    },
    {
        "content": "<p>my main point to upgrade the version was that we will be able to use the solid variants of eye and smile icon and other icons as well where we use the outlined version of them for consistency point of view and solids are definitely more visible than the outlined one.<br>\nin version 4.7.0 there is no way we can use the solid variants of these icons just because they are not present there</p>\n<p>But yes definitely we need to go through each icon we want to use and check if they fall under the free version</p>",
        "id": 850402,
        "sender_full_name": "Siddharth",
        "timestamp": 1586442424
    },
    {
        "content": "<p>Splitting off from other threads, <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> has made the following proposal for how to indicate that the user is in preview mode in the compose box:</p>\n<p><a href=\"/user_uploads/2/ce/tOIowiRMbqthDhyraas_Ov4B/Screen-Shot-2022-01-24-at-3.07.51-PM.png\">Screen-Shot-2022-01-24-at-3.07.51-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ce/tOIowiRMbqthDhyraas_Ov4B/Screen-Shot-2022-01-24-at-3.07.51-PM.png\" title=\"Screen-Shot-2022-01-24-at-3.07.51-PM.png\"><img src=\"/user_uploads/2/ce/tOIowiRMbqthDhyraas_Ov4B/Screen-Shot-2022-01-24-at-3.07.51-PM.png\"></a></div><p>This would replace the current UI where we change the eye to a pencil icon when the user is in preview mode.</p>\n<p>Overall, I like this approach. I think it's good to make sure the eye icon stands out when pressed, so that it's easy to figure out what to do if you click it by accident. Moving it all the way to the left as Vlad suggests might help avoid mis-clicks as well.</p>\n<p>One thing we should check is whether the underline works well when combined with a selection box. Users who rely a lot on the keyboard will see that fairly often, as it will be the first icon one tabs to after the \"Send\" button.</p>\n<p><a href=\"/user_uploads/2/d1/f0sxmZQCAmVMlqeliop9RGHs/Screen-Shot-2022-01-24-at-3.15.11-PM.png\">Screen-Shot-2022-01-24-at-3.15.11-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d1/f0sxmZQCAmVMlqeliop9RGHs/Screen-Shot-2022-01-24-at-3.15.11-PM.png\" title=\"Screen-Shot-2022-01-24-at-3.15.11-PM.png\"><img src=\"/user_uploads/2/d1/f0sxmZQCAmVMlqeliop9RGHs/Screen-Shot-2022-01-24-at-3.15.11-PM.png\"></a></div><p>Other thoughts?</p>",
        "id": 1315250,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643066204
    },
    {
        "content": "<p>We can design focus state overriding browser default style</p>",
        "id": 1315256,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643067546
    },
    {
        "content": "<p>Would you want to adjust how the selection box works when the underline is shown? For context, we've had a bunch of discussion about messing with the selection boxes in the past (see <a href=\"#narrow/stream/6-frontend/topic/select.20boxes/near/1244041\">here</a>).</p>\n<p>By the way, did we ever actually stop overriding the boxes? I'm seeing a lot of blue even when I set my system highlight color to orange, but maybe I'm not doing the right thing to check.</p>",
        "id": 1315259,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643068132
    },
    {
        "content": "<p>I corrected the selected indicator. Now it has some padding within the rectangle of the button. Browser focus ring is usually outline stroke of that rectangle (showed as blue 2 pixel border on a button) <a href=\"/user_uploads/2/3e/jgWTfbBPyJP1100WD3uveuro/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3e/jgWTfbBPyJP1100WD3uveuro/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/3e/jgWTfbBPyJP1100WD3uveuro/image.png\"></a></div>",
        "id": 1316082,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643168533
    },
    {
        "content": "<p><a href=\"/user_uploads/2/85/UfWFfIj3W52GyFgjwEoLGq23/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/85/UfWFfIj3W52GyFgjwEoLGq23/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/85/UfWFfIj3W52GyFgjwEoLGq23/image.png\"></a></div>",
        "id": 1316083,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643168546
    },
    {
        "content": "<p>top selectable buttons are also like that <a href=\"/user_uploads/2/23/2epmqepzCswQBdVx13ZZ1wRZ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/23/2epmqepzCswQBdVx13ZZ1wRZ/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/23/2epmqepzCswQBdVx13ZZ1wRZ/image.png\"></a></div>",
        "id": 1316084,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643168565
    },
    {
        "content": "<p>I think this underline approach is probably worth doing a PR for; it seems like an isolated improvement that we could merge now.</p>",
        "id": 1316549,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643232343
    },
    {
        "content": "<p>Sounds good to me!</p>\n<p>I also like the proposal to disable the other compose box icons when preview mode is selected, so I'll file an issue for that.</p>",
        "id": 1317599,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643353817
    },
    {
        "content": "<p>underline is cool!</p>",
        "id": 1317744,
        "sender_full_name": "Andrea Soc",
        "timestamp": 1643381742
    },
    {
        "content": "<p>umm,  can i pick this up? I would love to make a PR for this .</p>",
        "id": 1317746,
        "sender_full_name": "Jai soni",
        "timestamp": 1643382100
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> are you interested in working on the preview icon? If you'd rather focus on design work, I can write up an issue, and I think <span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> should be in a good position to help.</p>",
        "id": 1317821,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643388410
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/1317599\">said</a>:</p>\n<blockquote>\n<p>I also like the proposal to disable the other compose box icons when preview mode is selected, so I'll file an issue for that.</p>\n</blockquote>\n<p><a href=\"https://github.com/zulip/zulip/pull/20962\">#20962</a></p>",
        "id": 1317842,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643389433
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> I prefer to finish the design phase first please</p>",
        "id": 1318178,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643402762
    },
    {
        "content": "<p>Sounds good, no problem!</p>",
        "id": 1318188,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643403969
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/1316549\">said</a>:</p>\n<blockquote>\n<p>I think this underline approach is probably worth doing a PR for; it seems like an isolated improvement that we could merge now.</p>\n</blockquote>\n<p>Filed issue <a href=\"https://github.com/zulip/zulip/pull/20972\">#20972</a>. <span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> FYI, but this is less urgent than issues marked as a release goal.</p>",
        "id": 1318317,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643412126
    },
    {
        "content": "<p>Cool. Added to my todo.</p>",
        "id": 1318513,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643436239
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> When we are in preview mode, is there any reason that we shouldn't just hide all the formatting icons that don't pertain to preview mode?</p>",
        "id": 1319223,
        "sender_full_name": "Steve Howell",
        "timestamp": 1643562920
    },
    {
        "content": "<p>see <a class=\"stream-topic\" data-stream-id=\"49\" href=\"/#narrow/stream/49-development-help/topic/disabling.20format.20helper.20icons.20.28testing.29\">#development help &gt; disabling format helper icons (testing)</a> for more context.</p>",
        "id": 1319225,
        "sender_full_name": "Steve Howell",
        "timestamp": 1643563010
    },
    {
        "content": "<p>I also <a href=\"https://github.com/zulip/zulip/issues/20962#issuecomment-1025188358\">commented on GH</a></p>",
        "id": 1319231,
        "sender_full_name": "Steve Howell",
        "timestamp": 1643563509
    },
    {
        "content": "<blockquote>\n<p>is there any reason that we shouldn't just hide all the formatting icons</p>\n</blockquote>\n<p>While we are not having preview mode as a mode in which you can stay for a long time there is no reason to completely hide buttons, since you will see them enabled in a moment... I'm not fan of disabled states but here I feel its a right thing to do to indicate the \"preview mode\"</p>",
        "id": 1319243,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643564362
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> the proposal documented in <a href=\"https://github.com/zulip/zulip/pull/20962\">#20962</a> moves the preview icon to the left end of the message.  I wanted to talk about that decision, because it has some implications we may not want.</p>",
        "id": 1319756,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643660588
    },
    {
        "content": "<p>Here's a few considerations:</p>\n<ul>\n<li>The ordering of the icons determines what happens when you use <code>tab</code> to navigate.  E.g. currently <code>tab tab enter</code> will get you to the upload file widget.</li>\n<li>We probably want clicking the preview icon to not move its position, so you can click again without moving your mouse after quickly checking something.</li>\n</ul>",
        "id": 1319759,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643660714
    },
    {
        "content": "<p>So my concern with hiding the other icons when you click the preview widget is that the position consideration will necessarily require the preview toggle to be at the far left.</p>",
        "id": 1319760,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643660751
    },
    {
        "content": "<p>I guess that argument points more towards Vlad's \"disabled buttons\" visual design proposal.</p>",
        "id": 1319761,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643660792
    },
    {
        "content": "<p>(Got here from looking at a pull request for <a href=\"https://github.com/zulip/zulip/pull/20962\">#20962</a>)</p>",
        "id": 1319762,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643660814
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/1319759\">said</a>:</p>\n<blockquote>\n<p>Here's a few considerations:</p>\n<ul>\n<li>The ordering of the icons determines what happens when you use <code>tab</code> to navigate.  E.g. currently <code>tab tab enter</code> will get you to the upload file widget.</li>\n<li>We probably want clicking the preview icon to not move its position, so you can click again without moving your mouse after quickly checking something.</li>\n</ul>\n</blockquote>\n<p>I agree that it's important for the icon not to move around. Do we have a strong hypothesis as to whether attachments or preview are more frequently used?</p>",
        "id": 1319771,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643661139
    },
    {
        "content": "<p>The proposal in <a href=\"https://github.com/zulip/zulip/pull/20972\">#20972</a> is to move the preview icon to the far left in any case.</p>",
        "id": 1319778,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643661292
    },
    {
        "content": "<p>I don't have a strong intuition as to what will be the least distracting option.</p>\n<ul>\n<li>Disabling the buttons is a smaller visual change when the user flips back and forth.</li>\n<li>Hiding the buttons might make it easier to focus on the message itself in preview mode.</li>\n</ul>",
        "id": 1319785,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643661466
    },
    {
        "content": "<p>Since preview is a mode I would love that to be on the left side as a first button. It doesn’t have to be the first button to focus on, if we have a hot key to switch into the preview</p>",
        "id": 1319871,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1643667460
    },
    {
        "content": "<p>It might help you guys. </p>\n<p><a href=\"/user_uploads/2/35/Y1fIe2pB-_9PxnVTq6dzpuY5/disable_method.png\">disable_method.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/35/Y1fIe2pB-_9PxnVTq6dzpuY5/disable_method.png\" title=\"disable_method.png\"><img src=\"/user_uploads/2/35/Y1fIe2pB-_9PxnVTq6dzpuY5/disable_method.png\"></a></div><p><a href=\"/user_uploads/2/25/UiyDUtUiUlvXCZszrmDcbazL/hide_method.png\">hide_method.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/25/UiyDUtUiUlvXCZszrmDcbazL/hide_method.png\" title=\"hide_method.png\"><img src=\"/user_uploads/2/25/UiyDUtUiUlvXCZszrmDcbazL/hide_method.png\"></a></div>",
        "id": 1321179,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643812568
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"22838\">@yogesh sirsat</span> ! I played around with the PR where the buttons disappear (<a href=\"https://github.com/zulip/zulip/pull/20996\">#20996</a>) and left some comments.</p>",
        "id": 1321290,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643824981
    },
    {
        "content": "<p>Okay <span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>, I saw the comments.</p>",
        "id": 1321358,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643826573
    },
    {
        "content": "<p>are those dividers important?</p>\n<p><a href=\"/user_uploads/2/5a/KqB1Et_a_P9GeoQL-HQa_vEd/with_dividers_compose.png\">with_dividers_compose.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5a/KqB1Et_a_P9GeoQL-HQa_vEd/with_dividers_compose.png\" title=\"with_dividers_compose.png\"><img src=\"/user_uploads/2/5a/KqB1Et_a_P9GeoQL-HQa_vEd/with_dividers_compose.png\"></a></div><p><a href=\"/user_uploads/2/84/Hc9aE6DaRVkRVAiQW2bO0Nq5/without_dividers_compose.png\">without_dividers_compose.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/84/Hc9aE6DaRVkRVAiQW2bO0Nq5/without_dividers_compose.png\" title=\"without_dividers_compose.png\"><img src=\"/user_uploads/2/84/Hc9aE6DaRVkRVAiQW2bO0Nq5/without_dividers_compose.png\"></a></div>",
        "id": 1321706,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643872203
    },
    {
        "content": "<p>Yup, we need the dividers.</p>",
        "id": 1321708,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643872270
    },
    {
        "content": "<p>Okay.</p>",
        "id": 1321709,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643872291
    },
    {
        "content": "<p>When I hide left most divider too, it leads to compose box position a little downwards.</p>\n<p><a href=\"/user_uploads/2/30/uvgNhClSbXihWaPH8Aab7_bt/hiding_compose_buttons.gif\">hiding_compose_buttons.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/30/uvgNhClSbXihWaPH8Aab7_bt/hiding_compose_buttons.gif\" title=\"hiding_compose_buttons.gif\"><img src=\"/user_uploads/2/30/uvgNhClSbXihWaPH8Aab7_bt/hiding_compose_buttons.gif\"></a></div>",
        "id": 1321714,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643873147
    },
    {
        "content": "<p>Due to margin/padding that are being removed due to hidden icons.</p>",
        "id": 1321715,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643873306
    },
    {
        "content": "<p>Okay, should I change CSS then?</p>",
        "id": 1321716,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643873555
    },
    {
        "content": "<p>I am not sure this direction is worth following, though. Disabled state is an easy winner for me. I don't see any benefit from hiding all the icons here, since this is just a temporary state.</p>",
        "id": 1321717,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643873571
    },
    {
        "content": "<p>I was working on both method.</p>",
        "id": 1321718,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643873607
    },
    {
        "content": "<p>Then should i not care about hiding method</p>",
        "id": 1321719,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643873621
    },
    {
        "content": "<blockquote>\n<p>I'm not fan of disabled states but here I feel its a right thing to do to indicate the \"preview mode\".</p>\n</blockquote>\n<p>Vlad also seems to prefer disabled states here.</p>\n<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> do you think this direction is worth following?</p>",
        "id": 1321720,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643873733
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/1321715\">said</a>:</p>\n<blockquote>\n<p>Due to margin/padding that are being removed due to hidden icons.</p>\n</blockquote>\n<p>Although this is only happening when I hide left most divider, I tested not hiding left most divider and it was working fine.</p>",
        "id": 1321722,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643873877
    },
    {
        "content": "<p>I was thinking it would be useful to try both options on CZO before making a decision.</p>",
        "id": 1321724,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1643874795
    },
    {
        "content": "<p>Ok, <span class=\"user-mention\" data-user-id=\"22838\">@yogesh sirsat</span> you set height of <code>compose_bottom_top_container</code> to fix that behaviour.</p>",
        "id": 1321726,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643875092
    },
    {
        "content": "<p>Okay fine.</p>",
        "id": 1321727,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643875197
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/1321726\">said</a>:</p>\n<blockquote>\n<p>Ok, <span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> you set height of <code>compose_bottom_top_container</code> to fix that behaviour.</p>\n</blockquote>\n<p>Well, actually it fixed by just using CSS's visibility/hidden instead of jquery's hide/show.</p>",
        "id": 1321734,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643877361
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> should I wait until  <a href=\"https://github.com/zulip/zulip/pull/20707\">#20707</a> gets merged, to rebase?</p>",
        "id": 1321738,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643877786
    },
    {
        "content": "<p><a href=\"/user_uploads/2/77/VWH6UjgKGiACIo7l9GQUv306/hidden_compose_buttons.png\">hidden_compose_buttons.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/77/VWH6UjgKGiACIo7l9GQUv306/hidden_compose_buttons.png\" title=\"hidden_compose_buttons.png\"><img src=\"/user_uploads/2/77/VWH6UjgKGiACIo7l9GQUv306/hidden_compose_buttons.png\"></a></div>",
        "id": 1321740,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643878394
    },
    {
        "content": "<p>You can work independent of <a href=\"https://github.com/zulip/zulip/pull/20707\">#20707</a>. I will try to make sure there are no merge conflicts.</p>",
        "id": 1321746,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643882732
    },
    {
        "content": "<p>I asked because <strong>Alya Abbott</strong> was said I need to rebase on top of  <a href=\"https://github.com/zulip/zulip/pull/20707\">#20707</a>.</p>",
        "id": 1321779,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643884238
    },
    {
        "content": "<p>Yeah, we want to deploy both together. So, we just want to make sure there are no merge conflicts between the 2 PRs.</p>",
        "id": 1321789,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643885573
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/20996\">PR#20996</a> is ready for review.</p>",
        "id": 1322146,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643924135
    },
    {
        "content": "<p>Okay, will take a look.</p>",
        "id": 1322512,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643987564
    },
    {
        "content": "<p>I will just push some changes so that it can be test deployed.</p>",
        "id": 1322513,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643987609
    },
    {
        "content": "<p>Okay fine.</p>",
        "id": 1322516,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643987834
    },
    {
        "content": "<p>Left some comments. I don't think we can test deploy them anytime soon.</p>",
        "id": 1322528,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643988793
    },
    {
        "content": "<p>Okay.</p>",
        "id": 1322532,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643989465
    },
    {
        "content": "<p>Can I pick some other issues as it would take time?</p>",
        "id": 1322534,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643989571
    },
    {
        "content": "<p>I meant it will take time for you to update the code. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 1322548,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643993471
    },
    {
        "content": "<p>Oops, I am mistaken there.</p>",
        "id": 1322552,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643993629
    },
    {
        "content": "<p>While reading comments I got <a href=\"https://github.com/zulip/zulip/pull/20996#discussion_r799565231\">something</a> to tell you about <code>$(\"#compsoe\").toggleClass(\"preview_mode\")</code> .</p>",
        "id": 1322554,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643993866
    },
    {
        "content": "<p>Well, I am sharing here.</p>\n<p>The first option is good via JS because while in preview mode user can close compose box or directly use the draft message, at that time hidden buttons stay hidden that's why when <code>clear_compose_box()</code> gets called we have to re-show hidden buttons, and now as we are calling it in <code>clear_compose_box()</code> we can't use <code>$(\"#compsoe\").toggleClass(\"preview_mode\")</code> in it because buttons can go hidden even in write/edit mode.</p>\n<p>If I am missing something please elaborate : ).</p>",
        "id": 1322556,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643994094
    },
    {
        "content": "<p>Well, we still don't need to use JS function though, we can use <code>$(\"#compsoe\").toggleClass(\"preview_mode\")</code> on click of preview button and <code>$(\"#compsoe\").removeClass(\"preview_mode\")</code> in <code>clear_compose_box()</code>.</p>",
        "id": 1322559,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1643995562
    },
    {
        "content": "<p>Okay, do that!</p>",
        "id": 1322595,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643998278
    },
    {
        "content": "<p>I am getting test error  <code>You must create a stub for $(\"#compose\").toggleClass\n</code> should I write test for this?</p>",
        "id": 1323011,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644059315
    },
    {
        "content": "<p>no worries, problem solved!</p>",
        "id": 1323014,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644061909
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/20996\">PR</a> is updated with changes.</p>",
        "id": 1323060,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644083579
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> it is giving test error even after writing tests, <br>\n<code>Error: You must create a stub for $(\"#compose .preview_mode_hidden\").css</code></p>",
        "id": 1324603,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644303695
    },
    {
        "content": "<p>You need to read our zjquery.js library to understand that failure. <code>$(\"#compose .preview_mode_hidden\").css = () =&gt; {};</code> adding this line in tests should be enough.</p>",
        "id": 1324623,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644304358
    },
    {
        "content": "<p>okay</p>",
        "id": 1324632,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644304664
    },
    {
        "content": "<p>I put this line in  function of <code>test_markdown_preview_clicked</code> and <code>test_undo_markdown_preview_clicked</code>, is it right?</p>",
        "id": 1324669,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644315578
    },
    {
        "content": "<p>I can do a review when the pr is ready.</p>",
        "id": 1324671,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644316731
    },
    {
        "content": "<p>Fine, i am posting it.</p>",
        "id": 1324677,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644316946
    },
    {
        "content": "<p>You can take a look now.</p>",
        "id": 1324679,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644317296
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> polite reminder to you, <a href=\"https://github.com/zulip/zulip/pull/20996\">#20996</a> is ready.</p>",
        "id": 1325986,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644474713
    },
    {
        "content": "<p>Yeah, LGTM.</p>",
        "id": 1325987,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644474766
    },
    {
        "content": "<p>Okay.</p>",
        "id": 1325989,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644474800
    },
    {
        "content": "<p>As you mentioned use the same method for disabling method too, I want you to know that for disabling icons we have to apply CSS on the button's class and parent.</p>",
        "id": 1326002,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644475396
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>.preview_mode {\n    .preview_mode_disabled {\n        cursor: not-allowed;\n        opacity: 0.3;\n\n        .compose_control_button {\n            pointer-events: none;\n        }\n    }\n}\n</code></pre></div>\n<p>isn't add/removeClass could be a good approach here?</p>",
        "id": 1326012,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644475784
    },
    {
        "content": "<p>Hmmm, yeah.</p>",
        "id": 1326014,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1644475823
    },
    {
        "content": "<p>Okay.</p>",
        "id": 1326017,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644475872
    },
    {
        "content": "<p>I did rebase + push on disable method, you can take a <a href=\"https://github.com/zulip/zulip/pull/20993\">look</a>.</p>",
        "id": 1326042,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644477558
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/preview.20icon/near/1319771\">said</a>:</p>\n<blockquote>\n<p>I agree that it's important for the icon not to move around. Do we have a strong hypothesis as to whether attachments or preview are more frequently used?</p>\n</blockquote>\n<p>This is another thing that having a instrumentation/metrics framework would help us find out :)</p>\n<p>I think in this case, though, it makes sense for the preview icon to be on the left regardless of whether it's used more often, since as <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> alluded to, it's modal and thus conceptually quite different from the others. Uploading a file makes sense next to adding a video call or an emoji since those are similar types of actions. The preview button is the only modal button, so I think it makes sense to have it on the left, and maybe even separate it with a vertical bar as well?</p>",
        "id": 1326891,
        "sender_full_name": "Wesley Aptekar-Cassels",
        "timestamp": 1644596766
    },
    {
        "content": "<blockquote>\n<p>so I think it makes sense to have it on the left, and maybe even separate it with a vertical bar as well</p>\n</blockquote>\n<p>Yep, that's the plan at this point. We'll be trying it out on CZO as part of <span class=\"user-mention silent\" data-user-id=\"22838\">yogesh sirsat</span> 's PR.</p>",
        "id": 1327103,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644611084
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22838\">@yogesh sirsat</span> can you explain the relationship between <a href=\"https://github.com/zulip/zulip/pull/20993\">#20993</a> and <a href=\"https://github.com/zulip/zulip/pull/20996\">#20996</a>?</p>",
        "id": 1327201,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644618430
    },
    {
        "content": "<p>They both are closely similar as <a href=\"https://github.com/zulip/zulip/pull/20993\">#20993</a> disables and <a href=\"https://github.com/zulip/zulip/pull/20996\">#20996</a> hides buttons.</p>",
        "id": 1327218,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644619032
    },
    {
        "content": "<p>First, i was working on issue for disabling buttons but after some <a href=\"#narrow/stream/49-development-help/topic/disabling.20format.20helper.20icons.20.28testing.29\">conversation</a> with Steve Howell, I also wrote pr for hiding buttons.</p>",
        "id": 1327225,
        "sender_full_name": "Yogesh Sirsat",
        "timestamp": 1644619300
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> the idea is to test both on CZO and see what we prefer.</p>",
        "id": 1327229,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1644620123
    },
    {
        "content": "<p>I see.  Well, I'm deploying <a href=\"https://github.com/zulip/zulip/pull/20996\">#20996</a> here for folks to play with.</p>\n<p>For folks who aren't following closely, this changes the behavior of the preview button in the compose box.</p>",
        "id": 1327299,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1644624171
    },
    {
        "content": "<p>I see this thread is pretty old, but I came here to report this same issue, because I still find the positioning of the preview button pretty confusing with the latest version of zulip. In fact, I had to look very carefully (and then hover the icon) to even be sure that there was preview functionality at all.</p>",
        "id": 1571661,
        "sender_full_name": "Nico Burns",
        "timestamp": 1684403125
    },
    {
        "content": "<p>I would suggest that the issue is that most of the icons/buttons below the chat box are \"insert content\" or \"format content\" functionality. \"preview\" is an entirely different class of functionality to these others, and IMO therefore ought to be visually separated.</p>\n<p>I would actually suggest moving the preview button to either:</p>\n<ul>\n<li>The top bar to the right of the stream/topic name (and even next to the ^ and x buttons)</li>\n<li>Next to the send button</li>\n</ul>\n<p>Additionally, I think it might benefit from being more visually prominent. Perhaps perhaps making it a button with the word \"Preview\"  in addition to the icon might work? Or it could be a split button with \"preview\" and \"edit\" states...</p>",
        "id": 1571662,
        "sender_full_name": "Nico Burns",
        "timestamp": 1684403394
    },
    {
        "content": "<p>You are quite right on the fact that the other buttons on the bottom of the compose are more towards modifying the content whereas the preview button provides a totally different functionality.</p>",
        "id": 1571675,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684404522
    },
    {
        "content": "<p>Just gave a quick read to the above chat and found a change that has been tried earlier. This basically moves the preview button to the left and it's separated from others by a divider. I wonder if this solves the problem. </p>\n<p><a href=\"/user_uploads/2/ed/FAkkZeZ1pGoW_oXoHx-B3PDy/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ed/FAkkZeZ1pGoW_oXoHx-B3PDy/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/ed/FAkkZeZ1pGoW_oXoHx-B3PDy/image.png\"></a></div>",
        "id": 1571676,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684404526
    },
    {
        "content": "<p>I am not sure if moving the preview button next to the ^ and x buttons is a good idea because those buttons are kind of related to the compose box and have nothing to do with the actual text. So adding the preview button there will make it kind of an odd-one-out.</p>",
        "id": 1571677,
        "sender_full_name": "Satyam Bansal",
        "timestamp": 1684404647
    },
    {
        "content": "<p>I'll just note that the redesign for the compose box, <a href=\"https://github.com/zulip/zulip/pull/24878\">#24878</a>, has the preview icon moved to the right so that it is next to the send button.</p>",
        "id": 1571686,
        "sender_full_name": "Lauryn Menard",
        "timestamp": 1684406988
    },
    {
        "content": "<p>Yep, we will change it as part of  <a href=\"https://github.com/zulip/zulip/pull/24878\">#24878</a>.</p>",
        "id": 1571860,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1684426956
    }
]