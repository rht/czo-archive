[
    {
        "content": "<p>Here's some shots of a dark theme rough implementation. Currently I think some parts are a tad low contrast, but lmk if anyone has general feedback.<a href=\"/user_uploads/2/70/kL6nmGiuZXkEn6zQTrFhY0Fe/Screen-Shot-2017-11-13-at-4.49.51-PM.png\" target=\"_blank\" title=\"Screen-Shot-2017-11-13-at-4.49.51-PM.png\"></a> <a href=\"/user_uploads/2/c6/dPh-PeKM0XcBOMq7AqHK2yCY/Screen-Shot-2017-11-13-at-4.49.05-PM.png\" target=\"_blank\" title=\"Screen-Shot-2017-11-13-at-4.49.05-PM.png\"></a> <a href=\"/user_uploads/2/b2/tLJxW5Xk58mSl0yhtDXAbCCy/Screen-Shot-2017-11-13-at-4.48.46-PM.png\" target=\"_blank\" title=\"Screen-Shot-2017-11-13-at-4.48.46-PM.png\"></a> <a href=\"/user_uploads/2/68/VuWVor1BEJCwEEEK71tBllYM/Screen-Shot-2017-11-13-at-4.49.45-PM.png\" target=\"_blank\" title=\"Screen-Shot-2017-11-13-at-4.49.45-PM.png\"></a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/70/kL6nmGiuZXkEn6zQTrFhY0Fe/Screen-Shot-2017-11-13-at-4.49.51-PM.png\" target=\"_blank\" title=\"\"><img src=\"/user_uploads/2/70/kL6nmGiuZXkEn6zQTrFhY0Fe/Screen-Shot-2017-11-13-at-4.49.51-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/c6/dPh-PeKM0XcBOMq7AqHK2yCY/Screen-Shot-2017-11-13-at-4.49.05-PM.png\" target=\"_blank\" title=\"\"><img src=\"/user_uploads/2/c6/dPh-PeKM0XcBOMq7AqHK2yCY/Screen-Shot-2017-11-13-at-4.49.05-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/b2/tLJxW5Xk58mSl0yhtDXAbCCy/Screen-Shot-2017-11-13-at-4.48.46-PM.png\" target=\"_blank\" title=\"\"><img src=\"/user_uploads/2/b2/tLJxW5Xk58mSl0yhtDXAbCCy/Screen-Shot-2017-11-13-at-4.48.46-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/68/VuWVor1BEJCwEEEK71tBllYM/Screen-Shot-2017-11-13-at-4.49.45-PM.png\" target=\"_blank\" title=\"\"><img src=\"/user_uploads/2/68/VuWVor1BEJCwEEEK71tBllYM/Screen-Shot-2017-11-13-at-4.49.45-PM.png\"></a></div>",
        "id": 322976,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510620922
    },
    {
        "content": "<p>I don't like the subtle purple tint, and definitely prefer the look we have on the mobile app, that is slightly bluish and suggests 'night mode'</p>",
        "id": 322995,
        "sender_full_name": "Boris Yankov",
        "timestamp": 1510622363
    },
    {
        "content": "<p>Not totally sure how you're seeing purple. The RGB is <code>rgb(31, 32, 45)</code>, which puts the amount of green intensity slightly higher than the red intensity, which means it's technically more turquoise than blue, and especially moreso than purple. :)</p>",
        "id": 323060,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510624239
    },
    {
        "content": "<p>The mobile app is a tad greener, which is fine for the web app to be too. Just want to make sure that you're seeing the colors correctly in the screenshots when passing judgment on the color.</p>",
        "id": 323062,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510624301
    },
    {
        "content": "<p>Looks fine too. <a href=\"/user_uploads/2/b5/OQB-JHburuld1NBOxyBe6yul/Screen-Shot-2017-11-13-at-5.55.16-PM.png\" target=\"_blank\" title=\"Screen-Shot-2017-11-13-at-5.55.16-PM.png\"></a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b5/OQB-JHburuld1NBOxyBe6yul/Screen-Shot-2017-11-13-at-5.55.16-PM.png\" target=\"_blank\" title=\"\"><img src=\"/user_uploads/2/b5/OQB-JHburuld1NBOxyBe6yul/Screen-Shot-2017-11-13-at-5.55.16-PM.png\"></a></div>",
        "id": 323065,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510624537
    },
    {
        "content": "<p>Ok, I did a bit more work on the \"automated\" dark theme.  On my branch you can now toggle between themes with a simple hotkey:</p>\n<p><a href=\"/user_uploads/2/80/2wc-mlMRICYxp-bBz969Zvgc/dark.ogv\" target=\"_blank\" title=\"dark.ogv\">dark.ogv</a> </p>\n<p>(sorry for big upload)</p>",
        "id": 324137,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510679198
    },
    {
        "content": "<p>And the automated commit now writes two big files (<code>dark.css</code> and <code>bootstrap-dark.css</code>).</p>\n<p><a href=\"https://github.com/zulip/zulip/pull/7383/commits/b579ae518fb9204952f832be288240f53130867b\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/7383/commits/b579ae518fb9204952f832be288240f53130867b\">https://github.com/zulip/zulip/pull/7383/commits/b579ae518fb9204952f832be288240f53130867b</a></p>\n<p><a href=\"https://github.com/zulip/zulip/pull/7383\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/7383\">#7383</a></p>",
        "id": 324143,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510679299
    },
    {
        "content": "<p>Here's the Zulip stuff that might be relevant for <span class=\"user-mention\" data-user-email=\"brock@zulipchat.com\" data-user-id=\"136\">@Brock Whittaker</span> to look at.</p>\n<p><a href=\"https://github.com/showell/zulip/blob/b579ae518fb9204952f832be288240f53130867b/static/styles/dark.css\" target=\"_blank\" title=\"https://github.com/showell/zulip/blob/b579ae518fb9204952f832be288240f53130867b/static/styles/dark.css\">https://github.com/showell/zulip/blob/b579ae518fb9204952f832be288240f53130867b/static/styles/dark.css</a></p>",
        "id": 324145,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510679429
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"brock@zulipchat.com\" data-user-id=\"136\">@Brock Whittaker</span> Do you have a wip branch you can push up?</p>",
        "id": 324202,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510681543
    },
    {
        "content": "<p>I'd like to experiment with a merge of your changes and then automated defaults.</p>",
        "id": 324203,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510681620
    },
    {
        "content": "<p>Sure do. <a href=\"https://github.com/zulip/zulip/pull/7386\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/7386\">#7386</a>.</p>",
        "id": 324210,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510681871
    },
    {
        "content": "<p>Awesome!   What are your thoughts on splitting out things like <code>border-color</code> from <code>border</code>?  I'd like to make it easy to dark-theme borders without duplicating all the pixel widths.  And I can make that split happen automatically and reliably.</p>",
        "id": 324213,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510681960
    },
    {
        "content": "<p>I'm sure you are aware of this, but we're gonna have to deal with lots of little details, like mention pills and alert words:</p>\n<p><a href=\"/user_uploads/2/5b/lCwZYelsN_eu-NK6zn9ZM3MP/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/5b/lCwZYelsN_eu-NK6zn9ZM3MP/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/5b/lCwZYelsN_eu-NK6zn9ZM3MP/pasted_image.png\"></a></div>",
        "id": 324217,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510682088
    },
    {
        "content": "<p>Above image is from your branch.  Automated inverting of colors is here:</p>\n<p><a href=\"/user_uploads/2/f9/ZKyurJmMLP7HIRnSqCknxbhD/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f9/ZKyurJmMLP7HIRnSqCknxbhD/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/f9/ZKyurJmMLP7HIRnSqCknxbhD/pasted_image.png\"></a></div>",
        "id": 324219,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510682139
    },
    {
        "content": "<p>Alert words look pretty passable with automated inversion; mentions are not so great.</p>",
        "id": 324221,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510682169
    },
    {
        "content": "<p>Sorry why would it matter whether we used <code>border-color</code> or <code>border</code>?</p>",
        "id": 324225,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510682451
    },
    {
        "content": "<p>Let me give you an example...</p>",
        "id": 324229,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510682482
    },
    {
        "content": "<p>We could just simply declare like:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">.</span><span class=\"nc\">something</span> <span class=\"p\">{</span>\n  <span class=\"k\">border</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"kt\">px</span> <span class=\"kc\">solid</span> <span class=\"mh\">#000</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"p\">.</span><span class=\"nc\">dark</span> <span class=\"p\">.</span><span class=\"nc\">something</span> <span class=\"p\">{</span>\n  <span class=\"k\">border-color</span><span class=\"p\">:</span> <span class=\"mh\">#fff</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 324230,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510682484
    },
    {
        "content": "<p>And there's no need to redeclare the width.</p>",
        "id": 324231,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510682496
    },
    {
        "content": "<p>True.  I think it would just help the tooling to have a scheme like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">.</span><span class=\"nc\">something</span> <span class=\"p\">{</span>\n  <span class=\"k\">border</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"kt\">px</span> <span class=\"kc\">solid</span><span class=\"p\">;</span>\n  <span class=\"k\">border-color</span><span class=\"p\">:</span> <span class=\"mh\">#000</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"p\">.</span><span class=\"nc\">dark</span> <span class=\"p\">.</span><span class=\"nc\">something</span> <span class=\"p\">{</span>\n  <span class=\"k\">border-color</span><span class=\"p\">:</span> <span class=\"mh\">#fff</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 324233,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510682634
    },
    {
        "content": "<p>It's not a show-stopper thing, though, the tooling could just parse out the colors from <code>border</code>.</p>",
        "id": 324235,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510682779
    },
    {
        "content": "<p>Let's step back a bit first.</p>",
        "id": 324236,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510682849
    },
    {
        "content": "<p>How is an automatic tool going to convert these over better than a general class would? Is your tool simply inverting the color or doing something more sophisticated?</p>",
        "id": 324237,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510682873
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>151 def invert_light(lum):\n152     lum = int(100 - float(lum))\n153     lum = int(10 + 0.9 * lum)\n154     return lum\n155\n156 def invert_hsl(h, s, l):\n157     h = int(h)\n158\n159     l = invert_light(l)\n160     if (l &lt; 25):\n161         h = 180\n162     return h, s, l\n</pre></div>",
        "id": 324239,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510682938
    },
    {
        "content": "<p>It basically inverts the \"L\" (but caps it to be not too dark) and changes black -&gt; blue/green.</p>",
        "id": 324241,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510682964
    },
    {
        "content": "<p>It would be nice to have a general class, but our current CSS has tons of border declarations.  You can see them here (in inverted form):</p>\n<div class=\"codehilite\"><pre><span></span> ~/zulip (showell-sass) $ grep -B 1 &#39;border-color&#39; static/styles/dark.css\n.dark-mode .alert-box .alert.alert-error {\n    border-color: hsl(0, 80%, 64%);\n--\n.dark-mode .alert-box .alert {\n    border-color: hsl(16, 60%, 59%);\n--\n.dark-mode .message_reactions .message_reaction + .reaction_button {\n    border-color: hsl(0, 0%, 34%);\n--\n.dark-mode .message_reactions .message_reaction {\n    border-color: hsl(180, 37%, 24%);\n--\n.dark-mode .private-message .message_reactions .message_reaction.reacted {\n    border-color: hsl(193, 38%, 37%);\n--\n.dark-mode .emoji-popover .reacted {\n    border-color: hsl(195, 52%, 28%);\n--\n.dark-mode .message_reactions .reaction_button:hover {\n    border-color: hsl(200, 100%, 64%);\n--\n.dark-mode .pill-container .pill:focus {\n    border-color: hsl(0, 48%, 28%);\n--\n.dark-mode .pm_recipient .pill-container .pill:focus {\n    border-color: hsl(175, 77%, 74%);\n--\n.dark-mode .pm_recipient .pill-container .pill {\n    border-color: hsl(176, 49%, 62%);\n--\n.dark-mode .pill-container .pill {\n    border-color: hsl(177, 48%, 28%);\n--\n.dark-mode .pill-container {\n    border-color: hsl(180, 0%, 22%);\n--\n.dark-mode .hotspot.overlay .hotspot-popover {\n    border-color: hsl(0, 0%, 28%);\n--\n.dark-mode .hotspot-icon .pulse {\n    border-color: hsl(205, 100%, 37%);\n--\n.dark-mode .hotspot-icon .dot {\n    border-color: hsl(215, 47%, 55%);\n--\n.dark-mode .dynamic-input {\n    border-color: hsl(0, 0%, 28%);\n--\n.dark-mode input[type=text]:focus#settings_search {\n    border-color: hsl(0, 0%, 34%);\n--\n.dark-mode #attachments_list .attachment-messages .ind-message {\n    border-color: hsl(0, 0%, 40%);\n--\n.dark-mode #attachments_list .attachment-messages .ind-message:hover {\n    border-color: hsl(0, 0%, 52%);\n--\n.dark-mode input[type=text]#settings_search {\n    border-color: hsl(180, 0%, 22%);\n--\n.dark-mode .settings-section .tip {\n    border-color: hsl(180, 20%, 24%);\n--\n.dark-mode div.message_content tr th {\n    border-color: hsl(0, 0%, 28%);\n--\n.dark-mode #unmute_muted_topic_notification .btn {\n    border-color: hsl(0, 0%, 75%);\n--\n.dark-mode .messagebox-bottom-colorblock {\n    border-color: hsl(166, 26%, 28%);\n--\n.dark-mode #userlist-toggle-unreadcount {\n    border-color: hsl(180, 0%, 16%);\n--\n.dark-mode #tab_list .root {\n    border-color: hsl(180, 0%, 20%);\n--\n.dark-mode .twitter-tweet {\n    border-color: hsl(180, 0%, 22%);\n--\n.dark-mode a code {\n    border-color: hsl(200, 100%, 64%);\n--\n.dark-mode a:hover code {\n    border-color: hsl(200, 100%, 77%);\n--\n.dark-mode #inline_topic_edit.header-v {\n    border-color: hsl(204, 20%, 33%);\n--\n.dark-mode textarea.new_message_textarea:focus {\n    border-color: hsl(0, 0%, 40%);\n--\n.dark-mode #send_controls #compose-send-button {\n    border-color: hsl(170, 68%, 63%);\n--\n.dark-mode textarea.new_message_textarea {\n    border-color: hsl(180, 0%, 22%);\n--\n.dark-mode .user_offline .user-status-indicator {\n    border-color: hsl(0, 0%, 55%);\n--\n.dark-mode .user_active .user-status-indicator {\n    border-color: hsl(106, 74%, 60%);\n--\n.dark-mode .user_idle .user-status-indicator {\n    border-color: hsl(29, 84%, 54%);\n--\n.dark-mode .image-actions .button:hover {\n    border-color: hsl(180, 0%, 10%);\n--\n.dark-mode .image-actions .button {\n    border-color: hsla(180, 0%, 10%, 0.6);\n--\n.dark-mode .subscriptions-container input[type=text].small {\n    border-color: hsl(0, 0%, 28%);\n--\n.dark-mode #create_or_filter_stream_row td {\n    border-color: hsl(0, 0%, 34%);\n--\n.dark-mode .preview-stream:hover {\n    border-color: hsl(0, 0%, 38%);\n--\n.dark-mode #subscription_overlay .stream-header .subscribe-button.unsubscribed {\n    border-color: hsl(156, 39%, 30%);\n--\n.dark-mode .subscriber-list-box {\n    border-color: hsl(180, 0%, 22%);\n--\n.dark-mode .new-style label.checkbox input[type=checkbox] ~ span {\n    border-color: hsl(0, 0%, 46%);\n--\n.dark-mode .new-style .tab-switcher .ind-tab:not(.selected) {\n    border-color: hsl(0, 0%, 28%);\n--\n.dark-mode .new-style .button:hover {\n    border-color: hsl(0, 0%, 46%);\n--\n.dark-mode .new-style .tab-switcher .ind-tab.selected {\n    border-color: hsl(0, 0%, 58%);\n--\n.dark-mode .new-style .button.sea-green:hover {\n    border-color: hsl(156, 30%, 50%);\n--\n.dark-mode .new-style .button[disabled=&quot;disabled&quot;]:hover {\n    border-color: hsl(156, 39%, 30%);\n--\n.dark-mode .new-style .tab-switcher .ind-tab.disabled {\n    border-color: hsl(180, 0%, 22%);\n--\n.dark-mode .new-style .button.btn-warning {\n    border-color: hsl(180, 98%, 24%);\n--\n.dark-mode .new-style .button.btn-danger:hover {\n    border-color: hsl(2, 46%, 38%);\n--\n.dark-mode .new-style .button.btn-warning:hover {\n    border-color: hsl(35, 55%, 37%);\n--\n.dark-mode .new-style .button.btn-danger {\n    border-color: hsl(4, 56%, 26%);\n</pre></div>",
        "id": 324251,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510683271
    },
    {
        "content": "<p>Here's how this manifests in your branch:</p>\n<p><a href=\"/user_uploads/2/c2/ErhfqQTy4--ePdfTK7s4gfc-/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c2/ErhfqQTy4--ePdfTK7s4gfc-/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/c2/ErhfqQTy4--ePdfTK7s4gfc-/pasted_image.png\"></a></div>",
        "id": 324255,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510683419
    },
    {
        "content": "<p>And then here is the same popover with algorithmically flipped borders:</p>\n<p><a href=\"/user_uploads/2/c5/3pWkNrdIRTUpb04kD-565xHc/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c5/3pWkNrdIRTUpb04kD-565xHc/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/c5/3pWkNrdIRTUpb04kD-565xHc/pasted_image.png\"></a></div>",
        "id": 324256,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510683474
    },
    {
        "content": "<p>Another example...</p>\n<p>manual:</p>\n<p><a href=\"/user_uploads/2/93/KC3qr_uc_JhYnyyRjxzoOxJ0/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/93/KC3qr_uc_JhYnyyRjxzoOxJ0/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/93/KC3qr_uc_JhYnyyRjxzoOxJ0/pasted_image.png\"></a></div>",
        "id": 324262,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510683762
    },
    {
        "content": "<p>algorithm:</p>\n<p><a href=\"/user_uploads/2/ab/UJ1OWhTuYEGfNGDO4DjgA41Y/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ab/UJ1OWhTuYEGfNGDO4DjgA41Y/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/ab/UJ1OWhTuYEGfNGDO4DjgA41Y/pasted_image.png\"></a></div>",
        "id": 324266,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510683812
    },
    {
        "content": "<p>We have 39 distinct border styles.</p>",
        "id": 324270,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510683936
    },
    {
        "content": "<p>I don't know necessarily if inverted colors are the ones we want however. They are generally less aesthetically pleasing. We want primarily to choose specific colors.</p>",
        "id": 324287,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510684764
    },
    {
        "content": "<p>I think a hybrid approach makes sense.  Automatically generate inverted borders, and then let humans incrementally improve them.</p>",
        "id": 324311,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510685453
    },
    {
        "content": "<p>The issue however is that the auto-generated results create thousands of lines of CSS that has required maintenance. Most of the borders were fixed and better looking with just a few dozen lines targeting where they are currently failing.</p>",
        "id": 324321,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510685674
    },
    {
        "content": "<p>It's not 1000s of lines.  It's 39 declarations.</p>",
        "id": 324326,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510686014
    },
    {
        "content": "<p>If you look at <code>dark.css</code>, it's  1575 lines, and there are 343 declarations.</p>",
        "id": 324329,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510686168
    },
    {
        "content": "<p>Can you show me what you mean? I'm looking at this: <a href=\"https://github.com/showell/zulip/blob/b579ae518fb9204952f832be288240f53130867b/static/styles/dark.css\" target=\"_blank\" title=\"https://github.com/showell/zulip/blob/b579ae518fb9204952f832be288240f53130867b/static/styles/dark.css\">https://github.com/showell/zulip/blob/b579ae518fb9204952f832be288240f53130867b/static/styles/dark.css</a></p>",
        "id": 324330,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510686177
    },
    {
        "content": "<p>For the border declarations, do you want to add some more manual styles to make them look nice for the two cases I mentioned above?</p>",
        "id": 324356,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510686922
    },
    {
        "content": "<p>I'll make the argument that my suggested approach here is more maintainable.  Let's say we get feedback that our mention pills in normal mode should be a different color in \"normal\" mode.  We don't have to read 1575 lines of code in dark.css (nor the 2726 lines of code in zulip.css).  It's an O(1) problem.  You just change the color in both files.   And if <code>dark.css</code> already has the style, you're modifying one line of code instead of two.</p>",
        "id": 324369,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510687279
    },
    {
        "content": "<p>There's just a lot of stuff to convert.</p>\n<p><a href=\"/user_uploads/2/82/wWiZYrUD5eXY37ex3Rw9QmrG/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<p><a href=\"/user_uploads/2/12/PUzex6Pbw9QdfI3jwka9Zmdw/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/82/wWiZYrUD5eXY37ex3Rw9QmrG/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/82/wWiZYrUD5eXY37ex3Rw9QmrG/pasted_image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/12/PUzex6Pbw9QdfI3jwka9Zmdw/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/12/PUzex6Pbw9QdfI3jwka9Zmdw/pasted_image.png\"></a></div>",
        "id": 324383,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510687744
    },
    {
        "content": "<p><a href=\"/user_uploads/2/3f/LEqC2tuYXGcSsGDvTvx2L3jR/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<p><a href=\"/user_uploads/2/25/fUjKoEf1hTwOAZ07_GrY_27p/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3f/LEqC2tuYXGcSsGDvTvx2L3jR/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/3f/LEqC2tuYXGcSsGDvTvx2L3jR/pasted_image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/25/fUjKoEf1hTwOAZ07_GrY_27p/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/25/fUjKoEf1hTwOAZ07_GrY_27p/pasted_image.png\"></a></div>",
        "id": 324391,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510687993
    },
    {
        "content": "<p>I suspect what will make sense is a hybrid approach.</p>",
        "id": 324398,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1510688127
    },
    {
        "content": "<p>I think making the parser support <code>border</code> (as opposed to splitting our <code>border-color</code>) is a good tradeoff in terms of how much automated changes we end up with.</p>",
        "id": 324399,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1510688151
    },
    {
        "content": "<p>I'd like to see how far we can get with <span class=\"user-mention\" data-user-email=\"brock@zulipchat.com\" data-user-id=\"136\">@Brock Whittaker</span>'s approach that involves mostly small config changes and cleaning up CSS, and then I think it'd be reasonable to have automated tooling for doing guess-conversions for everything not covered by the manual conversion process.</p>",
        "id": 324403,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1510688197
    },
    {
        "content": "<p>On the border-color thing, that's fine.</p>",
        "id": 324407,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510688286
    },
    {
        "content": "<p>On the hybrid approach, I think we should take into account that there are ~300 styles that need to flip, so it's not completely clear to me that we want to tackle this manually first.  I think it's worth figuring out whether Brock can just apply a few patches on top of automatic mode to fix some of the uglier inversions.</p>",
        "id": 324418,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510688424
    },
    {
        "content": "<p>There are lots of things to change:</p>\n<p><a href=\"/user_uploads/2/72/lbR2RJEHc4M9pBUsonJgs6qs/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<p><a href=\"/user_uploads/2/40/sVfRrL_LtC6-b9ZL10Za89Hy/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/72/lbR2RJEHc4M9pBUsonJgs6qs/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/72/lbR2RJEHc4M9pBUsonJgs6qs/pasted_image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/40/sVfRrL_LtC6-b9ZL10Za89Hy/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/40/sVfRrL_LtC6-b9ZL10Za89Hy/pasted_image.png\"></a></div>",
        "id": 324436,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510688643
    },
    {
        "content": "<p>I'm not seeing 300+ styles that need to flip that haven't already in the <code>dark.css</code> I have so far. I'm seeing maybe a couple dozen in total (and less once we refactor stuff that currently doesn't make sense wrt implementation).</p>",
        "id": 324589,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510691474
    },
    {
        "content": "<p>We're totally on the same page w/r/t fixing current implementation stuff.</p>",
        "id": 324603,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510692035
    },
    {
        "content": "<p>It would be nice to merge a couple quick fixes to \"normal mode\" first.</p>",
        "id": 324604,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510692147
    },
    {
        "content": "<p>You are correct that all ~300 styles don't actually need to flip--my wording was imprecise there.  The challenge is that there are ~300 styles that potentially look bad in dark theme, if we don't manage to cover all 300 of them, either by verifying them or fixing them.</p>",
        "id": 324607,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510692257
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"tabbott@zulipchat.com\" data-user-id=\"7\">@Tim Abbott</span> <span class=\"user-mention\" data-user-email=\"brock@zulipchat.com\" data-user-id=\"136\">@Brock Whittaker</span> This is what hybrid mode looks like.  It has the nice blue background from manual effort, plus nice borders and mentions from automated style:</p>\n<p><a href=\"/user_uploads/2/b1/6gGqcUSG45HJv4fXqb6ORsSG/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b1/6gGqcUSG45HJv4fXqb6ORsSG/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/b1/6gGqcUSG45HJv4fXqb6ORsSG/pasted_image.png\"></a></div>",
        "id": 324839,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510703263
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/7383\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/7383\">#7383</a></p>",
        "id": 324841,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510703317
    },
    {
        "content": "<p>It's also toggle-friendly (no reload necessary to apply styles, just use a hotkey).  Here's the post-processed <code>dark.css</code> file:</p>\n<p><a href=\"https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L28\" target=\"_blank\" title=\"https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L28\">https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L28</a></p>",
        "id": 324842,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510703408
    },
    {
        "content": "<p>Everything from line 251 down should probably just be a patch to master (set transparent modes properly):</p>\n<p><a href=\"https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L251\" target=\"_blank\" title=\"https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L251\">https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L251</a></p>",
        "id": 324843,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510703500
    },
    {
        "content": "<p>likewise for all the \"inherit\" styling:</p>\n<p><a href=\"https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L189\" target=\"_blank\" title=\"https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L189\">https://github.com/showell/zulip/blob/d25d23957bebf89e182406a0d602ada06a13246f/static/styles/manual-dark.css#L189</a></p>",
        "id": 324847,
        "sender_full_name": "Steve Howell",
        "timestamp": 1510703904
    },
    {
        "content": "<p>Trying out the new dark theme, and I'm wondering if the colors for these should be different colors:</p>\n<p><a href=\"/user_uploads/2/76/S2ioSjH0-jdpucpYtXy6A570/Screenshot-at-Nov-17-11-19-29.png\" target=\"_blank\" title=\"Screenshot-at-Nov-17-11-19-29.png\">Screenshot-at-Nov-17-11-19-29.png</a> <a href=\"/user_uploads/2/ca/4r2-NKHI2VXaLPjnl5oe9wue/Screenshot-at-Nov-17-11-19-43.png\" target=\"_blank\" title=\"Screenshot-at-Nov-17-11-19-43.png\">Screenshot-at-Nov-17-11-19-43.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/76/S2ioSjH0-jdpucpYtXy6A570/Screenshot-at-Nov-17-11-19-29.png\" target=\"_blank\" title=\"Screenshot-at-Nov-17-11-19-29.png\"><img src=\"/user_uploads/2/76/S2ioSjH0-jdpucpYtXy6A570/Screenshot-at-Nov-17-11-19-29.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/ca/4r2-NKHI2VXaLPjnl5oe9wue/Screenshot-at-Nov-17-11-19-43.png\" target=\"_blank\" title=\"Screenshot-at-Nov-17-11-19-43.png\"><img src=\"/user_uploads/2/ca/4r2-NKHI2VXaLPjnl5oe9wue/Screenshot-at-Nov-17-11-19-43.png\"></a></div>",
        "id": 329673,
        "sender_full_name": "Cynthia Lin",
        "timestamp": 1510946428
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"cynthialin1004@gmail.com\" data-user-id=\"815\">@Cynthia Lin</span> yeah, a bunch of those things are fixed in <span class=\"user-mention\" data-user-email=\"brock@zulipchat.com\" data-user-id=\"136\">@Brock Whittaker</span>'s PR; we're just trying to fix them in an easily maintainable way.  that's why I haven't advertised it for folks to QA yet :)</p>",
        "id": 329681,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1510946582
    },
    {
        "content": "<p><a href=\"/user_uploads/2/56/uk7bx1sP_snBQI_c0dgF_8n2/Screenshot-at-Nov-17-11-23-24.png\" target=\"_blank\" title=\"Screenshot-at-Nov-17-11-23-24.png\">Screenshot-at-Nov-17-11-23-24.png</a>  another one to fix maybe :) But thanks for the heads up!</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/56/uk7bx1sP_snBQI_c0dgF_8n2/Screenshot-at-Nov-17-11-23-24.png\" target=\"_blank\" title=\"Screenshot-at-Nov-17-11-23-24.png\"><img src=\"/user_uploads/2/56/uk7bx1sP_snBQI_c0dgF_8n2/Screenshot-at-Nov-17-11-23-24.png\"></a></div>",
        "id": 329685,
        "sender_full_name": "Cynthia Lin",
        "timestamp": 1510946629
    },
    {
        "content": "<p>Yeah, the plan is to not spend folks' energy for QA now; should be ready for that in a couple days though :)</p>",
        "id": 329690,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1510946750
    },
    {
        "content": "<p>I'm really liking the colors <span class=\"emoji emoji-1f44d\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 329761,
        "sender_full_name": "Sampriti Panda",
        "timestamp": 1510948859
    },
    {
        "content": "<p>Thanks Cynthia! I think those are all fixed (except maybe not all @-mentions yet). Hoping by the end of today for there to be something quite good.</p>",
        "id": 329885,
        "sender_full_name": "Brock Whittaker",
        "timestamp": 1510954038
    },
    {
        "content": "<p>the background color for messages that I am @mentioned in makes the text unreadable:</p>",
        "id": 331116,
        "sender_full_name": "Be",
        "timestamp": 1511049490
    },
    {
        "content": "<p><a href=\"/user_uploads/2/ce/zph1nye-o4Rro3XKruB37vfu/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ce/zph1nye-o4Rro3XKruB37vfu/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/ce/zph1nye-o4Rro3XKruB37vfu/pasted_image.png\"></a></div>",
        "id": 331117,
        "sender_full_name": "Be",
        "timestamp": 1511049495
    },
    {
        "content": "<p>the main background color is a bit bluer than I'd prefer as well. I think I'd like it closer to black</p>",
        "id": 331118,
        "sender_full_name": "Be",
        "timestamp": 1511049622
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-email=\"be.0@gmx.com\" data-user-id=\"3728\">@Be.</span> The dark theme is known to be only a partial implementation at this point, so we're not really collecting feedback yet.  Although I'm actually interested that you prefer a darker black. <span class=\"emoji emoji-1f604\" title=\"smile\">:smile:</span> But we'll probably start really asking for QA when we're satisfied that we've fix most of the obvious stuff.</p>",
        "id": 331119,
        "sender_full_name": "Steve Howell",
        "timestamp": 1511049689
    },
    {
        "content": "<p>okay, good to know</p>",
        "id": 331120,
        "sender_full_name": "Be",
        "timestamp": 1511049719
    },
    {
        "content": "<p>for reference, this is how I like Konversation with the Obsidian Coast color scheme for Qt:<br>\n<a href=\"/user_uploads/2/a0/Kg6bPPzaW9QTTDPbBuWOW2Xh/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/a0/Kg6bPPzaW9QTTDPbBuWOW2Xh/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/2/a0/Kg6bPPzaW9QTTDPbBuWOW2Xh/pasted_image.png\"></a></div>",
        "id": 331121,
        "sender_full_name": "Be",
        "timestamp": 1511049791
    },
    {
        "content": "<p><a href=\"/user_uploads/2/a/OXbiP-IlntAteCowvR3L64nx/IMG_5755.PNG\" target=\"_blank\" title=\"IMG_5755.PNG\">IMG_5755.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/a/OXbiP-IlntAteCowvR3L64nx/IMG_5755.PNG\" target=\"_blank\" title=\"IMG_5755.PNG\"><img src=\"/user_uploads/2/a/OXbiP-IlntAteCowvR3L64nx/IMG_5755.PNG\"></a></div>",
        "id": 355186,
        "sender_full_name": "Cynthia Lin",
        "timestamp": 1512171707
    },
    {
        "content": "<p>Hi, everyone :-)<br>\nI just would like to know, has it been in proposal here in the past to make the dark theme look more like slack? I mean the colors to be more grey \"ish\"?..</p>",
        "id": 1251809,
        "sender_full_name": "Vojtech Brothanek",
        "timestamp": 1630567633
    },
    {
        "content": "<p><a href=\"/user_uploads/2/46/JJTSU7NPTHz7str6qnY1MCWl/Snímek-obrazovky-2021-09-02-v-10.13.35.png\">Snímek-obrazovky-2021-09-02-v-10.13.35.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/46/JJTSU7NPTHz7str6qnY1MCWl/Snímek-obrazovky-2021-09-02-v-10.13.35.png\" title=\"Snímek-obrazovky-2021-09-02-v-10.13.35.png\"><img src=\"/user_uploads/2/46/JJTSU7NPTHz7str6qnY1MCWl/Snímek-obrazovky-2021-09-02-v-10.13.35.png\"></a></div>",
        "id": 1251818,
        "sender_full_name": "Vojtech Brothanek",
        "timestamp": 1630570444
    }
]