[
    {
        "content": "<p>Here is the proposal about image viewer</p>\n<p>Video <a href=\"https://share.cleanshot.com/Dt5rLz9d\">https://share.cleanshot.com/Dt5rLz9d</a> with some clarifications</p>\n<p>Images:<br>\n<a href=\"/user_uploads/2/1/eVV0DL1bYhITFY4Vw-piLRv1/gallery-01.png\">gallery-01.png</a><br>\n<a href=\"/user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\">gallery-02.png</a><br>\n<a href=\"/user_uploads/2/4/bwl8tkmVjsIZs7NEpTvvRsJ5/gallery-03.png\">gallery-03.png</a><br>\n<a href=\"/user_uploads/2/bb/C59M4WVO5Kisa9umlcNDQxS3/gallery-04.png\">gallery-04.png</a><br>\n<a href=\"/user_uploads/2/3b/NsTrG4YsNdHCI0xz_IusVcnC/gallery-05.png\">gallery-05.png</a><br>\n<a href=\"/user_uploads/2/2c/F9lA_v8NQyxC8tLYW7HPsM_F/gallery-06.png\">gallery-06.png</a><br>\n<a href=\"/user_uploads/2/f7/gD_e4N8ueOxnxDlAa5MbqrW2/gallery-07.png\">gallery-07.png</a><br>\n<a href=\"/user_uploads/2/5/M7S3Zy2zdZax9CTgYmbHCQ4_/gallery-08.png\">gallery-08.png</a><br>\n<a href=\"/user_uploads/2/1f/CN9xRHo2XrKxjn2hHA3r2WBT/gallery-09.png\">gallery-09.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1/eVV0DL1bYhITFY4Vw-piLRv1/gallery-01.png\" title=\"gallery-01.png\"><img src=\"/user_uploads/2/1/eVV0DL1bYhITFY4Vw-piLRv1/gallery-01.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\" title=\"gallery-02.png\"><img src=\"/user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/4/bwl8tkmVjsIZs7NEpTvvRsJ5/gallery-03.png\" title=\"gallery-03.png\"><img src=\"/user_uploads/2/4/bwl8tkmVjsIZs7NEpTvvRsJ5/gallery-03.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/bb/C59M4WVO5Kisa9umlcNDQxS3/gallery-04.png\" title=\"gallery-04.png\"><img src=\"/user_uploads/2/bb/C59M4WVO5Kisa9umlcNDQxS3/gallery-04.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/3b/NsTrG4YsNdHCI0xz_IusVcnC/gallery-05.png\" title=\"gallery-05.png\"><img src=\"/user_uploads/2/3b/NsTrG4YsNdHCI0xz_IusVcnC/gallery-05.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/2c/F9lA_v8NQyxC8tLYW7HPsM_F/gallery-06.png\" title=\"gallery-06.png\"><img src=\"/user_uploads/2/2c/F9lA_v8NQyxC8tLYW7HPsM_F/gallery-06.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/f7/gD_e4N8ueOxnxDlAa5MbqrW2/gallery-07.png\" title=\"gallery-07.png\"><img src=\"/user_uploads/2/f7/gD_e4N8ueOxnxDlAa5MbqrW2/gallery-07.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/5/M7S3Zy2zdZax9CTgYmbHCQ4_/gallery-08.png\" title=\"gallery-08.png\"><img src=\"/user_uploads/2/5/M7S3Zy2zdZax9CTgYmbHCQ4_/gallery-08.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/1f/CN9xRHo2XrKxjn2hHA3r2WBT/gallery-09.png\" title=\"gallery-09.png\"><img src=\"/user_uploads/2/1f/CN9xRHo2XrKxjn2hHA3r2WBT/gallery-09.png\"></a></div>",
        "id": 1610501,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1689489985
    },
    {
        "content": "<p>Should we show some text above / beside the different background colors so that it is easily visibile? Maybe just \"Background\".</p>",
        "id": 1610505,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1689492932
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20image.20viewer/near/1610505\">said</a>:</p>\n<blockquote>\n<p>Should we show some text above / beside the different background colors so that it is easily visibile? Maybe just \"Background\".</p>\n</blockquote>\n<p>I started with that and removed after, we can do that in a tooltip for each button: black background, white backgroundâ€¦</p>",
        "id": 1610518,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1689511658
    },
    {
        "content": "<p>Any feedback?</p>",
        "id": 1615761,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1690306792
    },
    {
        "content": "<p>LGTM with tooltips.</p>",
        "id": 1615765,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1690307126
    },
    {
        "content": "<p>Agreed. I'd like to see this design implemented!</p>",
        "id": 1615801,
        "sender_full_name": "Karl Stolley",
        "timestamp": 1690309495
    },
    {
        "content": "<p>As a user, the new functionality enabled by this redesign would help me a lot</p>",
        "id": 1616375,
        "sender_full_name": "Vincent Noel",
        "timestamp": 1690358460
    },
    {
        "content": "<p>Yeah I love the ability to change the background color!</p>",
        "id": 1618248,
        "sender_full_name": "Evy",
        "timestamp": 1690838868
    },
    {
        "content": "<p>This looks pretty good to me! I like several of the visual cleanups. A few potential thoughts for discussion:</p>\n<ul>\n<li>The buttons like \"Download\" that you're reasonably likely to click feel a bit small as targets to aim for, but I think this is an artifact of looking at a lightbox inside a lightbox? So probably is just fine; similarly with the sender/filename.</li>\n<li>I kinda like our existing/blue default background color; I worry a bit that the grey in that proposal might feel a bit too \"corporate / apple style\" as a vibe. Hard to tell without using it, and should be easy to play with post-prototype since the whole concept is that the background color can be controlled by the user, so not an objection to implementing.</li>\n<li>I'm a bit puzzled by the size of <a href=\"user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\">https://chat.zulip.org/user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png</a> not filling the screen -- is that intended to document a behavior change in how we handle images that are smaller? I don't remember how we handle those today other than that we've changed it a few times and last time it was changed I remember it feeling reasonable afterwards.<div class=\"message_inline_image\"><a href=\"user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\" title=\"https://chat.zulip.org/user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\"><img src=\"user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\"></a></div></li>\n<li>Do we need to do anything related to mobile web designs? </li>\n<li>I assume we want to have browser local storage remember the last value we've picked for what background we like?</li>\n</ul>",
        "id": 1624072,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1691802357
    },
    {
        "content": "<blockquote>\n<p>I assume we want to have browser local storage remember the last value we've picked for what background we like?</p>\n</blockquote>\n<p>Yeah, that would nice.</p>",
        "id": 1624076,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1691804787
    },
    {
        "content": "<blockquote>\n<p>Do we need to do anything related to mobile web designs?</p>\n</blockquote>\n<p>We can just wrap the new background icons under <code>zoom/open/download</code> buttons and see...</p>",
        "id": 1624077,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1691804846
    },
    {
        "content": "<blockquote>\n<p>The buttons like \"Download\" that you're reasonably likely to click feel a bit small as targets to aim for</p>\n</blockquote>\n<p>Here is the real size comparison, my version is 2-3 pixels smaller height <br>\n<a href=\"/user_uploads/2/42/8y1_8kgWB8BL7c-JggcUOTe2/image.png\">image.png</a><br>\nI dedicated 28px with 8px margin on top for buttons: <br>\n<a href=\"/user_uploads/2/b/-4Ixs_MZkJZQexTndoFu8geG/image.png\">image.png</a><br>\nWe can make them 30px, but that would push max size of content and we would need to make internal side paddings bigger. In general the width of buttons is compensating for they height.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/42/8y1_8kgWB8BL7c-JggcUOTe2/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/42/8y1_8kgWB8BL7c-JggcUOTe2/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/b/-4Ixs_MZkJZQexTndoFu8geG/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b/-4Ixs_MZkJZQexTndoFu8geG/image.png\"></a></div><blockquote>\n<p>I kinda like our existing/blue default background color; I worry a bit that the grey in that proposal might feel a bit too \"corporate / apple style\" as a vibe</p>\n</blockquote>\n<p>The goal is not not give any strong vibe at all <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> but provide the best experience.<br>\nCurrent blue color is too strong (it doesn't respect content). It is not transparent which makes it \"hostile\". <br>\nIn the example I gave the blur is actually tinted so it is not grey (I do respect the legacy):<br>\n<a href=\"/user_uploads/2/b3/IR4HXxhehEvCJ9uG5Qehii_f/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/b3/IR4HXxhehEvCJ9uG5Qehii_f/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/b3/IR4HXxhehEvCJ9uG5Qehii_f/image.png\"></a></div><p>But I was thinking to make a follow up on the issue and ask for dynamic tint on an image:<br>\n<a href=\"/user_uploads/2/3/p90quynLSl02AJh3G_MeHnbc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3/p90quynLSl02AJh3G_MeHnbc/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/3/p90quynLSl02AJh3G_MeHnbc/image.png\"></a></div><p>I think <a href=\"https://github.com/fast-average-color/fast-average-color\">fast-average-color</a> lib can help with that. So we extract the color -&gt; LCH (like we already do with colorization of topic bars) -&gt; L to 20%. Transparency of this layer is 50%. This layer also does the blur of the background</p>\n<blockquote>\n<p>I'm a bit puzzled by the size of <a href=\"user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\">https://chat.zulip.org/user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png</a> not filling the screen -- is that intended to document a behavior change in how we handle images that are smaller?</p>\n</blockquote>\n<p>yes, I don't think zooming in the image which isn't big is a great start. <br>\nIn this case we start with a confusion \"quality of image is bad or a we zoomed?\" <br>\nIn case of downsizing we can do that because there is no other way for user to see the whole image.</p>\n<p>I might be alone in this opinion but I wanted to suggest to try to not zoom in images automatically (don't confuse with low vs hight density displays issue)</p>",
        "id": 1624497,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1691975470
    },
    {
        "content": "<blockquote>\n<p>Do we need to do anything related to mobile web designs?</p>\n</blockquote>\n<p>Yeah, we do. Here is the first proposal about that:<br>\n<a href=\"/user_uploads/2/ef/IbOrR5g39ZTbr8so629YR2BW/image.png\">image.png</a><br>\nUp to 800px we could just ellipsis the text about author and the image<br>\nUp to 600px I suggest to remove the text and minimize gaps and margins on buttons<br>\nAnd after some point, when we think it is a mobile width we could hide all the extra buttons, because zooming and swiping do the work? We don't need to show arrows, because I suggest to have a click on the right/left edge would do the flipping in addition to bottom thumbnails.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ef/IbOrR5g39ZTbr8so629YR2BW/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/ef/IbOrR5g39ZTbr8so629YR2BW/image.png\"></a></div>",
        "id": 1624502,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1691981067
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/UI.20redesign.3A.20image.20viewer/near/1624497\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>I'm a bit puzzled by the size of <a href=\"user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png\">https://chat.zulip.org/user_uploads/2/9b/7M-dUqbzV6eB-4dF68kaMYmQ/gallery-02.png</a> not filling the screen -- is that intended to document a behavior change in how we handle images that are smaller?</p>\n</blockquote>\n<p>yes, I don't think zooming in the image which isn't big is a great start. <br>\nIn this case we start with a confusion \"quality of image is bad or a we zoomed?\" <br>\nIn case of downsizing we can do that because there is no other way for user to see the whole image.</p>\n<p>I might be alone in this opinion but I wanted to suggest to try to not zoom in images automatically (don't confuse with low vs hight density displays issue)</p>\n</blockquote>\n<p>We used to do it the way you suggest, and the problem is that if someone sends say a 40x40 image, you pop open the lightbox to see it better and it's just a tiny thing on the a huge background, and it doesn't feel like a good experience at all. </p>\n<p>So while we should offer \"original size\" in our zoom menu or whatever, I think always showing it at a scale where you can clearly see its details is the more friendly option.</p>",
        "id": 1625157,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1692075548
    },
    {
        "content": "<p>The design looks nice! Is the next step for <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> to open an issue?</p>\n<p>I think we can sequence it so that letting the user choose the background, and tweaking the background color based on the image, are follow-ups to the initial design pass.</p>",
        "id": 1646819,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1695671457
    },
    {
        "content": "<blockquote>\n<p>So while we should offer \"original size\" in our zoom menu or whatever, I think always showing it at a scale where you can clearly see its details is the more friendly option.</p>\n</blockquote>\n<p>I think this question is orthogonal to the rest of the design changes, and we don't have to make a decision on it as a prerequisite to working on this?</p>",
        "id": 1646820,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1695671503
    },
    {
        "content": "<p>One thing i wish to improve is that mouse wheel without modifying key press wouldnâ€™t zoom the image but that could be a separate issue</p>",
        "id": 1646912,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1695677529
    }
]