[
    {
        "content": "<p>Continuing a discussion from <a href=\"https://github.com/zulip/zulip/pull/5328\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/5328\">#5328</a>:</p>\n<blockquote>\n<p>Arguably, we don't need the dates to appear on those date-change separators at all, now that they're on the recipient bar, and we should just make them into unadorned divider lines</p>\n</blockquote>\n<p>I agree. Should we just get rid of the lines entirely? They look unintentional without the dates on them.</p>",
        "id": 274434,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1503940954
    },
    {
        "content": "<p>opened as <a href=\"https://github.com/zulip/zulip/pull/6311\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/6311\">#6311</a>; I'll edit the issue if we end up deciding to keep the lines.</p>",
        "id": 274457,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1503944768
    },
    {
        "content": "<p>I think the lines might be good to increase the visibility of date-changes.  It's generally pretty upsetting when reading to have the day change and not notice.</p>",
        "id": 274458,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1503945421
    },
    {
        "content": "<p>I guess an alternative approach we could take is just have them highlight the new day (not the old one) and with greater visual weight on that (e.g. in the center of the bar).</p>",
        "id": 274459,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1503945447
    },
    {
        "content": "<p>yeah, that makes sense. The current bars I think aren't bad, and possibly worth leaving in place for now given the message feed visual redesign that's in progress. (The thing that looks bad I think is just the bar without the date.)</p>",
        "id": 274466,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1503945829
    },
    {
        "content": "<p>So, we just test-deployed here <a href=\"https://github.com/zulip/zulip/pull/10820\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/10820\">#10820</a>, which experimentally changes the date separator format for Zulip.  A few notes on issues we've aware of already:</p>\n<ul>\n<li>The dates in the floating recipient bar do not update properly</li>\n<li>The spacing looks a bit off for messages that don't have a sender block: <a href=\"/user_uploads/2/35/a7_tA88IpHW_KCX5voPWjSkU/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> <div class=\"message_inline_image\"><a href=\"/user_uploads/2/35/a7_tA88IpHW_KCX5voPWjSkU/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img data-src-fullsize=\"/thumbnail?url=user_uploads%2F2%2F35%2Fa7_tA88IpHW_KCX5voPWjSkU%2Fpasted_image.png&amp;size=full\" src=\"/thumbnail?url=user_uploads%2F2%2F35%2Fa7_tA88IpHW_KCX5voPWjSkU%2Fpasted_image.png&amp;size=thumbnail\"></a></div></li>\n</ul>\n<p>But I'd love feedback on how folks feel about the new structure and whether it'd be an improvement to finish and integrate!</p>",
        "id": 661609,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1542237909
    },
    {
        "content": "<p>(I'm probably going to take it off in &lt;1hr, so initial feedback is appreciated!  <a class=\"stream\" data-stream-id=\"8\" href=\"/#narrow/stream/8-commits\">#commits</a>  is a good place to see the change)</p>",
        "id": 661615,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1542238241
    },
    {
        "content": "<p>This design looks pretty great! <span class=\"emoji emoji-2764\" title=\"heart\">:heart:</span> I am glad to still have all the same information, and it looks like it should totally resolve the issue where the interaction with recipient bars makes it really hard for new users to work out just what recipient bars mean.</p>",
        "id": 661654,
        "sender_full_name": "Greg Price",
        "timestamp": 1542239779
    },
    {
        "content": "<p>There's a small issue where the separator line extends into the stream-colored left border:<br>\n<a href=\"/user_uploads/2/12/Bc5Xo08f1OIfwD5KdZjWP5uX/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/12/Bc5Xo08f1OIfwD5KdZjWP5uX/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img data-src-fullsize=\"/thumbnail?url=user_uploads%2F2%2F12%2FBc5Xo08f1OIfwD5KdZjWP5uX%2Fpasted_image.png&amp;size=full\" src=\"/thumbnail?url=user_uploads%2F2%2F12%2FBc5Xo08f1OIfwD5KdZjWP5uX%2Fpasted_image.png&amp;size=thumbnail\"></a></div>",
        "id": 661655,
        "sender_full_name": "Greg Price",
        "timestamp": 1542239826
    },
    {
        "content": "<p>When one sender has been the only one on the topic for a long time, it can end up looking kind of odd / it can feel like the sender information is missing:</p>\n<p><a href=\"/user_uploads/2/35/C3TBCQiNVbb9o8xPMWD90irW/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/35/C3TBCQiNVbb9o8xPMWD90irW/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img data-src-fullsize=\"/thumbnail?url=user_uploads%2F2%2F35%2FC3TBCQiNVbb9o8xPMWD90irW%2Fpasted_image.png&amp;size=full\" src=\"/thumbnail?url=user_uploads%2F2%2F35%2FC3TBCQiNVbb9o8xPMWD90irW%2Fpasted_image.png&amp;size=thumbnail\"></a></div>",
        "id": 661656,
        "sender_full_name": "Greg Price",
        "timestamp": 1542239960
    },
    {
        "content": "<p>I think the same thing can in principle happen in the status quo... but it's made a lot less likely by being bounded to a day's worth of the thread. I don't feel like I recognize running into that before.</p>",
        "id": 661657,
        "sender_full_name": "Greg Price",
        "timestamp": 1542240122
    },
    {
        "content": "<p>I think this is definitely an improvement!!! :D</p>",
        "id": 661662,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542241216
    },
    {
        "content": "<p>I agree with Greg's comment - </p>\n<blockquote>\n<p>When one sender has been the only one on the topic for a long time, it can end up looking kind of odd / it can feel like the sender information is missing</p>\n</blockquote>",
        "id": 661664,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542241472
    },
    {
        "content": "<p>I think in certain scenarios it's still good to show the sender avatar / name.</p>\n<p>Looking at the <a href=\"http://chat.zulip.org\" target=\"_blank\" title=\"http://chat.zulip.org\">chat.zulip.org</a> topic of the \"announce\" stream -<br>\n<a href=\"/user_uploads/2/16/Eo660hpOj2ltDDU_bP036KQn/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">#announce chat.zulip.org</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/16/Eo660hpOj2ltDDU_bP036KQn/pasted_image.png\" target=\"_blank\" title=\"#announce chat.zulip.org\"><img data-src-fullsize=\"/thumbnail?url=user_uploads%2F2%2F16%2FEo660hpOj2ltDDU_bP036KQn%2Fpasted_image.png&amp;size=full\" src=\"/thumbnail?url=user_uploads%2F2%2F16%2FEo660hpOj2ltDDU_bP036KQn%2Fpasted_image.png&amp;size=thumbnail\"></a></div><p>I think each of those messages is a separate conversation (at the moment in time that they're posted), and the omission of the avatar / name seems to suggest that all of those messages are following comments as opposed to communicating \"Tim announced something at a new point in time\".</p>",
        "id": 661667,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542242453
    },
    {
        "content": "<p>Maybe this?</p>\n<ul>\n<li>if a message is posted more than 24 (?) hours after the prior message in the thread, consider that a \"breakpoint\" in the conversation, and only show date separators for breakpoints</li>\n<li>the first time a sender messages a topic after a new breakpoint, show the sender name/avatar (even if the last message before the breakpoint in the topic was sent by the same sender)</li>\n<li>make an exception for showing a sender name/avatar for bots that post topics where most of the content is automated (like <a href=\"#narrow/stream/48-mobile/topic/zulip-mobile.20.2F.20master\" title=\"#narrow/stream/48-mobile/topic/zulip-mobile.20.2F.20master\">https://chat.zulip.org/#narrow/stream/48-mobile/topic/zulip-mobile.20.2F.20master</a> or <a href=\"#narrow/stream/60-twitter/topic/mentions\" title=\"#narrow/stream/60-twitter/topic/mentions\">https://chat.zulip.org/#narrow/stream/60-twitter/topic/mentions</a>), because I think those threads are better interpreted more continuously, like a log file</li>\n</ul>",
        "id": 661673,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542243620
    },
    {
        "content": "<p>Ahh, for that we should be including a sender header after a date change; just not (as we previously had) a recipient header.</p>",
        "id": 661677,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1542243958
    },
    {
        "content": "<p>I think actually Tim posting \"Doing a deploy now.\" in that thread is actually very similar to a bot posting a message -- those two examples feel like they should be treated similarly.</p>",
        "id": 661678,
        "sender_full_name": "Greg Price",
        "timestamp": 1542243966
    },
    {
        "content": "<p>(and) as a continuation on the last bullet point in the previous message, show a noticeable icon or UI element, maybe on the element that's currently referred to as the \"message header\" in the css rule-sets, to indicate that that thread's content is posted by an automated bot, and have some additional UI via that element (like a small dropdown or popover) that can let users see the bot that's posting</p>",
        "id": 661679,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542243987
    },
    {
        "content": "<p>Yeah, the simplest fix is sort of a partial revert: show a new sender header after the date separator, just not also a new recipient bar.</p>",
        "id": 661680,
        "sender_full_name": "Greg Price",
        "timestamp": 1542244011
    },
    {
        "content": "<p>(It's the recipient bar whose interaction was confusing, so this should still 100% solve the original issue motivating the change)</p>",
        "id": 661681,
        "sender_full_name": "Greg Price",
        "timestamp": 1542244044
    },
    {
        "content": "<blockquote>\n<p>I think actually Tim posting \"Doing a deploy now.\" in that thread is actually very similar to a bot posting a message -- those two examples feel like they should be treated similarly.</p>\n</blockquote>\n<p>Hm, I agree with that - maybe that means those deployment announcements should be automated?</p>",
        "id": 661682,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542244092
    },
    {
        "content": "<p>I definitely think there should be automated deployment announcements -- though probably not on <a class=\"stream\" data-stream-id=\"1\" href=\"/#narrow/stream/1-announce\">#announce</a> . I believe Tim mentions there only a fraction of the deployments, like when something interesting is expected to maybe change.</p>",
        "id": 661683,
        "sender_full_name": "Greg Price",
        "timestamp": 1542244161
    },
    {
        "content": "<p>Yeah, that's correct.</p>",
        "id": 661684,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1542244426
    },
    {
        "content": "<p>ack, just a contextual question here - which parts of the UI are the sender headers and recipient headers?</p>",
        "id": 661689,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542244644
    },
    {
        "content": "<p>\"Sender header\" is the part that has the sender's name + avatar.  Recipient header is the bar that shows where the message was sent (e.g. <code>design &gt; date separators</code>).</p>",
        "id": 661690,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1542244716
    },
    {
        "content": "<p>Ah, got it</p>",
        "id": 661691,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542244740
    },
    {
        "content": "<blockquote>\n<p>Tim Abbott: Ahh, for that we should be including a sender header after a date change; just not (as we previously had) a recipient header.</p>\n<p>Yeah, the simplest fix is sort of a partial revert: show a new sender header after the date separator, just not also a new recipient bar</p>\n</blockquote>\n<p>ah, agreed, great!</p>",
        "id": 661692,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542244885
    },
    {
        "content": "<p>FYI - I've noticed that the date on the recipient bar doesn't update correctly now; see <a href=\"https://github.com/zulip/zulip/pull/10839\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/10839\">#10839</a>.</p>",
        "id": 661725,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542260234
    },
    {
        "content": "<p>Copying over steps to repro:</p>\n<blockquote>\n<p>1. Go to any topic with messages sent more than a day apart so that a date separator can appear.<br>\n2. Scroll up in the message view to fetch earlier messages; observe the date on the recipient bar update to an earlier time.<br>\n3. Scroll down in the message view to more recent messages; the date on the recipient bar does not update.</p>\n</blockquote>",
        "id": 661726,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542260277
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"2255\">@Jack Zhang</span> yeah, I mentioned that in my first post on the thread <span class=\"emoji emoji-1f642\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 661737,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1542261874
    },
    {
        "content": "<p>I'm going to pull this off at this point; I think we've gotten the feedback we wanted and it's not production-ready.</p>",
        "id": 661738,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1542261889
    },
    {
        "content": "<p>oh, cool <span class=\"emoji emoji-1f642\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 661739,
        "sender_full_name": "Jack Zhang",
        "timestamp": 1542261951
    },
    {
        "content": "<p>It's interesting reading this, and the terms being used, having worked on similar issues with zulip-terminal :) There we currently have 'header' for 'recipient header' (that sounds like a good alternative) and 'content header' for ~'sender header', except that 'content header' is a combination of the sender &amp; date, and now also the star status.<br>\nI know the logic there incorporates some as in the webapp, but with some obvious differences due to the UI :)<br>\nThe related Z-T function is currently <a href=\"https://github.com/zulip/zulip-terminal/blob/master/zulipterminal/ui_tools/boxes.py#L285\" target=\"_blank\" title=\"https://github.com/zulip/zulip-terminal/blob/master/zulipterminal/ui_tools/boxes.py#L285\">here on github</a></p>",
        "id": 664271,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1543252884
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"2406\">@Neil Pilgrim</span> cool, yeah, I'd definitely recommend standardizing the terminal app on \"recipient header\" as a term; I think it's helpful.</p>",
        "id": 664541,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1543279825
    },
    {
        "content": "<p>We should probably add some sort of documentation page for this message feed terminology.</p>",
        "id": 664542,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1543279839
    },
    {
        "content": "<p>For developers, you mean?<br>\nI just renamed a few things in ZT to make it clearer in <a href=\"https://github.com/zulip/zulip-terminal/pull/172\" target=\"_blank\" title=\"https://github.com/zulip/zulip-terminal/pull/172\">#T172</a>.</p>",
        "id": 664582,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1543290398
    },
    {
        "content": "<p>We've de-deployed the date separator change from <a href=\"https://github.com/zulip/zulip/pull/10820\" target=\"_blank\" title=\"https://github.com/zulip/zulip/pull/10820\">#10820</a>, I believe with all the bugs fixed.  Feedback is much appreciated!</p>",
        "id": 678948,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1546651706
    },
    {
        "content": "<p>I think the (potentially) more complicated follow-up of having a more visible separator when there's a 10+ day gap will be helpful, as well as some basic styling changes.</p>",
        "id": 678954,
        "sender_full_name": "Rishi Gupta",
        "timestamp": 1546653966
    },
    {
        "content": "<p>We could pretty easily add some kind of markup for large date gaps and let designers style it accordingly.</p>",
        "id": 678955,
        "sender_full_name": "Steve Howell",
        "timestamp": 1546654332
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>  here is the example for redundant usage of date line dividers:<br>\n<a href=\"/user_uploads/2/27/uIQ2dHhaJ11KRNyxC4OHH4ot/image.png\">image.png</a> <br>\nWouldn't that be better?:<br>\n<a href=\"/user_uploads/2/f4/OlDxUNvCYvzK1vPlQPDw7NZa/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/27/uIQ2dHhaJ11KRNyxC4OHH4ot/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/27/uIQ2dHhaJ11KRNyxC4OHH4ot/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/f4/OlDxUNvCYvzK1vPlQPDw7NZa/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/f4/OlDxUNvCYvzK1vPlQPDw7NZa/image.png\"></a></div><p>So the flow of the eye would be like:</p>\n<ol>\n<li>Here is the current date of a message</li>\n<li>What was before that?</li>\n<li>Look at the top right corner if you don't see it just above the previous messages</li>\n</ol>",
        "id": 1327772,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644770551
    },
    {
        "content": "<p>I would be happy if we only showed one date in the date divider.  I also think we should experiment with right-aligning the date in the date divider, so that I don't have to scan so much horizontally.</p>",
        "id": 1327775,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644770969
    },
    {
        "content": "<p>I see no reason why \"Today\" shouldn't be aligned with the other date/time fields here:</p>\n<p><a href=\"/user_uploads/2/9b/g7dkNpIuVAQ9kzPnpo9s1r8a/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/9b/g7dkNpIuVAQ9kzPnpo9s1r8a/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/9b/g7dkNpIuVAQ9kzPnpo9s1r8a/image.png\"></a></div>",
        "id": 1327776,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644771100
    },
    {
        "content": "<p>Thats fair</p>",
        "id": 1327784,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644773078
    },
    {
        "content": "<p>but the thing is there is already a date on the right side</p>",
        "id": 1327785,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644773104
    },
    {
        "content": "<p><a href=\"/user_uploads/2/f2/exUhh3wwFEgUylqD-lUoejTG/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f2/exUhh3wwFEgUylqD-lUoejTG/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/f2/exUhh3wwFEgUylqD-lUoejTG/image.png\"></a></div>",
        "id": 1327786,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644773140
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> The recipient bar is not always there.  In the example that you give I am 60% sure that the recipient bar is there due to stream-subscribe event.</p>",
        "id": 1327793,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644775163
    },
    {
        "content": "<p>Here is another example where it's super easy to overlook the change in date, and even if know to look, it's annoying to scan back and forth.</p>\n<p><a href=\"/user_uploads/2/1f/vb5SQge6PzBbn5m9SiYrbAYl/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/1f/vb5SQge6PzBbn5m9SiYrbAYl/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/1f/vb5SQge6PzBbn5m9SiYrbAYl/image.png\"></a></div>",
        "id": 1327794,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644775243
    },
    {
        "content": "<p>(Both of my screenshots were taken from this topic in a topic-only view, since this topic is now a few days old.)</p>",
        "id": 1327795,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644775329
    },
    {
        "content": "<p>Ok, so if the actual logic of date dividers is something like: When you above messages are in a different data lets show date divider with a date for a subset of messages between today and the day before yesterday.<br>\nI agree that we should stick to a single straightforward way with dates to have some consistency.</p>",
        "id": 1327800,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644776994
    },
    {
        "content": "<p>Here is how I summarize it:</p>\n<ul>\n<li>If two consecutive messages differ <strong>only</strong> in date, then we want to have lightweight date dividers.</li>\n<li>If two consecutive messages differ in terms of recipients, then we want the recipient bars.</li>\n</ul>\n<p>The main difference between recipient bars and date dividers is that recipient bars include the recipients on the left, as well as options to edit, resolve, or mute.</p>",
        "id": 1327802,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644777614
    },
    {
        "content": "<p>For historical reference, we used to only have the concept of a recipient bar, and they felt overly clunky for two consecutive messages that only differed by date.  When we introduced the date dividers I think most people viewed it as a clear improvement, including me, although I clearly wish we take a second look at them.</p>",
        "id": 1327803,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644777744
    },
    {
        "content": "<p>So are these o points that you've listed mutually exclusive?</p>",
        "id": 1327804,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644778002
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/All.20Messages.20design.20test-drive/near/1327804\">said</a>:</p>\n<blockquote>\n<p>So are these o points that you've listed mutually exclusive?</p>\n</blockquote>\n<p>No, we sometimes have both a date divider and a recipient bar.  I am not sure how intentional that decision is.  You can see how it looks by going to a low-traffic stream such as <a class=\"stream\" data-stream-id=\"276\" href=\"/#narrow/stream/276-music\">#music</a> </p>\n<p><a href=\"/user_uploads/2/6b/UdCgfjujsEqgoald865InV5M/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6b/UdCgfjujsEqgoald865InV5M/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/6b/UdCgfjujsEqgoald865InV5M/image.png\"></a></div>",
        "id": 1327805,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644778308
    },
    {
        "content": "<p>In addition to aligning the going-forward date from the date dividers with the dates in the recipient bars, I think I would also prefer us to use the same fonts and colors, although I reserve the right to change my mind if we run an experiment with it.</p>",
        "id": 1327807,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644778453
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"58\">@Steve Howell (showell)</span> great example. So why do we need dividers or what is the logic in this case?</p>",
        "id": 1327809,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1644778696
    },
    {
        "content": "<p>I don't know the logic, but I find the date divider unnecessary there.  For the hybrid situation, I would add a little extra space above the recipient bar, I suppose.  I don't have a strong opinion here, since I spend most of my time in topic-only views, so I would definitely defer to folks who use more interleaved views on what our best solution should be here.</p>",
        "id": 1327812,
        "sender_full_name": "Steve Howell",
        "timestamp": 1644779025
    },
    {
        "content": "<p>I moved this discussion to its own topic, and now you get some historical context for free just by scrolling up. ;)</p>",
        "id": 1331128,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645145317
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/274459\">said</a>:</p>\n<blockquote>\n<p>I guess an alternative approach we could take is just have them highlight the new day (not the old one) and with greater visual weight on that (e.g. in the center of the bar).</p>\n</blockquote>\n<p>;)</p>",
        "id": 1331131,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645145450
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1327772\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span>  here is the example for redundant usage of date line dividers:<br>\n<a href=\"/user_uploads/2/27/uIQ2dHhaJ11KRNyxC4OHH4ot/image.png\">image.png</a> <br>\nWouldn't that be better?:<br>\n<a href=\"/user_uploads/2/f4/OlDxUNvCYvzK1vPlQPDw7NZa/image.png\">image.png</a> </p>\n<p>So the flow of the eye would be like:</p>\n<ol>\n<li>Here is the current date of a message</li>\n<li>What was before that?</li>\n<li>Look at the top right corner if you don't see it just above the previous messages</li>\n</ol>\n</blockquote>\n<p>in this example, you'd actually have to look up to the previous date line for the  Nov 19 message. But that's not necessarily a problem.</p>",
        "id": 1331134,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645145587
    },
    {
        "content": "<p>I'd be open to just showing the next date rather than the previous one. If we do that, I think we'll really want to drop the date line if it's immediately followed by a recipient bar, since it'll feel completely redundant.</p>",
        "id": 1331136,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1645145688
    },
    {
        "content": "<blockquote>\n<p>I'd be open to just showing the next date rather than the previous one. If we do that, I think we'll really want to drop the date line if it's immediately followed by a recipient bar, since it'll feel completely redundant.</p>\n</blockquote>\n<p>I'm not sure I get that, lets discuss on the meeting.</p>",
        "id": 1331149,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1645146452
    },
    {
        "content": "<p>I filed <a href=\"https://github.com/zulip/zulip/pull/22966\">#22966</a> and <a href=\"https://github.com/zulip/zulip/pull/22967\">#22967</a>. <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> are there redesign issues we should link to these?</p>",
        "id": 1436207,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1663264446
    },
    {
        "content": "<p>I should create one...</p>",
        "id": 1436533,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1663295258
    },
    {
        "content": "<p>Hey, I've created a PR which aims to fix both <a href=\"https://github.com/zulip/zulip/pull/22966\">#22966</a> and <a href=\"https://github.com/zulip/zulip/pull/22967\">#22967</a>. Is there anything I can do to move this forward or is this ready for a review/test?</p>\n<p><a href=\"https://github.com/zulip/zulip/pull/23099\">https://github.com/zulip/zulip/pull/23099</a></p>",
        "id": 1452390,
        "sender_full_name": "Joe Hughes",
        "timestamp": 1666183628
    },
    {
        "content": "<p>Thanks for checking! The next step is for <span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> to test-deploy your PR and <a href=\"https://github.com/zulip/zulip/pull/22661\">#22661</a> in this community when he gets a chance. Please feel free to pick up another issue in the meantime. :)</p>",
        "id": 1452421,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1666190544
    },
    {
        "content": "<p>Okay cool, I'll look for another issue in the meanwhile. :)</p>",
        "id": 1452435,
        "sender_full_name": "Joe Hughes",
        "timestamp": 1666194208
    },
    {
        "content": "<p>Hm, a couple of observations from the test deployment:</p>\n<ol>\n<li>The date alignment doesn't look quite right. It should be right-aligned with the date in the message header bar and the timestamps, whereas currently it's a tad to the right.</li>\n<li>I think we should try test-deploying this together with <a href=\"https://github.com/zulip/zulip/pull/22661\">#22661</a>, as otherwise the font discrepancy between the message header bar date and the divider date looks odd. <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> would you be up for resolving the conflicts on that PR?</li>\n</ol>",
        "id": 1468238,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669074942
    },
    {
        "content": "<p>But I think overall, I'm enjoying having all the dates / times consistently on the right!</p>",
        "id": 1468239,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669074982
    },
    {
        "content": "<p>Resolved conflicts on <a href=\"https://github.com/zulip/zulip/pull/22661\">#22661</a>.</p>",
        "id": 1468302,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669088887
    },
    {
        "content": "<p>Hm, playing around with both of the PRs deployed on CZO now, I'm still not sure about how the dates in the message header bar look next to the dates in the dividers.</p>\n<p>It seems especially awkward to me in PM conversations, where, on the right, the message header bar is not visually separated from the rest of the message.</p>\n<p><a href=\"/user_uploads/2/3e/3em3mVaJsqGDoVWFRoiMhM1u/Screen-Shot-2022-11-22-at-2.57.02-PM.png\">Screen-Shot-2022-11-22-at-2.57.02-PM.png</a><br>\n<a href=\"/user_uploads/2/11/UB3XQ9N-8nqr7YklxuVGpaxp/2022-11-22-14.58.09.gif\">2022-11-22-14.58.09.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3e/3em3mVaJsqGDoVWFRoiMhM1u/Screen-Shot-2022-11-22-at-2.57.02-PM.png\" title=\"Screen-Shot-2022-11-22-at-2.57.02-PM.png\"><img src=\"/user_uploads/2/3e/3em3mVaJsqGDoVWFRoiMhM1u/Screen-Shot-2022-11-22-at-2.57.02-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/2/11/UB3XQ9N-8nqr7YklxuVGpaxp/2022-11-22-14.58.09.gif\" title=\"2022-11-22-14.58.09.gif\"><img src=\"/user_uploads/2/11/UB3XQ9N-8nqr7YklxuVGpaxp/2022-11-22-14.58.09.gif\"></a></div><p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> for your thoughts</p>",
        "id": 1468843,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669158113
    },
    {
        "content": "<p>The timestamps feel a bit hard to read for me; I'm not sure whether it's the size or CSS details like <code>font-variant: small-caps</code>. Posting a screenshot in case it appears differently to users not on Linux:</p>\n<p><a href=\"/user_uploads/2/2b/rvgRNVoFBX0axqjcSr1Xt1bM/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/2b/rvgRNVoFBX0axqjcSr1Xt1bM/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/2b/rvgRNVoFBX0axqjcSr1Xt1bM/image.png\"></a></div>",
        "id": 1469013,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1669167665
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1468843\">said</a>:</p>\n<blockquote>\n<p>Hm, playing around with both of the PRs deployed on CZO now, I'm still not sure about how the dates in the message header bar look next to the dates in the dividers.</p>\n<p>It seems especially awkward to me in PM conversations, where, on the right, the message header bar is not visually separated from the rest of the message.</p>\n<p><a href=\"/user_uploads/2/3e/3em3mVaJsqGDoVWFRoiMhM1u/Screen-Shot-2022-11-22-at-2.57.02-PM.png\">Screen-Shot-2022-11-22-at-2.57.02-PM.png</a><br>\n<a href=\"/user_uploads/2/11/UB3XQ9N-8nqr7YklxuVGpaxp/2022-11-22-14.58.09.gif\">2022-11-22-14.58.09.gif</a></p>\n<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> for your thoughts</p>\n</blockquote>\n<p>I'm surprised that you don't have a header with a background. I do see such on CZO. In the design proposal there is always a topic bar:<br>\n<a href=\"/user_uploads/2/73/BT22Ny4MvdoJu5Q8XMOEntnc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/73/BT22Ny4MvdoJu5Q8XMOEntnc/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/73/BT22Ny4MvdoJu5Q8XMOEntnc/image.png\"></a></div>",
        "id": 1469439,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669258552
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span>  not sure what is going on, but I feel that in 100% scale the font size for the time is the same as the text (visually not smaller):<br>\n<a href=\"/user_uploads/2/52/j9F4WrQiCa7ylyiVX7WBWSax/image.png\">image.png</a> <br>\n\"Timestamp is hard to read\", is it easier if you remove small-caps? is it a habbit thing? is it a font size thing? <br>\nThe rendered font in the dark theme does look a bit bolder but it is a very minor thing.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/52/j9F4WrQiCa7ylyiVX7WBWSax/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/52/j9F4WrQiCa7ylyiVX7WBWSax/image.png\"></a></div><p>Does this work better for you?<br>\n<a href=\"/user_uploads/2/23/Kg5MKtsmCU3B7OEDpMy8BQm3/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/23/Kg5MKtsmCU3B7OEDpMy8BQm3/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/23/Kg5MKtsmCU3B7OEDpMy8BQm3/image.png\"></a></div><div class=\"codehilite\"><pre><span></span><code>font-size: 15px;\nfont-weight: 350;\nletter-spacing: 0.5px;\n</code></pre></div>",
        "id": 1469440,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669258884
    },
    {
        "content": "<blockquote>\n<p>I'm surprised that you don't have a header with a background. I do see such on CZO. In the design proposal there is always a topic bar:</p>\n</blockquote>\n<p>Hm, I'm looking on CZO as well. Light theme, in PMs.</p>",
        "id": 1469477,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669277432
    },
    {
        "content": "<p>Oh, now I see. But there should be a separator like in a topic... I guess it is another GitHub issue.<br>\nI didn't show that separately but isn't it should be the same as topic but with a different color: <a href=\"/user_uploads/2/6f/0Tmv0GSPz8ESdZ_Fmo4nwzcF/image.png\">image.png</a> ?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/6f/0Tmv0GSPz8ESdZ_Fmo4nwzcF/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/6f/0Tmv0GSPz8ESdZ_Fmo4nwzcF/image.png\"></a></div>",
        "id": 1469534,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669303244
    },
    {
        "content": "<p>Yeah, I guess the message header bar update is <a href=\"https://github.com/zulip/zulip/pull/22021\">#22021</a> (in-progress PR: <a href=\"https://github.com/zulip/zulip/pull/22430\">#22430</a>). </p>\n<p>Do others also feel like the current CZO experience feels odd in PMs, or is it just me? I'm wondering if we need to block the date separators change on being able to merge <a href=\"https://github.com/zulip/zulip/pull/22430\">#22430</a> as the same time. Or perhaps it would be possible to implement the PMs part of that issue? I'm not sure if it makes sense to split out.</p>",
        "id": 1469645,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669357855
    },
    {
        "content": "<p>I think it makes perfect sense to do so, especially from a development point of view. The changes required to get the new colors for PMs are much simpler than that for streams (which is a nightmare).</p>",
        "id": 1469656,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669361163
    },
    {
        "content": "<p>I can get the PMs part of the PR ready by next week. I am in the flow of writing code for scheduled messages overlay (which is a bigger project than I assumed it to be) and I don't want to interrupt that.</p>",
        "id": 1469657,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669361240
    },
    {
        "content": "<blockquote>\n<p>which is a nightmare</p>\n</blockquote>\n<p>why is that so?</p>",
        "id": 1469701,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669403699
    },
    {
        "content": "<p>I recall it had to do with stream color picker code library.</p>",
        "id": 1469766,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669436234
    },
    {
        "content": "<p>I don’t understand. I made it in a way that any color would work</p>",
        "id": 1469793,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669477457
    },
    {
        "content": "<p>Yeah, it has nothing to do with, I just need to spend some time on it.</p>",
        "id": 1469796,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669484118
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1469645\">said</a>:</p>\n<blockquote>\n<p>Yeah, I guess the message header bar update is <a href=\"https://github.com/zulip/zulip/pull/22021\">#22021</a> (in-progress PR: <a href=\"https://github.com/zulip/zulip/pull/22430\">#22430</a>). </p>\n<p>Do others also feel like the current CZO experience feels odd in PMs, or is it just me? I'm wondering if we need to block the date separators change on being able to merge <a href=\"https://github.com/zulip/zulip/pull/22430\">#22430</a> as the same time. Or perhaps it would be possible to implement the PMs part of that issue? I'm not sure if it makes sense to split out.</p>\n</blockquote>\n<p>I gave it a go and my conclusion is that we have to do stream and PM message-box redesign together since that's the way css and html for it are written and also to make them have similar design otherwise all messages would look bad, but perhaps we can decouple the stream color changes somehow...</p>",
        "id": 1470399,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669627841
    },
    {
        "content": "<p>We have <code>border-color</code> for message-box as <code>rgba(0, 0, 0, 0.3);</code> in dark theme, which is vague since our background color will change between new and old designs. <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> what would suggest as an alternative <code>border-color</code> for dark theme?</p>",
        "id": 1470433,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669633438
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1469645\">said</a>:</p>\n<blockquote>\n<p>Yeah, I guess the message header bar update is <a href=\"https://github.com/zulip/zulip/pull/22021\">#22021</a> (in-progress PR: <a href=\"https://github.com/zulip/zulip/pull/22430\">#22430</a>). </p>\n<p>Do others also feel like the current CZO experience feels odd in PMs, or is it just me? I'm wondering if we need to block the date separators change on being able to merge <a href=\"https://github.com/zulip/zulip/pull/22430\">#22430</a> as the same time. Or perhaps it would be possible to implement the PMs part of that issue? I'm not sure if it makes sense to split out.</p>\n</blockquote>\n<p>You can checkout <a href=\"https://github.com/zulip/zulip/pull/23684\">#23684</a> locally to see how the new dates would look with the latest PMs design. It is not ready for a review or test deploy. I need to work on the streams colors.</p>",
        "id": 1470480,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669648761
    },
    {
        "content": "<p>I think that's better... Still, <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> , could you talk about the decision to choose different fonts (different size and thickness) for the date in the topic header bar vs. in the date separator? Would it look less good to use the font we use on the date separator in the topic header bar?</p>",
        "id": 1470514,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669654309
    },
    {
        "content": "<p>Depending on the timestamp, the message icons are sometimes too close to it. <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> FYI</p>\n<p><a href=\"/user_uploads/2/2b/o88hn4mqe4112icMv3bfj9AJ/Screen-Shot-2022-11-28-at-10.50.44-AM.png\">Screen-Shot-2022-11-28-at-10.50.44-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/2b/o88hn4mqe4112icMv3bfj9AJ/Screen-Shot-2022-11-28-at-10.50.44-AM.png\" title=\"Screen-Shot-2022-11-28-at-10.50.44-AM.png\"><img src=\"/user_uploads/2/2b/o88hn4mqe4112icMv3bfj9AJ/Screen-Shot-2022-11-28-at-10.50.44-AM.png\"></a></div>",
        "id": 1470570,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669661504
    },
    {
        "content": "<p><a href=\"https://github.com/zulip/zulip/pull/23456\">#23456</a> will automatically fix this, so we shouldn't be concerned about that.</p>",
        "id": 1470587,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669663025
    },
    {
        "content": "<p>I think it was under designed. There is no particular reason. We could make them all be:</p>\n<div class=\"codehilite\" data-code-language=\"CSS\"><pre><span></span><code><span class=\"nt\">font-family</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s1\">'Source Sans 3'</span><span class=\"o\">;</span><span class=\"w\"></span>\n<span class=\"nt\">font-style</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">normal</span><span class=\"o\">;</span><span class=\"w\"></span>\n<span class=\"nt\">font-weight</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">600</span><span class=\"o\">;</span><span class=\"w\"></span>\n<span class=\"nt\">font-size</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">15px</span><span class=\"o\">;</span><span class=\"w\"></span>\n<span class=\"nt\">line-height</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">8px</span><span class=\"o\">;</span><span class=\"w\"></span>\n<span class=\"c\">/* identical to box height, or 53% */</span><span class=\"w\"></span>\n\n<span class=\"nt\">text-align</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">right</span><span class=\"o\">;</span><span class=\"w\"></span>\n<span class=\"nt\">letter-spacing</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">0</span><span class=\"p\">.</span><span class=\"nc\">02em</span><span class=\"o\">;</span><span class=\"w\"></span>\n<span class=\"nt\">font-variant</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">small-caps</span><span class=\"o\">;</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 1470888,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669682776
    },
    {
        "content": "<p>600 looks to heavy, 500 would be better, but for that the variable font should be loaded</p>",
        "id": 1470889,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669682826
    },
    {
        "content": "<p>if we are doing it from google we could use this line for that <code>https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300..700</code></p>",
        "id": 1470890,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669682873
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1470433\">said</a>:</p>\n<blockquote>\n<p>We have <code>border-color</code> for message-box as <code>rgba(0, 0, 0, 0.3);</code> in dark theme, which is vague since our background color will change between new and old designs. <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> what would suggest as an alternative <code>border-color</code> for dark theme?</p>\n</blockquote>\n<p>I suggest 20% black for the light theme and 50% white for the dark theme, but we might tune those later after some usage</p>",
        "id": 1470891,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669683199
    },
    {
        "content": "<p>We don’t rely on any external CDNs. We serve all our fonts ourselves, bundled by Webpack from their NPM packages. We can load extra weights or the variable versions, as long as we consider the potential impact on download times. I expect the variable versions are fine; they seem to be smaller than the two fixed weights we currently need to load anyway.</p>",
        "id": 1470943,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1669690477
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1470888\">said</a>:</p>\n<blockquote>\n<p>I think it was under designed. There is no particular reason. </p>\n</blockquote>\n<p>Cool, I'd be interested to see a version where the fonts are the same, as <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> describes. <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> would you be up for taking that on?</p>",
        "id": 1470951,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669692685
    },
    {
        "content": "<p>Okay!</p>",
        "id": 1470953,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669694002
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/zulip/zulip/pull/23696\">#23696</a></p>",
        "id": 1471036,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669720158
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> Could you check wether this PR is ready to be test-deployed here from your perspective?</p>",
        "id": 1471110,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669745693
    },
    {
        "content": "<p>Hm, I think the font on the date lines might be bolder than the font on the message header bars -- is that intentional?</p>",
        "id": 1471111,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669745805
    },
    {
        "content": "<p>It looks too bold to my eye, at least.</p>\n<p><a href=\"/user_uploads/2/70/SOuSqk0UtJDkdk4kGD3zzf96/Screen-Shot-2022-11-29-at-10.17.22-AM.png\">Screen-Shot-2022-11-29-at-10.17.22-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/70/SOuSqk0UtJDkdk4kGD3zzf96/Screen-Shot-2022-11-29-at-10.17.22-AM.png\" title=\"Screen-Shot-2022-11-29-at-10.17.22-AM.png\"><img src=\"/user_uploads/2/70/SOuSqk0UtJDkdk4kGD3zzf96/Screen-Shot-2022-11-29-at-10.17.22-AM.png\"></a></div>",
        "id": 1471113,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669745855
    },
    {
        "content": "<p>Yep looks too bold</p>",
        "id": 1471155,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669749557
    },
    {
        "content": "<p>Check if there is a font with actual width available</p>",
        "id": 1471156,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669749574
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span>  what if you make wight as  500?</p>",
        "id": 1471431,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669774449
    },
    {
        "content": "<p><a href=\"/user_uploads/2/f8/Kfi1CxBrVYQnq7bOZ3-zD0QV/Screenshot-2022-11-30-at-10.22.44-PM.png\">600</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f8/Kfi1CxBrVYQnq7bOZ3-zD0QV/Screenshot-2022-11-30-at-10.22.44-PM.png\" title=\"600\"><img src=\"/user_uploads/2/f8/Kfi1CxBrVYQnq7bOZ3-zD0QV/Screenshot-2022-11-30-at-10.22.44-PM.png\"></a></div><p><a href=\"/user_uploads/2/c4/0J4ZKJ8vW9T1oNekLPXDbpqu/Screenshot-2022-11-30-at-10.22.20-PM.png\">500</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c4/0J4ZKJ8vW9T1oNekLPXDbpqu/Screenshot-2022-11-30-at-10.22.20-PM.png\" title=\"500\"><img src=\"/user_uploads/2/c4/0J4ZKJ8vW9T1oNekLPXDbpqu/Screenshot-2022-11-30-at-10.22.20-PM.png\"></a></div>",
        "id": 1471635,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669827196
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1471155\">said</a>:</p>\n<blockquote>\n<p>Yep looks too bold</p>\n</blockquote>\n<p>Can you check again for <code>600</code>, I changed the font weight but when I added commits from other PR, it got overridden. I updated the PR to correct it too.</p>",
        "id": 1471638,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669827419
    },
    {
        "content": "<p>Could you remind me the link to PR?</p>",
        "id": 1471786,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669842775
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1471786\">said</a>:</p>\n<blockquote>\n<p>Could you remind me the link to PR?</p>\n</blockquote>\n<p><a href=\"https://github.com/zulip/zulip/pull/23696\">#23696</a></p>",
        "id": 1471818,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669845702
    },
    {
        "content": "<p>Made my comments in the PR</p>",
        "id": 1472061,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669869246
    },
    {
        "content": "<p>Updated the PR<br>\n<a href=\"/user_uploads/2/97/ufQjCfOcY2Zifl7cy1L-28Yl/Screenshot-2022-12-01-at-12.37.27-PM.png\">Screenshot-2022-12-01-at-12.37.27-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/97/ufQjCfOcY2Zifl7cy1L-28Yl/Screenshot-2022-12-01-at-12.37.27-PM.png\" title=\"Screenshot-2022-12-01-at-12.37.27-PM.png\"><img src=\"/user_uploads/2/97/ufQjCfOcY2Zifl7cy1L-28Yl/Screenshot-2022-12-01-at-12.37.27-PM.png\"></a></div>",
        "id": 1472105,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669878508
    },
    {
        "content": "<p>That screenshot looks good to me!</p>",
        "id": 1472109,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669879233
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> It would be good to get the CZO test-deployment updated when you get a chance.</p>",
        "id": 1472110,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1669879263
    },
    {
        "content": "<p>I posted a comment on <a href=\"https://github.com/zulip/zulip/pull/23696\">#23696</a>, but the timestamps are unreadable on my monitor with that version, so holding off until a next revision. I'll pull the existing experiment off since I'm doing a deployment now and I think we want to just go directly to the revised <a href=\"https://github.com/zulip/zulip/pull/23696\">#23696</a>. Will be good to restore folks' memory of the original design anyway.</p>",
        "id": 1472741,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1669944132
    },
    {
        "content": "<p>I feel the main difference for me is dates are less visible to me, with the new design I always tend to notice them. This may or may not be a good thing. For new users this is great I guess.</p>",
        "id": 1472833,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1669949441
    },
    {
        "content": "<p>I mast say that my zulip is at 125% scale always. Even the redesigned font sizes would be small for me <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> I would love those which are in hello page example</p>",
        "id": 1472834,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1669949573
    },
    {
        "content": "<p>Yeah, maybe it's worth talking a bit about what our goals are. I think they are:</p>\n<ul>\n<li>For all date/time details to be legible when you choose to look at them.</li>\n<li>For all date/time details to draw less visual attention than the message content and stream/topic -- we don't want a date to be bolder than say the stream or topic name.</li>\n<li>For your eyes to not naturally feel the need to read them as part of reading a message, even though they're in the same line -- having a greyer font than the message body really helps with this.</li>\n<li>For it be visually easy to scan the right column to absorb the time of a message (directly in the row) as well as the date (visually scan up until you find a date). For this reason, dates looking visually distinct from times is important, but I'm not sure we need to do much to achieve this, in that times are shorter and contain only digits.</li>\n</ul>",
        "id": 1473285,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1670011521
    },
    {
        "content": "<p>I also think that having the dates in the message header bar and on the divider lines match visually helps it feel nice as you scroll.</p>",
        "id": 1473505,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670017671
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> general font size (zoom) is a big factor here. </p>\n<p>As we saw (PR conversation) small caps vs general numbers with the same visual size are not that different. If it makes a difference for your eye, I'm ok with that. But</p>\n<p>I designed things a bit larger just because you guys were strongly asking to maintain the \"density\". I also suggest to start implementation of message redesign from typography first. I support the idea of variable size config, but I doubt many people will tune that instead of <code>Ctrl+-</code> in their browser.</p>\n<p>You guys stopped all that behind the reason that you need to agree with <span class=\"user-mention\" data-user-id=\"699\">@Anders Kaseorg</span> on how the font-size would be handled in general.<br>\nHaving a variable font-size is a significant requirement on the design. While the majority of people just zoom the browser.</p>\n<p>If the process of redesign would be like that for any little part of the UI (agreement on goals and feelings on implementation phase instead of mocks review phase) we wouldn't finish it in 2024...</p>\n<blockquote>\n<p>but If we can start defining a menu of specific font configurations (color, weight, settings, ) that we intend to use in redesign components, that we can use in some sort of consistent fashion, that would make integrating changes like this feel a lot easier</p>\n</blockquote>\n<p>Earlier I asked to have a <a href=\"https://storybook.js.org/\">storybook</a> in which I could provide all the component parts. This would improve the speed of agreement and speed of redesign delivery. The reason you guys said no to that, because you wanted to remove Bootstrap... <br>\nHaving storybook which isn't using Bootstrap and having all the custom styles would help to replace components across the app properly.</p>",
        "id": 1473885,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1670112232
    },
    {
        "content": "<p>You may have misunderstood if you thought we don’t want Storybook—this is very much one of our goals. Bootstrap, and other CSS disorganization problems, are an obstacle to our goals including this one.</p>",
        "id": 1473905,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1670117310
    },
    {
        "content": "<p>Maybe there’s some value in trying to get Storybook running before the Bootstrap removal project is finished—but until Bootstrap is gone, we’ll need to keep in mind that Bootstrap causes many components to look different just by being there, even including components that don’t explicitly refer to Bootstrap classes.</p>",
        "id": 1473908,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1670117835
    },
    {
        "content": "<p>I see storybook as a helper in organization and a way to quickly validate how things behave without full integration in the Zulip app. I also would like to have a quicker way to share components/design parts in order to validate them prior to integration. I'll try something outside the zulip repo. Just as a tool to hand off the design. And later we can see if it's effective and helpful at all.</p>",
        "id": 1474003,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1670176992
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"699\">Anders Kaseorg</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1473905\">said</a>:</p>\n<blockquote>\n<p>You may have misunderstood if you thought we don’t want Storybook—this is very much one of our goals. Bootstrap, and other CSS disorganization problems, are an obstacle to our goals including this one.</p>\n</blockquote>\n<p>Yeah, agreed!</p>",
        "id": 1476410,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1670460458
    },
    {
        "content": "<p>One thing that we'll need to check before merging this is how \"Message edit history\" and \"Drafts\" look -- both reuse some of the styles changed here and at least message edit history looks weird on <a href=\"http://chat.zulip.org\">chat.zulip.org</a> in a way that I suspect is caused by this branch.</p>",
        "id": 1476413,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1670460526
    },
    {
        "content": "<p>Hm, yeah, it looks like the time stamps in message edit history are shifted vertically.</p>\n<p>We should also decide how we feel about center vs. left alignment for the date dividers in edit history. Center (as in <code>main</code>) looks better to me there.</p>",
        "id": 1476530,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670478522
    },
    {
        "content": "<p>Drafts seem OK to me... It makes sense for the dates to be styled the same there as in message header bars.</p>",
        "id": 1476531,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670478572
    },
    {
        "content": "<p>Is there a known issue with the bigger font date/time horizontally colliding with message stars?<br>\n(eg. for format of 10:03am)</p>",
        "id": 1476585,
        "sender_full_name": "Neil Pilgrim (neiljp)",
        "timestamp": 1670485449
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2406\">Neil Pilgrim (neiljp)</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1476585\">said</a>:</p>\n<blockquote>\n<p>Is there a known issue with the bigger font date/time horizontally colliding with message stars?<br>\n(eg. for format of 10:03am)</p>\n</blockquote>\n<p>Yeah, <span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> noted that <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1470570\">here</a>. And <span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> replied that it will be fixed in <a href=\"https://github.com/zulip/zulip/pull/23456\">#23456</a>, see <a class=\"stream-topic\" data-stream-id=\"6\" href=\"/#narrow/stream/6-frontend/topic/grid.20fror.20message_body\">#frontend &gt; grid fror message_body</a>.</p>",
        "id": 1476636,
        "sender_full_name": "Lauryn Menard",
        "timestamp": 1670497653
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1476530\">said</a>:</p>\n<blockquote>\n<p>Hm, yeah, it looks like the time stamps in message edit history are shifted vertically.</p>\n<p>We should also decide how we feel about center vs. left alignment for the date dividers in edit history. Center (as in <code>main</code>) looks better to me there.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> Could you please update the PR to fix this?</p>",
        "id": 1478883,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670919194
    },
    {
        "content": "<p>How are folks are feeling about the new design now that we've had it up for a little while? (Note the design goals <span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> mentioned <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1473285\">here</a>.)</p>",
        "id": 1478884,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670919305
    },
    {
        "content": "<p>before:<br>\n<a href=\"/user_uploads/2/ce/dEnpdKun9QTMgpDrCEU3zS7S/main.png\">main.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ce/dEnpdKun9QTMgpDrCEU3zS7S/main.png\" title=\"main.png\"><img src=\"/user_uploads/2/ce/dEnpdKun9QTMgpDrCEU3zS7S/main.png\"></a></div><p>after:<br>\n<a href=\"/user_uploads/2/11/qC-7Vm-qRm9EKANZbMy_OdKZ/PR.png\">PR.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/11/qC-7Vm-qRm9EKANZbMy_OdKZ/PR.png\" title=\"PR.png\"><img src=\"/user_uploads/2/11/qC-7Vm-qRm9EKANZbMy_OdKZ/PR.png\"></a></div><p>Would you like to see more padding above the time?</p>",
        "id": 1478913,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670927977
    },
    {
        "content": "<p>Seems OK to me? (I think the \"before\" and \"after\" labels are swapped?)</p>",
        "id": 1479056,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670953330
    },
    {
        "content": "<p>Before is <code>upstream/main</code> and after is the PR that is deployed on <a href=\"http://chat.zulip.org\">chat.zulip.org</a>.</p>",
        "id": 1479693,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670996812
    },
    {
        "content": "<p>Oh, so the point I was making is that the date should be centered like in <code>main</code> in this modal.</p>",
        "id": 1479696,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1670997027
    },
    {
        "content": "<p>Ok, will do.</p>",
        "id": 1479697,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1670997201
    },
    {
        "content": "<p>Updated. <br>\n<a href=\"/user_uploads/2/3d/fjiTXADbly9Rvg_8XrorCUlP/Screenshot-2022-12-14-at-12.40.42-PM.png\">Screenshot-2022-12-14-at-12.40.42-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/3d/fjiTXADbly9Rvg_8XrorCUlP/Screenshot-2022-12-14-at-12.40.42-PM.png\" title=\"Screenshot-2022-12-14-at-12.40.42-PM.png\"><img src=\"/user_uploads/2/3d/fjiTXADbly9Rvg_8XrorCUlP/Screenshot-2022-12-14-at-12.40.42-PM.png\"></a></div>",
        "id": 1479752,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1671001957
    },
    {
        "content": "<p>Looks good, thanks!</p>",
        "id": 1479907,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1671043584
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1478884\">said</a>:</p>\n<blockquote>\n<p>How are folks are feeling about the new design now that we've had it up for a little while? (Note the design goals <span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> mentioned <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1473285\">here</a>.)</p>\n</blockquote>\n<p>I've been liking the new design. The date divider lines aren't as distracting for me with the date on the right side and I like having the date / time all in the same visual space.</p>\n<p>The only thing I find distracting is the overlap with the star messages, which I know will be fixed/addressed as noted above.</p>",
        "id": 1479932,
        "sender_full_name": "Lauryn Menard",
        "timestamp": 1671044526
    },
    {
        "content": "<p>This experiment is temporarily undeployed since it merge conflicts majorly with <a class=\"stream-topic\" data-stream-id=\"6\" href=\"/#narrow/stream/6-frontend/topic/message_row.20css.20redo\">#frontend &gt; message_row css redo</a>, which is a project that'll unblock several other projects.</p>",
        "id": 1480356,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1671068441
    },
    {
        "content": "<p>I've deployed an updated version of this, with significant styling changes as well as improved visual alignment (though we're still aware of one bug with zoom around 120% and certain message shapes). Feedback is very much appreciated!</p>",
        "id": 1493428,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1674179286
    },
    {
        "content": "<p>I like the deployed version!</p>",
        "id": 1493433,
        "sender_full_name": "Greg Price",
        "timestamp": 1674179681
    },
    {
        "content": "<p>One small quibble: when there's a date separator not far above or below a recipient bar and therefore close to a date there, it becomes visible that different dates are just <em>slightly</em> out of alignment with each other.</p>\n<p>I think the main thing here is that it would be good to put the dates in a font variant with tabular numerals: <a href=\"https://w3c.github.io/csswg-drafts/css-fonts/#valdef-font-variant-numeric-tabular-nums\">what CSS calls</a> <code>font-variant-numeric: tabular-nums</code>, or OpenType calls feature <code>tnum</code>.</p>",
        "id": 1493435,
        "sender_full_name": "Greg Price",
        "timestamp": 1674179860
    },
    {
        "content": "<p>Do you specifically mean this looking different because 13 != 14 and we're not using a monospace font (so <code>3</code> and <code>4</code> have a different width), or something some other layout detail?</p>\n<p><a href=\"/user_uploads/2/ba/ai1bzCY374wFQSaqLrn5j1ka/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/ba/ai1bzCY374wFQSaqLrn5j1ka/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/ba/ai1bzCY374wFQSaqLrn5j1ka/image.png\"></a></div>",
        "id": 1493436,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1674179941
    },
    {
        "content": "<p>The aspect I particularly like about the new design is that dates in both the date separators and the recipient bars are in the same column visually, so that it's easy to scan them in one place.</p>",
        "id": 1493437,
        "sender_full_name": "Greg Price",
        "timestamp": 1674179943
    },
    {
        "content": "<p>Right, exactly. Except that it's not quite about a monospace font — many fonts have a variant form of specifically the numeric digits, where the digits are all the same width as each other but still in the same style as the rest of the font.</p>",
        "id": 1493438,
        "sender_full_name": "Greg Price",
        "timestamp": 1674180009
    },
    {
        "content": "<p>Yeah, I agree that part is clearly an improvement; and required some care to arrange, since we have different backgrounds.</p>",
        "id": 1493439,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1674180011
    },
    {
        "content": "<p>And it looks like Source Sans Pro is such a font — search for \"tnum\":<br>\n<a href=\"https://beautifulwebtype.com/source-sans-pro/\">https://beautifulwebtype.com/source-sans-pro/</a><br>\n(using a site I learned about from <span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> recently)</p>",
        "id": 1493442,
        "sender_full_name": "Greg Price",
        "timestamp": 1674180191
    },
    {
        "content": "<p>We use source sans 3 not pro but features should be the same</p>",
        "id": 1493454,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1674183544
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> can you try adding the <code>font-variant-numeric</code> CSS rule and see how that looks?</p>",
        "id": 1493768,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1674248354
    },
    {
        "content": "<p>I don't know if it makes a difference but I updated the PR. <a href=\"/user_uploads/2/7/IyLg9j0CxCLmE9-3uaYehRbQ/Screenshot-2023-01-23-at-2.00.30-PM.png\">Screenshot-2023-01-23-at-2.00.30-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/7/IyLg9j0CxCLmE9-3uaYehRbQ/Screenshot-2023-01-23-at-2.00.30-PM.png\" title=\"Screenshot-2023-01-23-at-2.00.30-PM.png\"><img src=\"/user_uploads/2/7/IyLg9j0CxCLmE9-3uaYehRbQ/Screenshot-2023-01-23-at-2.00.30-PM.png\"></a></div>",
        "id": 1494741,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1674462678
    },
    {
        "content": "<p>In that screenshot, it looks like both sides are still getting proportional numerals instead of tabular numerals. Compare in particular \"20\" to \"21\" — the \"2\" is farther left when there's a \"0\" after it than when there's a \"1\", showing that the \"0\" is wider than the \"1\".</p>",
        "id": 1494976,
        "sender_full_name": "Greg Price",
        "timestamp": 1674496099
    },
    {
        "content": "<p>There's a guideline being drawn in teal at the far end of the dates, but the end has been aligned all along. The part that's not aligned is anything to the left of the rightmost digit.</p>",
        "id": 1494981,
        "sender_full_name": "Greg Price",
        "timestamp": 1674496228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1494976\">said</a>:</p>\n<blockquote>\n<p>In that screenshot, it looks like both sides are still getting proportional numerals instead of tabular numerals. Compare in particular \"20\" to \"21\" — the \"2\" is farther left when there's a \"0\" after it than when there's a \"1\", showing that the \"0\" is wider than the \"1\".</p>\n</blockquote>\n<p>Yeah, it is not working.</p>",
        "id": 1495584,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1674535262
    },
    {
        "content": "<p>We could use a monospace font here or put each character in a HTML div with fixed width to achieve it.</p>",
        "id": 1495585,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1674535528
    },
    {
        "content": "<p>I think we can merge the PR except the last commit if this is the only issue left with it so that it unblocks floating recipient bar.</p>",
        "id": 1495587,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1674535654
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1495585\">said</a>:</p>\n<blockquote>\n<p>We could use a monospace font here or put each character in a HTML div with fixed width to achieve it.</p>\n</blockquote>\n<p>I think the next thing I'd suggest trying, before those bigger hammers, is to apply the <code>font-variant-caps: all-small-caps;</code> to just the alphabetic part, i.e. the month name.</p>\n<p>Experimenting in browser devtools, I can see that turning off that value entirely causes the <code>tabular-nums</code> value to start working. So if we can stop applying it to the digits, that will do the job.</p>",
        "id": 1495590,
        "sender_full_name": "Greg Price",
        "timestamp": 1674536363
    },
    {
        "content": "<p>Doing that might be a bit messy. If it gets too messy, we can live with the slight misalignment.</p>\n<p>I think wrapping each digit in an HTML element with a fixed width would probably be messier than selectively applying the small caps; and using a monospace font would be a bigger sacrifice in the visuals than the misalignment is.</p>",
        "id": 1495591,
        "sender_full_name": "Greg Price",
        "timestamp": 1674536479
    },
    {
        "content": "<p>Seems like the real fix here is that there shouldn't be any conflict between those two font features: they apply to disjoint sets of characters (letters and digits, respectively.) So if we want the letters to have small caps and the digits to be tabular, we should be able to just specify both properties and have it work.</p>",
        "id": 1495592,
        "sender_full_name": "Greg Price",
        "timestamp": 1674536687
    },
    {
        "content": "<p>guys if are so annoyed by small caps in dates and times replacing them with regular font isn't a big deal</p>",
        "id": 1495614,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1674539615
    },
    {
        "content": "<p>They’re not actually disjoint. Source Sans 3 comes with small-cap numerals. If it didn’t, you’d be seeing the date numbers be larger than the month letters.</p>",
        "id": 1495615,
        "sender_full_name": "Anders Kaseorg",
        "timestamp": 1674539629
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"699\">Anders Kaseorg</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1495615\">said</a>:</p>\n<blockquote>\n<p>They’re not actually disjoint. Source Sans 3 comes with small-cap numerals. If it didn’t, you’d be seeing the date numbers be larger than the month letters.</p>\n</blockquote>\n<p>Hmmm, yeah that makes sense. So then the hiccup is just that they don't have small-cap tabular numerals.</p>",
        "id": 1496032,
        "sender_full_name": "Greg Price",
        "timestamp": 1674584438
    },
    {
        "content": "<p>On a bigger scale  time values do look ugly <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> but Tim said that all caps numbers are hardly recognizable, so I'm happy that we have days  in caps <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 1497107,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1674706728
    },
    {
        "content": "<p>But do you guys think that lines for date separators should be a bit more contrasty?</p>",
        "id": 1497108,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1674706808
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22433\">Vlad Korobov</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1497108\">said</a>:</p>\n<blockquote>\n<p>But do you guys think that lines for date separators should be a bit more contrasty?</p>\n</blockquote>\n<p>Hm, might be worth trying for light theme. Seems OK to me in dark theme, but I don't regularly use it.</p>",
        "id": 1497127,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1674711804
    },
    {
        "content": "<p>Yeah, the contrast looks fine in the dark theme, but often one needs a bit more in the light theme, so I'd be happy to see someone tweak that.</p>",
        "id": 1498429,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1674868993
    },
    {
        "content": "<p>OK, let's try switching to not using the small-caps font variant; given the issues with tabular numerals here and with i18n in <a class=\"stream-topic\" data-stream-id=\"9\" href=\"/#narrow/stream/9-issues/topic/translation.20tags.20missing.3F\">#issues &gt; translation tags missing?</a>, I think we're going to be happier. </p>\n<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> do you want to try such a tweak aiming for a similar look in terms of size?</p>",
        "id": 1498430,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1674869113
    },
    {
        "content": "<p>I'd really like to get this PR settled since redoing the floating recipient bar using <code>position:sticky</code> is blocked from being test-deployed here due to merge conflicts with this change.</p>",
        "id": 1498431,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1674869164
    },
    {
        "content": "<p><a href=\"/user_uploads/2/69/VJiJOdc4e9x-RJyk8FDtqDrj/Screenshot-2023-01-30-at-12.17.06-PM.png\">Screenshot-2023-01-30-at-12.17.06-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/69/VJiJOdc4e9x-RJyk8FDtqDrj/Screenshot-2023-01-30-at-12.17.06-PM.png\" title=\"Screenshot-2023-01-30-at-12.17.06-PM.png\"><img src=\"/user_uploads/2/69/VJiJOdc4e9x-RJyk8FDtqDrj/Screenshot-2023-01-30-at-12.17.06-PM.png\"></a></div><p>Updated the PR(<a href=\"https://github.com/zulip/zulip/pull/23696\">#23696</a>) although I liked the small-caps variant better.</p>",
        "id": 1498925,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1675061259
    },
    {
        "content": "<p>Should we reduce the font-size further for date?</p>",
        "id": 1498926,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1675061280
    },
    {
        "content": "<p>I think we want to keep the message header bars and the dividers looking the same; it's a nice feature of the design we currently have deployed.</p>",
        "id": 1499170,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1675099504
    },
    {
        "content": "<p>I agree that the date on the divider looks too big.</p>",
        "id": 1499171,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1675099513
    },
    {
        "content": "<p>Not only that. It looks bug in the topic bar big too. Did we make the decision to not do small caps for dates and time?</p>",
        "id": 1499448,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1675118234
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> proposed trying it without the small-caps just above:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1498430\">said</a>:</p>\n<blockquote>\n<p>OK, let's try switching to not using the small-caps font variant; given the issues with tabular numerals here and with i18n in <a class=\"stream-topic\" data-stream-id=\"9\" href=\"/#narrow/stream/9-issues/topic/translation.20tags.20missing.3F\">#issues &gt; translation tags missing?</a>, I think we're going to be happier. </p>\n<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> do you want to try such a tweak aiming for a similar look in terms of size?</p>\n</blockquote>",
        "id": 1499474,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1675119888
    },
    {
        "content": "<p>To be clear, I think my proposal was to not do small caps for times given the internationalization issues.</p>",
        "id": 1499482,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675124109
    },
    {
        "content": "<p>Dates probably have the same issue, though. I agree the dates look wrong in the screenshot above -- we want something with the same visual size, not the same font size, and small-caps effectively changes the ratio between visual size and font size by like 20%.</p>",
        "id": 1499483,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675124211
    },
    {
        "content": "<p>What do want to try next here? Should we test deploy floating recipient bar changes?</p>",
        "id": 1499696,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1675169418
    },
    {
        "content": "<p><a href=\"/user_uploads/2/c/O0ywGeOLOFHN6yGIIpf8yepS/image.png\">image.png</a>  - here up is no all caps letters and down caps for comparison<br>\nDates:</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c/O0ywGeOLOFHN6yGIIpf8yepS/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/c/O0ywGeOLOFHN6yGIIpf8yepS/image.png\"></a></div><div class=\"codehilite\" data-code-language=\"CSS\"><pre><span></span><code><span class=\"nt\">font-style</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">normal</span><span class=\"o\">;</span>\n<span class=\"nt\">font-weight</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">600</span><span class=\"o\">;</span>\n<span class=\"nt\">font-size</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">13px</span><span class=\"o\">;</span>\n<span class=\"nt\">line-height</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">17px</span><span class=\"o\">;</span>\n<span class=\"c\">/* identical to box height, or 131% */</span>\n<span class=\"nt\">text-align</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">right</span><span class=\"o\">;</span>\n<span class=\"nt\">letter-spacing</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">0</span><span class=\"p\">.</span><span class=\"nc\">04em</span><span class=\"o\">;</span>\n</code></pre></div>\n<p>Times:</p>\n<div class=\"codehilite\" data-code-language=\"CSS\"><pre><span></span><code><span class=\"nt\">font-family</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s1\">'Source Sans 3'</span><span class=\"o\">;</span>\n<span class=\"nt\">font-style</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">normal</span><span class=\"o\">;</span>\n<span class=\"nt\">font-weight</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">400</span><span class=\"o\">;</span>\n<span class=\"nt\">font-size</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">12px</span><span class=\"o\">;</span>\n<span class=\"nt\">line-height</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">14px</span><span class=\"o\">;</span>\n<span class=\"c\">/* identical to box height, or 117% */</span>\n\n<span class=\"nt\">text-align</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nt\">right</span><span class=\"o\">;</span>\n</code></pre></div>\n<p>Source Sans 3 has tabular numbers by default</p>",
        "id": 1499700,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1675171747
    },
    {
        "content": "<p>date separator line in the light theme: lets try 35% transparent black</p>",
        "id": 1499702,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1675171904
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span></p>",
        "id": 1499703,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1675171909
    },
    {
        "content": "<p><a href=\"/user_uploads/2/c7/WkxXQpQ8zSBSjMreB5A7Mbiq/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c7/WkxXQpQ8zSBSjMreB5A7Mbiq/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/c7/WkxXQpQ8zSBSjMreB5A7Mbiq/image.png\"></a></div>",
        "id": 1499711,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1675176285
    },
    {
        "content": "<p>That screenshot looks good to me.</p>",
        "id": 1499822,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1675187749
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> for times, that is already what we were using and dates are in caps in your screenshot but you don't have anything to that effect in the CSS.</p>",
        "id": 1503322,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1675681907
    },
    {
        "content": "<p>I pushed an update to <a href=\"https://github.com/zulip/zulip/pull/23696\">#23696</a>, <span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> it would be great if you can review.</p>",
        "id": 1506700,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676011735
    },
    {
        "content": "<p>I did review, made one comment which is more of a taste thing...</p>",
        "id": 1508016,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1676352435
    },
    {
        "content": "<p>Thanks, updated the PR.</p>",
        "id": 1508030,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1676360542
    },
    {
        "content": "<p>Hm, the dates look surprisingly big to me in this version. Do we actually want them to be much bigger than the time stamps? Since they are also in a heavier font, they are really standing out.</p>\n<p><a href=\"/user_uploads/2/24/RDO7irlP_wBvY5ZtHyrIWpK4/Screen-Shot-2023-02-21-at-2.07.01-PM.png\">Screen-Shot-2023-02-21-at-2.07.01-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/24/RDO7irlP_wBvY5ZtHyrIWpK4/Screen-Shot-2023-02-21-at-2.07.01-PM.png\" title=\"Screen-Shot-2023-02-21-at-2.07.01-PM.png\"><img src=\"/user_uploads/2/24/RDO7irlP_wBvY5ZtHyrIWpK4/Screen-Shot-2023-02-21-at-2.07.01-PM.png\"></a></div>",
        "id": 1510948,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1677017289
    },
    {
        "content": "<p>Also, the date in the message header bar looks aligned a little high to me?</p>\n<p><a href=\"/user_uploads/2/72/NngS2MSNA7pv24z_ZTuZQSrJ/_15___Verona___file_server_-_Zulip_Dev_-_Zulip.png\">_15___Verona___file_server_-_Zulip_Dev_-_Zulip.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/72/NngS2MSNA7pv24z_ZTuZQSrJ/_15___Verona___file_server_-_Zulip_Dev_-_Zulip.png\" title=\"_15___Verona___file_server_-_Zulip_Dev_-_Zulip.png\"><img src=\"/user_uploads/2/72/NngS2MSNA7pv24z_ZTuZQSrJ/_15___Verona___file_server_-_Zulip_Dev_-_Zulip.png\"></a></div>",
        "id": 1510949,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1677017326
    },
    {
        "content": "<p>That is due to difference in font size, they are both center aligned vertically. I can move it by 1px if it is that evident to you.</p>",
        "id": 1511379,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677089311
    },
    {
        "content": "<blockquote>\n<p>Do we actually want them to be much bigger than the time stamps? </p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"22433\">@Vlad Korobov</span> FYI</p>",
        "id": 1511380,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677089356
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> I suggest to make them size 12 <a href=\"/user_uploads/2/46/zi4rl757mGk6dkj2eACjUMp8/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/46/zi4rl757mGk6dkj2eACjUMp8/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/46/zi4rl757mGk6dkj2eACjUMp8/image.png\"></a></div>",
        "id": 1511996,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677133646
    },
    {
        "content": "<p>I don't know what that would be in em, but 12 px works ok to me</p>",
        "id": 1511997,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677133671
    },
    {
        "content": "<p>and vertical alignment could be tuned by the eye - it is also ok to movenit it by 1 px if needed after changing size to 12</p>",
        "id": 1511999,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677133712
    },
    {
        "content": "<p>The alignment also got fixed after changing the font size to 12px, updated the PR.</p>",
        "id": 1512019,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677136547
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span> how do you feel about that now?</p>",
        "id": 1512137,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677167365
    },
    {
        "content": "<p>The message header bars look OK to me, but the date in the divider lines needs to be smaller too, to match.</p>\n<p><a href=\"/user_uploads/2/45/gkUJ_LxWFeWLINAgFLtLcEFm/Screen-Shot-2023-02-23-at-9.45.22-AM.png\">Screen-Shot-2023-02-23-at-9.45.22-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/45/gkUJ_LxWFeWLINAgFLtLcEFm/Screen-Shot-2023-02-23-at-9.45.22-AM.png\" title=\"Screen-Shot-2023-02-23-at-9.45.22-AM.png\"><img src=\"/user_uploads/2/45/gkUJ_LxWFeWLINAgFLtLcEFm/Screen-Shot-2023-02-23-at-9.45.22-AM.png\"></a></div>",
        "id": 1512205,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1677174355
    },
    {
        "content": "<p>Okay.</p>",
        "id": 1512302,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677179866
    },
    {
        "content": "<p>Updated the PR.</p>",
        "id": 1512313,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1677180663
    },
    {
        "content": "<p>OK I've merged this version after one more bug fix and will deploy it here later today. I think we should feel free to do further tweaks from here if needed, but I think it's at this point clearly better than what we had in <code>main</code>.</p>",
        "id": 1512519,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1677192103
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span> for working on this, with the new message design I see that date separators line are too contrasty in the light mode.</p>",
        "id": 1517476,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677818792
    },
    {
        "content": "<p>Originally I made them <code>background: hsla(0, 0%, 0%, 0.2);</code> now they are pure black with 0.35 opacity. Lets make them <code>opacity: 0.15;</code> And could we move the text label down by 1 px down or a line by 1 px up?<br>\nThere is no need to have 1 px gap on the right side. It was my mistake as you noticed. <span class=\"user-mention\" data-user-id=\"5140\">@Aman (amanagr)</span></p>",
        "id": 1517479,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677819059
    },
    {
        "content": "<p>In the dark mode I don't want to suggest anything until the background is the good one there</p>",
        "id": 1517480,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1677819097
    },
    {
        "content": "<p>Okay done.</p>",
        "id": 1518965,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678100794
    },
    {
        "content": "<p>Will add changes to <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a>.</p>",
        "id": 1518967,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678100832
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/date.20separators/near/1518965\">said</a>:</p>\n<blockquote>\n<p>Okay done.</p>\n</blockquote>\n<p>Where should Insee this?</p>",
        "id": 1519061,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1678112446
    },
    {
        "content": "<p>Heh, related feedback from an open community:</p>\n<p>@_<strong>Olivier FAURE|326152</strong> <a href=\"https://xi.zulipchat.com/#narrow/stream/147923-zulip/topic/UI.20change.20in.20delimiters/near/339850956\">said</a>:</p>\n<blockquote>\n<p>Is it just me or did the delimiters between days change a bit? They're thinner and darker now, I think<br>\nMy immediate reaction is I don't like it too much, but it might just be a question of habit</p>\n</blockquote>",
        "id": 1519219,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1678123880
    },
    {
        "content": "<p>Added fix in <a href=\"https://github.com/zulip/zulip/pull/23782\">#23782</a></p>",
        "id": 1519847,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1678195024
    }
]