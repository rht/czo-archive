[
    {
        "content": "<p>Hey everyone, It would be great if I can get suggestions regarding the improvement of the dropdown button in recent topic view (Upon which I have been working recently).<br>\nHere are a few screenshot from UI and UX point of view.</p>\n<p>Here's the overall look and the behavior of dropdown widget  - <br>\n<a href=\"/user_uploads/2/f3/GXbOefqIZgFZ1Kb1pRCj_kNy/recent-topic.gif\">recent-topic.gif</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f3/GXbOefqIZgFZ1Kb1pRCj_kNy/recent-topic.gif\" title=\"recent-topic.gif\"><img src=\"/user_uploads/2/f3/GXbOefqIZgFZ1Kb1pRCj_kNy/recent-topic.gif\"></a></div><p>The individual screenshots looks like - </p>\n<ul>\n<li>\n<p>The button when none of the filters is selected (which kind of looks ugly) - <br>\n<a href=\"/user_uploads/2/bd/VWoXtlbofAcgODwAgaCr0R51/Screenshot-from-2021-07-24-00-31-02.png\">Screenshot-from-2021-07-24-00-31-02.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bd/VWoXtlbofAcgODwAgaCr0R51/Screenshot-from-2021-07-24-00-31-02.png\" title=\"Screenshot-from-2021-07-24-00-31-02.png\"><img src=\"/user_uploads/2/bd/VWoXtlbofAcgODwAgaCr0R51/Screenshot-from-2021-07-24-00-31-02.png\"></a></div></li>\n<li>\n<p>Button when a filter is selected - <br>\n<a href=\"/user_uploads/2/a0/U07Pa6JJA2G_BtQRh7yA1A6l/Screenshot-from-2021-07-24-00-30-57.png\">Screenshot-from-2021-07-24-00-30-57.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/a0/U07Pa6JJA2G_BtQRh7yA1A6l/Screenshot-from-2021-07-24-00-30-57.png\" title=\"Screenshot-from-2021-07-24-00-30-57.png\"><img src=\"/user_uploads/2/a0/U07Pa6JJA2G_BtQRh7yA1A6l/Screenshot-from-2021-07-24-00-30-57.png\"></a></div></li>\n<li>\n<p>The dropdown - <br>\n<a href=\"/user_uploads/2/d9/CWNou32qRtONzyXNLZsxU-Xb/Screenshot-from-2021-07-24-00-29-46.png\">Screenshot-from-2021-07-24-00-29-46.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/d9/CWNou32qRtONzyXNLZsxU-Xb/Screenshot-from-2021-07-24-00-29-46.png\" title=\"Screenshot-from-2021-07-24-00-29-46.png\"><img src=\"/user_uploads/2/d9/CWNou32qRtONzyXNLZsxU-Xb/Screenshot-from-2021-07-24-00-29-46.png\"></a></div></li>\n</ul>\n<p>I remember <span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> suggesting better designs for it but since then our styles for dropdown widget button have changed. Would love to get a fresh ones :)</p>",
        "id": 1237509,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1627068579
    },
    {
        "content": "<p>Also, not sure as why isn't the <code>.sea-green</code> CSS style applying to the \"Filter\" button.</p>",
        "id": 1237517,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1627068772
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"17098\">@Aryan Shridhar</span> one thing that seems a bit off is that the height of the widget doesn't match that of the filter element right next to it.</p>",
        "id": 1237845,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1627083426
    },
    {
        "content": "<p>Is the base component ready to merge?  I seem to recall we might have wanted to use the same component for filtering streams.</p>",
        "id": 1237848,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1627083462
    },
    {
        "content": "<p>Small thing: when we list multiple selected filters, there should be a space after the comma.</p>",
        "id": 1237922,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627090423
    },
    {
        "content": "<p>When you have a PR to play with, that might make it easier to comment on the UX.</p>",
        "id": 1237923,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627090477
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Recent.20topic.20dropdown/near/1237848\">said</a>:</p>\n<blockquote>\n<p>Is the base component ready to merge?  I seem to recall we might have wanted to use the same component for filtering streams.</p>\n</blockquote>\n<p>It's almost done except than to fix the failing <code>list_widget</code> node tests to regain coverage which should be a minor task. Will ping when ready :)</p>",
        "id": 1238371,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1627147023
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> <a href=\"https://github.com/zulip/zulip/pull/18954\">#18954</a> is ready for the first round of review which implements the base component :)</p>",
        "id": 1240316,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1627501154
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Recent.20topic.20dropdown/near/1237923\">said</a>:</p>\n<blockquote>\n<p>When you have a PR to play with, that might make it easier to comment on the UX.</p>\n</blockquote>\n<p>I opened <a href=\"https://github.com/zulip/zulip/pull/19445\">#19445</a> as a draft pr for it :) Would be great if you could fetch it and play around with it whenever free!</p>\n<p>The UI improvement I have noted so far - </p>\n<ul>\n<li>The button's height seems a bit off when compared to input bar right next to it. </li>\n<li>To add a space after the each selected item in dropdown button text (english convention).</li>\n</ul>\n<p>Also, I had a major doubt that struck be later! Will it be intuitive enough for users to know that deselecting all the filters triggers the <code>All</code> filter back again ?</p>",
        "id": 1241210,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1627671626
    },
    {
        "content": "<p>Great, thanks! Here's some feedback from playing around with it:</p>\n<ol>\n<li>Selecting an option should immediately apply it. If we do that, we no longer need the \"Filter\" button in the dropdown.</li>\n<li>Outside of the dropdown, rather than a comma-separated list of selected options, we should display a pill for each one. Each pill should have an <code>x</code> on the right so that you can get rid of it.</li>\n<li>Rather than a \"No filters\" button with a pencil, we should use a funnel icon (same as the streams filter in the left sidebar). It's standard enough that we probably don't need a word next to it.</li>\n</ol>",
        "id": 1241335,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627687810
    },
    {
        "content": "<blockquote>\n<p>Selecting an option should immediately apply it. If we do that, we no longer need the \"Filter\" button in the dropdown.</p>\n</blockquote>\n<p>I guess you meant that we should filter the table with the dropdown being open, right ? If that's the case, would it be intuitive enough for users to know that clicking anywhere outside the dropdown/pressing escape will close the dropdown ?</p>",
        "id": 1242042,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1627886725
    },
    {
        "content": "<blockquote>\n<p>I guess you meant that we should filter the table with the dropdown being open, right ?</p>\n</blockquote>\n<p>Yes, that's exactly what I had in mind. :)</p>\n<blockquote>\n<p>If that's the case, would it be intuitive enough for users to know that clicking anywhere outside the dropdown/pressing escape will close the dropdown ?</p>\n</blockquote>\n<p>I think it should be...</p>",
        "id": 1242290,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1627930667
    },
    {
        "content": "<p>Yeah, that's what I'd expect with a widget of this form as well -- our popovers all close when you click outside the same way.  So I think you can proceed with that tweak <span class=\"user-mention\" data-user-id=\"17098\">@Aryan Shridhar</span> .</p>",
        "id": 1242408,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1627937808
    },
    {
        "content": "<p><a href=\"/user_uploads/2/c6/IK15y5cQJyG1ni-RXvJsfr9g/pill_rt.gif\">pill_rt.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c6/IK15y5cQJyG1ni-RXvJsfr9g/pill_rt.gif\" title=\"pill_rt.gif\"><img src=\"/user_uploads/2/c6/IK15y5cQJyG1ni-RXvJsfr9g/pill_rt.gif\"></a></div>",
        "id": 1249197,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1629695225
    },
    {
        "content": "<p>How about something like this?</p>",
        "id": 1249198,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1629695240
    },
    {
        "content": "<p>We now remove pill on clicking anywhere on it.</p>",
        "id": 1249199,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1629695276
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/Recent.20topic.20dropdown/near/1249198\">said</a>:</p>\n<blockquote>\n<p>How about something like this?</p>\n</blockquote>\n<p>The visuals look good. However, the checkmark kind of looks unnecessary in my opinion. Also, we decided to have the checkmark for the selected dropdown items right ?</p>",
        "id": 1249369,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1629780219
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/Recent.20topic.20dropdown/near/1249199\">said</a>:</p>\n<blockquote>\n<p>We now remove pill on clicking anywhere on it.</p>\n</blockquote>\n<p>Yup, I thought of that earlier. But it doesn't handle the case when the user wants to focus any pill. Or should we neglect that case ?</p>",
        "id": 1249370,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1629780357
    },
    {
        "content": "<p>We can ignore focus on click.</p>",
        "id": 1249377,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1629783592
    },
    {
        "content": "<p>tab to focus should still work.</p>",
        "id": 1249378,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1629783605
    },
    {
        "content": "<p>This way it seems that it will not be possible to turn on/off the filters from the keyboard. Or am I missing something?</p>",
        "id": 1249420,
        "sender_full_name": "Ivan Gretsky",
        "timestamp": 1629791907
    },
    {
        "content": "<p>Its still possible. The focus events are similar to what we currently have. Additionally, pressing \"Backspace\" on any filter will remove it.</p>",
        "id": 1249435,
        "sender_full_name": "Aryan Shridhar",
        "timestamp": 1629793497
    },
    {
        "content": "<p>Not sure if this is off topic or not, but if you filter recent topics like on the screenshot and there is no topics that fit that filter,  there is no way to clear that filter from the keyboard.<br>\n<a href=\"/user_uploads/2/18/Gv7F_uVCx0r7Tac_zAuusdgD/image.png\">image.png</a><br>\nThe only way to clear the filter is with a mouse, which breaks the worklow.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/18/Gv7F_uVCx0r7Tac_zAuusdgD/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/18/Gv7F_uVCx0r7Tac_zAuusdgD/image.png\"></a></div>",
        "id": 1249504,
        "sender_full_name": "Ivan Gretsky",
        "timestamp": 1629798030
    },
    {
        "content": "<p>Looking into it.</p>",
        "id": 1249553,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1629812647
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/Recent.20topic.20dropdown/near/1249197\">said</a>:</p>\n<blockquote>\n<p><a href=\"/user_uploads/2/c6/IK15y5cQJyG1ni-RXvJsfr9g/pill_rt.gif\">pill_rt.gif</a></p>\n</blockquote>\n<p>Seems reasonable to me, but I think the color might be too bright. Oftentimes, the user might not need to interact with the filters when visiting the Recent Topics page, so they probably shouldn't attract as much visual attention as the compose box \"Send\" button does.</p>",
        "id": 1251065,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1630437732
    },
    {
        "content": "<p>Okay. I will coordinate with Aryan to get this integrated.</p>",
        "id": 1252499,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1630904407
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"5140\">Aman Agrawal (amanagr)</span> <a href=\"#narrow/stream/101-design/topic/Recent.20topic.20dropdown/near/1249553\">said</a>:</p>\n<blockquote>\n<p>Looking into it.</p>\n</blockquote>\n<p>Opened <a href=\"https://github.com/zulip/zulip/pull/19678\">#19678</a></p>",
        "id": 1252503,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1630906756
    },
    {
        "content": "<p>Reviving this, I think it is important we finish this first.</p>",
        "id": 1307445,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1641836332
    },
    {
        "content": "<p>What's the current state of this work?</p>",
        "id": 1307450,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1641836903
    },
    {
        "content": "<p>It works but needs some polishing. I will just do that and update the PR. <a href=\"/user_uploads/2/e2/fv_tV59iUHBH_CnzgmPVAvXm/Screenshot-2022-01-10-at-11.20.54-PM.png\">Screenshot-2022-01-10-at-11.20.54-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/e2/fv_tV59iUHBH_CnzgmPVAvXm/Screenshot-2022-01-10-at-11.20.54-PM.png\" title=\"Screenshot-2022-01-10-at-11.20.54-PM.png\"><img src=\"/user_uploads/2/e2/fv_tV59iUHBH_CnzgmPVAvXm/Screenshot-2022-01-10-at-11.20.54-PM.png\"></a></div>",
        "id": 1307455,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1641837086
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> have you had a chance to update this?</p>",
        "id": 1318271,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1643409661
    },
    {
        "content": "<p>The commits in the PR are in a bad state. So, my suggestion is we merge <code>Add stream filter to Recent topics.</code> <a href=\"https://github.com/zulip/zulip/pull/20256\">#20256</a> first. Then add multiselect feature to it. Then, we can move the rest of the filters to using multiselect dropdown widget. It will be a much easier change. Right now, none of our widgets use multiselect dropdown widget; so, using it in stream filter will be a good test for that.</p>",
        "id": 1318517,
        "sender_full_name": "Aman (amanagr)",
        "timestamp": 1643436796
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"5140\">@Aman Agrawal (amanagr)</span> oh cool, yeah I'll take a look at that.</p>",
        "id": 1334478,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1645736810
    }
]