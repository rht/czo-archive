[
    {
        "content": "<p>The shadow at the bottom of the link preview seems out of place. Would it be better to remove it for a cleaner and more streamlined design?<br>\n<a href=\"/user_uploads/2/bd/-FY1X2cclavGt_gQBNi33p32/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/bd/-FY1X2cclavGt_gQBNi33p32/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/bd/-FY1X2cclavGt_gQBNi33p32/image.png\"></a></div>",
        "id": 1605298,
        "sender_full_name": "Hardik Dharmani",
        "timestamp": 1688674561
    },
    {
        "content": "<p>I support it, unless there is a big reason to have it. I guess it was used to mask out the end of the link preview</p>",
        "id": 1605301,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1688674848
    },
    {
        "content": "<p>That certainly looks broken in the dark theme, which looks to me like some colors we forgot to change with the redesign, but I think some version of a fade/cutoff might be required with the current design in cases where the preview text goes a lot longer.</p>",
        "id": 1605372,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1688679882
    },
    {
        "content": "<p>In this case could <span class=\"user-mention\" data-user-id=\"21453\">@Evy</span> suggest how to fix that, since they did work on More/Less interaction?</p>",
        "id": 1606399,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1688820175
    },
    {
        "content": "<p>I can take a look :)</p>",
        "id": 1606403,
        "sender_full_name": "Evy",
        "timestamp": 1688822438
    },
    {
        "content": "<p>(I use they pronouns not she pronouns btw!)</p>",
        "id": 1606404,
        "sender_full_name": "Evy",
        "timestamp": 1688822440
    },
    {
        "content": "<p>Why do we set a max-height on the preview? Could we let it take whatever height it takes? That would look better than what we currently do.</p>\n<p>examples with a random news article I found:</p>\n<p><a href=\"/user_uploads/2/f/ym1JDvkgmwn1gQDfZtiWWT7h/image.png\">allow full height</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/f/ym1JDvkgmwn1gQDfZtiWWT7h/image.png\" title=\"allow full height\"><img src=\"/user_uploads/2/f/ym1JDvkgmwn1gQDfZtiWWT7h/image.png\"></a></div><p><a href=\"/user_uploads/2/64/3YUAzo71_nQlmPBOXBTYvEGS/image.png\">what we currently do</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/64/3YUAzo71_nQlmPBOXBTYvEGS/image.png\" title=\"what we currently do\"><img src=\"/user_uploads/2/64/3YUAzo71_nQlmPBOXBTYvEGS/image.png\"></a></div>",
        "id": 1608708,
        "sender_full_name": "Evy",
        "timestamp": 1689223543
    },
    {
        "content": "<p>Long blurbs could be handled by the more/less toggle</p>\n<p><a href=\"/user_uploads/2/83/hrlrt6xAhmL8OT6G_3_zvXXN/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/83/hrlrt6xAhmL8OT6G_3_zvXXN/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/83/hrlrt6xAhmL8OT6G_3_zvXXN/image.png\"></a></div>",
        "id": 1608709,
        "sender_full_name": "Evy",
        "timestamp": 1689223678
    },
    {
        "content": "<p>Here's a PR with my proposed solution: <a href=\"https://github.com/zulip/zulip/pull/26251\">#26251</a></p>",
        "id": 1608715,
        "sender_full_name": "Evy",
        "timestamp": 1689225122
    },
    {
        "content": "<p>What if there is a super big description? Like 2 pages? And you have 2 links to that website in the middle if you log message?</p>",
        "id": 1608866,
        "sender_full_name": "Vlad Korobov",
        "timestamp": 1689250252
    },
    {
        "content": "<p>I think the fact that folks can turn off previews for themselves at least partly mitigates Vlad's concern.</p>",
        "id": 1608946,
        "sender_full_name": "Steve Howell",
        "timestamp": 1689253248
    },
    {
        "content": "<p><del>@<strong>Evy|21453</strong> Does condense/collapse also somewhat address Vlad's concern?</del> (Never mind, you already answered that.)</p>",
        "id": 1608963,
        "sender_full_name": "Steve Howell",
        "timestamp": 1689254806
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"21453\">Evy</span> <a href=\"#narrow/stream/101-design/topic/shadow.20at.20bottom.20of.20link.20preview/near/1608709\">said</a>:</p>\n<blockquote>\n<p>Long blurbs could be handled by the more/less toggle</p>\n</blockquote>\n<p>Just to be clear, there is nothing special about preview here that stops the code from automatically condensing long previews, correct?</p>",
        "id": 1608969,
        "sender_full_name": "Steve Howell",
        "timestamp": 1689254949
    },
    {
        "content": "<p>Yeah I tried it and it would condense long previews</p>",
        "id": 1609011,
        "sender_full_name": "Evy",
        "timestamp": 1689258361
    },
    {
        "content": "<p>I also shared some screenshots in the PR I linked to :)</p>",
        "id": 1609012,
        "sender_full_name": "Evy",
        "timestamp": 1689258401
    },
    {
        "content": "<p>Hmm, my main concern with this change is the visual experience in the desktop case:</p>\n<div class=\"message_inline_image\"><a href=\"https://user-images.githubusercontent.com/5634097/253164936-764a0096-3a6c-402f-b2b0-9ef94ba9caaa.png\"><img src=\"/external_content/95009747c9194996896caac728e4ea0d563c6159/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f353633343039372f3235333136343933362d37363461303039362d336136632d343032662d623262302d3965663934626139636161612e706e67\"></a></div><div class=\"message_inline_image\"><a href=\"https://user-images.githubusercontent.com/5634097/253165198-9d2c309b-bb6c-4e6d-9478-63761f8455d0.png\"><img src=\"/external_content/8d1f88892b036745b59ae9d77d9ac9cdb8018639/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f353633343039372f3235333136353139382d39643263333039622d626236632d346536642d393437382d3633373631663834353564302e706e67\"></a></div>",
        "id": 1609053,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1689261129
    },
    {
        "content": "<p>Having the end of the previewed content basically aligned with the bottom of the image looks way better in that left (before) screenshot than not doing so in the right (after) screenshot.</p>",
        "id": 1609054,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1689261175
    },
    {
        "content": "<p>I wonder if there's some other tweak we can make that would improve it.</p>",
        "id": 1609055,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1689261188
    },
    {
        "content": "<p>I feel like part of what makes it look ugly is the dead space at the right side of the message body, hmm.</p>",
        "id": 1609056,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1689261235
    },
    {
        "content": "<p>Ah yeah good point!</p>",
        "id": 1609061,
        "sender_full_name": "Evy",
        "timestamp": 1689261350
    },
    {
        "content": "<p>How about this?</p>\n<p><a href=\"/user_uploads/2/c3/DKdPVq7MyO4YqSGyWCzbmWTi/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/c3/DKdPVq7MyO4YqSGyWCzbmWTi/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/c3/DKdPVq7MyO4YqSGyWCzbmWTi/image.png\"></a></div><p><a href=\"/user_uploads/2/69/U1iISr4k8iIJRDQbBdiUbr2h/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/69/U1iISr4k8iIJRDQbBdiUbr2h/image.png\" title=\"image.png\"><img src=\"/user_uploads/2/69/U1iISr4k8iIJRDQbBdiUbr2h/image.png\"></a></div>",
        "id": 1609063,
        "sender_full_name": "Evy",
        "timestamp": 1689261569
    },
    {
        "content": "<p>That's less ugly, certainly, but now has the downside of being huge -- there's a big downside to having the website previews feature enabled if every time you post a link that it processes, you end up with a half-screen height giant blob. (This can be really bad if, say, this happens when you post a link to say a PR on GitHub and get a giant GitHub logo on its own line every time. We can figure out a way to exclude GitHub specifically, maybe, but you get the idea).</p>\n<p>Whereas the previous design was intended to keep these previews to 20-25% of a normal screen height.</p>",
        "id": 1609076,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1689261820
    },
    {
        "content": "<p>See <a class=\"stream-topic\" data-stream-id=\"101\" href=\"/#narrow/stream/101-design/topic/image.20preview.20sizing.20.2F.20settings\">#design &gt; image preview sizing / settings</a> for more on sizing (forgot to send a notification here).</p>",
        "id": 1609164,
        "sender_full_name": "Evy",
        "timestamp": 1689263832
    }
]