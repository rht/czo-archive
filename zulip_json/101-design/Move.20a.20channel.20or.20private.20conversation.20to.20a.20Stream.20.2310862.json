[
    {
        "content": "<p>I just had a conversation with someone who administers Zulip at a company, whose top feature request was <a href=\"https://github.com/zulip/zulip/pull/10862\">#10862</a>. It would be good to get consensus on a plan for this issue.</p>\n<p>The feature request is the ability to convert PM conversations to streams. I think the most common use case for this is starting a group PM conversation and then realizing that more people need to be included in the discussion.</p>\n<p>The comments on GitHub have a bunch of discussion about granting permission to have one's messages moved to a stream. Here's a possible proposal:</p>\n<p>1) It will be possible to convert a PM conversation (or part of one) to a stream. Explicit consent from participants will not be required.<br>\n2) The default membership for the new stream will be the current participants of the PM thread.<br>\n3) PM messages will have a \"Convert to stream\" option in the three-dot menu, which will let users select between the same three options for which messages to move as we have for moving topics (\"entire conversation\", \"just this message\", or \"messages from here onwards\").<br>\n4) The conversion option will also be available in a three-dot menu for the PM thread in the left sidebar; accessing it from there would move the entire conversation.</p>\n<p>Regarding the privacy concerns, when creating the stream, the user could choose whether to make it \"Private, shared history\" or \"Private, protected history\". I think it's reasonable to give the user creating the stream the responsibility of managing the privacy concerns if they choose the shared history option and add more people. Perhaps we could also make it required to initially add all members of the PM thread to the stream, so that they know that the stream was created.</p>\n<p>Thoughts?</p>",
        "id": 1288490,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638299834
    },
    {
        "content": "<p>I am a pretty passionate believer in the upside of this feature (and was kind of surprised not to find myself commenting on that issue).  I agree with the broad strokes of the plan above.  I definitely think that a person should be able to upgrade a PM to a private stream (i.e. #1 above), but I do have concerns about allowing private-shared-history without explicit opt-in from the other participant(s).</p>",
        "id": 1288535,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638300369
    },
    {
        "content": "<p>It'd obviously be mostly (but not completely) pointless to have a crippled version of this feature that only allowed you to auto-create a private stream with no history available to the future participants that you add, since the major motivation for the feature is to conveniently share the history with people that you're adding in.  Even saying that, I could imagine a timid V1 of this where you only allow private, protected history.  Alice and Bob would see their whole convo, but they'd need to summarize or copy/paste for Clara.</p>",
        "id": 1288561,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638300785
    },
    {
        "content": "<p>I am wondering for small private streams (whether they started as PMs or not), how hard would it be to have a mechanism that lets you upgrade from protected to share if all participants agree?</p>",
        "id": 1288564,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638301013
    },
    {
        "content": "<p>I've had this thought before, and even felt the lack of it (group pms with GSoC mentees), so strongly in support of doing something here.<br>\nI have concerns over privacy, I'd like explicit consent, but I'm not sure what the mechanism for providing that would be.</p>",
        "id": 1288565,
        "sender_full_name": "Yash RE",
        "timestamp": 1638301014
    },
    {
        "content": "<p>I feel like explicit consent is pretty much required here, even assuming good actors.  Having the UI manage consent would actually save the benevolent actor from having to ask everybody if it's ok.</p>",
        "id": 1288568,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638301111
    },
    {
        "content": "<p>Setting aside coding complexity, I could imagine a version of this where you have a quasi-shared history where you see full messages from all the folks who consented to shared history, and you'd see rows in the feed for non-consenters that only showed when they replied with some kind of \"Bob has not shared his history yet\" kind of text.</p>",
        "id": 1288576,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638301328
    },
    {
        "content": "<p>I don't imagine anything truly complex about an architecture/UI where you elicit consent, but it's obviously non-trivial.</p>",
        "id": 1288578,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638301413
    },
    {
        "content": "<p>It would probably require an additional DB table to manage the protected-to-shared upgrade.</p>",
        "id": 1288581,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638301472
    },
    {
        "content": "<p>(or maybe we get some DB love for free by having some kind of Historian role where a Historian is a stream participant who agrees to share her history from prior to the PM-to-stream promotion event)</p>",
        "id": 1288583,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638301600
    },
    {
        "content": "<p>I linked to here from the GH issue: <a href=\"https://github.com/zulip/zulip/issues/10862#issuecomment-982972815\">https://github.com/zulip/zulip/issues/10862#issuecomment-982972815</a></p>",
        "id": 1288592,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638302437
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288576\">said</a>:</p>\n<blockquote>\n<p>Setting aside coding complexity, I could imagine a version of this where you have a quasi-shared history where you see full messages from all the folks who consented to shared history, and you'd see rows in the feed for non-consenters that only showed when they replied with some kind of \"Bob has not shared his history yet\" kind of text.</p>\n</blockquote>\n<p>Mm, maybe something like that would work... I do think it would cause significant annoyance if you had to wait for everyone to consent before anything could happen. One often wants to convert in the middle of an active conversation, and it would be frustrating to have to wait for the one person who stepped away to approve.</p>",
        "id": 1288595,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638302689
    },
    {
        "content": "<p>I could also imagine whether consent is required being controlled by an org setting... In a business context, even your PMs are part of your work communications, and privacy expectations are reduced.</p>",
        "id": 1288599,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638302800
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288490\">said</a>:</p>\n<blockquote>\n<p>Regarding the privacy concerns, when creating the stream, the user could choose whether to make it \"Private, shared history\" or \"Private, protected history\". I think it's reasonable to give the user creating the stream the responsibility of managing the privacy concerns if they choose the shared history option and add more people. Perhaps we could also make it required to initially add all members of the PM thread to the stream, so that they know that the stream was created.</p>\n</blockquote>\n<p>I like this plan.</p>\n<p>Fundamentally the effect of this feature (as far as privacy is concerned) is to take some PMs that the person using the feature already has, and share their contents with more people. That's something the person already has the ability to do, regardless of any special product features -- they can always copy and paste, or screenshot.</p>\n<p>It's important that the UX give that person a reasonable set of choices -- like whether to share history or not. And it's important that it let them clearly see what they're doing. Given those two things, the result that ends up happening is something that that person consciously chose to do. Because they already fundamentally could do the same thing, I don't think the feature would then really infringe on anyone's privacy.</p>",
        "id": 1288608,
        "sender_full_name": "Greg Price",
        "timestamp": 1638303399
    },
    {
        "content": "<p>My view on this is in the issue comment thread and hasn't changed, where I proposed the consent option. IMHO the privacy concerns are exaggerated as I stated. Today I actually copy conversations and send them by e-mail to get others up to speed! Clumsy and worse in terms of privacy. Much better privacy to move to a stream still inside Zulip. <br>\nBut if one is to be very privacy focused, we really need the consent infrastructure. This suggestion makes it even better:<br>\n<span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288576\">said</a>:</p>\n<blockquote>\n<p>Setting aside coding complexity, I could imagine a version of this where you have a quasi-shared history where you see full messages from all the folks who consented to shared history, and you'd see rows in the feed for non-consenters that only showed when they replied with some kind of \"Bob has not shared his history yet\" kind of text.</p>\n</blockquote>",
        "id": 1288617,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638304104
    },
    {
        "content": "<p>But I really want to emphasize one (IMHO) important thing: I really need the option to convert the private conversation to a topic (new or even existing) in an existing stream. Convert to a stream, fine. But we are prone to stream creep. In most cases what I want is to move the conversation into a topic in an existing stream.</p>",
        "id": 1288623,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638304328
    },
    {
        "content": "<blockquote>\n<p>In most cases what I want is to move the conversation into a topic in an existing stream.</p>\n</blockquote>\n<p>Mm, that's an interesting point.</p>",
        "id": 1288629,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638304530
    },
    {
        "content": "<p>Just to throw another use case into the mix, I have often wanted to upgrade a conversation just to get topics with the original participants, and I don’t even expect to invite others.</p>",
        "id": 1288633,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638304763
    },
    {
        "content": "<p>Another data point for me is that usually when I have wanted to upgrade conversations to streams, my other participants are still very actively online, so based on my experience I would imagine that consent would be pretty easy to achieve with a reasonable UI (and quick).</p>",
        "id": 1288640,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638305022
    },
    {
        "content": "<blockquote>\n<p>In most cases what I want is to move the conversation into a topic in an existing stream.</p>\n</blockquote>\n<p>If we can create new streams from a conversation, this would just be create stream then move topic and delete stream.</p>",
        "id": 1288644,
        "sender_full_name": "Yash RE",
        "timestamp": 1638305173
    },
    {
        "content": "<p>I understand the argument that private conversations are only truly private insofar as you can rely on other participants not to copy and paste the conversation or otherwise violate your privacy, but I do think there should be some level of friction.</p>",
        "id": 1288645,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638305283
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"9808\">Yash RE</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288644\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>In most cases what I want is to move the conversation into a topic in an existing stream.</p>\n</blockquote>\n<p>If we can create new streams from a conversation, this would just be create stream then move topic and delete stream.</p>\n</blockquote>\n<p>But that's a pain, and feels messy -- I don't think creating a temporary stream to delete would be a good solution for that use case.</p>",
        "id": 1288670,
        "sender_full_name": "Greg Price",
        "timestamp": 1638307179
    },
    {
        "content": "<p>Yeah, it's also complicated in terms of permissions. E.g. on CZO a moderator can create a stream and move a topic, but can't delete a stream.</p>",
        "id": 1288676,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638307328
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288629\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>In most cases what I want is to move the conversation into a topic in an existing stream.</p>\n</blockquote>\n<p>Mm, that's an interesting point.</p>\n</blockquote>\n<p>Yeah. Quite possibly this should be the case that the design is centered on. Then if you want to create a new stream, you can do that using the usual create-stream UI, and move the conversation into there.</p>",
        "id": 1288677,
        "sender_full_name": "Greg Price",
        "timestamp": 1638307351
    },
    {
        "content": "<p>If it's based on the normal move-conversation UI, it'll be important that there be something clearly communicating to the user what they're asking to do -- that it's going to make these messages visible to that stream, which is public / has N people who aren't in the existing thread / has shared history for future subscribers.</p>",
        "id": 1288681,
        "sender_full_name": "Greg Price",
        "timestamp": 1638307443
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288640\">said</a>:</p>\n<blockquote>\n<p>Another data point for me is that usually when I have wanted to upgrade conversations to streams, my other participants are still very actively online, so based on my experience I would imagine that consent would be pretty easy to achieve with a reasonable UI (and quick).</p>\n</blockquote>\n<p>What I'm imagining in a work context is that people are mostly online/active, but someone might disappear into a sequence of meetings, and now everyone is stuck.</p>",
        "id": 1288686,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638307761
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288686\">said</a>:</p>\n<blockquote>\n<p>What I'm imagining in a work context is that people are mostly online/active, but someone might disappear into a sequence of meetings, and now everyone is stuck.</p>\n</blockquote>\n<p>Just to be clear, in my proposal nobody is stuck.  Let's say Alice and Bob are talking, Alice wants to rope in Clara, and Bob may or may not have said something to Alice that he doesn't want Clara to see that he said.  Under my proposal, Alice would immediately, without any consent from Bob, be able to create a private stream for her and Bob going back N messages.  And she can immediately invite Clara.  Alice and Bob will see the conversation going N messages back.  Clara would also see the conversation on the private stream, except that Bob's messages would only be shown with metadata, not the actual content, until Bob consented.</p>",
        "id": 1288696,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638308185
    },
    {
        "content": "<p>Steve's proposal  has a whiff of overthinking and over-engineering - but I agree with him that you need that ability: initiate the move-conversation-and-ask-consent, and have it happen before all have consentet. And for Bob's messages  (in the Steve's example) the conversation just shows (to Clara and others) \"Bob (message text hidden until consent)     09:48\"<br>\nOver-engineering because: Yeah, in the vast majority of cases the conversation you want to move involves 2-4 ppl and they are all online to give consent when you initiate transfer.<br>\nNevertheless I concur, because: Those cases when Bob, Clara, Alice and Greg are talking, and Clara wants to move it to a topic in a public stream, but everything grinds to a halt because Alice went out for lunch. Such a scenario would be quite painful, because what you want to is to move the conversation and keep talking, involving more people. You do not want to stop the discussion have, hunt down Alice and have her back go to the keyboard in order to consent so the conversation can carry on.<br>\nSo I support Steve.</p>",
        "id": 1288713,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638309270
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288677\">said</a>:</p>\n<blockquote>\n<p>Yeah. Quite possibly this should be the case that the design is centered on. Then if you want to create a new stream, you can do that using the usual create-stream UI, and move the conversation into there.</p>\n</blockquote>\n<p>I very much think so. I don't want to encourage my users to spew streams all over the Zulip. I don't even think we allow regular users to create streams (unsure). If it is a single conversation held in a private chat of 2-4 ppl over single \"session\" (minutes or hours) I really can't see that it would warrant a separate stream of it's own, unless you need to make it private. But even then: I often find a fellow manager create  a private conversation of 2-3 managers (company of 30-40,  management and middle managers = 6). Then I think \"why shouldn't all managers see this\" and convert it to the existing #managers private group.</p>",
        "id": 1288725,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638309590
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288696\">said</a>:</p>\n<blockquote>\n<p>Just to be clear, in my proposal nobody is stuck.  Let's say Alice and Bob are talking, Alice wants to rope in Clara, and Bob may or may not have said something to Alice that he doesn't want Clara to see that he said.  Under my proposal, Alice would immediately, without any consent from Bob, be able to create a private stream for her and Bob going back N messages.  And she can immediately invite Clara.  Alice and Bob will see the conversation going N messages back.  Clara would also see the conversation on the private stream, except that Bob's messages would only be shown with metadata, not the actual content, until Bob consented.</p>\n</blockquote>\n<p>If Alice wants to rope in Clara, then presumably the point is for Clara to see the conversation so far and discuss from there. So unless Bob hasn't really said anything so far, this sounds like Alice and Clara being stuck to me -- either wait for Bob to get out of his meetings, or Alice go and manually copy-paste or summarize so that Clara can get filled in.</p>",
        "id": 1288735,
        "sender_full_name": "Greg Price",
        "timestamp": 1638309723
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288645\">said</a>:</p>\n<blockquote>\n<p>I understand the argument that private conversations are only truly private insofar as you can rely on other participants not to copy and paste the conversation or otherwise violate your privacy, but I do think there should be some level of friction.</p>\n</blockquote>\n<p>And while I am in the \"agreeing with Steve\" mood, I would like to elaborate on this one. I said before that \"privacy\" is a bit meh. But I accept the issue. I also want to point to: privacy violations are also just mistakes. Myself, I am sometimes prone to act without thinking. Say me, Bob, and Alice are discussing something. Clara shouldn't see it, perhaps because it would be offensive to her? Like Bob saying something negative about her in that private conversation. Without thinking, I convert it to a topic on a stream where Clara has access. The extra \"friction\" of a consent mechanism would save my *ss from a little internal \"friction\" I could do without.<br>\nBut what if I made such a mistake - but it wasn't Bob's messages that shouldn't be shown, it was my own? Perhaps: If I want to move a conversation before having the other participants' consent, I need to pass some final extra friction. \"You can move the conversation even if Bob hasn't consented yet. Are you sure?\"</p>",
        "id": 1288745,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638310081
    },
    {
        "content": "<p>I think it's a bit more nuanced than Clara needing to see the whole conversation. If Bob goes away (which I claim is already a bit of an edge case), then Clara would still see all the messages from Alice, which can very likely provide enough context.  I find it's common that when you rope in the third person, you often summarize anyway. And the beauty of the feature, even under my somewhat strict privacy regime, is that when Bob comes back, he sees what Alice and Clara discussed in his absence.  If he was ever absent.</p>\n<p>I think the IRL analogy here is that you have a two person meeting in a tiny conference room, and then five minutes into the meeting you realize you want to bring Clara in.  And what we don't allow currently is to immediately book the conference room for three people.</p>",
        "id": 1288749,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638310222
    },
    {
        "content": "<p>The privacy concerns here aren't even about Bob saying something necessarily negative about Clara.  Maybe Bob reports to Clara, and he admits to Alice that he is behind on a project because he is also reporting to Dave, and Dave is putting pressure to finish the other project.  And he doesn't want to open that can of worms with Clara.</p>",
        "id": 1288758,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638310552
    },
    {
        "content": "<p>Yeah, similar and very valid example.</p>",
        "id": 1288766,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638310830
    },
    {
        "content": "<p>Also, this isn't just a usability thing, it is a learning thing also: Today I find the topic-shifting-features extremely instructive. Some users are quite active in forking conversations to new topics, when the conversation under a topic has really veered off to a new topic. We \"change later messages\". Or we just change the topic of an entire topic to make the topic more informative than just \"question\" or whatever. I think this has an effect on esp new users. They just see things improving in front of their eyes, and learn.<br>\nSo the learning effect would be equally valuable, perhaps even <em>more</em> valuable, with a move-private-conversation-to-topic feature. I find that some colleagues not used to persistent chatting, they use Zulip mostly as an IM, always opening private conversations with 2-3 people. I think of it as \"Skype for Business overuse syndrome\". Now with these people, being able to take that conversation and just move it to stream/topic, would potentially be effective treatment. And the consent feature would increase the effect of each injection, as it would remind them that \"oh, right. Stream. Topic. Better.\"</p>",
        "id": 1288789,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638311408
    },
    {
        "content": "<p>I also want to emphasize that there are very realistic use cases for the protected-history-after-promoting-to-stream path, which is that Alice and Bob can see all the prior messages after roping in Clara.  Sure, Clara doesn't see the history.  And, sure, it's probably somewhat annoying to Alice that she has to get Clara up to speed.  But it's better for Alice/Bob than creating a fresh stream where even the original participants can't see what they said (i.e. what we have now).</p>",
        "id": 1288790,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638311414
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22331\">Gaute Lund</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288789\">said</a>:</p>\n<blockquote>\n<p>And the consent feature would increase the effect of each injection, as it would remind them that \"oh, right. Stream. Topic. Better.\"</p>\n</blockquote>\n<p>Kind of like a gateway drug (but in a good way).  This reminds me of another idea I've had--it would be nice to have an extremely lightweight way to create tiny private streams in the first place.  Even for conversations that only ever involve two people, it can be really nice to have topics from the very first message.  I find this when I'm not just bantering with somebody, but I am actually talking about something technical or long-term in nature.</p>",
        "id": 1288794,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638311763
    },
    {
        "content": "<p>Agree. We should have both as options. You click a message, the first in the conversation you want to move.<br>\nYou choose \"move message\" and it defaults to also moving all later messages.<br>\nI choose stream and enter topic.<br>\nOr you can create stream and enter topic.</p>",
        "id": 1288795,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638311771
    },
    {
        "content": "<p>Then you choose the privacy stuff:</p>",
        "id": 1288797,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638311802
    },
    {
        "content": "<p>History is only visible to the original participants in the moved conversation<br>\nOr <br>\nHistory is visible other members in stream (existing or new members)</p>",
        "id": 1288801,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638311863
    },
    {
        "content": "<p>Choosing the latter would ask other participants for consent, as discussed. <br>\nThe person initiating the move would have an UI showing consent status of all participants.</p>",
        "id": 1288802,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638311914
    },
    {
        "content": "<p>There would be a button to \"move now\". This would produce a mild warning explaining that for those not yet having consented, their messages would to \"other\" users show with just name/time, no content, until they consent. And a \"are your reallyreally sure\" question</p>",
        "id": 1288808,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638312027
    },
    {
        "content": "<p>It is also <em>possible</em> to skip all the consent stuff and just base things on \"good faith\" as disscussed, and implement something like <span class=\"user-mention\" data-user-id=\"19257\">@Alya Abbott</span>'s original proposal here. <br>\nBut I really agree you should have the consenting.<br>\nAnd I <em>really</em> require the possibility of converting the conversation into a topic in an existing stream. Public also. With those that always start conversation as private messages, I don't want to train them into creating new <em>streams</em> with each new conversation...</p>",
        "id": 1288823,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638312468
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"22331\">Gaute Lund</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288823\">said</a>:</p>\n<blockquote>\n<p>With those that always start conversation as private messages, I don't want to train them into creating new <em>streams</em> with each new conversation...</p>\n</blockquote>\n<p>Definitely!</p>",
        "id": 1288827,
        "sender_full_name": "Greg Price",
        "timestamp": 1638312573
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288827\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"22331\">Gaute Lund</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288823\">said</a>:</p>\n<blockquote>\n<p>With those that always start conversation as private messages, I don't want to train them into creating new <em>streams</em> with each new conversation...</p>\n</blockquote>\n<p>Definitely!</p>\n</blockquote>\n<p>Haha, yeah, just to clear, most of my PM conversations should never be promoted to streams.  They're typically either bantering about nothing, trying to set up a video call, clarifying some detail without spamming a public stream, or actually discussing something private.  The latter is surprisingly rare, which I guess undermines my argument to err on the side of privacy, but I nonetheless think we should err on the side of privacy.</p>",
        "id": 1288844,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638313096
    },
    {
        "content": "<p>I ~agree with <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288564\">Steve's</a> comments  near the beginning -- I think it'd be useful to build this as somewhat two features:</p>\n<ul>\n<li>A mechanism to convert directly from a PM to a protected-history stream, and</li>\n<li>A mechanism to solicit consent from everybody in a protected-history stream to change to shared-history<br>\n(and some ~syntactic sugar to convert from PM to protected-history stream and request switch to shared-history in one click)</li>\n</ul>\n<p>I feel like the case of somebody walking away is fairly rare, and if it converts immediately to a protected-history stream, you <em>can</em> get started on the conversation with other people before anybody who walked away starts weighing in.</p>",
        "id": 1288994,
        "sender_full_name": "Alex Dehnert",
        "timestamp": 1638322599
    },
    {
        "content": "<blockquote>\n<p>3) PM messages will have a \"Convert to stream\" option in the three-dot menu, which will let users select between the same three options for which messages to move as we have for moving topics (\"entire conversation\", \"just this message\", or \"messages from here onwards\").</p>\n</blockquote>\n<p>I'm concerned about \"entire conversation\". If it's actually \"all discussion this set of people have ever had\", I worry lots of people will do that, not realizing that three years ago they had some awkward conversation they didn't mean to share. (I somewhat worry about this for moving topics, but I rarely care much about a fundamentally-different conversation on the same topic from months ago getting a ~corrupted topic. Bringing new people into a conversation (and making that history searchable, and easily narrowable) seems much riskier.)</p>\n<p>Maybe \"convert from the last week\" or \"entire conversation (started &lt;date&gt;)\" or something would be okay? Or TBH I think just not offering \"entire conversation\" would be pretty reasonable.</p>\n<p>(I could believe the topic move stuff already secretly breaks topics based on inactivity...)</p>",
        "id": 1288995,
        "sender_full_name": "Alex Dehnert",
        "timestamp": 1638322893
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"591\">Alex Dehnert</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288995\">said</a>:</p>\n<blockquote>\n<p>I'm concerned about \"entire conversation\". If it's actually \"all discussion this set of people have ever had\", I worry lots of people will do that, not realizing that three years ago they had some awkward conversation they didn't mean to share. <br>\n(snip)<br>\nMaybe \"convert from the last week\" or \"entire conversation (started &lt;date&gt;)\" or something would be okay? Or TBH I think just not offering \"entire conversation\" would be pretty reasonable.</p>\n</blockquote>\n<p>In comments on the github issue I overthought a message picking function and the <span class=\"user-mention\" data-user-id=\"7\">@Tim Abbott</span> had a good suggestion for this. The option should be on a message, not the entire conversation in the sidebar, so you are \"forced\" to focus on a particular message and then actively choose between \"just this message\", \"messages from here onwards\", or \"entire conversation\",  with the latter being something that you really want if you seek it out.<br>\n<a href=\"https://github.com/zulip/zulip/issues/10862#issuecomment-440123717\">https://github.com/zulip/zulip/issues/10862#issuecomment-440123717</a><br>\n<a href=\"https://github.com/zulip/zulip/issues/10862#issuecomment-854251568\">https://github.com/zulip/zulip/issues/10862#issuecomment-854251568</a></p>",
        "id": 1289097,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638348190
    },
    {
        "content": "<p>And I stand by my statement that Carthāgō dēlenda est: One needs to be able to convert to a topic in a stream, public also, with full history. Which in most of these cases is what I need. And therefore we need the consent mechanism. Converting to a private stream has much less value, that adds very little compared to the private conversation you are having.</p>",
        "id": 1289098,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638348342
    },
    {
        "content": "<blockquote>\n<p>Converting to a private stream has much less value, that adds very little compared to the private conversation you are having.</p>\n</blockquote>\n<p>Having both options makes sense to me; this one is very useful if you realize that you need to add a person or two to your PM thread.</p>",
        "id": 1289182,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638378916
    },
    {
        "content": "<blockquote>\n<p>I feel like the case of somebody walking away is fairly rare</p>\n</blockquote>\n<p>I don't think that's accurate in the context of a company. When I was working as a manager at medium/large companies, I often had 6-7 hours of meetings in a day, and this was normal for a manager. So it was often the case that I'd need to drop off in the middle of a conversation. If I had come back to find that the chat tool we were using made it awkward for people to continue the discussion because I failed to click some button, I would have felt bad and been quite irritated with the chat tool. If someone had shared history I wanted to keep private, I would have given feedback to that person to be more careful, but I don't think I would have been frustrated with the <em>tool</em>.</p>",
        "id": 1289195,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638382794
    },
    {
        "content": "<p>That said, Slack's implementation does have precautions built in. In particular, it only works for conversations with 3+ people, and you can only convert to a private stream.</p>",
        "id": 1289196,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638382861
    },
    {
        "content": "<p><a href=\"/user_uploads/2/45/7w59Cu5f7WQlr7yiNf042hob/Screen-Shot-2021-12-01-at-9.18.07-AM.png\">Screen-Shot-2021-12-01-at-9.18.07-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/2/45/7w59Cu5f7WQlr7yiNf042hob/Screen-Shot-2021-12-01-at-9.18.07-AM.png\" title=\"Screen-Shot-2021-12-01-at-9.18.07-AM.png\"><img src=\"/user_uploads/2/45/7w59Cu5f7WQlr7yiNf042hob/Screen-Shot-2021-12-01-at-9.18.07-AM.png\"></a></div>",
        "id": 1289197,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638382876
    },
    {
        "content": "<p>In the context of Slack where the feature can only make sense as \"convert to a stream\" (because there's no analogue of \"convert to a topic in an existing stream\"), it makes sense to simplify by always making the new stream private. You can always convert the stream to public later, if that's what you want.</p>",
        "id": 1289198,
        "sender_full_name": "Greg Price",
        "timestamp": 1638383039
    },
    {
        "content": "<p>And then that warning text looks a lot like the kind of thing I had in mind here:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1288681\">said</a>:</p>\n<blockquote>\n<p>[…] it'll be important that there be something clearly communicating to the user what they're asking to do -- that it's going to make these messages visible to that stream, which is public / has N people who aren't in the existing thread / has shared history for future subscribers.</p>\n</blockquote>",
        "id": 1289201,
        "sender_full_name": "Greg Price",
        "timestamp": 1638383587
    },
    {
        "content": "<p>If we build a \"convert to new stream\" option as part of this feature area, I think having the new stream always be private would make sense for us too.</p>",
        "id": 1289202,
        "sender_full_name": "Greg Price",
        "timestamp": 1638383638
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"2187\">Greg Price</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1289198\">said</a>:</p>\n<blockquote>\n<p>In the context of Slack where the feature can only make sense as \"convert to a stream\" (because there's no analogue of \"convert to a topic in an existing stream\"), it makes sense to simplify by always making the new stream private. You can always convert the stream to public later, if that's what you want.</p>\n</blockquote>\n<p>I think you actually can't make private channels public. From the <a href=\"https://slack.com/help/articles/213185467-Convert-a-channel-to-private\">Slack help page</a>:</p>\n<blockquote>\n<p>Note: Converting a channel to private is permanent and you won't be able to make it public again.</p>\n</blockquote>",
        "id": 1289203,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638383680
    },
    {
        "content": "<p>Huh.</p>",
        "id": 1289205,
        "sender_full_name": "Greg Price",
        "timestamp": 1638383900
    },
    {
        "content": "<p>The administrator who requested this feature yesterday primarily needs the ability to convert a PM thread to a new private stream.</p>",
        "id": 1289382,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638390993
    },
    {
        "content": "<p>So one option is to have two features:</p>\n<h2>Move PM thread to new private stream</h2>\n<ul>\n<li>Any thread participant who can create streams can do this. No approval is required.</li>\n<li>One can pick between private (shared history) and private (protected history), but can't make the stream public. (However, anyone who can change stream permissions private -&gt; public could do this as a separate step.)</li>\n<li>All PM thread participants have to be added to the new stream when it's being created. We can either allow more people to be added right then as well, or make that separate from the stream creation process if that makes the UX simpler.</li>\n<li>When doing this from the message three-dot menu, it's possible to move all the messages, just the message or all later messages.</li>\n<li>There is a very clear warning explaining the impact of the action.</li>\n</ul>\n<p><strong>Open questions:</strong></p>\n<ul>\n<li>I do think having an option to do this from the left sidebar is very natural. If we think moving messages after X time is generally more useful than moving all messages, how do we offer that option there?</li>\n<li>Should we limit this feature to groups of 3+, similar to Slack?</li>\n<li>If people are uncomfortable with the privacy implications, should we have an org-wide setting for whether this feature is turned on?</li>\n</ul>\n<h2>Move PM thread to existing stream</h2>\n<ul>\n<li>The stream can be public or private, and the thread is moved into a topic in that stream.</li>\n<li>Approval from all participants is required. We can pop up a very invasive approval request to try to ensure it happens as quickly as possible.</li>\n<li>As a refinement, we can implement <span class=\"user-mention silent\" data-user-id=\"58\">Steve Howell (showell)</span> 's proposal to have the conversion happen immediately and display placeholder messages for anyone who is yet to approve.</li>\n</ul>\n<p>As above:</p>\n<ul>\n<li>When doing this from the message three-dot menu, it's possible to move all the messages, just the message or all later messages.</li>\n<li>There is a very clear warning explaining the impact of the action.</li>\n</ul>\n<p>We probably don't need to limit this feature (by number of participants or org setting), as privacy concerns should be addressed by the approval process. The question about how to move the right set of messages from the left sidebar menu still applies.</p>",
        "id": 1289469,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638394441
    },
    {
        "content": "<p>For how to move only recent messages when starting from the left sidebar: I think a good v1 would be for that flow to always move all the messages.</p>\n<p>In that case the warning/confirmation dialog should have some clear messaging like \"all <strong>37</strong> messages, starting <strong>8 months ago</strong>\", so that you don't get surprised by the scope of it (if e.g. you'd forgotten there was a previous discussion between the same people.)</p>",
        "id": 1289495,
        "sender_full_name": "Greg Price",
        "timestamp": 1638395079
    },
    {
        "content": "<p>A v1.1 for that aspect could be for the dialog to have a little dropdown like \"last 24 hours\" / \"last 7 days\" / \"all time\", and then each one of those would come with similar know-what-you're-getting-into information like how many messages it covers.</p>",
        "id": 1289502,
        "sender_full_name": "Greg Price",
        "timestamp": 1638395202
    },
    {
        "content": "<blockquote>\n<p>Should we limit this feature to groups of 3+, similar to Slack?</p>\n</blockquote>\n<p>I am very against this. I would really like to see this feature as sometimes small discussions start as PMs and then need to be moved to a stream.<br>\nBut in my experience this mostly happens in 1o1 chats, as when I write a group PM I think about who possibly needs to see this beforehand.</p>",
        "id": 1289536,
        "sender_full_name": "Felix (strifel)",
        "timestamp": 1638396159
    },
    {
        "content": "<p>I agree with <span class=\"user-mention silent\" data-user-id=\"15808\">Felix (strifel)</span>'s comment. In fact I suspect that the 3+ limitation in Slack is actually a consequence of their implementation, rather than a considered product choice.</p>\n<p>It's been a few years since I was a regular Slack user, but when I was I recall noticing some telling signs that their group PMs are implemented basically as private channels in the first place. So that'd make it relatively easy to convert a PM <em>group</em>, i.e. of 3+ people, to a private channel, while converting a 1:1 PM history would be more complex for them.</p>",
        "id": 1289540,
        "sender_full_name": "Greg Price",
        "timestamp": 1638396522
    },
    {
        "content": "<p>Good writeup Alya. I shall read it more carefully and think, but for now:<br>\n<span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1289469\">said</a>:</p>\n<blockquote>\n<ul>\n<li>I do think having an option to do this from the left sidebar is very natural. If we think moving messages after X time is generally more useful than moving all messages, how do we offer that option there?</li>\n</ul>\n</blockquote>\n<p>I say don't. As for choosing various predefined scopes like <span class=\"user-mention\" data-user-id=\"2187\">@Greg Price</span> suggests, well. How would I know that \"week\" or \"two hours\" are appropriate? Only by inspection the backlog and at that point I might as well do it from the \"oldes message\". And doing it by focusing on \"oldest message\" is the usual way (? - for me anyway) to move parts of a conversation (in streams) around.</p>\n<p>But a suggestion: <br>\nOfc you can move (parts of) a conversation by clicking on the oldest message.<br>\nIf you click on the left sidebar menu you get a dialog <br>\n( ) Move entire conversation. 37 message, starting 8 months ago.[very good suggestion by Greg here]<br>\n(*) Move today's messages. [This is the default and often sane.]<br>\n<strong>If you want  to move a different  part of the conversation, please click  the oldest message.</strong></p>",
        "id": 1289567,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638398917
    },
    {
        "content": "<p>The parentheses was meant to be radio buttons.</p>",
        "id": 1289568,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638398919
    },
    {
        "content": "<p>Or some better info text. No need to make a convoluted UI here, the first time the user does this by going to the sidebar menu, s/he learns how to do the \"from message X\" move.</p>",
        "id": 1289569,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638399098
    },
    {
        "content": "<p>(\"today\" should mean since 04:00 am or something, the chatting from 00:00 to 04:00 Thursday is for me a part of Wednesday... :) )</p>",
        "id": 1289570,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638399134
    },
    {
        "content": "<blockquote>\n<p>As a refinement, we can implement @_Steve Howell (showell) 's proposal to have the conversion happen immediately and display placeholder messages for anyone who is yet to approve. </p>\n</blockquote>\n<p>I'm fairly dubious of this -- there's a lot of cases where people quote each other, or it's otherwise clear from a reply what the original message must have been. I think \"people who hit approve, plus names and times\" is going to leak a fair amount of information</p>",
        "id": 1289585,
        "sender_full_name": "Alex Dehnert",
        "timestamp": 1638400881
    },
    {
        "content": "<p>I feel like the problem with requiring consent is that in some fraction of cases you'll be blocked for potentially a long time waiting for a response.</p>\n<p>I wonder if there's a way we can manage the consent issue with a personal privacy setting for whether you're OK with folks publishing your PM conversations in this way, and only do the consent prompt if the parties haven't pre-given consent.</p>",
        "id": 1289670,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638406502
    },
    {
        "content": "<p>I am fine with the personal privacy setting, but imagine encountering this:</p>\n<div class=\"codehilite\"><pre><span></span><code>[ ] Allow other users to move my PM messages to non-protected streams without my consent.\n</code></pre></div>\n<p>I'm not arguing that no one would enable this, especially in a highly trusting environment, but it would certainly give me pause.</p>",
        "id": 1289683,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638406946
    },
    {
        "content": "<p>Regarding the left sidebar decision, I don't see how a left sidebar approach is practical.  In nearly all situations where I want to promote a PM conversation to a stream conversation, there's a very small subset of history that I want to move to the stream.  (This is mostly orthogonal to privacy concerns involving new people; it would be a nuisance even if I simply wanted to keep the conversation between me an my original peer, and I just wanted topics and more precise searches in the future.)</p>",
        "id": 1289692,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638407196
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1289196\">said</a>:</p>\n<blockquote>\n<p>That said, Slack's implementation does have precautions built in. In particular, it only works for conversations with 3+ people, and you can only convert to a private stream.</p>\n</blockquote>\n<p>Ah. And here I was thinking that this was something that had never been done before.</p>",
        "id": 1289843,
        "sender_full_name": "Yash RE",
        "timestamp": 1638452591
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1289670\">said</a>:</p>\n<blockquote>\n<p>I wonder if there's a way we can manage the consent issue with a personal privacy setting for whether you're OK with folks publishing your PM conversations in this way, and only do the consent prompt if the parties haven't pre-given consent.</p>\n</blockquote>\n<p>I do prefer <span class=\"user-mention\" data-user-id=\"58\">@Steve Howell (showell)</span>'s suggestion of placeholders until consented. You may add a personal setting to \"always allow\", but for me I wouldn't check that: Am I OK that y'all move my messages from private conversations into streams? Yeah, 97% of the time. It 's the 3% that are critical and I cannot give a blanket permission for all my future private messages potentially being \"published\" at some point. </p>\n<p>But, at this point I think that all options have been thoroughly discussed. <span class=\"user-mention silent\" data-user-id=\"19257\">Alya Abbott</span> in particular seems to have a solid grip of it all in her <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1289469\">writeup</a> and subsequent comments. So I will leave it in the able hands and good judgement of you who actually have to prioritize, weigh cost/benefit and then actually write the code. Good luck.</p>",
        "id": 1289872,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638456136
    },
    {
        "content": "<p>Yet another wrinkle here is the fairly common need to either expand a group PM or let a person drop off.</p>",
        "id": 1289910,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638456982
    },
    {
        "content": "<p>For the expand-group-PM scenario I think it could be managed on a personal basis.  If I talk to Alya and then rope in Tim then I basically want to create a Steve-specific two-way soft link between the jump-off message from S/A to the jump-in message from S/A/T.</p>",
        "id": 1290009,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638466138
    },
    {
        "content": "<p>(and send some kind of courtesy link to Alya that lets her create the same soft link)</p>",
        "id": 1290014,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638466349
    },
    {
        "content": "<p>This soft link wouldn’t completely relieve me of the burden of catching Tim up to speed, but I could at least easily find the messages from when I was talking to Alya.</p>",
        "id": 1290017,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638466650
    },
    {
        "content": "<p>The UI could facilitate the transition in multiple ways.  It would send a message to Alya on my behalf that I am adding Tim, and it would send the 3-pm message welcoming Tim and explaining to him that he was roped in.</p>",
        "id": 1290027,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638467047
    },
    {
        "content": "<p>Canned message: “Hi Tim!  Alya and I were discussing something, and we realized we need your valuable input.  If you join our conversation we will try our best to get you up to speed on &lt;topic&gt;.”</p>",
        "id": 1290034,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638467259
    },
    {
        "content": "<p>The drop-off-person scenario could be similarly orchestrated with canned courtesy messages and soft links back to the wider conversation.</p>",
        "id": 1290053,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638467679
    },
    {
        "content": "<p>I am using the term “soft link” here in an intentionally vague way, but for at least some of the scenarios I just think it would be a normal link to a message inside another vanilla Zulip message.</p>",
        "id": 1290106,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638471320
    },
    {
        "content": "<p>I think the forward links would just be ordinary message links but the backward links might require some slightly new infrastructure.</p>",
        "id": 1290108,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638471562
    },
    {
        "content": "<p>I know that I am completely overthinking this, but I think there is a deeply underlying theme in this conversation that we should think holistically about, even in the face of some short term concrete goals.</p>\n<p>Basically we want to transition several types of conversations to different audiences or different paradigms, and we want to make the transition work for all the actors, who all have different needs.</p>\n<p>I stand pretty firmly that privacy should take priority over convenience, and I think it happens pretty organically that original participants on a conversation can bring new participants up to speed.</p>\n<p>I think a key way to attack the general problem is to create mechanisms to connect conversations for the original participants, and empower them, rather than opening up privacy worm cans. <span aria-label=\"bug\" class=\"emoji emoji-1f41b\" role=\"img\" title=\"bug\">:bug:</span> The only thing we really need to do for newcomers is to tell them we added them belatedly, and then just move forward.</p>",
        "id": 1290113,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638472451
    },
    {
        "content": "<p>Just as I though this subject had been covered, I had a new epiphany: The undo button. It would supplement the consent infrastructure - it could be intervowen - and it <em>could</em> replece the need for the consent. <br>\nUse case: I am in a privmsg conversation with Tim and Steve. I decide that  this belongs in a topic in our public stream, and promptly convert it (no consent option for now in this example). Tim and Steve gets a visible message that this has happened and it has an undo button. Steve thinks, \"Whoa, Gaute! How can you do that? Didn't you see I called Alya a hopelessy spoiled brat up there!\" So Steve hits undo, comments to the fact in the yet-again-private conversation. I could even do the convertion again, after having edited out the spoiled brat conments.<br>\nOfc if Steve is AFK he would not be able to correct the move. But this could be expanded then, with a privacy option \"Allow converting a private conversation you are part of into a  stream if you are seen as active.\" If the undo button was there also, I might choose to tick <em>this</em> \"pre-consent\" option. I might even set it to default on in my organization  (and inform them).<br>\nAnd combined with the \"consent with placeholders\" both options become even better. In the above example,  say the conversation is converted to stream, but Steve's messages are left as placeholders,  because he didn't want to consent because of the clumsy comments on Alya. Now the conversation is visible, without Steve's comments, which could lead to internal speculation about why. OTOH if just Steve undid the convertion - less friction potentially.</p>",
        "id": 1290704,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638530602
    },
    {
        "content": "<p>(or he coud see his own messages, in the stream, but in some markup showing that they are not yet visible to others, and he could edit parts and then consent.)</p>",
        "id": 1290706,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1638530766
    },
    {
        "content": "<p>I haven't read every word above, but one idea that comes to mind is that the button could create the new stream/location unconditionally, and the part that requires consent is just the moving of the historical content to that new location.  Not sure if that solves the convenience problem, but it might help some.</p>",
        "id": 1291206,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638575013
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1291206\">said</a>:</p>\n<blockquote>\n<p>I haven't read every word above, but one idea that comes to mind is that the button could create the new stream/location unconditionally, and the part that requires consent is just the moving of the historical content to that new location.  Not sure if that solves the convenience problem, but it might help some.</p>\n</blockquote>\n<p>That's the same spirit as my idea.  I have no problems immediately creating a stream without consent, I just want to either delay when it moves out of \"protected\" mode, or, as Tim suggests, delay the event of revealing any past history until consent has been given.  An important nuance here, though, is that there's no reason to delay letting Alice/Bob see the old history.  As soon as Alice decides to move the PM content, then Alice/Bob should benefit from seeing their whole conversation in the newer, more appropriate narrow.</p>",
        "id": 1291537,
        "sender_full_name": "Steve Howell",
        "timestamp": 1638618828
    },
    {
        "content": "<p>OK, I've done my best to incorporate all the feedback into a concrete proposal: <a href=\"https://github.com/zulip/zulip/pull/20501\">#20501</a>. Further discussion is welcome. :)</p>",
        "id": 1293690,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638910337
    },
    {
        "content": "<p>A couple proposed options for which messages to move aren't supported by the message edit API (last 24 hours; last week).  Should we just make a separate issue to add those to the existing edit topic feature?  </p>\n<p>They seem generally useful and can be made independent.</p>",
        "id": 1293730,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638914276
    },
    {
        "content": "<p>I also added this text for the section on checking restrictions before allowing someone to start the move UI:</p>\n<blockquote>\n<p>We may need to add a new API endpoint to fetch other users' preferences for this, given a set of user IDs. It would be reasonable for prototyping to start by implementing this frontend-side check last and rely on the server to reject the move if not allowed by other users' settings in initial versions.</p>\n</blockquote>\n<p>I think as long as we give an error message, having the pre-select-destination check is just a small timesaver in a somewhat rare case.</p>",
        "id": 1293731,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638914438
    },
    {
        "content": "<p>But aside from those details about the implementation ordering, I think this proposal nicely addresses both the privacy concerns and the usability benefits.</p>",
        "id": 1293735,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1638914587
    },
    {
        "content": "<p>I filed <a href=\"https://github.com/zulip/zulip/pull/20502\">#20502</a> for the moving messages by recency idea.</p>",
        "id": 1293777,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1638916228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"7\">Tim Abbott</span> <a href=\"#narrow/stream/101-design/topic/Move.20a.20channel.20or.20private.20conversation.20to.20a.20Stream.20.2310862/near/1293730\">said</a>:</p>\n<blockquote>\n<p>A couple proposed options for which messages to move aren't supported by the message edit API (last 24 hours; last week).  Should we just make a separate issue to add those to the existing edit topic feature?  </p>\n<p>They seem generally useful and can be made independent.</p>\n</blockquote>\n<p>Just adding that \"today\" is IMHO more useful than (24 hours), where today could mean \"since 0400, int the time zone of s/he who initiates the move\". Usually the conversation happened that day, whatever you were talking about yesterday afternoon is probably not relevant.</p>",
        "id": 1297306,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1639479030
    },
    {
        "content": "<p>Hmm.  I think the 24 hours model is going to be better, since it has a clearer definition.  A conversation that a contributor in India starts with me today (their time) might well be before 4AM in my Pacific time.  In that case, which messages move depends which of the two of us hits the button, which doesn't seem desireable.</p>",
        "id": 1297581,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1639523911
    },
    {
        "content": "<p>OK, I think would be logical for the person who clicked: \"Move messages that happened from midnight my time.\" and with a relevant warning. If consent infrastructure was implementet the message for the other person was adjusted: \"Tim asks to move all messages since 04:00 am your time.\"<br>\nAnd I would think the <em>vast</em> majority of conversations in Zulip as a whole happen between users in the same time zone. So the very mild \"inconsistency\" in the example above is IMHO clearly manageable, the feature would be useful in most of those cases too. But for the majority it would be very useful.</p>",
        "id": 1299926,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1640003430
    },
    {
        "content": "<p>I feel like the time zone objections easily melt away if you just make the UI flexible enough where you just choose the exact message where you wanna move the messages.</p>",
        "id": 1299927,
        "sender_full_name": "Steve Howell",
        "timestamp": 1640004139
    },
    {
        "content": "<p>It’s very typical to have a planning conversation that starts with private details (two managers deciding who they want to work on the project) and then switch to public details (e.g. which files we want to change).</p>",
        "id": 1299928,
        "sender_full_name": "Steve Howell",
        "timestamp": 1640004283
    },
    {
        "content": "<p>I totally agree that the \"move everything from <em>this</em> message\" would for me be the primary use. Just like it is when moving/topic-changing today. <br>\nBut the need for a \"move\" action in the left pane three-dot menu was pointed out by others. Esp. when it is an ad-hoc-group, you may want to move entire conversation and some people would think it is most logical to seek that action in that meny. And <em>then</em> came, as added choices, the \"Move everything last 24h\" and \"Move everything today (my time, since 00:00)\". I think both those options are viable, but for myself, I would probably always to it from a specific message as you suggest.</p>",
        "id": 1299930,
        "sender_full_name": "Gaute Lund",
        "timestamp": 1640005809
    }
]