<html>
<head><meta charset="utf-8"><title>Alert mail - Offline message · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html">Alert mail - Offline message</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="565897"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565897" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565897">(Apr 19 2018 at 15:02)</a>:</h4>
<p>Hello, could you tell me which file I have to modify to change the default alert email received when we are offline?</p>
<p><a href="/user_uploads/2/38/g68fn76TFmsqXXQg4UQrT3Fh/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/38/g68fn76TFmsqXXQg4UQrT3Fh/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/38/g68fn76TFmsqXXQg4UQrT3Fh/pasted_image.png"></a></div>



<a name="565902"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565902" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565902">(Apr 19 2018 at 15:18)</a>:</h4>
<p>The email templates are in <code>templates/zerver/emails</code></p>



<a name="565904"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565904" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565904">(Apr 19 2018 at 15:20)</a>:</h4>
<p><span class="user-mention" data-user-id="1406">@Rohitt Vashishtha</span> Nice thanks</p>



<a name="565905"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565905" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565905">(Apr 19 2018 at 15:24)</a>:</h4>
<p>The other related code appears to be in <code>zerver/lib/email_mirror.py</code> and <code>zerver/lib/notifications.py</code>. Specifically, <code>def handle_missedmessage_emails</code>.</p>
<p><span class="user-mention" data-user-id="6309">@Alexandre de Lespinasse</span></p>



<a name="565943"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565943" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565943">(Apr 19 2018 at 15:50)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="6309">@Alexandre de Lespinasse</span> is looking at translating those; I think we should probably do the work to tag them for translation.</p>



<a name="565944"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565944" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565944">(Apr 19 2018 at 15:51)</a>:</h4>
<p>There's a bit of tooling work required to do that since <code>inline-email-css</code> takes in the source content in e.g. <code>password_reset.source.html</code> and then rewrites it to <code>emails/compiled/password_reset.html</code></p>



<a name="565947"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565947" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565947">(Apr 19 2018 at 15:53)</a>:</h4>
<p>What I'm worried about here is the translation library not properly handling the CSS injection.</p>



<a name="565948"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565948" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565948">(Apr 19 2018 at 15:54)</a>:</h4>
<p>(In other words, from a maintainability standpoint, I think we might need to do something awkward when tagging to break the emails into a few chunks without markup in them)</p>



<a name="565950"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565950" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565950">(Apr 19 2018 at 16:02)</a>:</h4>
<p>I'll do a preliminary PR showing the idea, and then someone else can pick up and finish it.</p>



<a name="565988"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565988" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565988">(Apr 19 2018 at 16:30)</a>:</h4>
<p>OK I created <a href="https://github.com/zulip/zulip/pull/9150" target="_blank" title="https://github.com/zulip/zulip/pull/9150">https://github.com/zulip/zulip/pull/9150</a>, laying out the plan for this.  <span class="user-mention" data-user-id="52">@Vishnu Ks</span> do you have time to pick up doing this on the other emails?</p>



<a name="565994"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Alert%20mail%20-%20Offline%20message/near/565994" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vishnu KS <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Alert.20mail.20-.20Offline.20message.html#565994">(Apr 19 2018 at 16:33)</a>:</h4>
<p>Yup. Will work on this tomorrow.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>