<html>
<head><meta charset="utf-8"><title>Upgrading From GIT · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrading.20From.20GIT.html">Upgrading From GIT</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="858244"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrading%20From%20GIT/near/858244" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Smith <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrading.20From.20GIT.html#858244">(Apr 20 2020 at 16:06)</a>:</h4>
<p>Hi, I have a production install on Ubuntu 18.04, running 4GB memory on 4 cores (VPS).  I have WSL2 set up on WIn 10.  I forked the Zulip main into briansmith337/zulip.  I checked that out on to my development environment, and following the Zulip "Making Changes" documentation, I did  a checkout and created a new branch (defend) then pushed back - git push origin +defend.  I had to run an add -a, commit, etc - but everything worked and I'm fully synched with my repositorie(s) on git.  I have the exact same version on my production server, and updated my git_repo_url, then ran the command "/home/zulip/deployments/current/scripts/upgrade-zulip-from-git defend".  It gave me a failure - so I completely uninstalled my production server, rebuilt the OS, and reinstalled per the Zulip docs.  Went through the process again, and received the same error.  It keeps dying on + ./tools/webpack.   (Image Provided) - Any help would be greatly appreciated! <a href="/user_uploads/2/8f/j9GDM0JLsMT9MuppVe2YY2kF/Capture.PNG" title="Capture.PNG">Capture.PNG</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/8f/j9GDM0JLsMT9MuppVe2YY2kF/Capture.PNG" title="Capture.PNG"><img src="/user_uploads/2/8f/j9GDM0JLsMT9MuppVe2YY2kF/Capture.PNG"></a></div>



<a name="858296"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrading%20From%20GIT/near/858296" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrading.20From.20GIT.html#858296">(Apr 20 2020 at 16:39)</a>:</h4>
<p><span class="user-mention" data-user-id="15409">@Brian Smith</span> I am guessing this is effectively <a href="https://github.com/zulip/zulip/issues/14643" title="https://github.com/zulip/zulip/issues/14643">https://github.com/zulip/zulip/issues/14643</a>; see also <a href="https://github.com/zulip/zulip/pull/14644" title="https://github.com/zulip/zulip/pull/14644">#14644</a> for how to get the actual error message.</p>



<a name="858297"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrading%20From%20GIT/near/858297" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrading.20From.20GIT.html#858297">(Apr 20 2020 at 16:40)</a>:</h4>
<p>The workaround is to <code>supervisorctl stop all</code> before doing the upgrade.</p>



<a name="858305"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrading%20From%20GIT/near/858305" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Smith <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrading.20From.20GIT.html#858305">(Apr 20 2020 at 16:44)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="7">@Tim Abbott</span>!  I'll give it a go and update the post when I get the answer.</p>



<a name="858439"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrading%20From%20GIT/near/858439" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Smith <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrading.20From.20GIT.html#858439">(Apr 20 2020 at 18:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Upgrading.20From.20GIT/near/858297" title="#narrow/stream/31-production-help/topic/Upgrading.20From.20GIT/near/858297">said</a>:</p>
<blockquote>
<p>The workaround is to <code>supervisorctl stop all</code> before doing the upgrade.</p>
</blockquote>
<p>Worked like a charm!  I sincerely appreciate your help!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>