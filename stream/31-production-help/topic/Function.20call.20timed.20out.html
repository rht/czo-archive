<html>
<head><meta charset="utf-8"><title>Function call timed out · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Function.20call.20timed.20out.html">Function call timed out</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1364034"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Function%20call%20timed%20out/near/1364034" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Function.20call.20timed.20out.html#1364034">(Apr 10 2022 at 20:35)</a>:</h4>
<div class="codehilite" data-code-language="Python"><pre><span></span><code><span class="n">Logger</span> <span class="n">root</span><span class="p">,</span> <span class="kn">from</span> <span class="nn">module</span> <span class="n">zerver</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">markdown</span> <span class="n">line</span> <span class="mi">2564</span><span class="p">:</span>
<span class="n">Error</span> <span class="n">generated</span> <span class="n">by</span> <span class="n">Anonymous</span> <span class="n">user</span> <span class="p">(</span><span class="ow">not</span> <span class="n">logged</span> <span class="ow">in</span><span class="p">)</span> <span class="n">on</span> <span class="n">chat</span> <span class="n">deployment</span>

<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">"/home/zulip/deployments/2022-04-07-06-09-44/./zerver/lib/markdown/__init__.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2548</span><span class="p">,</span> <span class="ow">in</span> <span class="n">do_convert</span>
<span class="n">rendering_result</span><span class="o">.</span><span class="n">rendered_content</span> <span class="o">=</span> <span class="n">timeout</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">_md_engine</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">content</span><span class="p">))</span>
<span class="n">File</span> <span class="s2">"/home/zulip/deployments/2022-04-07-06-09-44/./zerver/lib/timeout.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">89</span><span class="p">,</span> <span class="ow">in</span> <span class="n">timeout</span>
<span class="k">raise</span> <span class="n">TimeoutExpired</span>
<span class="n">zerver</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">TimeoutExpired</span><span class="p">:</span> <span class="n">Function</span> <span class="n">call</span> <span class="n">timed</span> <span class="n">out</span><span class="o">.</span>

<span class="n">Deployed</span> <span class="n">code</span><span class="p">:</span>
<span class="o">-</span> <span class="n">git</span><span class="p">:</span> <span class="mf">6.0</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="mi">75</span><span class="o">-</span><span class="n">gc6f2b9c636</span>
<span class="o">-</span> <span class="n">ZULIP_VERSION</span><span class="p">:</span> <span class="mf">6.0</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="mi">75</span><span class="o">-</span><span class="n">gc6f2b9c636</span>

<span class="n">Request</span> <span class="n">info</span><span class="p">:</span> <span class="n">none</span>
</code></pre></div>



<a name="1364436"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Function%20call%20timed%20out/near/1364436" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Function.20call.20timed.20out.html#1364436">(Apr 11 2022 at 17:51)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span>: Something in message rendering took too long.  Generally this is having a lot of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span> block, but we've gotten a report recently of it happening with no such blocks.</p>
<p>If yup upgrade to latest <code>main</code>, you'll get <a href="https://github.com/zulip/zulip/commit/e7142647561ffbc46ed64051036344d4464453d8">e7142647561ffbc46ed64051036344d4464453d8</a> which will make those tracebacks much more informative about where it's getting bogged down.</p>



<a name="1364437"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Function%20call%20timed%20out/near/1364437" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Function.20call.20timed.20out.html#1364437">(Apr 11 2022 at 17:52)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="3" href="/#narrow/stream/3-backend/topic/.5BDjango.5D.20chat.3A.20Function.20call.20timed.20out.2E">#backend &gt; [Django] chat: Function call timed out.</a> by <span class="user-mention silent" data-user-id="12178">Alex Vandiver</span>.</p>



<a name="1364499"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Function%20call%20timed%20out/near/1364499" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Function.20call.20timed.20out.html#1364499">(Apr 11 2022 at 18:49)</a>:</h4>
<p><span class="user-mention" data-user-id="12178">@Alex Vandiver</span> will give it a go, thanks!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>