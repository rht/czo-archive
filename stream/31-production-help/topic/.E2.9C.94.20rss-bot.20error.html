<html>
<head><meta charset="utf-8"><title>✔ rss-bot error · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20rss-bot.20error.html">✔ rss-bot error</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1300498"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20rss-bot%20error/near/1300498" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aggr <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20rss-bot.20error.html#1300498">(Dec 22 2021 at 13:45)</a>:</h4>
<p>I am using a Zulip server version 4.6. After upgrading the OS (using documentation) from Ubuntu 18.04 Bionic to Ubuntu 20.04 Focal, my rss bot stopped working.<br>
If I run the script manually</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>sadmin@zserver:/$ /usr/local/share/zulip/integrations/rss/rss-bot --data-dir<span class="o">=</span>/home/sadmin/.cache/zulip-rss --feed-file<span class="o">=</span>/home/sadmin/.cache/zulip-rss/rss-feeds --stream<span class="o">=</span><span class="s2">"Test"</span>
</code></pre></div>
<p>Then I get in response</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
  File <span class="s2">"/usr/local/share/zulip/integrations/rss/rss-bot"</span>, line <span class="m">22</span>, <span class="k">in</span> &lt;module&gt;
    import zulip
  File <span class="s2">"/usr/local/lib/python2.7/dist-packages/zulip/__init__.py"</span>, line <span class="m">7</span>, <span class="k">in</span> &lt;module&gt;
    import requests
  File <span class="s2">"/usr/local/lib/python2.7/dist-packages/requests/__init__.py"</span>, line <span class="m">113</span>, <span class="k">in</span> &lt;module&gt;
    from . import packages
  File <span class="s2">"/usr/local/lib/python2.7/dist-packages/requests/packages.py"</span>, line <span class="m">7</span>, <span class="k">in</span> &lt;module&gt;
    locals<span class="o">()[</span>package<span class="o">]</span> <span class="o">=</span> __import__<span class="o">(</span>package<span class="o">)</span>
ImportError: No module named idna
</code></pre></div>
<p>After the <code>pip install idna</code> command I get</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>Requirement already satisfied: idna <span class="k">in</span> /usr/lib/python3/dist-packages <span class="o">(</span><span class="m">2</span>.8<span class="o">)</span>
</code></pre></div>
<p>Please tell me where I could mess up?</p>



<a name="1300571"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20rss-bot%20error/near/1300571" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20rss-bot.20error.html#1300571">(Dec 22 2021 at 20:17)</a>:</h4>
<p><span class="user-mention" data-user-id="10714">@Aggr</span> Your traceback suggests you are running Python 2; we don’t support Python 2 anymore. We also don’t automatically install anything to <code>/usr/local/share/zulip</code>. My guess is that you manually installed an old version of the <code>rss-bot</code> script there, and you’ll need to install a current version of it that uses Python 3.</p>



<a name="1300692"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20rss-bot%20error/near/1300692" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aggr <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20rss-bot.20error.html#1300692">(Dec 23 2021 at 05:13)</a>:</h4>
<p>I don't remember exactly how I installed this script. But I will try to update it. Thanks for the tip.</p>



<a name="1300694"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20rss-bot%20error/near/1300694" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aggr <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20rss-bot.20error.html#1300694">(Dec 23 2021 at 05:46)</a>:</h4>
<p>After updating the script and <code>pip install feedparser</code>, everything worked again. Thanks! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="1300698"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20rss-bot%20error/near/1300698" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20rss-bot.20error.html#1300698">(Dec 23 2021 at 06:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>