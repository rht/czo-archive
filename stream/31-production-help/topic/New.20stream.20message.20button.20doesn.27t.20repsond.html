<html>
<head><meta charset="utf-8"><title>New stream message button doesn&#x27;t repsond · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html">New stream message button doesn&#x27;t repsond</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="56969"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/56969" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kracekumar R <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#56969">(Nov 19 2016 at 05:51)</a>:</h4>
<p>After logging into as normal user and clicking on <code>New stream message</code> button doesn't respond. Looking at the terminal shows endpoint <code>/sockjs/info</code> returns <code>404</code>. The server is run by the command <code>./tools/run-dev.py</code>.</p>
<div class="codehilite"><pre><span></span>Tornado server is running at http://127.0.0.1:9993/
Quit the server with CTRL-C.
2016-11-19 00:45:15,489 INFO     Tornado loaded 1 event queues in 0.000s
2016-11-19 00:45:15,493 INFO     Tornado  98.7% busy over the past  0.0 seconds
Performing system checks...

System check identified no issues (0 silenced).
November 19, 2016 - 00:45:17
Django version 1.8.15, using settings &#39;zproject.settings&#39;
Starting development server at http://127.0.0.1:9992/
Quit the server with CONTROL-C.
2016-11-19 00:45:19,904 INFO     14 queue worker threads were launched
2016-11-19 00:45:26,297 WARNING  Not Found: /sockjs/info
2016-11-19 00:45:26,322 INFO     127.0.0.1       GET     404  65ms (db: 2ms/2q) /sockjs/info (unauth via ?)
[19/Nov/2016 00:45:26] &quot;GET /sockjs/info?cb=q1h16c1yfd HTTP/1.1&quot; 404 18978
2016-11-19 00:46:59,186 WARNING  Not Found: /sockjs/info
2016-11-19 00:46:59,209 INFO     127.0.0.1       GET     404  26ms /sockjs/info (unauth via ?)
[19/Nov/2016 00:46:59] &quot;GET /sockjs/info?cb=khuq51g2np HTTP/1.1&quot; 404 18978
</pre></div>



<a name="57047"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57047" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57047">(Nov 19 2016 at 14:22)</a>:</h4>
<p>You may want to try re-provisioning.  (I'm not sure that's the cause of your problem here, but that will rule out at least one possible cause.)</p>



<a name="57055"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57055" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57055">(Nov 19 2016 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-email="kracethekingmaker@gmail.com">@Kracekumar Ramaraj</span> that suggests to me that one of the Zulip services didn't start properly.  Somewhat surprising</p>



<a name="57056"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57056" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57056">(Nov 19 2016 at 18:29)</a>:</h4>
<p>In that I haven't seen that failure mode before</p>



<a name="57057"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57057" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57057">(Nov 19 2016 at 18:29)</a>:</h4>
<p>Oh, did you switch branches to a super-old version of Zulip?</p>



<a name="57058"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57058" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57058">(Nov 19 2016 at 18:30)</a>:</h4>
<p>Guessing here, but if you provision off master and then check out a branch from a month ago, without rebasing, it's fairly likely that you'd have problems running <code>run-dev.py</code>...</p>



<a name="57083"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57083" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kracekumar R <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57083">(Nov 19 2016 at 21:19)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com">@Tim Abbott</span> I cloned the repo two days back. Here is the latest log.</p>
<div class="codehilite"><pre><span></span>user@user-ThinkPad-T400 ~/c/zulip&gt; git branch
* master
user@user-ThinkPad-T400 ~/c/zulip&gt; git log -n 1
commit ca43cbc654c64afad4f33cb812fc93f8a773d801
Author: Steve Howell &lt;showell30@yahoo.com&gt;
Date:   Wed Nov 16 12:05:54 2016 -0800

    logging: Reducing logging in run-dev.py for queue workers.

    In dev, we no longer log that individual queue workers were launched.

    Instead, in dev (and prod as well), we log a message with the total
    count.
</pre></div>



<a name="57089"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57089" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57089">(Nov 19 2016 at 22:17)</a>:</h4>
<p>OK, I was just guessing you might have tried checking out <span class="user-mention" data-user-email="jdherg@gmail.com">@John Hergenroeder (jdherg)</span>'s reactions branch, which is old.  Hmm.</p>



<a name="57090"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57090" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57090">(Nov 19 2016 at 22:17)</a>:</h4>
<p>Those requests should be handled by the Tornado process on port 9993</p>



<a name="57091"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57091" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57091">(Nov 19 2016 at 22:18)</a>:</h4>
<p><span class="user-mention" data-user-email="kracethekingmaker@gmail.com">@Kracekumar Ramaraj</span> what platform is this on?</p>



<a name="57107"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57107" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kracekumar R <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57107">(Nov 20 2016 at 01:33)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com">@Tim Abbott</span> I am on <a href="https://trisquel.info/" target="_blank" title="https://trisquel.info/">Trisquel</a>, a Debian variant. Is this something to d with improper js installation? </p>



<a name="57109"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57109" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57109">(Nov 20 2016 at 01:44)</a>:</h4>
<p>No idea, just trying to figure out what could be different about your environment</p>



<a name="57111"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57111" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kracekumar R <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57111">(Nov 20 2016 at 01:46)</a>:</h4>
<p>I will pause this experiment and jump on vagrant.</p>



<a name="57113"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57113" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57113">(Nov 20 2016 at 01:56)</a>:</h4>
<p>ok.  At MIT we're actually currently debugging some weird local-related issues with the docker setup</p>



<a name="57123"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57123" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57123">(Nov 20 2016 at 01:59)</a>:</h4>
<p>The thing which is confusing about your error is that clearly Tornado started properly in the logs you posted, but that /sockjs/info thing is a Tornado endpoint</p>



<a name="57231"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57231" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kracekumar R <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57231">(Nov 20 2016 at 05:37)</a>:</h4>
<p>Exactly, I tried print statements in <code>Tornado BaseHandler</code> but then realized the problem lies with Tornado's routing pattern match. Now, I got the setup working with Vagrant and able to reply to a thread. So I am all good. </p>



<a name="57332"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57332" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57332">(Nov 20 2016 at 20:12)</a>:</h4>
<p>Cool, though I still want to know why it wasn't working :)</p>



<a name="57340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kracekumar R <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57340">(Nov 20 2016 at 20:16)</a>:</h4>
<p>Definitely! I still have the same setup on the machine. Some time later, I'll debug.</p>



<a name="57346"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57346" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57346">(Nov 20 2016 at 20:18)</a>:</h4>
<p>cool!</p>



<a name="57347"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57347" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57347">(Nov 20 2016 at 20:18)</a>:</h4>
<p>Have you checked out Arpith's reactions backend branch and played with it?</p>



<a name="57349"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/57349" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kracekumar R <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#57349">(Nov 20 2016 at 20:19)</a>:</h4>
<p>Nope. I'll do that tonight.</p>



<a name="62950"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/62950" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumana Harihareswara <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#62950">(Nov 29 2016 at 19:44)</a>:</h4>
<p><span class="user-mention" data-user-email="kracethekingmaker@gmail.com">@Kracekumar Ramaraj</span> did this clear up?</p>



<a name="63585"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/New%20stream%20message%20button%20doesn%27t%20repsond/near/63585" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kracekumar R <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/New.20stream.20message.20button.20doesn.27t.20repsond.html#63585">(Nov 29 2016 at 23:05)</a>:</h4>
<p>Yep! Some issue with JS. Reprovision fixed the issue.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>