<html>
<head><meta charset="utf-8"><title>realms · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html">realms</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="604139"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604139" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604139">(Jun 26 2018 at 22:23)</a>:</h4>
<p>I have two questions about realms.<br>
1. Can a user be registered to multiple realms of the same server? How?<br>
2. Why is there a need to provide an email address to be able to create a realm?</p>



<a name="604147"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604147" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604147">(Jun 26 2018 at 22:34)</a>:</h4>
<p>1. No, but you can use the same email address for multiple realms, and import your settings (in master; may not be in production yet).<br>
2. On <a href="http://zulipchat.com" target="_blank" title="http://zulipchat.com">zulipchat.com</a>, we need an email in case we need to contact you (e.g. update to terms of service)</p>



<a name="604150"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604150" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604150">(Jun 26 2018 at 22:39)</a>:</h4>
<p>I'm talking about my own server.<br>
I ran <code>./manage.py generate_realm_creation_link</code>, and the page at the link wanted an email address from me. And I was not in the mood for signing into one of the random email addresses I didn't know the password of... (It took me to the existing realm when I gave it my own email address.)</p>



<a name="604152"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604152" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604152">(Jun 26 2018 at 22:41)</a>:</h4>
<p>About the first, that's okay. I was afraid to be forced to use another email address.</p>



<a name="604153"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604153" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604153">(Jun 26 2018 at 22:44)</a>:</h4>
<p>Interesting, this sounds like a bug. Can someone try reproducing in the dev environment?</p>



<a name="604154"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604154" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604154">(Jun 26 2018 at 22:45)</a>:</h4>
<p><a href="/user_uploads/2/79/O0pDpaXAsb55-mmusHW5pzGS/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/79/O0pDpaXAsb55-mmusHW5pzGS/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/79/O0pDpaXAsb55-mmusHW5pzGS/pasted_image.png"></a></div>



<a name="604158"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604158" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604158">(Jun 26 2018 at 22:49)</a>:</h4>
<p>Is there another way to create a realm? <code>manage.py</code>? <code>shell</code>?</p>



<a name="604159"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604159" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604159">(Jun 26 2018 at 22:53)</a>:</h4>
<p>oh, do you by any chance have a realm on the root domain, and are trying to create another one on a subdomain?</p>



<a name="604160"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604160" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604160">(Jun 26 2018 at 22:55)</a>:</h4>
<p>I had one on the root domain, but I changed its <code>string_id</code>. It is not at the root now. (But I think I messed something up. It seems to be working, but I saw something somewhere saying that my user is not registered to the realm...)</p>



<a name="604161"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604161" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604161">(Jun 26 2018 at 22:57)</a>:</h4>
<p>hmm. I think changing the string_id should be sufficient (with the caveat that bots will have the old domain in their email addresses, and any incoming webhooks will need to be updated).</p>



<a name="604162"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604162" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604162">(Jun 26 2018 at 22:57)</a>:</h4>
<p>(though am not totally confident of that)</p>



<a name="604163"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604163" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604163">(Jun 26 2018 at 22:58)</a>:</h4>
<p>what do you get redirected to when you put in your email address to the create a realm form?</p>



<a name="604164"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604164" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604164">(Jun 26 2018 at 22:58)</a>:</h4>
<p>To my current realm.</p>



<a name="604165"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604165" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604165">(Jun 26 2018 at 23:03)</a>:</h4>
<p>meaning <a href="http://recently-changed-subdomain.domain.com/login" target="_blank" title="http://recently-changed-subdomain.domain.com/login">recently-changed-subdomain.domain.com/login</a>?</p>



<a name="604166"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604166" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604166">(Jun 26 2018 at 23:04)</a>:</h4>
<p>also maybe clear your cookies and memcached and so on if you just did the "rename string_id" thing</p>



<a name="604169"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604169" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604169">(Jun 26 2018 at 23:47)</a>:</h4>
<p>(Sorry I'm late.)<br>
Yeah. (I'm actually signed in, so it brings the Zulip main page.)</p>



<a name="604170"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604170" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604170">(Jun 26 2018 at 23:49)</a>:</h4>
<p>I didn't understand why I should clear cookies/etc. If they were to cause any problems, my current realm shouldn't have worked. It showed the login page correctly, and I could sign in and do stuff.</p>



<a name="604171"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604171" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604171">(Jun 27 2018 at 00:05)</a>:</h4>
<p>the worry is that there may be lingering cookies on the root domain that are doing something funny (since all subdomains also receive cookies from the root domain). <br>
If you only want to clear selectively, you can clear the cookies on the root domain and leave them on the other subdomain.</p>



<a name="604174"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604174" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604174">(Jun 27 2018 at 00:15)</a>:</h4>
<p>I did it. Still behaving the same.</p>



<a name="604175"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604175" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604175">(Jun 27 2018 at 00:15)</a>:</h4>
<p><a href="/user_uploads/2/17/D8H-xVjWLjaNn3fUs1ET4KQk/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/17/D8H-xVjWLjaNn3fUs1ET4KQk/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/17/D8H-xVjWLjaNn3fUs1ET4KQk/pasted_image.png"></a></div>



<a name="604176"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604176" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604176">(Jun 27 2018 at 00:17)</a>:</h4>
<p>Now I am confused. Why there is a sign in page for the root domain when there is no realm there? (the screenshot above)</p>



<a name="604177"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604177" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604177">(Jun 27 2018 at 00:21)</a>:</h4>
<p>It is behaving differently now. It takes me to <code>domain.com/accounts/login/?already_registered=&lt;email-address&gt;</code> when I enter my email address in the realm creation page.</p>



<a name="604178"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604178" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604178">(Jun 27 2018 at 00:22)</a>:</h4>
<p>Even after I logged into my realm.</p>



<a name="604179"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604179" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604179">(Jun 27 2018 at 00:22)</a>:</h4>
<p>(The page looks like the screenshot above.)</p>



<a name="604180"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604180" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604180">(Jun 27 2018 at 00:23)</a>:</h4>
<p>And when I attempt to sign in, it says this:</p>
<blockquote>
<p>Your Zulip account is not a member of the organization associated with this subdomain. Please contact &lt;email-address&gt; with any questions!</p>
</blockquote>



<a name="604185"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604185" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604185">(Jun 27 2018 at 00:39)</a>:</h4>
<p>(And the thing I said I might have messed up, seems to be fixed.)</p>



<a name="604186"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604186" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604186">(Jun 27 2018 at 00:44)</a>:</h4>
<p>Is there a way to create a new realm through the shell? I think that there is nothing special about the state that I am in, so I can continue my work. I'll be glad to help in any way if I can, though.</p>



<a name="604203"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604203" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604203">(Jun 27 2018 at 02:58)</a>:</h4>
<p><span class="user-mention" data-user-id="1073">@Shayan Toqraee</span> just to check: <br>
a) what version of zulip are you on?<br>
b) is there a REALMS_HAVE_SUBDOMAINS in any of your settings files? (One way to check this is <code>from django.conf import settings; settings.REALMS_HAVE_SUBDOMAINS</code> in  the manage.py shell</p>



<a name="604250"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604250" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604250">(Jun 27 2018 at 04:34)</a>:</h4>
<p>1.7.0. I plan on updating soon.</p>



<a name="604251"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604251" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604251">(Jun 27 2018 at 04:36)</a>:</h4>
<p>'Settings' object has no attribute 'REALMS_HAVE_SUBDOMAINS'</p>



<a name="604273"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604273" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vishnu KS <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604273">(Jun 27 2018 at 08:02)</a>:</h4>
<p>I can't seem to reproduce this in dev environment either.</p>



<a name="604444"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604444" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604444">(Jun 27 2018 at 16:47)</a>:</h4>
<p>Thanks Vishnu for looking into it! <br>
We did do some work in this area between 1.7 and 1.8, so I'm tempted to say to upgrade first and try again, and if that doesn't work maybe it'll have to wait for Tim (who is currently on vacation).</p>



<a name="604445"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604445" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604445">(Jun 27 2018 at 16:53)</a>:</h4>
<p>Also, just to note, when it works, the screen you should get to is <br>
<a href="/user_uploads/2/67/gsEHoX3aROmCf3ZbrgSe4Wx4/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
rahter than "Sign in to Zulip"</p>
<div class="message_inline_image"><a href="/user_uploads/2/67/gsEHoX3aROmCf3ZbrgSe4Wx4/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/67/gsEHoX3aROmCf3ZbrgSe4Wx4/pasted_image.png"></a></div>



<a name="604446"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604446" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604446">(Jun 27 2018 at 16:55)</a>:</h4>
<p>One workaround might be to set <code>OPEN_REALM_CREATION</code> to True in settings, and then go to server_host/new. (Might be server_host/create_realm in 1.7)</p>



<a name="604474"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604474" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604474">(Jun 27 2018 at 17:13)</a>:</h4>
<p>Okay, it is fixed! Yay!! <span class="emoji emoji-1f389" title="tada">:tada:</span><br>
The problem was with me being on 1.7.0. Solved after upgrading to 1.8.1.</p>



<a name="604475"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604475" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604475">(Jun 27 2018 at 17:13)</a>:</h4>
<p>Thank everyone for the help! (especially <span class="user-mention" data-user-id="131">@Rishi Gupta</span>)</p>



<a name="604476"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604476" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604476">(Jun 27 2018 at 17:13)</a>:</h4>
<p>I'm very grateful.</p>



<a name="604480"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/realms/near/604480" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/realms.html#604480">(Jun 27 2018 at 17:15)</a>:</h4>
<p>no problem!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>