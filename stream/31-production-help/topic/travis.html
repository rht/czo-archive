<html>
<head><meta charset="utf-8"><title>travis · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html">travis</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="316263"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316263" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316263">(Nov 09 2017 at 08:18)</a>:</h4>
<p>I have create PR <a href="https://github.com/zulip/zulip/pull/7213" target="_blank" title="https://github.com/zulip/zulip/pull/7213">#7213</a> for issue <a href="https://github.com/zulip/zulip/pull/7049" target="_blank" title="https://github.com/zulip/zulip/pull/7049">#7049</a>.<br>
Travis CI is throwing error <a href="https://travis-ci.org/zulip/zulip/builds/299487638" target="_blank" title="https://travis-ci.org/zulip/zulip/builds/299487638">https://travis-ci.org/zulip/zulip/builds/299487638</a> <br>
It is passing locally. <br>
It also passing in <a href="https://travis-ci.org/YJDave/zulip/jobs/299487635" target="_blank" title="https://travis-ci.org/YJDave/zulip/jobs/299487635">https://travis-ci.org/YJDave/zulip/jobs/299487635</a> here.<br>
I don't know why it is not passing on zulip. I can't debug the error. <br>
I tried to restart job several time but it is throwing same error.<br>
Any one have any idea?</p>



<a name="316296"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316296" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316296">(Nov 09 2017 at 08:29)</a>:</h4>
<p>It's a mypy lint error in master. It passed in your branch probably because you haven't rebased on the latest master yet.</p>



<a name="316300"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316300" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316300">(Nov 09 2017 at 08:30)</a>:</h4>
<p>i.e. your PR should be fine.</p>



<a name="316302"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316302" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316302">(Nov 09 2017 at 08:30)</a>:</h4>
<p>To confirm the hypothesis, you could rebase now and check if the build error appears.</p>



<a name="316359"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316359" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316359">(Nov 09 2017 at 08:51)</a>:</h4>
<p><span class="user-mention" data-user-email="rhtbot@protonmail.com" data-user-id="2328">@Rein Zustand</span> Thanks for checking out.<br>
Yeah, I have not rebased on my branch, that's why it is not showing error on my branch.<br>
So there is nothing wrong in PR that I should be worried about, right?</p>



<a name="316362"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316362" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316362">(Nov 09 2017 at 08:52)</a>:</h4>
<p>It's still a hypothesis until proven with the rebase.</p>



<a name="316387"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316387" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316387">(Nov 09 2017 at 09:27)</a>:</h4>
<p>I have rebase the branch and it is passing all travis tests. And in my local branch it is also passing <code>./tools/run-mypy</code> tests.</p>



<a name="316407"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316407" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316407">(Nov 09 2017 at 09:43)</a>:</h4>
<p>I don't understand this error. <br>
<code>zerver/views/realm.py:21: error: Implicit generic "Any". Use 'typing.Dict' and specify generic parameters</code><br>
And why it is passing locally but not on Travis?<br>
Locally I run <code>./tools/test-all</code> on the same branch and all tests are passing.</p>



<a name="316412"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316412" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316412">(Nov 09 2017 at 09:52)</a>:</h4>
<p>Possibly, <a href="https://github.com/zulip/zulip/pull/7213/files#r149909822" target="_blank" title="https://github.com/zulip/zulip/pull/7213/files#r149909822">https://github.com/zulip/zulip/pull/7213/files#r149909822</a></p>



<a name="316413"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316413" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316413">(Nov 09 2017 at 09:53)</a>:</h4>
<p>The mypy version shouldn't differ either to cause the discrepancy.</p>



<a name="316415"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316415" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316415">(Nov 09 2017 at 09:55)</a>:</h4>
<p>Thanks for reviewing !!! Got it.<span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="316419"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316419" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316419">(Nov 09 2017 at 10:03)</a>:</h4>
<p>But I don't understand why it didn't show this error locally?</p>



<a name="316480"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316480" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316480">(Nov 09 2017 at 10:26)</a>:</h4>
<p>Fixed! I have not much clue about the error undetected locally. When was the last time you re-provisioned?</p>



<a name="316678"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316678" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316678">(Nov 09 2017 at 11:50)</a>:</h4>
<p>I don't remember exactly when I did provision. <br>
So to check this, first I run <code>./tools/provision</code> and then run <code>./tools/run-mypy</code> with that error in file <code>zerver/views/realm.py</code>. And it did not detect the error.</p>



<a name="316690"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316690" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316690">(Nov 09 2017 at 11:54)</a>:</h4>
<p>The Travis version (at <code>tools/travis/backend</code>) is exactly <code>./tools/run-mypy --linecoverage-report</code></p>



<a name="316732"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/316732" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#316732">(Nov 09 2017 at 12:18)</a>:</h4>
<p>Then why it didn't detect error? <span class="emoji emoji-1f914" title="thinking face">:thinking_face:</span></p>



<a name="317346"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/317346" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#317346">(Nov 09 2017 at 19:14)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> mypy has some occasional local caching bugs; it could be one of those.</p>



<a name="317348"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/travis/near/317348" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/travis.html#317348">(Nov 09 2017 at 19:15)</a>:</h4>
<p>Oh, actually, it's not that: we changed the mypy config yesterday, so the config changed when you rebased.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>