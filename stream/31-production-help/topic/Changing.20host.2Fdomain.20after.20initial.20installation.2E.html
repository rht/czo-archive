<html>
<head><meta charset="utf-8"><title>Changing host/domain after initial installation. · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Changing.20host.2Fdomain.20after.20initial.20installation.2E.html">Changing host/domain after initial installation.</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1165776"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Changing%20host/domain%20after%20initial%20installation./near/1165776" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Fogel <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Changing.20host.2Fdomain.20after.20initial.20installation.2E.html#1165776">(Apr 18 2021 at 20:26)</a>:</h4>
<p>If I install Zulip 3.4 (using the <a href="https://zulip.readthedocs.io/en/stable/production/install.html">standard stable installation instructions</a> including the <code>--certbot</code> flag) on a temporary hostname (e.g., <a href="http://test-chat.opentechstrategies.com">test-chat.opentechstrategies.com</a>), with the intention of later updating to a new domain (<a href="http://foo.example.com">foo.example.com</a>) after the new domain is set up in the DNS, can I just re-run the installation command and pass a different value for the <code>--hostname</code> option?</p>
<p>E.g.: today I do this...</p>
<div class="codehilite"><pre><span></span><code>  root@chat# ./zulip-server-3.4/scripts/setup/install --certbot --email=foo@bar --hostname=TEST_HOST_AND_DOMAIN
</code></pre></div>
<p>...and then later I re-run but like this:</p>
<div class="codehilite"><pre><span></span><code>  root@chat# ./zulip-server-3.4/scripts/setup/install --certbot --email=foo@bar --hostname=NEW_HOST_NEW_DOMAIN
</code></pre></div>
<p>?</p>



<a name="1165777"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Changing%20host/domain%20after%20initial%20installation./near/1165777" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Fogel <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Changing.20host.2Fdomain.20after.20initial.20installation.2E.html#1165777">(Apr 18 2021 at 21:14)</a>:</h4>
<p>(By the way, just now I did the first of those commands, with appropriate values substituted in, and the installation worked like a dream on Debian 10.x.  Many thanks to all those who wrote the installation scripts!)</p>



<a name="1166111"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Changing%20host/domain%20after%20initial%20installation./near/1166111" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Changing.20host.2Fdomain.20after.20initial.20installation.2E.html#1166111">(Apr 19 2021 at 20:46)</a>:</h4>
<p><span class="user-mention" data-user-id="7673">@Karl Fogel</span> thanks for the kind words!  We indeed put a lot of effort into our installer Just Working.</p>
<p>I think what you want to do is just run the <code>scripts/setup/setup-certbot</code> subroutine after changing the hostname.  Rerunning the installer should work (it's idempotent) but doing so may will drop your database.  (Depending on what you're trying to do, that may be a good thing).</p>



<a name="1166157"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Changing%20host/domain%20after%20initial%20installation./near/1166157" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Fogel <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Changing.20host.2Fdomain.20after.20initial.20installation.2E.html#1166157">(Apr 19 2021 at 21:24)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="7">@Tim Abbott</span> !  I should get a chance to try that command in production soon (in the case discussed above, I ended up re-installing from scratch anyway, because I reimaged the VM, but we've got another transfer-installation coming soon I think).</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>