<html>
<head><meta charset="utf-8"><title>Clean DB in docker-tulip · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Clean.20DB.20in.20docker-tulip.html">Clean DB in docker-tulip</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="714051"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Clean%20DB%20in%20docker-tulip/near/714051" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Bygdén <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Clean.20DB.20in.20docker-tulip.html#714051">(Mar 06 2019 at 13:05)</a>:</h4>
<p>I'm trying to setup a test environment and it seems like the DB isn't clean at startup. I've done it before, but then I've tried (and failed) to import HipChat data into it. Now I'm waiting for a fix to be able to import HipChat data - and I thought I'd setup a test again meanwhile, but it seems my organization already exists, but not my user.<br>
So - how do I clean the DB completely using docker-zulip?</p>



<a name="714052"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Clean%20DB%20in%20docker-tulip/near/714052" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Bygdén <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Clean.20DB.20in.20docker-tulip.html#714052">(Mar 06 2019 at 13:09)</a>:</h4>
<p>I went with:<br>
<code>for f in $(docker image ls | awk '{print $3}');do docker image rm $f;done</code></p>



<a name="714589"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Clean%20DB%20in%20docker-tulip/near/714589" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Clean.20DB.20in.20docker-tulip.html#714589">(Mar 06 2019 at 19:55)</a>:</h4>
<p><span class="user-mention" data-user-id="11472">@Jonas Bygdén</span> did that work for you?  I would expect it not to, since <code>docker image rm</code> doesn't delete the shared storage, which is where the database lives.</p>



<a name="715050"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Clean%20DB%20in%20docker-tulip/near/715050" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Bygdén <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Clean.20DB.20in.20docker-tulip.html#715050">(Mar 07 2019 at 07:45)</a>:</h4>
<p>No, it didn't - but your tips in my github-issue probably will - I'm trying it now.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>