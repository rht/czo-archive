<html>
<head><meta charset="utf-8"><title>Add new cron job in zulip docker · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Add.20new.20cron.20job.20in.20zulip.20docker.html">Add new cron job in zulip docker</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1524077"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Add%20new%20cron%20job%20in%20zulip%20docker/near/1524077" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> charlie <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Add.20new.20cron.20job.20in.20zulip.20docker.html#1524077">(Mar 14 2023 at 02:28)</a>:</h4>
<p>Hi all,<br>
A docker and zulip newbie here. I would like seek for some wisdom on how to add new cron job to a self-hosted zulip via <code>docker-compose.yml</code>.<br>
I tried to add a <code>command</code> section in it, but it just keep looping the command and not starting the server.<br>
For example, I add </p>
<div class="codehilite" data-code-language="yml"><pre><span></span><code>    command:
      - "sh"
      - "-euc"
      - |
       cd /home/zulip/deployments/current/
       sudo cp puppet/zulip/files/cron.d/email-mirror /etc/cron.d/
       sudo service cron restart
</code></pre></div>
<p>, and it just keep restarting the cron service.</p>



<a name="1524081"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Add%20new%20cron%20job%20in%20zulip%20docker/near/1524081" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> charlie <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Add.20new.20cron.20job.20in.20zulip.20docker.html#1524081">(Mar 14 2023 at 02:30)</a>:</h4>
<p>I manage to get it working via tunning the <code>Dockerfile</code> by adding <code>cp /home/zulip/deployments/current/puppet/zulip/files/cron.d/email-mirror /etc/cron.d/ &amp;&amp; \</code> in the <code>RUN</code> section and rebuild the image. But is there any easier way to done this?</p>



<a name="1525884"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Add%20new%20cron%20job%20in%20zulip%20docker/near/1525884" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Add.20new.20cron.20job.20in.20zulip.20docker.html#1525884">(Mar 16 2023 at 01:14)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="49" href="/#narrow/stream/49-development-help/topic/Add.20new.20cron.20job.20in.20zulip.20docker">#development help &gt; Add new cron job in zulip docker</a> by <span class="user-mention silent" data-user-id="7">Tim Abbott</span>.</p>



<a name="1525974"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Add%20new%20cron%20job%20in%20zulip%20docker/near/1525974" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> charlie <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Add.20new.20cron.20job.20in.20zulip.20docker.html#1525974">(Mar 16 2023 at 04:02)</a>:</h4>
<p>@_<strong>Notification Bot|5</strong> <a href="#narrow/stream/31-production-help/topic/Add.20new.20cron.20job.20in.20zulip.20docker/near/1525884">said</a>:</p>
<blockquote>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="49" href="/#narrow/stream/49-development-help/topic/Add.20new.20cron.20job.20in.20zulip.20docker">#development help &gt; Add new cron job in zulip docker</a> by <span class="user-mention silent" data-user-id="7">Tim Abbott</span>.</p>
</blockquote>
<p>Cool!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>