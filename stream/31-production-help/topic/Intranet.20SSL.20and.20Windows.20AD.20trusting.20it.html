<html>
<head><meta charset="utf-8"><title>Intranet SSL and Windows AD trusting it · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Intranet.20SSL.20and.20Windows.20AD.20trusting.20it.html">Intranet SSL and Windows AD trusting it</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="767137"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Intranet%20SSL%20and%20Windows%20AD%20trusting%20it/near/767137" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Intranet.20SSL.20and.20Windows.20AD.20trusting.20it.html#767137">(Jul 12 2019 at 14:24)</a>:</h4>
<p>Hi there, I hope this is the correct place to get advice.</p>
<p>My team been using Zulip in a small LAN setup in a testing phase and so far, so good :)</p>
<p>To roll it out to more people outside we'd like to make the setup a bit more polished and proper, so the first step to that would be ensuring SSL works correctly without warnings.</p>
<p>Our Zulip setup is purely local and without external access at the moment, and we'd like to keep it that way for the foreseeable future which I believe rules out certbot (happy to be corrected if I'm wrong).</p>
<p>With certbot not being an option, I started to look at ways to generate our own .key/.crt pairs, and have it trusted automatically in the local Windows Active Directory. The generation of keys seems to have multiple solutions online, and Zulip Docs explicitly define about having a "full chain". With all that in mind, my two main questions are the following.</p>
<ul>
<li>What exact method/program/flags should I use to generate a custom certificate which Zulip would accept?</li>
<li>After the certificate files are created, can I have the Windows AD CA automatically trust them for all AD users/machines?</li>
</ul>
<p>I hope that all makes sense, thanks!</p>



<a name="767473"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Intranet%20SSL%20and%20Windows%20AD%20trusting%20it/near/767473" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Intranet.20SSL.20and.20Windows.20AD.20trusting.20it.html#767473">(Jul 12 2019 at 22:24)</a>:</h4>
<p><span class="user-mention" data-user-id="12910">@Marc</span> this is the right place!</p>
<p>I don't know how Windows AD CA works, but generally creating a "full chain" means just have the <code>.crt</code> file contain the chain of certificates leading to your trust root.  Google suggests this guide might do what you want: <a href="https://www.reddit.com/r/homelab/comments/89rtbw/windows_ca_nginx/" target="_blank" title="https://www.reddit.com/r/homelab/comments/89rtbw/windows_ca_nginx/">https://www.reddit.com/r/homelab/comments/89rtbw/windows_ca_nginx/</a> </p>
<p>(If it doesn't, I think <code>nginx</code>, <code>certificate</code>, and <code>Active Directory</code> is a good set of keywords for this)</p>



<a name="767474"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Intranet%20SSL%20and%20Windows%20AD%20trusting%20it/near/767474" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Intranet.20SSL.20and.20Windows.20AD.20trusting.20it.html#767474">(Jul 12 2019 at 22:25)</a>:</h4>
<p>(Our requirements here aren't anything special, just using the popular nginx webserver)</p>



<a name="769619"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Intranet%20SSL%20and%20Windows%20AD%20trusting%20it/near/769619" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Intranet.20SSL.20and.20Windows.20AD.20trusting.20it.html#769619">(Jul 18 2019 at 13:22)</a>:</h4>
<p>//removed</p>



<a name="769620"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Intranet%20SSL%20and%20Windows%20AD%20trusting%20it/near/769620" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Intranet.20SSL.20and.20Windows.20AD.20trusting.20it.html#769620">(Jul 18 2019 at 13:23)</a>:</h4>
<p>//removed</p>



<a name="769621"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Intranet%20SSL%20and%20Windows%20AD%20trusting%20it/near/769621" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Intranet.20SSL.20and.20Windows.20AD.20trusting.20it.html#769621">(Jul 18 2019 at 13:23)</a>:</h4>
<p>//removed</p>



<a name="769622"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Intranet%20SSL%20and%20Windows%20AD%20trusting%20it/near/769622" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Intranet.20SSL.20and.20Windows.20AD.20trusting.20it.html#769622">(Jul 18 2019 at 13:24)</a>:</h4>
<p>//removed</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>