<html>
<head><meta charset="utf-8"><title>Memory usage with 5.0-dev · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Memory.20usage.20with.205.2E0-dev.html">Memory usage with 5.0-dev</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1335988"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Memory%20usage%20with%205.0-dev/near/1335988" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matija <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Memory.20usage.20with.205.2E0-dev.html#1335988">(Feb 28 2022 at 12:25)</a>:</h4>
<p>Hi, </p>
<p>We’ve been self-hosting Zulip for a couple of months now and its memory usage has been a bit outside of the suggested expected values described here <a href="https://zulip.readthedocs.io/en/latest/production/requirements.html#scalability">https://zulip.readthedocs.io/en/latest/production/requirements.html#scalability</a> <br>
The memory will sometimes reach 40 gigs (as of posting this it hovers around 20-ish).</p>
<p>We’re using version 5.0-dev-3325-g1b303e7b2f (commit hash <a href="https://github.com/zulip/zulip/commit/946e8064a31c126c4fa7a2e1e512fe6ef64b0eb0">946e8064a31c126c4fa7a2e1e512fe6ef64b0eb0</a> ), I know, that might not be the best idea (nor is that fully up to date). Do let me know if it's best to just update rather than try to debug this.</p>
<p>However, in case I'd want to ind out what might be causing it, any pointers as to where to look?</p>
<p><a href="/user_uploads/2/dd/ATRpEg7TBkP63RIcjXRIRx6i/Screen-Shot-2022-02-28-at-10.22.36.png">Screen-Shot-2022-02-28-at-10.22.36.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/dd/ATRpEg7TBkP63RIcjXRIRx6i/Screen-Shot-2022-02-28-at-10.22.36.png" title="Screen-Shot-2022-02-28-at-10.22.36.png"><img src="/user_uploads/2/dd/ATRpEg7TBkP63RIcjXRIRx6i/Screen-Shot-2022-02-28-at-10.22.36.png"></a></div><p>Here's an example of how the memory usage grows throughout the day (this is on a sunday, with little activity). We have about 35 users.</p>



<a name="1336136"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Memory%20usage%20with%205.0-dev/near/1336136" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Memory.20usage.20with.205.2E0-dev.html#1336136">(Feb 28 2022 at 19:03)</a>:</h4>
<p><span class="user-mention" data-user-id="22264">@matija</span> I'd start by looking at which specific process is leaking memory; you it's often quite easy to see with a tool like <code>top</code>.</p>



<a name="1336137"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Memory%20usage%20with%205.0-dev/near/1336137" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Memory.20usage.20with.205.2E0-dev.html#1336137">(Feb 28 2022 at 19:04)</a>:</h4>
<p>You might also want to update to current <code>main</code>, though I don't expect that to fix your memory leak problem (just other bugs).</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>