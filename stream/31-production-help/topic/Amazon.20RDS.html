<html>
<head><meta charset="utf-8"><title>Amazon RDS · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html">Amazon RDS</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="838790"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838790" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838790">(Mar 24 2020 at 22:06)</a>:</h4>
<p>Hi, I am a bit confused by the state of the AWS RDS support. The release notes say that 2.1 now supports running on RDS with full text search but the docs say the experience is degraded. Is the docs out of date? or are there still issues using RDS? Thanks</p>



<a name="838804"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838804" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838804">(Mar 24 2020 at 22:15)</a>:</h4>
<p><span class="user-mention" data-user-id="15388">@Simon</span> where is it mentioned that the experience is degraded?</p>



<a name="838807"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838807" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838807">(Mar 24 2020 at 22:16)</a>:</h4>
<p>I believe the current story is that you can use it, however, RDS doesn't let us provide or specify dictionary files, so nice search features like stemming will not work there as well as they could.</p>



<a name="838828"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838828" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838828">(Mar 24 2020 at 22:24)</a>:</h4>
<p>Yes that is what the documentation says <a href="https://zulip.readthedocs.io/en/latest/production/deployment.html" title="https://zulip.readthedocs.io/en/latest/production/deployment.html">https://zulip.readthedocs.io/en/latest/production/deployment.html</a></p>



<a name="838829"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838829" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838829">(Mar 24 2020 at 22:24)</a>:</h4>
<p>Was just confused as release notes indicated otherwise</p>



<a name="838830"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838830" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838830">(Mar 24 2020 at 22:27)</a>:</h4>
<div class="codehilite"><pre><span></span>Zulip&#39;s full-text search no longer requires a custom postgres extension, allowing Zulip to use Amazon RDS and similar DBaaS platforms for its database.
</pre></div>



<a name="838835"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838835" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838835">(Mar 24 2020 at 22:29)</a>:</h4>
<p>Would you recommend using RDS or should we stick to a separate DB server running on Ubuntu. 100-200 users.</p>



<a name="838845"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838845" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838845">(Mar 24 2020 at 22:33)</a>:</h4>
<p>I generally recommend a separate DB server, but I think the user experience with RDS will be basically fine.</p>



<a name="838846"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838846" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838846">(Mar 24 2020 at 22:34)</a>:</h4>
<p>If you can submit a support ticket to AWS asking them to make available standard dictionaries in RDS, that'd certainly be helpful.</p>



<a name="838847"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/838847" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#838847">(Mar 24 2020 at 22:34)</a>:</h4>
<p>It's a very small change they'd need to make in order for there to be no degradation in experience.</p>



<a name="839355"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/839355" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#839355">(Mar 25 2020 at 09:18)</a>:</h4>
<p>Thanks, will have a look</p>



<a name="1465288"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465288" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465288">(Nov 16 2022 at 07:40)</a>:</h4>
<p><a href="/user_uploads/2/2b/GzZI8vXA9dH31bFkJbo8ZO1D/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/2b/GzZI8vXA9dH31bFkJbo8ZO1D/image.png" title="image.png"><img src="/user_uploads/2/2b/GzZI8vXA9dH31bFkJbo8ZO1D/image.png"></a></div>



<a name="1465289"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465289" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465289">(Nov 16 2022 at 07:40)</a>:</h4>
<p>Full text dictionaries are now supported?</p>



<a name="1465290"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465290" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465290">(Nov 16 2022 at 07:41)</a>:</h4>
<p>has anyone tested this out? <span class="user-mention" data-user-id="7">@Tim Abbott</span></p>



<a name="1465422"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465422" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465422">(Nov 16 2022 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="25248">@sanil</span> not that I know of; what is their interface for specifying the dictionary to use?</p>



<a name="1465423"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465423" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465423">(Nov 16 2022 at 16:23)</a>:</h4>
<p>It'd be great to link that in our documentation on using RDS.</p>



<a name="1465425"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465425" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465425">(Nov 16 2022 at 16:26)</a>:</h4>
<p>not sure... new to both postgres as well as zulip :) But i did test it out by not providing the no-init-db option and can confirm that i get an error about the dictionaries when following the rest of the instructions</p>



<a name="1465426"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465426" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465426">(Nov 16 2022 at 16:27)</a>:</h4>
<p>if i follow the instructions as mentioned in doc everythings seems to be going fine</p>



<a name="1465458"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465458" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465458">(Nov 16 2022 at 17:40)</a>:</h4>
<p>OK. It's possible their documentation on dictionaries is confusing; <span class="user-mention" data-user-id="25248">@sanil</span> what page were you looking at?</p>



<a name="1465459"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1465459" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1465459">(Nov 16 2022 at 17:40)</a>:</h4>
<p>(I think it's possible they provide some dictionaries, but don't let you upload your own, and Zulip has a specific set of dictionary files it's been tested with)</p>



<a name="1466234"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1466234" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1466234">(Nov 17 2022 at 05:09)</a>:</h4>
<p><a href="https://aws.amazon.com/rds/postgresql/features/">https://aws.amazon.com/rds/postgresql/features/</a><br>
<a href="https://zulip.readthedocs.io/en/stable/production/deployment.html#using-zulip-with-amazon-rds-as-the-database">https://zulip.readthedocs.io/en/stable/production/deployment.html#using-zulip-with-amazon-rds-as-the-database</a></p>
<p>This is what i followed</p>



<a name="1466241"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1466241" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1466241">(Nov 17 2022 at 05:14)</a>:</h4>
<p>In general what is a recommended architecture for production grade zulip? I was thinking of going ahead with Amazon RDS, since i can setup standby replica's and confiigure automated backups in a fairly easy fashion. I guess doing the same with the built in Postgress included as part of zulip would require some additional work?</p>



<a name="1466260"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1466260" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1466260">(Nov 17 2022 at 05:28)</a>:</h4>
<p>Ok. Ignore. I guess mostly everything is covered here:<br>
<a href="https://zulip.readthedocs.io/en/stable/production/requirements.html#scalability">https://zulip.readthedocs.io/en/stable/production/requirements.html#scalability</a></p>
<p>I will go ahead and test out how bad is the performance degradation of the full text search by using a zulip backup , and if its not too bad will go ahead with the RDS route.  If anyone else has any experiences around using Remote RDS or anything else to be kept in mind, please share</p>



<a name="1467148"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1467148" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1467148">(Nov 18 2022 at 04:58)</a>:</h4>
<p>mostly looks fine. But just FYI , we are a small team of about 15 people with message history running back to a maximum of a year</p>



<a name="1467154"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1467154" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1467154">(Nov 18 2022 at 05:22)</a>:</h4>
<p>The issues that I expect you'll see are not bad latency, but bad search results.  I would expect stemming and the like to not work as well.</p>



<a name="1467159"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1467159" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sanil <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1467159">(Nov 18 2022 at 06:17)</a>:</h4>
<p>ok is there a manual workaround documented? i mean would it be possible to connect to postgress RDS post the install and copy over the missing dictionaries?</p>



<a name="1467240"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Amazon%20RDS/near/1467240" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Amazon.20RDS.html#1467240">(Nov 18 2022 at 14:53)</a>:</h4>
<p>There is not a workaround -- it's a fundamental limitation of RDS, because they don't allow access to the filesystem on the PostgreSQL server.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>