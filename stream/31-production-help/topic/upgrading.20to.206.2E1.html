<html>
<head><meta charset="utf-8"><title>upgrading to 6.1 Â· production help Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html">upgrading to 6.1</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1514117"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514117" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514117">(Feb 25 2023 at 09:51)</a>:</h4>
<p>Hey everyone,<br>
I am getting this error while upgrading my old zulip server to the 6.1 version please help me.</p>
<p>[92mZulip stopped successfully![0m<br>
2023-02-25 09:32:16,264 upgrade-zulip-stage-2: Applying Puppet changes...<br>
[mNotice: Compiled catalog for desktop in environment production in 3.52 seconds[0m<br>
[1;31mError: Command exceeded timeout[0m<br>
[1;31mError: /Stage[main]/Zulip::Apt_repository/Exec[setup_apt_repo]/returns: change from 'notrun' to ['0'] failed: Command exceeded timeout[0m<br>
[mNotice: Applied catalog in 300.90 seconds[0m<br>
Traceback (most recent call last):<br>
  File "/home/zulip/deployments/2023-02-25-15-01-52/scripts/lib/upgrade-zulip-stage-2", line 453, in &lt;module&gt;<br>
    subprocess.check_call(["./scripts/zulip-puppet-apply", "--force"])<br>
  File "/usr/lib/python3.10/subprocess.py", line 369, in check_call<br>
    raise CalledProcessError(retcode, cmd)<br>
subprocess.CalledProcessError: Command '['./scripts/zulip-puppet-apply', '--force']' returned non-zero exit status 1.</p>
<p>Zulip upgrade failed (exit code 1)!</p>
<p>The upgrade process is designed to be idempotent, so you can retry after resolving whatever issue caused the failure (there should be a traceback above). A log of this installation is available in /var/log/zulip/upgrade.log</p>



<a name="1514118"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514118" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514118">(Feb 25 2023 at 09:57)</a>:</h4>
<p>Hey everyone,<br>
I am getting this error while upgrading my old zulip server to the 6.1 version please help me.</p>
<p>[92mZulip stopped successfully![0m<br>
2023-02-25 09:32:16,264 upgrade-zulip-stage-2: Applying Puppet changes...<br>
[mNotice: Compiled catalog for desktop in environment production in 3.52 seconds[0m<br>
[1;31mError: Command exceeded timeout[0m<br>
[1;31mError: /Stage[main]/Zulip::Apt_repository/Exec[setup_apt_repo]/returns: change from 'notrun' to ['0'] failed: Command exceeded timeout[0m<br>
[mNotice: Applied catalog in 300.90 seconds[0m<br>
Traceback (most recent call last):<br>
File "/home/zulip/deployments/2023-02-25-15-01-52/scripts/lib/upgrade-zulip-stage-2", line 453, in &lt;module&gt;<br>
subprocess.check_call(["./scripts/zulip-puppet-apply", "--force"])<br>
File "/usr/lib/python3.10/subprocess.py", line 369, in check_call<br>
raise CalledProcessError(retcode, cmd)<br>
subprocess.CalledProcessError: Command '['./scripts/zulip-puppet-apply', '--force']' returned non-zero exit status 1.</p>
<p>Zulip upgrade failed (exit code 1)!</p>
<p>The upgrade process is designed to be idempotent, so you can retry after resolving whatever issue caused the failure (there should be a traceback above). A log of this installation is available in /var/log/zulip/upgrade.log</p>



<a name="1514574"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514574" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514574">(Feb 27 2023 at 01:53)</a>:</h4>
<p><span class="user-mention" data-user-id="26171">@Jon</span> the timeout in that log output suggests that your problem is probably a networking issues -- the upgrade tool, like the installer, needs network access to update some dependencies.</p>



<a name="1514612"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514612" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514612">(Feb 27 2023 at 05:16)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span>  I have checked my machine there are no network issues and my machine getting 26Mbps internet speed</p>



<a name="1514624"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514624" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514624">(Feb 27 2023 at 06:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="26171">Jon</span> <a href="#narrow/stream/31-production-help/topic/Docker-Zulip.3A.20Upgrading.20to.20PG14.20fails/near/1514117">said</a>:</p>
<blockquote>
<p>Hey everyone,<br>
I am getting this error while upgrading my old zulip server to the 6.1 version please help me.</p>
<p>[92mZulip stopped successfully![0m<br>
2023-02-25 09:32:16,264 upgrade-zulip-stage-2: Applying Puppet changes...<br>
[mNotice: Compiled catalog for desktop in environment production in 3.52 seconds[0m<br>
[1;31mError: Command exceeded timeout[0m<br>
[1;31mError: /Stage[main]/Zulip::Apt_repository/Exec[setup_apt_repo]/returns: change from 'notrun' to ['0'] failed: Command exceeded timeout[0m<br>
[mNotice: Applied catalog in 300.90 seconds[0m<br>
Traceback (most recent call last):<br>
  File "/home/zulip/deployments/2023-02-25-15-01-52/scripts/lib/upgrade-zulip-stage-2", line 453, in &lt;module&gt;<br>
    subprocess.check_call(["./scripts/zulip-puppet-apply", "--force"])<br>
  File "/usr/lib/python3.10/subprocess.py", line 369, in check_call<br>
    raise CalledProcessError(retcode, cmd)<br>
subprocess.CalledProcessError: Command '['./scripts/zulip-puppet-apply', '--force']' returned non-zero exit status 1.</p>
<p>Zulip upgrade failed (exit code 1)!</p>
<p>The upgrade process is designed to be idempotent, so you can retry after resolving whatever issue caused the failure (there should be a traceback above). A log of this installation is available in /var/log/zulip/upgrade.log</p>
</blockquote>
<p>Please help my zulip server is not upgrading</p>



<a name="1514725"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514725" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514725">(Feb 27 2023 at 12:53)</a>:</h4>
<p>4 messages were moved here from <a class="stream-topic" data-stream-id="31" href="/#narrow/stream/31-production-help/topic/Docker-Zulip.3A.20Upgrading.20to.20PG14.20fails">#production help &gt; Docker-Zulip: Upgrading to PG14 fails</a> by <span class="user-mention silent" data-user-id="21836">Lauryn Menard</span>.</p>



<a name="1514727"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514727" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514727">(Feb 27 2023 at 12:54)</a>:</h4>
<p>4 messages were moved here from <a class="stream-topic" data-stream-id="9" href="/#narrow/stream/9-issues/topic/editing.20system.20bots">#issues &gt; editing system bots</a> by <span class="user-mention silent" data-user-id="21836">Lauryn Menard</span>.</p>



<a name="1514728"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514728" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lauryn Menard <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514728">(Feb 27 2023 at 13:00)</a>:</h4>
<p><span class="user-mention" data-user-id="26171">@Jon</span> - I moved all your messages to the <a class="stream" data-stream-id="31" href="/#narrow/stream/31-production-help">#production help</a> stream and put them under this one topic.</p>
<p>In this community, there's no need to post the same message in multiple places; see <a href="https://zulip.com/development-community/#getting-help">our community guidelines</a> for getting help. Also, in the same guidelines, you should start a new topic unless you're replying to an existing conversation.</p>



<a name="1514781"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514781" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514781">(Feb 27 2023 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="26171">@Jon</span>: Can you try running, as the <code>root</code> user:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>~zulip/deployments/current/scripts/lib/setup-apt-repo<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="p">|</span>ts
</code></pre></div>
<p>...and show the full output in a <a href="https://zulip.com/help/code-blocks">code block</a>?</p>



<a name="1514782"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1514782" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1514782">(Feb 27 2023 at 15:17)</a>:</h4>
<p>I'm guessing you have some firewall or proxy which is interfering with network access -- speed is not the only important axis. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1515960"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1515960" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1515960">(Mar 01 2023 at 10:12)</a>:</h4>
<p><span class="user-mention" data-user-id="12178">@Alex Vandiver</span> I have check only the version 6.0 ,6.1 and zulip-server-lattest.tar.gz is giving the time out error <br>
My server version is 5.6 and I tried to update it to 5.7 it was successfully updated and then I tried to update the server to 6.0 it got an error and same when I tried to update to 6.1 it gives the same error.</p>
<p>[92mZulip stopped successfully![0m<br>
2023-02-25 09:32:16,264 upgrade-zip-stage-2: Applying Puppet changes...<br>
[mNotice: Compiled catalog for desktop in environment production in 3.52 seconds[0m<br>
[1;31mError: Command exceeded timeout[0m<br>
[1;31mError: /Stage[main]/Zulip::Apt_repository/Exec[setup_apt_repo]/returns: change from 'notrun' to ['0'] failed: Command exceeded timeout[0m<br>
[mNotice: Applied catalog in 300.90 seconds[0m<br>
Traceback (most recent call last):<br>
File "/home/zulip/deployments/2023-02-25-15-01-52/scripts/lib/upgrade-zulip-stage-2", line 453, in &lt;module&gt;<br>
subprocess.check_call(["./scripts/zulip-puppet-apply", "--force"])<br>
File "/usr/lib/python3.10/subprocess.py", line 369, in check_call<br>
raise CalledProcessError(retcode, cmd)<br>
subprocess.CalledProcessError: Command '['./scripts/zulip-puppet-apply', '--force']' returned non-zero exit status 1.</p>
<p>Zulip upgrade failed (exit code 1)!</p>
<p>The upgrade process is designed to be idempotent, so you can retry after resolving whatever issue caused the failure (there should be a traceback above). A log of this installation is available in /var/log/zulip/upgrade.log<br>
zulip-server-6.0.tar.gz is not updating the server.</p>



<a name="1515968"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1515968" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1515968">(Mar 01 2023 at 11:32)</a>:</h4>
<p>Here I attach the log file <br>
<a href="/user_uploads/2/21/Sb8hnPz7J4CrWQRXeIn60W27/Instal-Log.txt">Instal-Log.txt</a></p>



<a name="1516032"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1516032" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1516032">(Mar 01 2023 at 16:14)</a>:</h4>
<p><span class="user-mention" data-user-id="26171">@Jon</span>: Please run, as the <code>root</code> user:</p>
<div class="codehilite"><pre><span></span><code>~zulip/deployments/2023-02-25-15-01-52/scripts/lib/setup-apt-repo 2&gt;&amp;1 |ts
</code></pre></div>
<p>Then use a <a href="https://zulip.com/help/code-blocks">code block</a> to paste in the output you see.</p>



<a name="1516759"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1516759" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1516759">(Mar 02 2023 at 10:07)</a>:</h4>
<p>root@nest-desktop:~# ~zulip/deployments/current/scripts/lib/setup-apt-repo 2&gt;&amp;1 |ts<br>
Mar 02 15:33:25 + set -e<br>
Mar 02 15:33:25 + set -u<br>
Mar 02 15:33:25 + set -o pipefail<br>
Mar 02 15:33:25 + shopt -s extglob<br>
Mar 02 15:33:25 + verify=false<br>
Mar 02 15:33:25 ++ getopt -o '' --long verify,list: --<br>
Mar 02 15:33:25 + args=' --'<br>
Mar 02 15:33:25 + eval 'set --  --'<br>
Mar 02 15:33:25 ++ set -- --<br>
Mar 02 15:33:25 + LIST=zulip<br>
Mar 02 15:33:25 + true<br>
Mar 02 15:33:25 + case "$1" in<br>
Mar 02 15:33:25 + shift<br>
Mar 02 15:33:25 + break<br>
Mar 02 15:33:25 + mkdir -p /var/lib/zulip<br>
Mar 02 15:33:25 + SOURCES_FILE=/etc/apt/sources.list.d/zulip.list<br>
Mar 02 15:33:25 + PREF_FILE=/etc/apt/preferences.d/zulip.pref<br>
Mar 02 15:33:25 + STAMP_FILE=/etc/apt/sources.list.d/zulip.list.apt-update-in-progress<br>
Mar 02 15:33:25 ++ dirname /home/zulip/deployments/current/scripts/lib/setup-apt-repo<br>
Mar 02 15:33:25 + cd /home/zulip/deployments/current/scripts/lib/../..<br>
Mar 02 15:33:25 + LIST_PATH=scripts/setup/apt-repos/zulip<br>
Mar 02 15:33:25 + '[' -d scripts/setup/apt-repos/zulip ']'<br>
Mar 02 15:33:25 ++ . /etc/os-release<br>
Mar 02 15:33:25 +++ PRETTY_NAME='Ubuntu 22.04.2 LTS'<br>
Mar 02 15:33:25 +++ NAME=Ubuntu<br>
Mar 02 15:33:25 +++ VERSION_ID=22.04<br>
Mar 02 15:33:25 +++ VERSION='22.04.2 LTS (Jammy Jellyfish)'<br>
Mar 02 15:33:25 +++ VERSION_CODENAME=jammy<br>
Mar 02 15:33:25 +++ ID=ubuntu<br>
Mar 02 15:33:25 +++ ID_LIKE=debian<br>
Mar 02 15:33:25 +++ HOME_URL=https://www.ubuntu.com/<br>
Mar 02 15:33:25 +++ SUPPORT_URL=https://help.ubuntu.com/<br>
Mar 02 15:33:25 +++ BUG_REPORT_URL=https://bugs.launchpad.net/ubuntu/<br>
Mar 02 15:33:25 +++ PRIVACY_POLICY_URL=https://www.ubuntu.com/legal/terms-and-policies/privacy-policy<br>
Mar 02 15:33:25 +++ UBUNTU_CODENAME=jammy<br>
Mar 02 15:33:25 ++ printf %s jammy<br>
Mar 02 15:33:25 + release=jammy<br>
Mar 02 15:33:25 + '[' '!' -f scripts/setup/apt-repos/zulip/jammy.list ']'<br>
Mar 02 15:33:25 ++ sha256sum scripts/setup/apt-repos/zulip/custom.sh scripts/setup/apt-repos/zulip/jammy.list scripts/setup/apt-repos/zulip/pgdg.asc scripts/setup/apt-repos/zulip/pgroonga-packages.groonga.org.asc scripts/setup/apt-repos/zulip/pgroonga-ppa.asc scripts/lib/setup-apt-repo<br>
Mar 02 15:33:25 + DEPENDENCIES_HASH='1880c6337400b54a7e344d9c4a42ca11482709ab2641e5fd3aae85f01fd5ea5d  scripts/setup/apt-repos/zulip/custom.sh<br>
Mar 02 15:33:25 17a0f467f394c83a74fa715ec4e1d542cae64d1899d03f6f69a4fd434d8e3853  scripts/setup/apt-repos/zulip/jammy.list<br>
Mar 02 15:33:25 0144068502a1eddd2a0280ede10ef607d1ec592ce819940991203941564e8e76  scripts/setup/apt-repos/zulip/pgdg.asc<br>
Mar 02 15:33:25 06f00f144d99826f27b8912c26d02dd4e0247f662666be5378740828d39c6a41  scripts/setup/apt-repos/zulip/pgroonga-packages.groonga.org.asc<br>
Mar 02 15:33:25 a133aa690de5fc1d46ca23a54bf6dd1c6468e8426e1ec9661f390e4f41a365d1  scripts/setup/apt-repos/zulip/pgroonga-ppa.asc<br>
Mar 02 15:33:25 8f70beaa2b1b8621a156d140e6004367684f434f0978baa78e5f742ac3fb593a  scripts/lib/setup-apt-repo'<br>
Mar 02 15:33:25 + DEPENDENCIES_HASH_FILE=/var/lib/zulip/setup-repositories-state-zulip<br>
Mar 02 15:33:25 + touch /var/lib/zulip/setup-repositories-state-zulip<br>
Mar 02 15:33:25 ++ cat /var/lib/zulip/setup-repositories-state-zulip<br>
Mar 02 15:33:25 + LAST_DEPENDENCIES_HASH='1880c6337400b54a7e344d9c4a42ca11482709ab2641e5fd3aae85f01fd5ea5d  scripts/setup/apt-repos/zulip/custom.sh<br>
Mar 02 15:33:25 17a0f467f394c83a74fa715ec4e1d542cae64d1899d03f6f69a4fd434d8e3853  scripts/setup/apt-repos/zulip/jammy.list<br>
Mar 02 15:33:25 0144068502a1eddd2a0280ede10ef607d1ec592ce819940991203941564e8e76  scripts/setup/apt-repos/zulip/pgdg.asc<br>
Mar 02 15:33:25 06f00f144d99826f27b8912c26d02dd4e0247f662666be5378740828d39c6a41  scripts/setup/apt-repos/zulip/pgroonga-packages.groonga.org.asc<br>
Mar 02 15:33:25 a133aa690de5fc1d46ca23a54bf6dd1c6468e8426e1ec9661f390e4f41a365d1  scripts/setup/apt-repos/zulip/pgroonga-ppa.asc<br>
Mar 02 15:33:25 8f70beaa2b1b8621a156d140e6004367684f434f0978baa78e5f742ac3fb593a  scripts/lib/setup-apt-repo'<br>
Mar 02 15:33:25 + '[' '1880c6337400b54a7e344d9c4a42ca11482709ab2641e5fd3aae85f01fd5ea5d  scripts/setup/apt-repos/zulip/custom.sh<br>
Mar 02 15:33:25 17a0f467f394c83a74fa715ec4e1d542cae64d1899d03f6f69a4fd434d8e3853  scripts/setup/apt-repos/zulip/jammy.list<br>
Mar 02 15:33:25 0144068502a1eddd2a0280ede10ef607d1ec592ce819940991203941564e8e76  scripts/setup/apt-repos/zulip/pgdg.asc<br>
Mar 02 15:33:25 06f00f144d99826f27b8912c26d02dd4e0247f662666be5378740828d39c6a41  scripts/setup/apt-repos/zulip/pgroonga-packages.groonga.org.asc<br>
Mar 02 15:33:25 a133aa690de5fc1d46ca23a54bf6dd1c6468e8426e1ec9661f390e4f41a365d1  scripts/setup/apt-repos/zulip/pgroonga-ppa.asc<br>
Mar 02 15:33:25 8f70beaa2b1b8621a156d140e6004367684f434f0978baa78e5f742ac3fb593a  scripts/lib/setup-apt-repo' = '1880c6337400b54a7e344d9c4a42ca11482709ab2641e5fd3aae85f01fd5ea5d  scripts/setup/apt-repos/zulip/custom.sh<br>
Mar 02 15:33:25 17a0f467f394c83a74fa715ec4e1d542cae64d1899d03f6f69a4fd434d8e3853  scripts/setup/apt-repos/zulip/jammy.list<br>
Mar 02 15:33:25 0144068502a1eddd2a0280ede10ef607d1ec592ce819940991203941564e8e76  scripts/setup/apt-repos/zulip/pgdg.asc<br>
Mar 02 15:33:25 06f00f144d99826f27b8912c26d02dd4e0247f662666be5378740828d39c6a41  scripts/setup/apt-repos/zulip/pgroonga-packages.groonga.org.asc<br>
Mar 02 15:33:25 a133aa690de5fc1d46ca23a54bf6dd1c6468e8426e1ec9661f390e4f41a365d1  scripts/setup/apt-repos/zulip/pgroonga-ppa.asc<br>
Mar 02 15:33:25 8f70beaa2b1b8621a156d140e6004367684f434f0978baa78e5f742ac3fb593a  scripts/lib/setup-apt-repo' ']'<br>
Mar 02 15:33:25 + exit 0</p>



<a name="1516929"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1516929" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1516929">(Mar 02 2023 at 17:31)</a>:</h4>
<p>That looks fine.  However, that's not quite the command I asked you to run the second time.</p>
<p>The command is:</p>
<div class="codehilite"><pre><span></span><code>~zulip/deployments/2023-02-25-15-01-52/scripts/lib/setup-apt-repo 2&gt;&amp;1 |ts
</code></pre></div>
<p>And <em>please</em> read our documentation on <a href="https://zulip.com/help/code-blocks">code blocks</a>.  It's as simple as typing three backticks:</p>
<div class="codehilite"><pre><span></span><code>```
paste your log here
```
</code></pre></div>
<p>It will make things more more readable.</p>



<a name="1517562"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1517562" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1517562">(Mar 03 2023 at 08:27)</a>:</h4>
<p>when I run this command it gives this</p>
<p>~# ~zulip/deployments/2023-02-27-15-01-52/scripts/lib/setup-apt-repo 2&gt;&amp;1 |ts<br>
Mar 03 13:56:17 bash: /home/zulip/deployments/2023-02-27-15-01-52/scripts/lib/setup-apt-repo: No such file or directory</p>



<a name="1517818"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1517818" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1517818">(Mar 03 2023 at 18:59)</a>:</h4>
<p>That's odd, because that <a href="#narrow/stream/31-production-help/topic/upgrading.20to.206.2E1/near/1515960">directory existed for you earlier</a>.</p>
<p>I guess we'll try:</p>
<div class="codehilite"><pre><span></span><code>~zulip/deployments/next/scripts/lib/setup-apt-repo 2&gt;&amp;1 |ts
</code></pre></div>



<a name="1518873"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1518873" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1518873">(Mar 06 2023 at 05:03)</a>:</h4>
<p>Thank You for your help.<br>
My server has been upgraded to the latest version by trying one-by-one version upgradation.</p>



<a name="1518932"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1518932" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1518932">(Mar 06 2023 at 09:31)</a>:</h4>
<p>i just need help in  separating web and app server.</p>



<a name="1518935"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1518935" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1518935">(Mar 06 2023 at 09:37)</a>:</h4>
<p>I have to tell you something I am not a guy who knows and understands code or scripts  I just read the docs and do the following things to install the server.</p>
<p>For security reasons  I have to separate the zulip  application server and web server</p>



<a name="1518936"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1518936" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jon <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1518936">(Mar 06 2023 at 09:38)</a>:</h4>
<p>Please guide me to do this.</p>



<a name="1519083"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20to%206.1/near/1519083" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20to.206.2E1.html#1519083">(Mar 06 2023 at 14:50)</a>:</h4>
<p><span class="user-mention" data-user-id="26171">@Jon</span>: Zulip does not support separating nginx and uwsgi.  If you consider nginx + uwsgi the "application server" (which, for instance, we effectively do in Zulip Cloud) then you can separate those by putting Zulip behind a reverse proxy.  See <a href="https://zulip.readthedocs.io/en/latest/production/deployment.html#putting-the-zulip-application-behind-a-reverse-proxy">https://zulip.readthedocs.io/en/latest/production/deployment.html#putting-the-zulip-application-behind-a-reverse-proxy</a></p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>