<html>
<head><meta charset="utf-8"><title>systemctl enable supervisor · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html">systemctl enable supervisor</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="119136"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119136" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119136">(Jan 07 2017 at 22:08)</a>:</h4>
<p>I'm trying to install a new production zulip server and I got this error from puppet:</p>
<div class="codehilite"><pre><span></span>Error: systemctl enable supervisor returned 1 instead of one of [0]
Error: /Stage[main]/Zulip::Supervisor/Exec[enable supervisor]/returns: change from notrun to 0 failed: systemctl enable supervisor returned 1 instead of one of [0]
</pre></div>



<a name="119137"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119137" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119137">(Jan 07 2017 at 22:08)</a>:</h4>
<p>but I ran that command manually and it succeeded so I'll just try the installer again</p>



<a name="119139"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119139" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119139">(Jan 07 2017 at 22:09)</a>:</h4>
<p>was just wondering whether this is a known issue</p>



<a name="119143"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119143" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119143">(Jan 07 2017 at 22:11)</a>:</h4>
<p>I actually faced a similar issue once, here is a link if you want to check it out: <a href="https://chat.zulip.org/#narrow/stream/installation.20help/topic/error.20when.20installing.20server" target="_blank" title="https://chat.zulip.org/#narrow/stream/installation.20help/topic/error.20when.20installing.20server">https://chat.zulip.org/#narrow/stream/installation.20help/topic/error.20when.20installing.20server</a></p>



<a name="119145"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119145" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119145">(Jan 07 2017 at 22:11)</a>:</h4>
<p>Are you running Ubuntu Xenial?</p>



<a name="119146"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119146" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119146">(Jan 07 2017 at 22:12)</a>:</h4>
<p>Yep, looks like the same issue<br>
Yes, xenial</p>



<a name="119147"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119147" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119147">(Jan 07 2017 at 22:12)</a>:</h4>
<p>I guess maybe it is a race condition of some kind?</p>



<a name="119148"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119148" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119148">(Jan 07 2017 at 22:13)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com">@Tim Abbott</span> you might be interested in this, since the issue occurred before.</p>



<a name="119149"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119149" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119149">(Jan 07 2017 at 22:13)</a>:</h4>
<p>where the <code>systemctl enable supervisor</code> doesn't have a dependency on supervisor being installed? at any rate, the puppet script ran a whole bunch more stuff after the error (I had to page up a lot to find it)</p>



<a name="119150"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119150" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119150">(Jan 07 2017 at 22:13)</a>:</h4>
<p>so perhaps it proceeded to install supervisor and probably would have just worked if I ran it again</p>



<a name="119151"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119151" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119151">(Jan 07 2017 at 22:14)</a>:</h4>
<p>just a guess based on our two experiences combined</p>



<a name="119156"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119156" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119156">(Jan 07 2017 at 22:24)</a>:</h4>
<p>FWIW, it did work to just run the install script again.</p>



<a name="119157"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119157" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reid Barton <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119157">(Jan 07 2017 at 22:25)</a>:</h4>
<p>(after having run <code>systemctl enable supervisor</code> manually)</p>



<a name="119158"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/119158" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#119158">(Jan 07 2017 at 22:25)</a>:</h4>
<p>Good to know, thanks.</p>



<a name="120360"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/120360" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#120360">(Jan 09 2017 at 00:55)</a>:</h4>
<p><span class="user-mention" data-user-email="rwbarton@gmail.com">@Reid Barton</span> yeah this is a known issue on Xenial systems; I think it's fixed in master (so I guess our upcoming release eliminates it).  Sorry for the trouble!</p>



<a name="120361"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/systemctl%20enable%20supervisor/near/120361" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/systemctl.20enable.20supervisor.html#120361">(Jan 09 2017 at 00:55)</a>:</h4>
<p>It seems to only happen to some people</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>