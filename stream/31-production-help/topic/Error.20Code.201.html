<html>
<head><meta charset="utf-8"><title>Error Code 1 · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html">Error Code 1</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="971080"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/971080" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Hall <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#971080">(Aug 03 2020 at 21:38)</a>:</h4>
<p>Hello,</p>
<p>So I set up a fresh Debian install and downloaded Zulip. I saw in the user guides that the regular install script was the recommended set-up, so I started there. Unfortunately, when I run the script, I immediately get "Error code 1." Even more unfortunately,  /var/log/zulip/install.log contains no further details. Instead it contains a re-print of the script help file. Would someone be able to point me in the right direction? One question I have is, do I need to have the Apache server up and running prior to installing Zulip? Or does the Zulip script set that up for me? Thank you very much!</p>



<a name="971187"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/971187" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#971187">(Aug 03 2020 at 22:39)</a>:</h4>
<p><span class="user-mention" data-user-id="16790">@Matt Hall</span> can you paste the output of what exactly you ran?</p>



<a name="971188"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/971188" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#971188">(Aug 03 2020 at 22:39)</a>:</h4>
<p>In any case, Zulip's installation instructions are complete; there's nothing extra you need to do before running it (and installing Apache is likely to make your life harder, as Zulip uses <code>nginx</code>, a different webserver).</p>



<a name="975635"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/975635" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Hall <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#975635">(Aug 06 2020 at 15:50)</a>:</h4>
<p>...</p>



<a name="975637"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/975637" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Hall <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#975637">(Aug 06 2020 at 15:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Error.20Code.201/near/971188">said</a>:</p>
<blockquote>
<p>In any case, Zulip's installation instructions are complete; there's nothing extra you need to do before running it (and installing Apache is likely to make your life harder, as Zulip uses <code>nginx</code>, a different webserver).</p>
</blockquote>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> Hi, the code I ran was: ./zulip-server-*/scripts/setup/install --certbot \<br>
    --email=mypersonalemail@gmail.com  --hostname=debian.hall.local </p>
<p>I'm guessing I am missing something very basic/stupid.</p>



<a name="975743"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/975743" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#975743">(Aug 06 2020 at 17:05)</a>:</h4>
<p><span class="user-mention" data-user-id="16790">@Matt Hall</span> Could you paste the exact  output of that command as well?</p>



<a name="978876"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/978876" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Hall <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#978876">(Aug 09 2020 at 00:12)</a>:</h4>
<p>hello, sorry for the delay. Here it is directly from bash: </p>
<p>root@debian:/tmp/tmp.5cE9xzm3sd# ./zulip-server-*/scripts/setup/install --certbot \ --email=matthall.dds@gmail.com --hostname=debian.hall.local<br>
Usage:<br>
  install --hostname=zulip.example.com --email=zulip-admin@example.com [options...]<br>
  install --help</p>
<p>Options:<br>
  --hostname=zulip.example.com<br>
      The user-accessible domain name for this Zulip server, i.e., what users will type<br>
      in their web browser.  Required, unless --no-init-db is set and --certbot is not.<br>
  --email=zulip-admin@example.com<br>
      The email address of the person or team who should get support and error emails<br>
      from this Zulip server.  Required, unless --no-init-db is set and --certbot is<br>
      not.</p>
<p>--certbot<br>
      Obtains a free SSL certificate for the server using Certbot,<br>
<a href="https://certbot.eff.org/">https://certbot.eff.org/</a>  Recommended.  Conflicts with --self-signed-cert.<br>
  --self-signed-cert<br>
      Generate a self-signed SSL certificate for the server. This isn’t suitable for<br>
      production use, but may be convenient for testing.  Conflicts with --certbot.<br>
  --cacert=/path/to/ca.pem<br>
      Set the CA which used to establish TLS to all public internet sites during the<br>
      install process; used when this command is run once in a highly-controlled<br>
      environment to produce an image which is used elsewhere.  Uncommon.</p>
<p>--postgres-version=12<br>
      Sets the version of Postgres that will be installed.<br>
  --postgres-missing-dictionaries<br>
      Set postgresql.missing_dictionaries, which alters the initial database.  Use with<br>
      cloud managed databases like RDS.  Conflicts with --no-overwrite-settings.<br>
  --no-init-db<br>
      Does not do any database initialization; use when you already have a Zulip<br>
      database.</p>
<p>--no-overwrite-settings<br>
      Preserve existing <code>/etc/zulip</code> configuration files.<br>
  --no-dist-upgrade<br>
      Skip the initial <code>apt-get dist-upgrade</code>.</p>
<p>Zulip installation failed (exit code 1)!</p>
<p>The install process is designed to be idempotent, so you can retry after resolving whatever issue caused the failure (there should be a traceback above). A log of this installation is available in /var/log/zulip/install.log</p>



<a name="978877"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/978877" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#978877">(Aug 09 2020 at 01:08)</a>:</h4>
<p><span class="user-mention" data-user-id="16790">@Matt Hall</span> The backslash must be followed by a newline, not a space. (Or just remove the backslash. Its only purpose is to allow you to split the command into multiple lines.)</p>



<a name="978878"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/978878" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#978878">(Aug 09 2020 at 01:11)</a>:</h4>
<p>Also, if you happen to have multiple <code>zulip-server-*</code> directories, the <code>*</code> shortcut won’t work, and you should substitute accordingly.</p>



<a name="984194"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Error%20Code%201/near/984194" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Hall <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Error.20Code.201.html#984194">(Aug 12 2020 at 17:49)</a>:</h4>
<p>Wow...what a horribly embarrassing, humbling error. So sorry!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>