<html>
<head><meta charset="utf-8"><title>Outgoing email rate limit · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Outgoing.20email.20rate.20limit.html">Outgoing email rate limit</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1396358"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Outgoing%20email%20rate%20limit/near/1396358" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Ou <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Outgoing.20email.20rate.20limit.html#1396358">(Jun 24 2022 at 22:27)</a>:</h4>
<p>Hi, is there a way to slow down email sending to something like 1 per second? We currently have Stream Email notifications enabled for all users, and large streams may contain hundreds of users, which means Zulip tries to send out hundreds of missed notification emails in a short period of time. This is straining our Exchange server and causing outgoing emails to fail.</p>



<a name="1396371"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Outgoing%20email%20rate%20limit/near/1396371" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Outgoing.20email.20rate.20limit.html#1396371">(Jun 24 2022 at 22:40)</a>:</h4>
<p>Zulip doesn't currently have anything like that, no.  In fact, we've done work to optimize it to be able to send emails as fast as possible, to prevent them from lingering in the local RabbitMQ queue.</p>
<p>Zulip should retry any emails which Exchange sends it a failure on, so there should be no email loss there.  But I understand that's not being friendly to your Exchange server.</p>



<a name="1396416"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Outgoing%20email%20rate%20limit/near/1396416" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Ou <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Outgoing.20email.20rate.20limit.html#1396416">(Jun 24 2022 at 23:51)</a>:</h4>
<p>I see, thanks for your reply Alex</p>



<a name="1398159"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Outgoing%20email%20rate%20limit/near/1398159" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Outgoing.20email.20rate.20limit.html#1398159">(Jun 28 2022 at 21:04)</a>:</h4>
<p><span class="user-mention" data-user-id="19092">@Ivan Ou</span> I'd be curious to hear more about why you have stream email notifications enabled for all users in all streams; that's not a typical configuration.</p>



<a name="1398164"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Outgoing%20email%20rate%20limit/near/1398164" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Ou <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Outgoing.20email.20rate.20limit.html#1398164">(Jun 28 2022 at 21:18)</a>:</h4>
<p>Hi Tim, our user desktop environments are locked down so Windows Action Center is disabled.  Which means browser notifications that disappear after a few seconds are not accessible to the users. If you aren't actively using your computer, you'll never know you got a message.</p>



<a name="1398173"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Outgoing%20email%20rate%20limit/near/1398173" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Outgoing.20email.20rate.20limit.html#1398173">(Jun 28 2022 at 21:35)</a>:</h4>
<p>I see, thanks for the context. I expect for some users, having a habit of checking their Zulip when returning to their computer would work, but I can see why that would push you towards a default of having every message do email notifications.</p>



<a name="1399290"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Outgoing%20email%20rate%20limit/near/1399290" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Ou <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Outgoing.20email.20rate.20limit.html#1399290">(Jul 01 2022 at 00:39)</a>:</h4>
<p>I think this is more of a response from users not accustomed to this type of system. Once activity picks up, they'll quickly get overwhelmed by the number of emails and turn stream email notifications off. So I think this is really just a temporary solution to get the ball rolling.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>