<html>
<head><meta charset="utf-8"><title>Shutdown script · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html">Shutdown script</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="797031"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/797031" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitze <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#797031">(Nov 13 2019 at 15:32)</a>:</h4>
<p>Does anyone have a good server shutdown script? Some times when I shut down the system and power it up again I get<br>
"internal server error" and it is being caused by not having a clean shutdown. As I scale up my system I will need at some time to do a powerdown/reboot.</p>



<a name="797043"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/797043" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#797043">(Nov 13 2019 at 19:32)</a>:</h4>
<p><span class="user-mention" data-user-id="13858">@fitze</span> can you talk a bit more about why you want to shut it down?</p>



<a name="797044"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/797044" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#797044">(Nov 13 2019 at 19:32)</a>:</h4>
<p>There's a few possible answers and I'm not sure which is appropriate.</p>



<a name="797050"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/797050" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitze <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#797050">(Nov 13 2019 at 20:25)</a>:</h4>
<p>As I build multiple VM's  and one VM being Zulip, once a week I make a image backups</p>



<a name="797051"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/797051" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#797051">(Nov 13 2019 at 20:30)</a>:</h4>
<p>The normal shutdown process (e.g. <code>shutdown -h now</code>) is expected to work. Do you have the messages in <code>/var/log/zulip/server.log</code> (perhaps a traceback) corresponding to the internal server error?</p>



<a name="797198"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/797198" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitze <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#797198">(Nov 14 2019 at 12:54)</a>:</h4>
<p>That is what I use, shutdown -h now  and or the VM server to shutdown and no I did not check server.log.<br>
At this time  I am not going to use Zulip  maybe try at a later date.  I do not want to spend the time to chase it down problem.<br>
One other thing, I also tried a install on DigitalOcean and it did the same internal server error on reboot/shutdown.</p>



<a name="797373"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/797373" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitze <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#797373">(Nov 15 2019 at 17:59)</a>:</h4>
<p>I was given the time to find the problem and think I found the problem, built a script and did 100 reboots and shutdowns with no problems . All the best to the Zulip team.</p>



<a name="797377"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/797377" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#797377">(Nov 15 2019 at 18:03)</a>:</h4>
<p><span class="user-mention" data-user-id="13858">@fitze</span> what was the problem?</p>



<a name="799242"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Shutdown%20script/near/799242" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitze <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Shutdown.20script.html#799242">(Nov 25 2019 at 17:44)</a>:</h4>
<p>I was the problem and maybe a little help of memcached. Wanted to fork Zulip to a project called Tulip, but was out voted and being forced to <a href="http://Matrix.org" target="_blank" title="http://Matrix.org">Matrix.org</a> direction.   Zulip is excellent, so on my own time will be using DigitalOcean  with the website name inthegarden.page for testing. User name <a href="mailto:Guest@inthegarden.page" title="mailto:Guest@inthegarden.page">Guest@inthegarden.page</a> Password inthegarden</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>