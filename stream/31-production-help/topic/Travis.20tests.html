<html>
<head><meta charset="utf-8"><title>Travis tests · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html">Travis tests</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="303507"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/303507" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#303507">(Oct 24 2017 at 06:56)</a>:</h4>
<p>I have create PR <a href="https://github.com/zulip/zulip/pull/7146" target="_blank" title="https://github.com/zulip/zulip/pull/7146">#7146</a> which fixes issue <a href="https://github.com/zulip/zulip/pull/1736" target="_blank" title="https://github.com/zulip/zulip/pull/1736">#1736</a>. <br>
All tests are passed locally on same branch when I run <code>./tools/test-all</code>, but it's failing in Travis CI. Tried to restart again, but getting same error.<br>
Any idea what can be wrong?</p>



<a name="303529"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/303529" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#303529">(Oct 24 2017 at 07:57)</a>:</h4>
<p>Also tried with creating other branch, but still throwing error in Travis CI and working fine locally.</p>



<a name="303643"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/303643" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#303643">(Oct 24 2017 at 13:05)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> The issue seems closed now.</p>



<a name="303654"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/303654" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#303654">(Oct 24 2017 at 13:08)</a>:</h4>
<p>Yeah. I have closed existing PR and try to create PR from new branch, here <a href="https://github.com/zulip/zulip/pull/7147" target="_blank" title="https://github.com/zulip/zulip/pull/7147">https://github.com/zulip/zulip/pull/7147</a><br>
But it still throwing error.</p>



<a name="303720"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/303720" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#303720">(Oct 24 2017 at 15:01)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> the relevant error is this:<br>
<code>Oct 24 07:52:01 Conflicting migrations detected; multiple leaf nodes in the migration graph: (0112_index_muted_topics, 0111_userprofile_enable_all_favicon_dekstop_notifications in zerver).</code></p>



<a name="303721"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/303721" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#303721">(Oct 24 2017 at 15:01)</a>:</h4>
<p><code>tools/renumber-migrations</code> can fix this for you.</p>



<a name="303759"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/303759" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#303759">(Oct 24 2017 at 16:15)</a>:</h4>
<p>The problem is that everything is working fine in local branch.<br>
I run <code>./tools/test-all</code> --&gt; <code>All ok!</code><br>
I run <code>./tools/renumber-migrations</code> --&gt; <code>All conflicts resolved</code><br>
And when try to push, obviously it is saying that <code>Everything up-to-date</code>, because there is no changes. So how can I solve error on Travis CI?</p>



<a name="303761"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/303761" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#303761">(Oct 24 2017 at 16:17)</a>:</h4>
<p>It should pass on Travis CI, if it's passing locally. <br>
First, I thought there should be problem with branch, so I try with another branch. But it's still failing.</p>



<a name="304564"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/304564" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#304564">(Oct 25 2017 at 18:21)</a>:</h4>
<p>PR <a href="https://github.com/zulip/zulip/pull/7147" target="_blank" title="https://github.com/zulip/zulip/pull/7147">#7147</a><br>
What should I do for this? Should I create another PR or just try to solve the error in existing PR?<br>
<span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span> what do you suggest?</p>



<a name="304566"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/304566" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#304566">(Oct 25 2017 at 18:26)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> you should just fix your PR, rebase, and force-push to update the PR.  There's no need to make a new PR.  <a href="http://zulip.readthedocs.io/en/latest/git-guide.html" target="_blank" title="http://zulip.readthedocs.io/en/latest/git-guide.html">zulip.readthedocs.io/en/latest/git-guide.html</a> can help teach you how to do that.</p>



<a name="304939"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Travis%20tests/near/304939" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Travis.20tests.html#304939">(Oct 26 2017 at 15:01)</a>:</h4>
<p>Thanks!! Updated PR <a href="https://github.com/zulip/zulip/pull/7147" target="_blank" title="https://github.com/zulip/zulip/pull/7147">#7147</a>. Ready for review.<br>
And sorry, next time I will try to keep PR/issue clean.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>