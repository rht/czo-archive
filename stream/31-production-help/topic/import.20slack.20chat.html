<html>
<head><meta charset="utf-8"><title>import slack chat · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html">import slack chat</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="563496"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/563496" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#563496">(Apr 18 2018 at 11:50)</a>:</h4>
<p>I having an issue Import data from Slack, I'm getting the following error<br>
No such file or directory: '/home/zulip/deployments/2018-04-18-11-15-51/zerver/lib/../fixtures/zerver_realm_skeleton.json'</p>



<a name="563497"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/563497" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#563497">(Apr 18 2018 at 11:50)</a>:</h4>
<p>have anyone been able to import your slack history ?</p>



<a name="563521"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/563521" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#563521">(Apr 18 2018 at 12:08)</a>:</h4>
<p>cc: <span class="user-mention" data-user-id="3278">@Rhea Parekh</span></p>



<a name="563534"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/563534" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#563534">(Apr 18 2018 at 12:11)</a>:</h4>
<p>Maybe the specific python version is somehow not recognizing the <code>/lib/../fixtures</code> thing?</p>



<a name="563592"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/563592" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#563592">(Apr 18 2018 at 12:27)</a>:</h4>
<p><span class="user-mention" data-user-id="6645">@Oscar Mota</span> which system you are using, and which python version? See if I could reproduce the problem.</p>



<a name="563687"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/563687" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joost Harts <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#563687">(Apr 18 2018 at 13:00)</a>:</h4>
<p>i am having exactly the same error, anyone have a update on it?</p>



<a name="563692"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/563692" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joost Harts <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#563692">(Apr 18 2018 at 13:01)</a>:</h4>
<p>clean server, with the latest installation guide</p>



<a name="563722"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/563722" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#563722">(Apr 18 2018 at 13:06)</a>:</h4>
<p><span class="user-mention" data-user-id="6630">@Joost Harts</span> what is the content of <code>/home/zulip/deployments/&lt;date&gt;/zerver/lib/../fixtures</code>?</p>



<a name="564260"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564260" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564260">(Apr 18 2018 at 16:09)</a>:</h4>
<p><span class="user-mention" data-user-id="2328">@Rein Zustand</span> the bug here is that the <code>zerver/fixtures</code> directory isn't included in releases, since it's intended only for testing.</p>



<a name="564261"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564261" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564261">(Apr 18 2018 at 16:09)</a>:</h4>
<p>I think a workaround for that is to do <code>upgrade-zulip-from-git 1.8.0</code> to get a development version; and we're probably going to need to do a 1.8.1 release in the next day or so to fix this.</p>



<a name="564340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564340">(Apr 18 2018 at 16:30)</a>:</h4>
<p>So the correct location should be at <code>zerver/management/data/zerver_realm_skeleton.json</code>?<br>
On the other note, the size of <code>zerver/fixtures</code> is just ~400KB, I don't see why it should be excluded from releases. Wouldn't be better to have more parity between dev and prod env?</p>



<a name="564368"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564368" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564368">(Apr 18 2018 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-id="2328">@Rein Zustand</span> that directory, as well as <code>zerver/tests</code>, is part of the unit test system.</p>



<a name="564369"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564369" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564369">(Apr 18 2018 at 16:38)</a>:</h4>
<p>I think we should consider moving <code>zerver/fixtures</code> to <code>zerver/tests/fixtures</code>  to make the arrangement more obvious.</p>



<a name="564543"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564543" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564543">(Apr 18 2018 at 17:34)</a>:</h4>
<p><span class="user-mention" data-user-id="2328">@Rein Zustand</span> Its a droplet from digital ocean with just Ubuntu  16.04.4 x64 , I opened an issue on github and it seems a issue in the code</p>



<a name="564557"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564557" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564557">(Apr 18 2018 at 17:37)</a>:</h4>
<p><span class="user-mention" data-user-id="6645">@Oscar Mota</span> yes, this is a bug, just fixed in master.  See <a href="https://github.com/zulip/zulip/pull/9130" target="_blank" title="https://github.com/zulip/zulip/pull/9130">https://github.com/zulip/zulip/pull/9130</a> for the fix and workaround.</p>



<a name="564558"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564558" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564558">(Apr 18 2018 at 17:37)</a>:</h4>
<blockquote>
<p>I think a workaround for that is to do <code>upgrade-zulip-from-git 1.8.0</code> to get a development version; and we're probably going to need to do a 1.8.1 release in the next day or so to fix this.</p>
</blockquote>
<p>Thank you, how can I upgrade from git ? I ran <code>upgrade-zulip-from-git 1.8.0</code> but Im getting an error: <code>Usage: /home/zulip/deployments/current/scripts/lib/upgrade-zulip &lt;tarball&gt;</code></p>



<a name="564560"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564560" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564560">(Apr 18 2018 at 17:37)</a>:</h4>
<p><a href="http://zulip.readthedocs.io/en/latest/production/maintain-secure-upgrade.html#upgrading-from-a-git-repository" target="_blank" title="http://zulip.readthedocs.io/en/latest/production/maintain-secure-upgrade.html#upgrading-from-a-git-repository">http://zulip.readthedocs.io/en/latest/production/maintain-secure-upgrade.html#upgrading-from-a-git-repository</a></p>



<a name="564657"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564657" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564657">(Apr 18 2018 at 18:12)</a>:</h4>
<p>Thank you, the <code>upgrade from git</code>resolved the issue, but now when I run the following command <code>./manage.py import --import-into-nonempty &lt;subdomain&gt; converted_slack_data</code>now I got this error</p>
<p><code>File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/lib/export.py", line 1584, in do_import_realm raise Exception("Missing realm.json file!")
Exception: Missing realm.json file!</code></p>
<p>Is this issue related to the previous one ? thanks</p>



<a name="564660"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564660" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564660">(Apr 18 2018 at 18:14)</a>:</h4>
<p>That looks to me more like what happens if you pass the wrong path.  What does <code>ls converted_slack_data</code> show you?</p>



<a name="564672"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564672" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564672">(Apr 18 2018 at 18:16)</a>:</h4>
<p>mmm its empty, I ran again the first command <br>
`./manage.py convert_slack_data slack_data.zip --token &lt;token&gt; --output converted_slack_data``</p>
<p>and it throws <br>
<code>Traceback (most recent call last):
  File "/home/zulip/deployments/current/manage.py", line 25, in &lt;module&gt;
    execute_from_command_line(sys.argv)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zulip-py3-venv/lib/python3.5/site-packages/django/core/management/__init__.py", line 364, in execute_from_command_line
    utility.execute()
  File "/home/zulip/deployments/2018-04-18-17-44-24/zulip-py3-venv/lib/python3.5/site-packages/django/core/management/__init__.py", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zulip-py3-venv/lib/python3.5/site-packages/django/core/management/base.py", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zulip-py3-venv/lib/python3.5/site-packages/django/core/management/base.py", line 330, in execute
    output = self.handle(*args, **options)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/management/commands/convert_slack_data.py", line 58, in handle
    do_convert_data(path, output_dir, token, threads=num_threads)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/lib/slack_data_to_zulip_data.py", line 872, in do_convert_data
    realm, realm['zerver_realmemoji'], domain_name)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/lib/slack_data_to_zulip_data.py", line 581, in convert_slack_workspace_messages
    domain_name)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/lib/slack_data_to_zulip_data.py", line 644, in channel_message_to_zerver_message
    content, mentioned_users_id, has_link = convert_to_zulip_markdown(message['text'],
KeyError: 'text'</code></p>



<a name="564677"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564677" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564677">(Apr 18 2018 at 18:17)</a>:</h4>
<p>Users and channels import process are finished , that error is right away after <br>
<code>INFO [] ######### IMPORTING MESSAGES STARTED #########</code></p>



<a name="564680"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564680" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564680">(Apr 18 2018 at 18:18)</a>:</h4>
<p>OK -- that looks like an issue related to some specific message in your Slack data set (basically, some message type in the Slack data export that we apparently don't handle correctly).  Let me throw together a quick patch you can use to extract the message and submit an anonymized fixture in a bug report.</p>



<a name="564692"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564692" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564692">(Apr 18 2018 at 18:20)</a>:</h4>
<p>Try adding this and rerunning -- that should print out the message:</p>
<div class="codehilite"><pre><span></span>diff --git a/zerver/lib/slack_data_to_zulip_data.py b/zerver/lib/slack_data_to_zulip_data.py
index 9bf3816..57b6a2f 100755
--- a/zerver/lib/slack_data_to_zulip_data.py
+++ b/zerver/lib/slack_data_to_zulip_data.py
@@ -668,6 +668,7 @@ def channel_message_to_zerver_message(realm_id: int, users: List[ZerverFieldsT],
             continue

         has_attachment = has_image = False
+        print(json.dumps(message, indent=4))
         content, mentioned_users_id, has_link = convert_to_zulip_markdown(message[&#39;text&#39;],
                                                                           users,
                                                                           added_channels,
</pre></div>



<a name="564697"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564697" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564697">(Apr 18 2018 at 18:21)</a>:</h4>
<p>sorry where do I add those lines ?</p>



<a name="564700"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564700" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564700">(Apr 18 2018 at 18:21)</a>:</h4>
<p>search for <code>convert_to_zulip_markdown</code> in the file in question.</p>



<a name="564701"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564701" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564701">(Apr 18 2018 at 18:21)</a>:</h4>
<p>It's just one new line (the <code>print</code> statement)</p>



<a name="564702"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564702" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564702">(Apr 18 2018 at 18:22)</a>:</h4>
<p>The rest is just the context for where to put it.</p>



<a name="564703"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564703" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564703">(Apr 18 2018 at 18:22)</a>:</h4>
<p>oh ok</p>



<a name="564722"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564722" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564722">(Apr 18 2018 at 18:26)</a>:</h4>
<p>still running</p>



<a name="564726"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564726" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564726">(Apr 18 2018 at 18:26)</a>:</h4>
<p><code>{
    "type": "message",
    "text": "Salpicon",
    "user": "U03JF8KAR",
    "channel_name": "almuerzos",
    "ts": "1476815616.000323"
}
{
    "ts": "1476815815.000326",
    "subtype": "pinned_item",
    "channel_name": "almuerzos",
    "type": "message",
    "item_type": "C",
    "user": "U03JF8KAR"
}
Traceback (most recent call last):
  File "/home/zulip/deployments/current/manage.py", line 25, in &lt;module&gt;
    execute_from_command_line(sys.argv)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zulip-py3-venv/lib/python3.5/site-packages/django/core/management/__init__.py", line 364, in execute_from_command_line
    utility.execute()
  File "/home/zulip/deployments/2018-04-18-17-44-24/zulip-py3-venv/lib/python3.5/site-packages/django/core/management/__init__.py", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zulip-py3-venv/lib/python3.5/site-packages/django/core/management/base.py", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zulip-py3-venv/lib/python3.5/site-packages/django/core/management/base.py", line 330, in execute
    output = self.handle(*args, **options)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/management/commands/convert_slack_data.py", line 58, in handle
    do_convert_data(path, output_dir, token, threads=num_threads)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/lib/slack_data_to_zulip_data.py", line 873, in do_convert_data
    realm, realm['zerver_realmemoji'], domain_name)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/lib/slack_data_to_zulip_data.py", line 581, in convert_slack_workspace_messages
    domain_name)
  File "/home/zulip/deployments/2018-04-18-17-44-24/zerver/lib/slack_data_to_zulip_data.py", line 645, in channel_message_to_zerver_message
    content, mentioned_users_id, has_link = convert_to_zulip_markdown(message['text'],
KeyError: 'text'
zulip@team:/etc/zulip$</code></p>



<a name="564730"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564730" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564730">(Apr 18 2018 at 18:28)</a>:</h4>
<p>Ahh, OK, it's the <code>pinned_item</code> type.  I'm not sure why that's a "message" in their API, but should be easy to fix; let me see if I can do that quickly so you can finish the import.</p>



<a name="564732"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564732" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564732">(Apr 18 2018 at 18:28)</a>:</h4>
<p>awesome</p>



<a name="564734"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564734" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564734">(Apr 18 2018 at 18:29)</a>:</h4>
<p>I hope this helps to someone else to not face the same issue</p>



<a name="564737"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564737" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564737">(Apr 18 2018 at 18:30)</a>:</h4>
<p>Yeah, anything we fix now we can just include in today's slack import bugfix release <span class="emoji emoji-1f603" title="smiley">:smiley:</span>.</p>



<a name="564755"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564755" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564755">(Apr 18 2018 at 18:37)</a>:</h4>
<p><span class="user-mention" data-user-id="6645">@Oscar Mota</span> OK, I just pushed a few commits to a slack import branch.  You should be able to try out the revised version with <code>upgrade-zulip-from-git slack-import</code>.</p>



<a name="564757"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564757" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564757">(Apr 18 2018 at 18:38)</a>:</h4>
<p>cool, let me try</p>



<a name="564759"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564759" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564759">(Apr 18 2018 at 18:38)</a>:</h4>
<p>(We hopefully both improved the error handling to avoid anyone needing to do that sort of print statement to get decent debug output, as well as addressing the pinned_item message type)</p>



<a name="564760"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564760" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564760">(Apr 18 2018 at 18:39)</a>:</h4>
<p><span class="user-mention" data-user-id="3278">@Rhea Parekh</span> you may want to review this conversation when you're next online <span class="emoji emoji-1f603" title="smiley">:smiley:</span></p>



<a name="564784"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564784" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564784">(Apr 18 2018 at 18:45)</a>:</h4>
<p>it worked! thanks</p>



<a name="564787"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564787" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564787">(Apr 18 2018 at 18:45)</a>:</h4>
<p>now, it seems that I can't import to my actual empty team subdomain right ? <br>
I need to create a new one</p>



<a name="564798"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564798" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564798">(Apr 18 2018 at 18:47)</a>:</h4>
<p>Importing creates a team.</p>



<a name="564804"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564804" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564804">(Apr 18 2018 at 18:48)</a>:</h4>
<p>And you can use <code>''</code> to refer to the root domain (if that's where you want your organization imported; I think we document that in the instructions)</p>



<a name="564869"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564869" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564869">(Apr 18 2018 at 18:56)</a>:</h4>
<p>now I cant login and I'm not receiving the reset password email, I guess this is related to the import process right ?</p>



<a name="564874"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564874" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564874">(Apr 18 2018 at 18:58)</a>:</h4>
<p>I got it now but did a request from the web, not from the App, so it's resolved, thank you</p>



<a name="564875"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564875" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564875">(Apr 18 2018 at 18:58)</a>:</h4>
<p>So, just to be clear, the import completed successfully, and you now get a login form?</p>



<a name="564877"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564877" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564877">(Apr 18 2018 at 18:58)</a>:</h4>
<p>Oh, interesting, are you saying you tried to use the mobile app's "password reset" feature and that didn't send you an email, but doing the same thing on web did?</p>



<a name="564879"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564879" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564879">(Apr 18 2018 at 18:58)</a>:</h4>
<p>mac app</p>



<a name="564883"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564883" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564883">(Apr 18 2018 at 18:59)</a>:</h4>
<p>I gonna delete all the app data and add the organization from beginning</p>



<a name="564889"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564889" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564889">(Apr 18 2018 at 19:02)</a>:</h4>
<p>that did work!</p>



<a name="564896"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564896" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Mota <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564896">(Apr 18 2018 at 19:05)</a>:</h4>
<p>Thank you for all Tim, g2g sorry</p>



<a name="564926"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564926" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564926">(Apr 18 2018 at 19:21)</a>:</h4>
<p>Great <span class="emoji emoji-1f603" title="smiley">:smiley:</span></p>



<a name="564934"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/564934" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#564934">(Apr 18 2018 at 19:29)</a>:</h4>
<p>Merged the fixes; now I'm updating the documentation to recommend upgrading before you import.  Thanks for all your help <span class="user-mention" data-user-id="6645">@Oscar Mota</span>!</p>



<a name="565475"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/import%20slack%20chat/near/565475" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rhea Parekh <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/import.20slack.20chat.html#565475">(Apr 19 2018 at 02:55)</a>:</h4>
<p>Ahh I had no idea that we didnt include <code>zerver/fixtures</code> for production.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>