<html>
<head><meta charset="utf-8"><title>timeouts in 5.3 · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html">timeouts in 5.3</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1398409"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398409" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398409">(Jun 29 2022 at 05:35)</a>:</h4>
<p>Hi Team, Once we upgraded from Zulip Server 5.2 to 5.3 the client connections are not stable showing internal server error randomly for the users</p>



<a name="1398410"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398410" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398410">(Jun 29 2022 at 05:43)</a>:</h4>
<p>2022/06/29 11:11:47 [error] 1342#1342: *5126 upstream timed out (110: Connection timed out) while reading response header from upstream, client: 10.20.12.31, server: , request: "GET / HTTP/2.0", upstream: "uwsgi://unix:/home/zulip/deployments/uwsgi-socket"</p>



<a name="1398411"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398411" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398411">(Jun 29 2022 at 05:43)</a>:</h4>
<p>Getting the above error from nginix error log</p>



<a name="1398433"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398433" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398433">(Jun 29 2022 at 06:45)</a>:</h4>
<p>Is there anything notable in <code>/var/log/zulip/django.log</code> when those timeouts happen?</p>
<p>Is it always when logging in (on requests to <code>/</code>)?</p>



<a name="1398434"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398434" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398434">(Jun 29 2022 at 06:50)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="12178">@Alex Vandiver</span></p>



<a name="1398435"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398435" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398435">(Jun 29 2022 at 06:50)</a>:</h4>
<p>2022-06-29 06:49:21.956 INFO [zr] 10.31.13.147    GET     200 11.9s (mem: 8.1s/166) (md: 366ms/2) (db: 627ms/5q) (+start: 905ms) /json/messages (4151@root via Mozilla)<br>
2022-06-29 06:49:21.958 INFO [zr] 10.31.7.214     GET     200 19.0s (mem: 13.6s/209) (md: 490ms/2) (db: 258ms/6q) (+start: 391ms) /json/messages (412@root via Mozilla)</p>



<a name="1398436"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398436" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398436">(Jun 29 2022 at 06:50)</a>:</h4>
<p>this is the log im getting from /var/log/zulip/django.log</p>



<a name="1398446"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398446" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398446">(Jun 29 2022 at 07:18)</a>:</h4>
<p>Yes it is happening when we loggedin</p>



<a name="1398485"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398485" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398485">(Jun 29 2022 at 12:00)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="23436">@Visvanathan</span> : are there any <code>ERROR</code> lines in <code>/var/log/zulip/django.log</code> around when the problem happens?</p>



<a name="1398489"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398489" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398489">(Jun 29 2022 at 12:10)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="24078">@Matt Keller</span> WARN [urllib3.connectionpool] Connection pool is full, discarding connection: 127.0.0.1. Connection pool size: 10</p>



<a name="1398490"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398490" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398490">(Jun 29 2022 at 12:10)</a>:</h4>
<p>I'm getting this warning</p>



<a name="1398491"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398491" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398491">(Jun 29 2022 at 12:11)</a>:</h4>
<p>in django.log</p>



<a name="1398497"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398497" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398497">(Jun 29 2022 at 13:28)</a>:</h4>
<p><span class="user-mention" data-user-id="12178">@Alex Vandiver</span> can u pls help us on this.</p>



<a name="1398498"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398498" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398498">(Jun 29 2022 at 13:29)</a>:</h4>
<p><span class="user-mention" data-user-id="24078">@Matt Keller</span> Pls do help us <span class="user-mention" data-user-id="23436">@Visvanathan</span></p>



<a name="1398501"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398501" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398501">(Jun 29 2022 at 13:46)</a>:</h4>
<p>If you run <code>supervisorctl status</code> it should show <code>RUNNING</code> for all services, and the uptimes should not be too low</p>



<a name="1398502"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398502" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398502">(Jun 29 2022 at 13:46)</a>:</h4>
<p>Feel free to paste the output here if you would like</p>



<a name="1398503"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398503" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398503">(Jun 29 2022 at 13:48)</a>:</h4>
<p>If that looks ok, I'd next try restarting django with <code>supervisorctl restart zulip-django</code> ...</p>



<a name="1398507"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398507" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398507">(Jun 29 2022 at 13:50)</a>:</h4>
<p>I spent a while looking into the urllib3.connectionpool warning earlier, and I don't <em>think</em> that's related, as it's for outgoing requests from the django app, not the incoming requests we are looking at.</p>



<a name="1398508"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398508" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398508">(Jun 29 2022 at 13:52)</a>:</h4>
<p>zulip-django service is in running state only</p>



<a name="1398509"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398509" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398509">(Jun 29 2022 at 13:52)</a>:</h4>
<p>the uptimes is not low</p>



<a name="1398510"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398510" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398510">(Jun 29 2022 at 13:52)</a>:</h4>
<p>it is running fine</p>



<a name="1398511"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398511" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398511">(Jun 29 2022 at 13:54)</a>:</h4>
<p>2022/06/29 19:20:53 [error] 1199#1199: *3646 upstream prematurely closed connection while reading response header from upstream, client: 10.50.15.246, server: , request: "DELETE /json/messages/7098016 HTTP/2.0", upstream: "uwsgi://unix:/home/zulip/deployments/uwsgi-socket:", host: "<a href="http://inchat.episource.com">inchat.episource.com</a>", referrer: "<a href="https://inchat.episource.com/">https://inchat.episource.com/</a>"</p>



<a name="1398512"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398512" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398512">(Jun 29 2022 at 13:55)</a>:</h4>
<p>this is the error we are getting. i suspect the upstream django closing the connection.</p>



<a name="1398517"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398517" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398517">(Jun 29 2022 at 14:11)</a>:</h4>
<p>2022/06/29 19:38:08 [error] 1199#1199: *148741 upstream prematurely closed connection while reading response header from upstream, client: 172.16.2.237, server: , request: "POST /json/users/me/presence HTTP/2.0", upstream: "uwsgi://unix:/home/zulip/deployments/uwsgi-socket:", host: "<a href="http://inchat.episource.com">inchat.episource.com</a>", referrer: "<a href="https://inchat.episource.com/">https://inchat.episource.com/</a>"<br>
2022/06/29 19:38:08 [error] 1199#1199: *148741 upstream prematurely closed connection while reading response header from upstream, client: 172.16.2.237, server: , request: "POST /json/messages/flags HTTP/2.0", upstream: "uwsgi://unix:/home/zulip/deployments/uwsgi-socket:", host: "<a href="http://inchat.episource.com">inchat.episource.com</a>", referrer: "<a href="https://inchat.episource.com/">https://inchat.episource.com/</a>"<br>
2022/06/29 19:38:11 [error] 1199#1199: *55180 upstream prematurely closed connection while reading response header from upstream, client: 172.16.38.75, server: , request: "POST /json/users/me/presence HTTP/2.0", upstream: "uwsgi://unix:/home/zulip/deployments/uwsgi-socket:", host: "<a href="http://inchat.episource.com">inchat.episource.com</a>", referrer: "<a href="https://inchat.episource.com/">https://inchat.episource.com/</a>"<br>
2022/06/29 19:38:11 [error] 1199#1199: *847 upstream prematurely closed connection while reading response header from upstream, client: 10.50.14.176, server: , request: "POST /json/typing HTTP/2.0", upstream: "uwsgi://unix:/home/zulip/deployments/uwsgi-socket:", host: "<a href="http://inchat.episource.com">inchat.episource.com</a>", referrer: "<a href="https://inchat.episource.com/">https://inchat.episource.com/</a>"</p>



<a name="1398522"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398522" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398522">(Jun 29 2022 at 14:22)</a>:</h4>
<p>2022-06-29 19:49:05.312 [warning] &lt;0.8875.15&gt; closing AMQP connection &lt;0.8875.15&gt; (127.0.0.1:41626 -&gt; 127.0.0.1:5672, vhost: '/', user: 'zulip'):<br>
client unexpectedly closed TCP connection<br>
2022-06-29 19:49:05.312 [warning] &lt;0.8744.15&gt; closing AMQP connection &lt;0.8744.15&gt; (127.0.0.1:41510 -&gt; 127.0.0.1:5672, vhost: '/', user: 'zulip'):<br>
client unexpectedly closed TCP connection<br>
2022-06-29 19:49:05.312 [warning] &lt;0.8735.15&gt; closing AMQP connection &lt;0.8735.15&gt; (127.0.0.1:41504 -&gt; 127.0.0.1:5672, vhost: '/', user: 'zulip'):<br>
client unexpectedly closed TCP connection<br>
2022-06-29 19:49:05.313 [warning] &lt;0.8970.15&gt; closing AMQP connection &lt;0.8970.15&gt; (127.0.0.1:41710 -&gt; 127.0.0.1:5672, vhost: '/', user: 'zulip'):<br>
client unexpectedly closed TCP connection<br>
2022-06-29 19:49:05.314 [warning] &lt;0.8955.15&gt; closing AMQP connection &lt;0.8955.15&gt; (127.0.0.1:41702 -&gt; 127.0.0.1:5672, vhost: '/', user: 'zulip'):<br>
client unexpectedly closed TCP connection<br>
2022-06-29 19:49:05.314 [warning] &lt;0.9710.15&gt; closing AMQP connection &lt;0.9710.15&gt; (127.0.0.1:42216 -&gt; 127.0.0.1:5672, vhost: '/', user: 'zulip'):<br>
client unexpectedly closed TCP connection</p>



<a name="1398523"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398523" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398523">(Jun 29 2022 at 14:22)</a>:</h4>
<p>i'm getting this warning log from rabbitmq</p>



<a name="1398524"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398524" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398524">(Jun 29 2022 at 14:27)</a>:</h4>
<p>That is interesting. Did you restart django previously as I advised?</p>



<a name="1398525"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398525" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398525">(Jun 29 2022 at 14:27)</a>:</h4>
<p>yes I did</p>



<a name="1398526"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398526" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398526">(Jun 29 2022 at 14:29)</a>:</h4>
<p>are you still seeing the <code>WARN [urllib3.connectionpool] Connection pool is full</code> messages in the django log?</p>



<a name="1398527"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398527" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398527">(Jun 29 2022 at 14:30)</a>:</h4>
<p>now it is not showing in the django log</p>



<a name="1398528"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398528" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398528">(Jun 29 2022 at 14:31)</a>:</h4>
<p>Good, that was annoying me, but I was pretty certain it wasn't the problem <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1398529"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398529" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398529">(Jun 29 2022 at 14:32)</a>:</h4>
<p>what would be the issue <span class="user-mention" data-user-id="24078">@Matt Keller</span></p>



<a name="1398530"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398530" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398530">(Jun 29 2022 at 14:33)</a>:</h4>
<p>i keep on getting this upstream prematurely closed connections</p>



<a name="1398531"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398531" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398531">(Jun 29 2022 at 14:33)</a>:</h4>
<p>for that users we are getting "Internal server error"</p>



<a name="1398532"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398532" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398532">(Jun 29 2022 at 14:39)</a>:</h4>
<p>Nginx is saying Django is closing connections<br>
RabbitMQ is saying something - Either Django or Tornado - is closing connections.<br>
Django is not saying anything bad...</p>
<p>I assume you've looked at memory and other system things, and you're not running out of anything?</p>



<a name="1398533"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398533" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398533">(Jun 29 2022 at 14:40)</a>:</h4>
<p>i have checked the server processor and memory utilization it is normal only</p>



<a name="1398534"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398534" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398534">(Jun 29 2022 at 14:41)</a>:</h4>
<p>there is no high utilization at all.</p>



<a name="1398535"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398535" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398535">(Jun 29 2022 at 14:44)</a>:</h4>
<p>Alex and some others will be around in about an hour, and hopefully something here is obvious to them, as I have run out of things to look into.</p>



<a name="1398536"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398536" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398536">(Jun 29 2022 at 14:46)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="24078">@Matt Keller</span> if someone help us it will be really great.</p>



<a name="1398572"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398572" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398572">(Jun 29 2022 at 17:24)</a>:</h4>
<p>can someone help/guide us pls</p>



<a name="1398598"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398598" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398598">(Jun 29 2022 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="23436">@Visvanathan</span> / <span class="user-mention" data-user-id="23446">@Jaganath Srinivasan</span>: You reported something similar in <a href="#narrow/stream/31-production-help/topic/upstream.20timed.20out.20.28110.20connection.20timed.20out.29.20while.20reading/near/1345975">https://chat.zulip.org/#narrow/stream/31-production-help/topic/upstream.20timed.20out.20.28110.20connection.20timed.20out.29.20while.20reading/near/1345975</a></p>
<p>I don't know of anything related to 5.3 which would have affected this codepath.  Were you seeing this problem before the upgrade, as well?</p>



<a name="1398600"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398600" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398600">(Jun 29 2022 at 18:06)</a>:</h4>
<p>Do <em>all</em> users have this problem on sign-in, or just some of them?  Is sign-in the only time it happens?  How many users do you have?</p>



<a name="1398714"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398714" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398714">(Jun 29 2022 at 21:33)</a>:</h4>
<p>Before upgrade we had no issues at all. After upgrade only we have these issues. All users are affected @Alex</p>



<a name="1398717"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398717" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398717">(Jun 29 2022 at 21:35)</a>:</h4>
<p>Is these issues are due to upgrade</p>



<a name="1398718"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398718" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398718">(Jun 29 2022 at 21:36)</a>:</h4>
<p><span class="user-mention" data-user-id="12178">@Alex Vandiver</span></p>



<a name="1398853"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398853" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398853">(Jun 30 2022 at 04:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="12178">Alex Vandiver</span> <a href="#narrow/stream/31-production-help/topic/timeouts.20in.205.2E3/near/1398600">said</a>:</p>
<blockquote>
<p>Do <em>all</em> users have this problem on sign-in, or just some of them?  Is sign-in the only time it happens?  How many users do you have?</p>
</blockquote>
<p>Yes, all users are having this problem on sign-in randomly. It is happening only to the sign-in users. 5K users we have.</p>



<a name="1398855"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398855" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398855">(Jun 30 2022 at 04:51)</a>:</h4>
<p>How's the load on the server?  The users who don't have trouble logging in, how long does it take to load the page when they log in?</p>



<a name="1398856"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398856" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398856">(Jun 30 2022 at 04:53)</a>:</h4>
<p><a href="/user_uploads/2/25/qnLX3mLVO_jo3H40_z5kCMWw/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/25/qnLX3mLVO_jo3H40_z5kCMWw/image.png" title="image.png"><img src="/user_uploads/2/25/qnLX3mLVO_jo3H40_z5kCMWw/image.png"></a></div>



<a name="1398858"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398858" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398858">(Jun 30 2022 at 04:55)</a>:</h4>
<p>once i give sign in i got the internal server error page</p>



<a name="1398859"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398859" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398859">(Jun 30 2022 at 04:57)</a>:</h4>
<p>That looks like a failed login, which took 25s to fail.  Zulip kills requests that take longer than 20s to run.</p>



<a name="1398860"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398860" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398860">(Jun 30 2022 at 04:57)</a>:</h4>
<p>What is the load on your server?</p>



<a name="1398862"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398862" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398862">(Jun 30 2022 at 05:02)</a>:</h4>
<p><a href="/user_uploads/2/36/qfpQ-IBqeF94NwcvYAIJAQb_/MicrosoftTeams-image-1.png">MicrosoftTeams-image-1.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/36/qfpQ-IBqeF94NwcvYAIJAQb_/MicrosoftTeams-image-1.png" title="MicrosoftTeams-image-1.png"><img src="/user_uploads/2/36/qfpQ-IBqeF94NwcvYAIJAQb_/MicrosoftTeams-image-1.png"></a></div>



<a name="1398863"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398863" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398863">(Jun 30 2022 at 05:02)</a>:</h4>
<p>this is my current load</p>



<a name="1398868"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398868" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398868">(Jun 30 2022 at 05:13)</a>:</h4>
<p>That looks like moderately heavy load.  It's possible there's some performance regression in 5.3 that's affecting you but that we've not seen in other places -- or it's possible that you've crossed over into a differnt performance domain for unrelated reasons.</p>
<p>There are no schema changes between 5.3 and 5.2.  You can try downgrading to 5.2 and see if that resolves anything.  Note that this is a minor security regression, because of CVE-2022-31017 -- you should decide if you care about that before downgrading to 5.2.</p>
<p>If downgrading to 5.2 fixes things, then we'll want to follow up and see if we can help track down what, specifically, the issue is.</p>



<a name="1398875"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398875" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398875">(Jun 30 2022 at 05:23)</a>:</h4>
<p>Okay <span class="user-mention" data-user-id="12178">@Alex Vandiver</span> let me try to downgrade and check.</p>



<a name="1398876"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398876" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398876">(Jun 30 2022 at 05:24)</a>:</h4>
<p>Thanks for your time. I will get back once the downgrade is completed.</p>



<a name="1398878"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398878" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398878">(Jun 30 2022 at 05:26)</a>:</h4>
<p><span class="user-mention" data-user-id="12178">@Alex Vandiver</span> Could you please share the downgrade procedure document or link.</p>



<a name="1398879"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398879" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398879">(Jun 30 2022 at 05:27)</a>:</h4>
<p><a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#rolling-back-to-a-prior-version">https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#rolling-back-to-a-prior-version</a></p>



<a name="1398880"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1398880" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1398880">(Jun 30 2022 at 05:27)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="12178">@Alex Vandiver</span></p>



<a name="1399998"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1399998" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1399998">(Jul 05 2022 at 17:40)</a>:</h4>
<p><span class="user-mention" data-user-id="23436">@Visvanathan</span> / <span class="user-mention" data-user-id="23446">@Jaganath Srinivasan</span>: Did reverting to 5.2 address the issue?</p>



<a name="1400373"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1400373" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1400373">(Jul 06 2022 at 04:33)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="12178">@Alex Vandiver</span> yes we have reverted to 5.2 the issue got resolved but still we are getting this upstream prematurely closed connection error is triggering in /var/log/nginix/error.log</p>



<a name="1431315"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1431315" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1431315">(Sep 07 2022 at 11:00)</a>:</h4>
<p>Hi, I'm getting this error in zulip/errors.log</p>



<a name="1431316"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1431316" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1431316">(Sep 07 2022 at 11:04)</a>:</h4>
<p>WARN [urllib3.connectionpool] Connection pool is full, discarding connection: 127.0.0.1. Connection pool size: 10</p>



<a name="1431317"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1431317" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1431317">(Sep 07 2022 at 11:05)</a>:</h4>
<p>WARN [urllib3.connectionpool] Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('&lt;urllib3.connection.HTTPConnection object at 0x7f405a086f40&gt;: Failed to establish a new connection: [Errno 110] Connection timed out')': /api/v1/events/internal</p>



<a name="1431318"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1431318" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1431318">(Sep 07 2022 at 11:09)</a>:</h4>
<p>Due to this issue users are getting internal server error page</p>



<a name="1431333"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1431333" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1431333">(Sep 07 2022 at 11:43)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="12178">@Alex Vandiver</span> need your support on this.</p>



<a name="1431338"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1431338" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1431338">(Sep 07 2022 at 11:57)</a>:</h4>
<p>Hello, I recalled our <a href="#narrow/stream/31-production-help/topic/timeouts.20in.205.2E3/near/1398409">previous conversation</a> about this. Have you restarted django, are there any ERROR in the django.log?</p>



<a name="1431339"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1431339" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1431339">(Sep 07 2022 at 11:58)</a>:</h4>
<p>The problem last time was fairly high load, as Zulip automatically kills requests that take too long.</p>



<a name="1431342"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1431342" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1431342">(Sep 07 2022 at 12:08)</a>:</h4>
<p>Hi Matt, there is no error in django.log</p>



<a name="1433689"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1433689" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1433689">(Sep 11 2022 at 02:30)</a>:</h4>
<p>Something is wrong with your tornado instance - check <code>supervisorctl status</code> to make sure it's running, and <code>tornado.log</code> for errrors.</p>
<p>Unfortunately, more than that I can't really say right now - I'm on vacation.</p>



<a name="1433999"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1433999" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1433999">(Sep 12 2022 at 08:37)</a>:</h4>
<p><span class="user-mention" data-user-id="12178">@Alex Vandiver</span> Need your help on the issue mentioned by <span class="user-mention" data-user-id="23436">@Visvanathan</span></p>



<a name="1434088"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434088" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434088">(Sep 12 2022 at 15:17)</a>:</h4>
<p>tornado is running.</p>



<a name="1434099"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434099" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434099">(Sep 12 2022 at 15:56)</a>:</h4>
<p>Errors in tornado.log?</p>



<a name="1434101"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434101" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Visvanathan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434101">(Sep 12 2022 at 16:02)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="24078">@Matt Keller</span> there is no error logs only Info log is there.</p>



<a name="1434549"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434549" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434549">(Sep 13 2022 at 09:38)</a>:</h4>
<p>We have problem with all users . We upgraded to 5.5.</p>



<a name="1434605"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434605" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434605">(Sep 13 2022 at 13:10)</a>:</h4>
<p><span class="user-mention" data-user-id="24078">@Matt Keller</span>  Can u pls help us on this. We are really struggling</p>



<a name="1434606"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434606" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434606">(Sep 13 2022 at 13:11)</a>:</h4>
<p>We are unable to downgrade as well</p>



<a name="1434613"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434613" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434613">(Sep 13 2022 at 13:26)</a>:</h4>
<p>Re-reading our <a href="#narrow/stream/31-production-help/topic/timeouts.20in.205.2E3/near/1398862">previous conversation</a> from June, you're running on a busy server that is probably doing more than just Zulip. Are you running Zulip in a Virtual Machine? Container? Have you tried restarting it?</p>



<a name="1434614"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434614" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434614">(Sep 13 2022 at 13:27)</a>:</h4>
<p>We are running on VM Environment. One Host is full dedicated to Zulip. We restarted Zulip VM. Not the Complete Host.</p>



<a name="1434615"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434615" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434615">(Sep 13 2022 at 13:27)</a>:</h4>
<p>I mean no other VM running in Same machine</p>



<a name="1434618"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1434618" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1434618">(Sep 13 2022 at 13:31)</a>:</h4>
<p>I recommend doing through the <a href="https://zulip.readthedocs.io/en/latest/production/troubleshooting.html">Troubleshooting Guide</a> and pay particular attention to services and checking their log files. It's difficult for me to imagine a scenario where you are getting Internal Server Errors without any errors being logged anywhere.</p>



<a name="1435128"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/timeouts%20in%205.3/near/1435128" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaganath Srinivasan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/timeouts.20in.205.2E3.html#1435128">(Sep 14 2022 at 05:26)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> can u pls help us on this issues</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>