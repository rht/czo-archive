<html>
<head><meta charset="utf-8"><title>changing certificates · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html">changing certificates</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="205701"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205701" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205701">(May 21 2017 at 16:31)</a>:</h4>
<p>I encountered a problem with the certificates of my server, so I generated a new set of certificates to use. I have replaced the new certificates with the old ones, but the server is still working with the old certificates.<br>
I have tried running this:<br>
<code>su zulip -c /home/zulip/deployments/current/scripts/restart-server</code><br>
What have I done wrong?</p>



<a name="205705"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205705" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205705">(May 21 2017 at 16:33)</a>:</h4>
<p>As I think it is something small I'm doing wrong, can you help <span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span>?</p>



<a name="205707"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205707" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205707">(May 21 2017 at 16:33)</a>:</h4>
<p>Restart nginx</p>



<a name="205708"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205708" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205708">(May 21 2017 at 16:34)</a>:</h4>
<p>How??</p>



<a name="205709"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205709" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205709">(May 21 2017 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span></p>



<a name="205710"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205710" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205710">(May 21 2017 at 16:39)</a>:</h4>
<p>On phone, so slow to type.   <code>service nginx restart</code>.  Or Google it</p>



<a name="205711"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205711" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205711">(May 21 2017 at 16:42)</a>:</h4>
<p>Thanks a lot. I didn't think that Zulip uses <code>init.d</code> to start nginx.</p>



<a name="205712"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205712" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205712">(May 21 2017 at 16:51)</a>:</h4>
<p>You're welcome!  Can you open an issue for documenting that?</p>



<a name="205713"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205713" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205713">(May 21 2017 at 16:59)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/4849" target="_blank" title="https://github.com/zulip/zulip/pull/4849">#4849</a><br>
If you tell me where I can add it, I can do it myself.</p>



<a name="205714"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205714" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205714">(May 21 2017 at 17:04)</a>:</h4>
<p><span class="user-mention" data-user-email="Shayan.To@hotmail.com" data-user-id="1073">@Shayan Toqraee</span>  In the self-signed cert section at <a href="https://github.com/zulip/zulip/blob/master/docs/ssl-certificates.md" target="_blank" title="https://github.com/zulip/zulip/blob/master/docs/ssl-certificates.md">https://github.com/zulip/zulip/blob/master/docs/ssl-certificates.md</a>. Some systems use systemd, so you have to write 'restart <code>nginx</code>'.</p>



<a name="205715"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205715" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205715">(May 21 2017 at 17:06)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-email="rhtbot@protonmail.com" data-user-id="2328">@Rein Zustand</span>, I have solved my problem with the certificates. I was having problems restarting nginx.</p>



<a name="205716"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/changing%20certificates/near/205716" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/changing.20certificates.html#205716">(May 21 2017 at 17:12)</a>:</h4>
<p>The documentation was meant to say "when you replace the certificates, you have to restart nginx." <code>./scripts/restart-server</code> only restarts zulip-specific processes.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>