<html>
<head><meta charset="utf-8"><title>mac help · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html">mac help</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="118912"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/118912" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayush Goyal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#118912">(Jan 07 2017 at 15:29)</a>:</h4>
<p>After running <code>vagrant up</code> I get the following response.</p>
<blockquote>
<p>Bringing machine 'default' up with 'virtualbox' provider...<br>
==&gt; default: Checking if box 'ubuntu/trusty64' is up to date...<br>
==&gt; default: Configuring proxy for Apt...<br>
==&gt; default: Configuring proxy environment variables...<br>
==&gt; default: Configuring proxy for npm...<br>
==&gt; default: Machine already provisioned. Run <code>vagrant provision</code> or use the <code>--provision</code><br>
==&gt; default: flag to force provisioning. Provisioners marked to run always will still run.</p>
</blockquote>



<a name="118913"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/118913" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fahri Cihan Demirci <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#118913">(Jan 07 2017 at 15:29)</a>:</h4>
<p>seems like it ran fine?</p>



<a name="118914"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/118914" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayush Goyal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#118914">(Jan 07 2017 at 15:30)</a>:</h4>
<p>Running <code>vagrant provision</code> results in following error. <br>
<code>tunneling socket could not be established, cause=write EPROTO 140091649488768:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol:../deps/openssl/openssl/ssl/s23_clnt.c:794:</code><br>
Can anyone please help</p>



<a name="118960"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/118960" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#118960">(Jan 07 2017 at 18:16)</a>:</h4>
<p>Woah, I've never seen that error before.  Would google for it</p>



<a name="118964"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/118964" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#118964">(Jan 07 2017 at 18:16)</a>:</h4>
<p><a href="https://github.com/jspm/github/issues/59" target="_blank" title="https://github.com/jspm/github/issues/59">https://github.com/jspm/github/issues/59</a> is maybe relevant</p>



<a name="118965"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/118965" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#118965">(Jan 07 2017 at 18:17)</a>:</h4>
<p>Sounds like the problem is your proxy configuration is wrong</p>



<a name="122986"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/122986" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayush Goyal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#122986">(Jan 11 2017 at 06:14)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com">@Tim Abbott</span> : I had to add <code>sudo</code> to all the pip command in <code>/srv/zulip/scripts/lib/setup_venv.py</code> in order to make provision.py work. Should I send a PR with the changes so that no one else faces the problem in future ?</p>



<a name="122987"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/122987" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#122987">(Jan 11 2017 at 06:15)</a>:</h4>
<p>No -- those commands shouldn't need root access</p>



<a name="122988"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/122988" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#122988">(Jan 11 2017 at 06:15)</a>:</h4>
<p>Something is wrong in the setup code earlier, probably</p>



<a name="122989"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/122989" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#122989">(Jan 11 2017 at 06:15)</a>:</h4>
<p>(We also use that code path in production where <code>sudo</code> may not be available, so it's important not to add new sudo usage there)</p>



<a name="122990"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/122990" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayush Goyal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#122990">(Jan 11 2017 at 06:15)</a>:</h4>
<p>Ok </p>



<a name="123171"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/123171" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#123171">(Jan 11 2017 at 14:11)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com">@Tim Abbott</span> I am curious if some of our GCI folks who had strange setup issues may have run <code>sudo</code> at one point.  Does it make sense to ensure that we're <strong>not</strong> running with sudo privileges as an early step in the provision code?</p>



<a name="123761"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/mac%20help/near/123761" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/mac.20help.html#123761">(Jan 11 2017 at 18:11)</a>:</h4>
<p><span class="user-mention" data-user-email="showell30@yahoo.com">@Steve Howell</span> oh, yeah, that's a good point.  Yes, I think that would be a useful check.  I think we have code for it in <code>manage.py</code> that we can borrow</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>