<html>
<head><meta charset="utf-8"><title>1.5.1 to 1.6 upgrade problem · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html">1.5.1 to 1.6 upgrade problem</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="227558"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/227558" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#227558">(Jun 14 2017 at 22:55)</a>:</h4>
<p>I have tried to upgrade my Zulip server from 1.5.1 to 1.6 but encountered problems. It seems I cannot understand much from the log. <a href="/user_uploads/2/e1/Y_4MHjK1N2o4zs6XxetrtaHM/upgrade-1.log" target="_blank" title="upgrade-1.log">upgrade-1.log</a></p>



<a name="227559"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/227559" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#227559">(Jun 14 2017 at 22:55)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span></p>



<a name="227560"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/227560" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#227560">(Jun 14 2017 at 23:01)</a>:</h4>
<p>I'm also unable to restart the prior version. Running <code>su zulip /home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server</code> writes this to the console:</p>
<div class="codehilite"><pre><span></span># su zulip /home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server
from: too many arguments
/home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server: line 3: import: command not found
/home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server: line 4: import: command not found
/home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server: line 5: import: command not found
/home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server: line 6: import: command not found
/home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server: line 7: import: command not found
/home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server: line 8: import: command not found
/home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server: line 10: syntax error near unexpected token `os.path.join&#39;
/home/zulip/deployments/2017-02-12-18-14-13/scripts/restart-server: line 10: `sys.path.append(os.path.join(os.path.dirname(__file__), &#39;..&#39;))&#39;
</pre></div>



<a name="227574"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/227574" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#227574">(Jun 15 2017 at 00:19)</a>:</h4>
<p><span class="user-mention" data-user-email="Shayan.To@hotmail.com" data-user-id="1073">@Shayan Toqraee</span> you didn't run the correct command; there's a missing <code>-c</code></p>



<a name="227593"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/227593" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#227593">(Jun 15 2017 at 01:02)</a>:</h4>
<p>(For the revert-to-previous-version problem)</p>



<a name="227594"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/227594" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#227594">(Jun 15 2017 at 01:02)</a>:</h4>
<p>The upgrade problem seems to have to do with unicode in uploaded filenames</p>



<a name="227597"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/227597" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#227597">(Jun 15 2017 at 01:03)</a>:</h4>
<p>I bet the problem is that migration 0064 is missing a <code>.encode("utf-8")</code> to handle referencing non-ascii characters on the filesystem</p>



<a name="228032"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228032" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228032">(Jun 15 2017 at 08:45)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span>!<br>
What should I do about the encoding problem?</p>



<a name="228033"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228033" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228033">(Jun 15 2017 at 08:49)</a>:</h4>
<p><span class="user-mention" data-user-email="adi.bansal241996@gmail.com" data-user-id="1113">@Aditya Bansal</span> was working on debugging this and may be able to provide a branch to try</p>



<a name="228037"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228037" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228037">(Jun 15 2017 at 08:50)</a>:</h4>
<p>Thanks a lot. Looking forward to that.</p>



<a name="228039"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228039" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228039">(Jun 15 2017 at 08:52)</a>:</h4>
<p>I will ping you as soon as I can re create what might be up here and a possible solution.</p>



<a name="228049"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228049" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228049">(Jun 15 2017 at 09:00)</a>:</h4>
<p>Thanks.</p>



<a name="228175"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228175" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228175">(Jun 15 2017 at 10:32)</a>:</h4>
<p>Hey <span class="user-mention" data-user-email="Shayan.To@hotmail.com" data-user-id="1073">@Shayan Toqraee</span> Would you like to help me debug this?</p>



<a name="228177"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228177" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228177">(Jun 15 2017 at 10:35)</a>:</h4>
<p>Yes. I'd be glad.</p>



<a name="228179"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228179" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228179">(Jun 15 2017 at 10:36)</a>:</h4>
<p>can you run <code>locale</code> and let me know what's the output?</p>



<a name="228180"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228180" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228180">(Jun 15 2017 at 10:37)</a>:</h4>
<div class="codehilite"><pre><span></span># locale
LANG=
LANGUAGE=
LC_CTYPE=&quot;POSIX&quot;
LC_NUMERIC=&quot;POSIX&quot;
LC_TIME=&quot;POSIX&quot;
LC_COLLATE=&quot;POSIX&quot;
LC_MONETARY=&quot;POSIX&quot;
LC_MESSAGES=&quot;POSIX&quot;
LC_PAPER=&quot;POSIX&quot;
LC_NAME=&quot;POSIX&quot;
LC_ADDRESS=&quot;POSIX&quot;
LC_TELEPHONE=&quot;POSIX&quot;
LC_MEASUREMENT=&quot;POSIX&quot;
LC_IDENTIFICATION=&quot;POSIX&quot;
LC_ALL=
</pre></div>



<a name="228184"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228184" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228184">(Jun 15 2017 at 10:40)</a>:</h4>
<p>maybe problem is with <code>locale</code> setup here.</p>



<a name="228187"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228187" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228187">(Jun 15 2017 at 10:41)</a>:</h4>
<p>oh, that's a good theory</p>



<a name="228189"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228189" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228189">(Jun 15 2017 at 10:43)</a>:</h4>
<p>So I can do something?</p>



<a name="228194"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228194" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228194">(Jun 15 2017 at 10:46)</a>:</h4>
<p>maybe something like this</p>
<div class="codehilite"><pre><span></span>sudo locale-gen en_US.UTF-8
sudo update-locale
</pre></div>



<a name="228196"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228196" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228196">(Jun 15 2017 at 10:46)</a>:</h4>
<p>I am not sure though on this.</p>



<a name="228197"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228197" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228197">(Jun 15 2017 at 10:47)</a>:</h4>
<blockquote>
<p>oh, that's a good theory</p>
</blockquote>
<p><span class="user-mention" data-user-email="umair.waheed@gmail.com" data-user-id="92">@Umair Khan</span> helped develop it.</p>



<a name="228206"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228206" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228206">(Jun 15 2017 at 10:51)</a>:</h4>
<blockquote>
<p>I am not sure though on this.</p>
</blockquote>
<p>So, how to make sure?</p>



<a name="228210"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228210" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228210">(Jun 15 2017 at 10:52)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span>  should we go ahead and try it out. I think it is pretty much safe to try out.</p>



<a name="228215"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228215" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228215">(Jun 15 2017 at 10:54)</a>:</h4>
<p>yeah, I'd try that out</p>



<a name="228216"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228216" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228216">(Jun 15 2017 at 10:54)</a>:</h4>
<p>Definitely <code>POSIX</code> is a basically buggy locale in 2017 :)</p>



<a name="228247"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228247" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228247">(Jun 15 2017 at 11:09)</a>:</h4>
<p>Is this expected?</p>
<div class="codehilite"><pre><span></span># locale-gen en_US.UTF-8
Generating locales (this might take a while)...
  en_US.UTF-8... done
Generation complete.
# update-locale
# locale
LANG=
LANGUAGE=
LC_CTYPE=&quot;POSIX&quot;
LC_NUMERIC=&quot;POSIX&quot;
LC_TIME=&quot;POSIX&quot;
LC_COLLATE=&quot;POSIX&quot;
LC_MONETARY=&quot;POSIX&quot;
LC_MESSAGES=&quot;POSIX&quot;
LC_PAPER=&quot;POSIX&quot;
LC_NAME=&quot;POSIX&quot;
LC_ADDRESS=&quot;POSIX&quot;
LC_TELEPHONE=&quot;POSIX&quot;
LC_MEASUREMENT=&quot;POSIX&quot;
LC_IDENTIFICATION=&quot;POSIX&quot;
LC_ALL=
</pre></div>



<a name="228253"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228253" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228253">(Jun 15 2017 at 11:12)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span> ^</p>



<a name="228261"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228261" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228261">(Jun 15 2017 at 11:17)</a>:</h4>
<p><span class="user-mention" data-user-email="Shayan.To@hotmail.com" data-user-id="1073">@Shayan Toqraee</span> try <code>export LC_ALL="en_US.UTF-8" LANG="en_US.UTF-8" LANGUAGE="en_US.UTF-8"</code> and then running the commands.</p>



<a name="228263"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228263" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228263">(Jun 15 2017 at 11:17)</a>:</h4>
<p>er, running the upgrade process</p>



<a name="228264"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228264" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228264">(Jun 15 2017 at 11:18)</a>:</h4>
<p>Going to try to sleep again now, but that should cause your shell to use the new locale you generated for its duration</p>



<a name="228265"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228265" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228265">(Jun 15 2017 at 11:18)</a>:</h4>
<p>(Just modifies the current shell)</p>



<a name="228276"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228276" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228276">(Jun 15 2017 at 11:25)</a>:</h4>
<p>Thanks guys! It worked! <img alt=":tada:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f389.png" title=":tada:"></p>



<a name="228282"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228282" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228282">(Jun 15 2017 at 11:28)</a>:</h4>
<p>Though one thing which I wonder here is that, how come the installation didn't create a problem before upgrade.<br>
I mean we use <code>os</code> in many places in code base.</p>



<a name="228315"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228315" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228315">(Jun 15 2017 at 11:53)</a>:</h4>
<p>Interestingly, I am unable to change my locale!<br>
I tried updating <code>/etc/default/locale</code> and <code>/etc/environment</code>, and running <code>dpkg-reconfigure locales</code> and <code>update-locale LC_ALL="en_US.UTF-8" LANG="en_US.UTF-8" LANGUAGE="en_US.UTF-8"</code>, but none seem to work.<br>
And I cannot seem to find anything useful searching the web.<br>
Anyone has any idea?</p>



<a name="228318"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228318" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228318">(Jun 15 2017 at 11:58)</a>:</h4>
<p>maybe changing the default locale at end step of <code>dpkg-reconfigure locales</code> would do it.</p>



<a name="228325"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228325" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228325">(Jun 15 2017 at 12:07)</a>:</h4>
<p>I did that. Did'n work...</p>



<a name="228327"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228327" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228327">(Jun 15 2017 at 12:08)</a>:</h4>
<p>I just noticed this comment </p>
<blockquote>
<p>sudo update-locale var=locale and restart worked for me in ubuntu server 16.04. </p>
</blockquote>
<p><a href="https://askubuntu.com/questions/89976/how-to-change-the-default-locale-in-ubuntu-10-10-server" target="_blank" title="https://askubuntu.com/questions/89976/how-to-change-the-default-locale-in-ubuntu-10-10-server">here</a></p>



<a name="228329"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228329" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228329">(Jun 15 2017 at 12:12)</a>:</h4>
<p>Didn't work...</p>



<a name="228333"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/1.5.1%20to%201.6%20upgrade%20problem/near/228333" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/1.2E5.2E1.20to.201.2E6.20upgrade.20problem.html#228333">(Jun 15 2017 at 12:16)</a>:</h4>
<p>Have you come across <a href="https://askubuntu.com/questions/770309/cannot-permanently-change-locale-on-16-04-server" target="_blank" title="https://askubuntu.com/questions/770309/cannot-permanently-change-locale-on-16-04-server">this queation</a>? It says it might be related to PAM being disabled. I am not a pro in this stuff but might be worth checking out the answer by MechMK1.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>