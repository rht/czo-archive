<html>
<head><meta charset="utf-8"><title>cmd to change a pwd · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cmd.20to.20change.20a.20pwd.html">cmd to change a pwd</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1269566"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cmd%20to%20change%20a%20pwd/near/1269566" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Plankter <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cmd.20to.20change.20a.20pwd.html#1269566">(Oct 21 2021 at 12:55)</a>:</h4>
<p>The command <code>manage.py changepassword</code> takes the user's email as an argument, but not the organization.  Trying to change the password of a user who uses the same email on multiple organizations, results in failure.</p>
<p>To get around this, we can use the generic email <code>user{user-id}@zulip-domain.com</code>, which is unique. However, this only works if we  switch "Who can access user email addresses" to "Nobody". It would be nice not to have to toggle a parameter in order to be able to change a password.</p>
<p>It seems it would be simpler to just use the user-id as an argument. Otherwise, if using the email, the realm ID could be added as an argument. Ideally, both methods should work.</p>



<a name="1269654"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cmd%20to%20change%20a%20pwd/near/1269654" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cmd.20to.20change.20a.20pwd.html#1269654">(Oct 21 2021 at 18:10)</a>:</h4>
<p><span class="user-mention" data-user-id="15931">@Plankter</span> I believe we fixed this bug, but it might not have been backported to the 4.x series; let me find the details.</p>



<a name="1269656"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cmd%20to%20change%20a%20pwd/near/1269656" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cmd.20to.20change.20a.20pwd.html#1269656">(Oct 21 2021 at 18:11)</a>:</h4>
<p>It looks like the fix was backported to Zulip 4.4.</p>



<a name="1269657"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cmd%20to%20change%20a%20pwd/near/1269657" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cmd.20to.20change.20a.20pwd.html#1269657">(Oct 21 2021 at 18:11)</a>:</h4>
<p>So check if you're already running that version; if you are, we should investigate further.</p>



<a name="1269658"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cmd%20to%20change%20a%20pwd/near/1269658" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cmd.20to.20change.20a.20pwd.html#1269658">(Oct 21 2021 at 18:12)</a>:</h4>
<p>(Basically the <code>changepassword</code> management command is a Django builtin that's totally unaware of realms as a concept, and we replaced it with a custom version that is aware of them).</p>



<a name="1269669"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cmd%20to%20change%20a%20pwd/near/1269669" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Plankter <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cmd.20to.20change.20a.20pwd.html#1269669">(Oct 21 2021 at 18:20)</a>:</h4>
<p>Thanks for the fast answer!  Having the realms added is great. I'm afraid I'm still stuck with version 3, waiting for a calming of the conference season to upgrade. I'll be sure to test this as soon as I can.</p>



<a name="1269748"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cmd%20to%20change%20a%20pwd/near/1269748" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cmd.20to.20change.20a.20pwd.html#1269748">(Oct 21 2021 at 19:00)</a>:</h4>
<p>OK, that explains it <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>