<html>
<head><meta charset="utf-8"><title>70,000 emails from nagios · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html">70,000 emails from nagios</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="233995"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/233995" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#233995">(Jun 21 2017 at 22:01)</a>:</h4>
<p>I just noticed I have 70k+ emails from nagios about a failing check sitting in my root user's inbox</p>



<a name="233996"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/233996" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#233996">(Jun 21 2017 at 22:01)</a>:</h4>
<p>can I disable nagios somehow?</p>



<a name="233997"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/233997" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#233997">(Jun 21 2017 at 22:02)</a>:</h4>
<p>or if that's a bad idea, how should I fix this check?</p>



<a name="233998"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/233998" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#233998">(Jun 21 2017 at 22:02)</a>:</h4>
<p>I'm running the docker setup, ideally there shouldn't be errors like this happening, so I'd like to submit a PR to fix it</p>



<a name="233999"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/233999" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#233999">(Jun 21 2017 at 22:03)</a>:</h4>
<div class="codehilite"><pre><span></span>Subject: Cron &lt;root@home&gt; /home/zulip/deployments/current/scripts/nagios/check-rabbitmq-consumers
/bin/bash: /home/zulip/deployments/current/scripts/nagios/check-rabbitmq-consumers:
No such file or directory
</pre></div>



<a name="234000"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234000" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234000">(Jun 21 2017 at 22:03)</a>:</h4>
<p>I'm guessing it's just a missing docker volume or symlink, although I don't know enought about the setup to know how nagios gets env variables, what it's expecting, the defautl script locations etc.</p>



<a name="234001"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234001" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234001">(Jun 21 2017 at 22:04)</a>:</h4>
<p>I'll do some more research on my own, but any suggestions would me much appreciated!</p>



<a name="234002"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234002" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234002">(Jun 21 2017 at 22:04)</a>:</h4>
<p>Hmm, interesting. Does that file exist? If not, at what point in the path does it go missing? (E.g. is it that <code>/home/zulip/deployments</code> doesn't exist for you?)</p>



<a name="234066"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234066" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234066">(Jun 21 2017 at 23:02)</a>:</h4>
<p><code>/home/zulip/deployments</code> exists but <code>/home/zulip/deployments/current</code> does not, the deployments folder is empty</p>



<a name="234067"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234067" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234067">(Jun 21 2017 at 23:02)</a>:</h4>
<p>I'm assuming docker forgot to link some volume to that path?</p>



<a name="234071"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234071" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234071">(Jun 21 2017 at 23:05)</a>:</h4>
<p>maybe the fix is to add in my <code>docker-compose.yml</code>:</p>
<div class="codehilite"><pre><span></span>    <span class="l l-Scalar l-Scalar-Plain">volumes</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;/opt/docker/zulip/zulip/deployments:/image/path/to/deployments:rw&quot;</span>
</pre></div>


<p>then:</p>
<div class="codehilite"><pre><span></span>ln -s /opt/docker/zulip/zulip/deployments /home/zulip/deployments
</pre></div>



<a name="234078"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234078" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234078">(Jun 21 2017 at 23:35)</a>:</h4>
<p>Aha -- yeah, that sounds plausible</p>



<a name="234079"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234079" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234079">(Jun 21 2017 at 23:36)</a>:</h4>
<p>In general a number of scripts and cron jobs and so on expect to find the currently deployed Zulip in <code>/home/zulip/deployments/current</code> -- so it's important that that be there</p>



<a name="234080"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234080" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234080">(Jun 21 2017 at 23:37)</a>:</h4>
<p><span class="user-mention" data-user-email="git@nicksweeting.com" data-user-id="2356">@Nick Sweeting</span> What's the right upstream fix -- does your <code>docker-compose.yml</code> come from <span class="user-mention" data-user-email="galexrt@googlemail.com" data-user-id="77">@Alexander Trost</span> 's repo? It'd be great to get this fixed for everyone who might use the Docker setup.</p>



<a name="234087"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234087" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234087">(Jun 21 2017 at 23:51)</a>:</h4>
<p>yup <a href="https://github.com/galexrt/docker-zulip" target="_blank" title="https://github.com/galexrt/docker-zulip">https://github.com/galexrt/docker-zulip</a></p>



<a name="234089"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234089" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234089">(Jun 21 2017 at 23:51)</a>:</h4>
<p>it's strange that the docker setup has access to /home/zulip though</p>



<a name="234090"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234090" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234090">(Jun 21 2017 at 23:52)</a>:</h4>
<p>ohhh maybe I have nagios fragements left over from when I tried to do a prod install on the same server without docker</p>



<a name="234091"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234091" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234091">(Jun 21 2017 at 23:52)</a>:</h4>
<p>this may just be an issue with my machine, let me check</p>



<a name="234092"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234092" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234092">(Jun 21 2017 at 23:54)</a>:</h4>
<p>yeup, bunch of stuff left over in <code>/etc/cron.d</code> from the first failed prod install</p>



<a name="234093"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234093" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234093">(Jun 21 2017 at 23:54)</a>:</h4>
<p>sorry to bother you guys with this!</p>



<a name="234096"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234096" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234096">(Jun 21 2017 at 23:57)</a>:</h4>
<p>Aha, cool. No problem! Glad to hear reports of issues even though they sometimes turn out to be idiosyncratic. :)</p>



<a name="234097"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234097" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234097">(Jun 21 2017 at 23:58)</a>:</h4>
<p>Is there something we might do to help prevent other people from running into the same issue by accident?</p>
<p>Was this an interaction between your incomplete original prod install and the Docker install, or would this have happened just with the incomplete prod install alone?</p>



<a name="234098"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234098" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234098">(Jun 21 2017 at 23:58)</a>:</h4>
<p>just with the incomplete prod install</p>



<a name="234099"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234099" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234099">(Jun 21 2017 at 23:59)</a>:</h4>
<p>I <code>apt purge nagios*</code></p>



<a name="234100"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234100" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234100">(Jun 21 2017 at 23:59)</a>:</h4>
<p>without removing the cron jobs that depended on it</p>



<a name="234101"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234101" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234101">(Jun 21 2017 at 23:59)</a>:</h4>
<p>I doubt anyone else will ever run into the same issue</p>



<a name="234102"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234102" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234102">(Jun 21 2017 at 23:59)</a>:</h4>
<p>running a prod install on a shared machine and cancelling it half-way is not exactly supported behavior haha</p>



<a name="234103"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234103" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234103">(Jun 22 2017 at 00:00)</a>:</h4>
<p>Hmm, was that it? It seems like it's that you had the cron jobs but not the actual Zulip deploy.</p>



<a name="234104"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234104" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234104">(Jun 22 2017 at 00:00)</a>:</h4>
<p>So even before the <code>apt purge nagios*</code>.</p>



<a name="234105"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234105" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234105">(Jun 22 2017 at 00:00)</a>:</h4>
<p>well zulip kind of finished installing, I just went back and uninstalled it manually once I discovered the docker install existed</p>



<a name="234106"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234106" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234106">(Jun 22 2017 at 00:00)</a>:</h4>
<p>and I missed these paths</p>



<a name="234107"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234107" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234107">(Jun 22 2017 at 00:00)</a>:</h4>
<p>Aha</p>



<a name="234108"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234108" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234108">(Jun 22 2017 at 00:00)</a>:</h4>
<p>It'd be pretty reasonable for us to have an uninstall script which knows all the paths to go clean out</p>



<a name="234109"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234109" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234109">(Jun 22 2017 at 00:01)</a>:</h4>
<p>Not a trivial project, but could be useful</p>



<a name="234110"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234110" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234110">(Jun 22 2017 at 00:01)</a>:</h4>
<p>I think the assumption in most of the docs is that prod installs are only on dedicated machines</p>



<a name="234111"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234111" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234111">(Jun 22 2017 at 00:01)</a>:</h4>
<p>It sounds like that's what this issue probably comes down to.</p>



<a name="234112"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234112" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234112">(Jun 22 2017 at 00:01)</a>:</h4>
<p>so it's reasonable to not provide an uninstall script</p>



<a name="234113"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234113" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234113">(Jun 22 2017 at 00:02)</a>:</h4>
<p>if the assumption that the non-docker install is only on dedicated machines, I think an uninstall script is just extra maintenance work with little use, since most people would just delete/reprovision a VM if they needed to uninstall it</p>



<a name="234114"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234114" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234114">(Jun 22 2017 at 00:02)</a>:</h4>
<p>Yeah, because your "machine" is actually a disposable cloud VM/container -- or at least an interchangeable cloud box you're going to wipe in order to do anything else with</p>



<a name="234115"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234115" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234115">(Jun 22 2017 at 00:02)</a>:</h4>
<p>That's a pretty reasonable 2017 assumption</p>



<a name="234116"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234116" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234116">(Jun 22 2017 at 00:03)</a>:</h4>
<p>I guess the question then is -- why didn't you do that yourself? :-P</p>



<a name="234117"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234117" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234117">(Jun 22 2017 at 00:03)</a>:</h4>
<p>hehe I'm running a bare-metal box</p>



<a name="234118"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234118" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234118">(Jun 22 2017 at 00:03)</a>:</h4>
<p>with a ton of other services</p>



<a name="234119"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234119" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234119">(Jun 22 2017 at 00:03)</a>:</h4>
<p>and I failed to read the docs thoroughly enough to understand that zulip <em>really</em> expects to be the only thing on the machine</p>



<a name="234120"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234120" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234120">(Jun 22 2017 at 00:03)</a>:</h4>
<p>Keeping the old ways alive</p>



<a name="234121"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234121" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234121">(Jun 22 2017 at 00:03)</a>:</h4>
<p>to the point where it messes with user accounts, etc.</p>



<a name="234122"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234122" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234122">(Jun 22 2017 at 00:03)</a>:</h4>
<p>hehe I love my bare metal box</p>



<a name="234123"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234123" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234123">(Jun 22 2017 at 00:03)</a>:</h4>
<p>it's leagues faster than most VMs for a fraction of the price</p>



<a name="234124"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234124" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234124">(Jun 22 2017 at 00:04)</a>:</h4>
<p>Sure</p>



<a name="234125"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234125" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234125">(Jun 22 2017 at 00:04)</a>:</h4>
<p>(not including maintenance time of course, but I enjoy that so it doesn't count)</p>



<a name="234126"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234126" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234126">(Jun 22 2017 at 00:04)</a>:</h4>
<p>I think the up-to-the-minute 2017 way to manage that would be to put anything that's at all application- or user-flavored inside some container on that bare-metal box</p>



<a name="234127"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234127" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234127">(Jun 22 2017 at 00:04)</a>:</h4>
<p>Or even KVM VM or something</p>



<a name="234128"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234128" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234128">(Jun 22 2017 at 00:05)</a>:</h4>
<p>I have a bunch of personal reasons for not doing that, I can go into detail if you're actually interested, but it mostly boils down to having bad prior docker experiences re: stability &amp; security</p>



<a name="234130"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234130" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234130">(Jun 22 2017 at 00:06)</a>:</h4>
<p>and VMs introduce too much overhead considering 50%+ of my services use the same postgres/redix/nginx combo</p>



<a name="234131"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234131" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234131">(Jun 22 2017 at 00:06)</a>:</h4>
<p>Ah -- yeah, I wouldn't necessarily use Docker for that</p>



<a name="234132"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234132" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234132">(Jun 22 2017 at 00:06)</a>:</h4>
<p>I like having all the config in one place</p>



<a name="234133"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234133" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234133">(Jun 22 2017 at 00:06)</a>:</h4>
<p>I'd probably default to LXC</p>



<a name="234134"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234134" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234134">(Jun 22 2017 at 00:06)</a>:</h4>
<p>and being able to ssh in, read logs, use shared tools, etc.</p>



<a name="234135"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234135" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234135">(Jun 22 2017 at 00:06)</a>:</h4>
<p>because I similarly don't really trust Docker</p>



<a name="234136"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234136" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234136">(Jun 22 2017 at 00:07)</a>:</h4>
<p>oh I forgot to menion, I'm not running any user services really, its just personal stuff</p>



<a name="234137"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234137" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234137">(Jun 22 2017 at 00:07)</a>:</h4>
<p>my website, a mailserver, some personal scripts, monitoring tools, etc.</p>



<a name="234138"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234138" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234138">(Jun 22 2017 at 00:07)</a>:</h4>
<p>so I don't need to VM things for untrusted user activity reasons</p>



<a name="234139"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234139" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234139">(Jun 22 2017 at 00:08)</a>:</h4>
<p>Anyway -- I do think your experience is a data point in favor of there being people who run many things in the same OS environment and would appreciate an uninstall script</p>



<a name="234140"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234140" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234140">(Jun 22 2017 at 00:08)</a>:</h4>
<p>But I agree it probably isn't a high priority</p>



<a name="234495"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/234495" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Trost <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#234495">(Jun 22 2017 at 14:52)</a>:</h4>
<p>Note: The docker-zulip image doesn't install nagios scripts.</p>



<a name="235237"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/235237" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#235237">(Jun 23 2017 at 00:37)</a>:</h4>
<p><img alt=":+1:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f44d.png" title=":+1:"></p>



<a name="237938"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/237938" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#237938">(Jun 26 2017 at 21:34)</a>:</h4>
<p><span class="user-mention" data-user-email="git@nicksweeting.com" data-user-id="2356">@Nick Sweeting</span> was there an issue we should open related to this discussion?</p>



<a name="237941"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/237941" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#237941">(Jun 26 2017 at 21:34)</a>:</h4>
<p>I think there's already an "uninstall script" issue somewhere, with some research that someone could build upon.</p>



<a name="238219"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/70%2C000%20emails%20from%20nagios/near/238219" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Sweeting <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/70.2C000.20emails.20from.20nagios.html#238219">(Jun 27 2017 at 03:17)</a>:</h4>
<p>nah I think this is safe to leave without an issue, the problem was my own fault not a code issue.  I think the consensus was that an uninstall script is very low priority until it's more widely requested</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>