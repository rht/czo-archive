<html>
<head><meta charset="utf-8"><title>RESOLVED: Can&#x27;t get push notifications to work · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html">RESOLVED: Can&#x27;t get push notifications to work</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1091118"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1091118" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1091118">(Jan 01 2021 at 20:59)</a>:</h4>
<p>I've followed the instructions here:  <a href="https://zulip.readthedocs.io/en/stable/production/mobile-push-notifications.html">https://zulip.readthedocs.io/en/stable/production/mobile-push-notifications.html</a></p>
<p>Have restarted the server, everything seems like it worked but, no notifications happen.</p>



<a name="1091121"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1091121" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1091121">(Jan 01 2021 at 21:00)</a>:</h4>
<p>Hang on... might have just found the issue</p>



<a name="1091122"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1091122" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1091122">(Jan 01 2021 at 21:02)</a>:</h4>
<p>Nope I was wrong.  They just don't work.  I am logged in on desktop under one user, and sending PMs to my other user which is logged in on my iPhone.  No notifications come through at all unless I go into the app, then of course I see them.</p>



<a name="1091123"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1091123" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1091123">(Jan 01 2021 at 21:04)</a>:</h4>
<p>Mobile notifications on PMs are enabled on the desktop, both are set to notify if logged in.</p>



<a name="1091141"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1091141" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1091141">(Jan 01 2021 at 22:59)</a>:</h4>
<p>I've confirmed that with both Android and iOS, no push notifications happen.</p>



<a name="1091142"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1091142" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1091142">(Jan 01 2021 at 23:00)</a>:</h4>
<p>despite this...</p>
<p>root@TRG-Zulip:/etc/zulip# su zulip -c '/home/zulip/deployments/current/manage.py register_server'<br>
The following data will be submitted to the push notification service:<br>
contact_email: <a href="http://REDACTED.com">REDACTED.com</a><br>
hostname: <a href="http://REDACTED.com">REDACTED.com</a><br>
zulip_org_id: REDACTED<br>
zulip_org_key: REDACTED</p>
<p>To register, you must agree to the Zulipchat Terms of Service: <a href="https://zulip.com/terms/">https://zulip.com/terms/</a><br>
Do you agree to the Terms of Service? [Y/n] y</p>
<p>You've successfully registered for the Mobile Push Notification Service!<br>
To finish setup for sending push notifications:</p>
<p>Restart the server, using /home/zulip/deployments/current/scripts/restart-server<br>
Return to the documentation to learn how to test push notifications</p>



<a name="1091499"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1091499" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1091499">(Jan 02 2021 at 19:08)</a>:</h4>
<p>I've tested this more this morning, and still absolutely no dice with push notifications.  To be clear and in addition to the above:</p>
<ol>
<li>I think if the client is open anywhere else (desktop app, browser) it causes the notification to not happen, so I've been careful to shut down all other instances outside my phone.</li>
<li>The iOS app can be in the background and I will get no notification or alert of any kind, nor badge on the app icon. But as soon as I focus the app, the messages appear there.</li>
<li>I'm on iOS 12.2.  Maybe some kind of odd OS version issue?</li>
</ol>



<a name="1091528"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1091528" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1091528">(Jan 02 2021 at 19:49)</a>:</h4>
<p>Got them working, I had to log out/in to the app on my phone a second time.  I did it previously but somehow it didn't "take" until now.</p>



<a name="1098287"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098287" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098287">(Jan 14 2021 at 00:24)</a>:</h4>
<p>I think our documentation is pretty clear about needing to login/logout.  But probably the best thing we could do here is add a "Send test notification" button in settings, similar to the existing one for testing desktop notifications.  <span class="user-group-mention" data-user-group-id="21">@mobile</span> is that something that'd be simple to implement on the mobile app side?  In any case I imagine we should open an issue for that, if there isn't one already.</p>



<a name="1098297"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098297" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098297">(Jan 14 2021 at 00:35)</a>:</h4>
<p>Yeah, it is already mentioned on that page:</p>
<blockquote>
<p>If you were already logged in before configuring the server, you’ll need to logout first, since the app only registers for push notifications on login.</p>
</blockquote>



<a name="1098298"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098298" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098298">(Jan 14 2021 at 00:35)</a>:</h4>
<p>It's a bit confusingly formatted because that comes as part of a bullet that starts "On an Android device, …". So if you're on iOS you might just skip the rest of that bullet and not see it, and even if you see it it sounds like it only applies to Android.</p>



<a name="1098299"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098299" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098299">(Jan 14 2021 at 00:36)</a>:</h4>
<p>Probably should get pulled out as its own item, and get some key words in bold just like the "another user … private message" in the next bullet.</p>



<a name="1098301"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098301" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098301">(Jan 14 2021 at 00:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/RESOLVED.3A.20Can't.20get.20push.20notifications.20to.20work/near/1098287">said</a>:</p>
<blockquote>
<p>But probably the best thing we could do here is add a "Send test notification" button in settings, similar to the existing one for testing desktop notifications.  <span class="user-group-mention" data-user-group-id="21">@mobile</span> is that something that'd be simple to implement on the mobile app side?</p>
</blockquote>
<p>Hmm. It wouldn't be hard to add a function in <code>zerver/lib/push_notifications.py</code> that will send a notification with some fake message data. The fake data would get the app somewhat confused if the user tried to open the notification, though.</p>
<p>If we wanted a distinct "test notification" category of notification, that'd require writing some new code in the app to support it specifically. Could do that but I'd want to understand the use case more clearly.</p>
<p>I think probably a better direction would be to send an actual message to the user, like a PM from one of the system bots. Then the only special-casing it'd need is to override the usual presence check, and send the notification even though the user is active on web/desktop.</p>



<a name="1098302"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098302" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098302">(Jan 14 2021 at 00:43)</a>:</h4>
<p>Yeah that'd be a fine option.  Might require a bit of plumbing but nothing difficult.</p>



<a name="1098303"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098303" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098303">(Jan 14 2021 at 00:43)</a>:</h4>
<p>(Oh hey, bug report in compose: that quote-reply contained a live mention of <code>@mobile</code>, rather than a quiet mention like we do for normal @-mentions.)</p>



<a name="1098304"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098304" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098304">(Jan 14 2021 at 00:44)</a>:</h4>
<p>That'd also provide the opportunity to check some settings for the user: like if they don't have mobile notifications enabled for PMs, give them an alert explaining that instead of sending the message.</p>



<a name="1098306"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098306" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098306">(Jan 14 2021 at 00:44)</a>:</h4>
<p>Yeah that's a good idea.</p>



<a name="1098307"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098307" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098307">(Jan 14 2021 at 00:45)</a>:</h4>
<p>Want to write up an issue?  On my phone right now so can't myself.</p>



<a name="1098308"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098308" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098308">(Jan 14 2021 at 00:45)</a>:</h4>
<p>Sure</p>



<a name="1098310"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098310" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098310">(Jan 14 2021 at 00:46)</a>:</h4>
<p>I'm not sure that would in itself have helped <span class="user-mention silent" data-user-id="18203">Jonathan van Clute</span> out on this. It'd simplify the testing a bit, but the conclusion would still have been that it apparently just wasn't working.</p>
<p>I guess one tweak we could add is that the "send a test notification" flow could highlight this gotcha.</p>



<a name="1098316"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098316" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098316">(Jan 14 2021 at 01:07)</a>:</h4>
<p>Filed as <a href="https://github.com/zulip/zulip/pull/17059">#17059</a>.</p>



<a name="1098317"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098317" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098317">(Jan 14 2021 at 01:11)</a>:</h4>
<p>As I started writing up the bit about that last tweak, I realized we don't actually want it -- or only if we can add some logic I'm not sure how to define accurately, to narrowly target it.</p>
<p>The issue is that we don't want to give this advice where it's not needed, which it isn't for most users. If we did, it would cause confusion about how notifications work, and could cause users to pass on that advice to colleagues and make a more frustrating experience.</p>
<p>Specifically, this advice is needed if the Zulip server wasn't yet configured for mobile push notifications when the user originally logged in on mobile.</p>
<p>Hmm, I guess one thing we could do is check that they actually have a notifications token. I think if they fall into this case, they won't. Though there could of course be other causes, like they haven't successfully logged in on mobile, or haven't installed the app in the first place.</p>



<a name="1098318"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098318" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098318">(Jan 14 2021 at 01:11)</a>:</h4>
<p>In any case probably the most effective thing we can do for that aspect is <a href="https://github.com/zulip/zulip-mobile/pull/1507">#M1507</a>: we should show a warning banner within the app itself.</p>



<a name="1098319"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098319" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098319">(Jan 14 2021 at 01:18)</a>:</h4>
<p>... Huh. Alternatively, we could solve the underlying problem.</p>
<p>I think the root of this problem -- the problem that when you set up push notifications on a server after you've already installed the mobile app and logged in, you never get notifications until you log out and back in again -- is that when the app sends the server a notifications token, the server cheerfully accepts it successfully, even when it doesn't have configuration to do anything useful with it.</p>



<a name="1098320"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098320" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098320">(Jan 14 2021 at 01:20)</a>:</h4>
<p>Specifically, <code>add_push_device_token</code> in <code>zerver/lib/push_notifications.py</code> has a conditional for <code>if uses_notification_bouncer()</code>, in which case it sends the token on to the bouncer... but then if not, it effectively assumes that it <em>is</em> the bouncer (more generally, that it is itself prepared to talk directly to Google and Apple), and just cheerfully stows the token away in its database, and returns success.</p>



<a name="1098323"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098323" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098323">(Jan 14 2021 at 01:21)</a>:</h4>
<p>The app already has logic to retry sending the token to the server. It will retry that every time the app is started.</p>
<p>But it remembers the last token that it already told the server about, and got a success response for. It won't resend that.</p>
<p>So when the server returns that inappropriate success response... it effectively disables that retry.</p>



<a name="1098325"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098325" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098325">(Jan 14 2021 at 01:23)</a>:</h4>
<p>Instead, before even checking <code>uses_notification_bouncer</code>, that function should check <code>push_notifications_enabled</code>. If false, it should raise an error.</p>



<a name="1098327"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098327" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098327">(Jan 14 2021 at 01:29)</a>:</h4>
<p>On the client side, it looks like we should add a try/catch around where we make that request, so that it doesn't send us spam in Sentry. But it already should have no effect on behavior if we get an error there. (Sending these is the last thing that happens in an async function, which nothing is awaiting on, so it's an unhandled promise exception.)</p>



<a name="1098974"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/RESOLVED%3A%20Can%27t%20get%20push%20notifications%20to%20work/near/1098974" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/RESOLVED.3A.20Can.27t.20get.20push.20notifications.20to.20work.html#1098974">(Jan 14 2021 at 20:40)</a>:</h4>
<p>BTW, I did indeed think it applied to Android only but I tried it anyway just to see if it helped.  In my case it required more than one log out/in for the notifications to begin working, but they did eventually.  <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>