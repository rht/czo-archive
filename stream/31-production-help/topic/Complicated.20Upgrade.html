<html>
<head><meta charset="utf-8"><title>Complicated Upgrade · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Complicated.20Upgrade.html">Complicated Upgrade</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="789985"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Complicated%20Upgrade/near/789985" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim April <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Complicated.20Upgrade.html#789985">(Oct 03 2019 at 16:28)</a>:</h4>
<p>For $reasons, we're running postgres 10 on Xenial and trying to run the upgrade to 2.0.6 and I'm getting an error because the puppet apply process is trying to configure postgres 9.5 rather than 10. How would I go about overriding the zulip version?</p>



<a name="789986"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Complicated%20Upgrade/near/789986" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim April <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Complicated.20Upgrade.html#789986">(Oct 03 2019 at 16:31)</a>:</h4>
<p>I'm guessing it involves putting something like <code>postgres_version = 10</code> in /etc/zulip/zulip.conf? but I'm not sure where</p>



<a name="789987"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Complicated%20Upgrade/near/789987" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim April <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Complicated.20Upgrade.html#789987">(Oct 03 2019 at 16:31)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/blob/cfa62700809584003468a982605ef724204a5f21/puppet/zulip/manifests/postgres_appdb_tuned.pp" target="_blank" title="https://github.com/zulip/zulip/blob/cfa62700809584003468a982605ef724204a5f21/puppet/zulip/manifests/postgres_appdb_tuned.pp">https://github.com/zulip/zulip/blob/cfa62700809584003468a982605ef724204a5f21/puppet/zulip/manifests/postgres_appdb_tuned.pp</a> was also hinting at where it might go</p>



<a name="790090"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Complicated%20Upgrade/near/790090" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Complicated.20Upgrade.html#790090">(Oct 04 2019 at 15:58)</a>:</h4>
<p><span class="user-mention" data-user-id="73">@Tim April</span> yeah you'll want to just patch <code>postgres_version</code> in <code>puppet/zulip/manifests/base.pp</code>.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>