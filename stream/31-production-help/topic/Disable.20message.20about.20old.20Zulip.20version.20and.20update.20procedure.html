<html>
<head><meta charset="utf-8"><title>Disable message about old Zulip version and update procedure · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html">Disable message about old Zulip version and update procedure</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1645685"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645685" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645685">(Sep 22 2023 at 20:38)</a>:</h4>
<p>Hi everyone,</p>
<p>We still have an old Zulip 4.10 installation and since this week, we get an orange banner, stating that we should update to a more up-to-date Zulip version. We will do this, but need more time to complete the testing. Can this warning be turned off?<br>
Regarding the update: Can I just update from Zulip 4.10 to the newest 7.4 release, or shall I do updates from Zulip 4.10 --&gt; 5.x --&gt; 6.x --&gt; 7.x? Which is the best and most reliable approach?<br>
Also I have configured apt_local to block some automated updates. Must this be turned off for the Zulip update or will the Zulip update procedure take care of it?</p>
<p>Thanks a lot for your answers and best regards,</p>
<p>Pascal</p>



<a name="1645686"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645686" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645686">(Sep 22 2023 at 20:42)</a>:</h4>
<p>I thought we had a section about how to upgrade from old versions in <a href="https://zulip.readthedocs.io/en/latest/production/upgrade.html">https://zulip.readthedocs.io/en/latest/production/upgrade.html</a> but I don't see it.  But in short, we support upgrading directly from old versions as long as the new version supports the base Ubuntu or Debian version.</p>
<p>So if you're on 4.10, then you're on Ubuntu 18.04 or 20.04, or Debian 10 or 11.  If you're on Ubuntu 20.04 or Debian 11, which are supported by Zulip Server 7.4, you can upgrade directly to 7.4.  Otherwise, you should <a href="https://zulip.readthedocs.io/en/latest/production/upgrade.html#upgrading-the-operating-system">upgrade Debian/Ubuntu</a> first.</p>



<a name="1645687"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645687" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645687">(Sep 22 2023 at 20:43)</a>:</h4>
<p>When you say:</p>
<blockquote>
<p>Also I have configured apt_local to block some automated updates</p>
</blockquote>
<p>Does that mean that you marked packages as "hold," or that you adjusted the configuration for <code>unattended-upgrades</code>?</p>



<a name="1645695"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645695" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645695">(Sep 22 2023 at 20:48)</a>:</h4>
<p>Hi Alex,</p>



<a name="1645696"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645696" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645696">(Sep 22 2023 at 20:48)</a>:</h4>
<p>Thanks a lot for your swift reply. I followed the readme at <a href="https://zulip.readthedocs.io/en/latest/production/troubleshooting.html#restrict-unattended-upgrades">https://zulip.readthedocs.io/en/latest/production/troubleshooting.html#restrict-unattended-upgrades</a>.</p>



<a name="1645698"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645698" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645698">(Sep 22 2023 at 20:49)</a>:</h4>
<p>OK, that'll be fine -- that only prevents unattended upgrades, and Zulip will be able to manually upgrade everything it needs to.</p>



<a name="1645699"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645699" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645699">(Sep 22 2023 at 20:49)</a>:</h4>
<p>The Zulip server has Ubuntu 20.04.4 LTS installed, so it should be able to run Zulip 7.4, right? I don't know, which PostgreSQL version is installed, the one that came with Zulip 4.x.</p>



<a name="1645700"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645700" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645700">(Sep 22 2023 at 20:52)</a>:</h4>
<p>You can look in <code>postgresql.version</code> in <code>/etc/zulip/zulip.conf</code> to see what version of PostgreSQL is currently in use.</p>



<a name="1645701"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645701" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645701">(Sep 22 2023 at 20:52)</a>:</h4>
<p>But yes, Ubuntu 20.04 means you can upgrade directly to Zulip Server 7.4.</p>



<a name="1645703"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645703" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645703">(Sep 22 2023 at 20:53)</a>:</h4>
<p>PostgreSQL 12 is installed according to /etc/zulip/zulip.conf</p>



<a name="1645705"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645705" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645705">(Sep 22 2023 at 20:54)</a>:</h4>
<p>Great, that also allows a direct upgrade to 7.4, since it's supported by Zulip server 7.x: <a href="https://zulip.readthedocs.io/en/latest/production/upgrade.html#upgrading-postgresql">https://zulip.readthedocs.io/en/latest/production/upgrade.html#upgrading-postgresql</a></p>



<a name="1645706"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645706" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645706">(Sep 22 2023 at 20:55)</a>:</h4>
<p>So your upgrade steps are to <a href="https://zulip.readthedocs.io/en/latest/production/upgrade.html#upgrading-to-a-release">Upgrade directly to 7.4</a>, followed by optionally <a href="https://zulip.readthedocs.io/en/latest/production/upgrade.html#upgrading-the-operating-system">upgrading to Ubuntu 22.04</a> and optionally <a href="https://zulip.readthedocs.io/en/latest/production/upgrade.html#upgrading-postgresql">upgrading to PostgreSQL 15</a>.</p>



<a name="1645707"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645707" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645707">(Sep 22 2023 at 20:55)</a>:</h4>
<p>Would you recommend to upgrade to Ubuntu 22.04 or shall I stay on 20.04?</p>



<a name="1645708"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645708" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645708">(Sep 22 2023 at 20:56)</a>:</h4>
<p>And is there a way to turn off the "old zulip version" warning message?</p>



<a name="1645712"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645712" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645712">(Sep 22 2023 at 21:03)</a>:</h4>
<p>I believe the warning message you're referring to is only on the mobile app, and I'm not familiar with the logic for it.  My recollection was that we showed it to admins first, before showing it to all users on the organization, but I might be wrong -- <span class="user-mention" data-user-id="2187">@Greg Price</span> would know more.  But I suspect there isn't a way to silence it.  There are also several security vulnerabilities we've publicly disclosed since 4.10, so I would strongly recommend upgrading without overly much delay.</p>



<a name="1645713"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645713" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645713">(Sep 22 2023 at 21:04)</a>:</h4>
<p>Whether to upgrade to 22.04 comes down to how you want to maintain your servers.  But unless you have a reason you need to stay on 20.04, I would generally suggest upgrading.</p>



<a name="1645714"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645714" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645714">(Sep 22 2023 at 21:05)</a>:</h4>
<p>The message is showed to all users and we get many complaints. Will do the update as soon as possible next week.</p>



<a name="1645715"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645715" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645715">(Sep 22 2023 at 21:05)</a>:</h4>
<p>Will check, if there is any special requirements to remain on Ubuntu 20.04.4 LTS.</p>



<a name="1645760"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645760" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645760">(Sep 22 2023 at 22:08)</a>:</h4>
<p><span class="user-mention" data-user-id="19114">@Pascal Schrafl</span> you can increase this setting:</p>
<div class="codehilite"><pre><span></span><code># How long after the last upgrade to nag users that the server needs
# to be upgraded because of likely security releases in the meantime.
# Default is 18 months, constructed as 12 months before someone should
# upgrade, plus 6 months for the system administrator to get around to it.
SERVER_UPGRADE_NAG_DEADLINE_DAYS = 30 * 18
</code></pre></div>
<p>If I'm not mistaken, I'm pretty sure the mobile app notice links to this section of the documentation that details how to change it: <a href="https://zulip.readthedocs.io/en/latest/overview/release-lifecycle.html#upgrade-nag">https://zulip.readthedocs.io/en/latest/overview/release-lifecycle.html#upgrade-nag</a></p>



<a name="1645761"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645761" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645761">(Sep 22 2023 at 22:08)</a>:</h4>
<p>And it is implemented to show to organization administrators for a month before showing to regular users; my guess is you just didn't have an administrator notice and act:</p>
<blockquote>
<p>The nag will appear only to organization administrators starting a month before the deadline; after that, it will appear for all users on the server.</p>
</blockquote>



<a name="1645939"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Disable%20message%20about%20old%20Zulip%20version%20and%20update%20procedure/near/1645939" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Schrafl <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Disable.20message.20about.20old.20Zulip.20version.20and.20update.20procedure.html#1645939">(Sep 23 2023 at 08:54)</a>:</h4>
<p>Thanks a lot, Tim! I was able to disable the message by increasing the value, so that we can update the Zulip server without the users going nuts, because of the warning message.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>