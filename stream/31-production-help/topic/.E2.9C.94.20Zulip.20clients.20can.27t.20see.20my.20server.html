<html>
<head><meta charset="utf-8"><title>✔ Zulip clients can&#x27;t see my server · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html">✔ Zulip clients can&#x27;t see my server</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1474888"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1474888" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lachie Chapman <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1474888">(Dec 06 2022 at 13:14)</a>:</h4>
<p>My server is running and accessible at chat.my.tld in web browsers. When I attempt to connect to it within the iOS and Electron clients, there is a problem where the server isn't detected.</p>
<p>The requests show up in server.log:</p>
<div class="codehilite"><pre><span></span><code>[zr] 172.31.0.1      GET     200  30ms (db: 6ms/4q) (+start: 9ms) /api/v1/server_settings (unauth@root via ZulipMobile/27.194)
[zr] 172.31.0.1      GET     200   9ms (db: 2ms/2q) /api/v1/server_settings (unauth@root via ZulipElectron/5.9.3)
</code></pre></div>
<p>I can even access /api/v1/server_settings in browser:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;result&quot;: &quot;success&quot;,
  &quot;msg&quot;: &quot;&quot;,
  &quot;authentication_methods&quot;: {
    &quot;password&quot;: true,
    &quot;dev&quot;: false,
    &quot;email&quot;: true,
    &quot;ldap&quot;: false,
    &quot;remoteuser&quot;: false,
    &quot;github&quot;: false,
    &quot;azuread&quot;: false,
    &quot;gitlab&quot;: false,
    &quot;google&quot;: false,
    &quot;apple&quot;: false,
    &quot;saml&quot;: false,
    &quot;openid connect&quot;: false
  },
  &quot;zulip_version&quot;: &quot;5.7&quot;,
  &quot;zulip_merge_base&quot;: &quot;&quot;,
  &quot;zulip_feature_level&quot;: 122,
  &quot;push_notifications_enabled&quot;: false,
  &quot;is_incompatible&quot;: false,
  &quot;email_auth_enabled&quot;: true,
  &quot;require_email_format_usernames&quot;: true,
  &quot;realm_uri&quot;: &quot;https://chat.my.tld&quot;,
  &quot;realm_web_public_access_enabled&quot;: false,
  &quot;external_authentication_methods&quot;: []
}
</code></pre></div>



<a name="1474953"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1474953" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1474953">(Dec 06 2022 at 17:31)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="9" href="/#narrow/stream/9-issues/topic/Zulip.20clients.20can.27t.20see.20my.20server">#issues &gt; Zulip clients can't see my server</a> by <span class="user-mention silent" data-user-id="19257">Alya Abbott</span>.</p>



<a name="1474970"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1474970" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1474970">(Dec 06 2022 at 17:55)</a>:</h4>
<p><span class="user-mention" data-user-id="24643">@Lachie Chapman</span>: Can you say more about "there is a problem where the server isn't detected"? Do you see any access from the iOS / Electron clients?  What is the behaviour you see from the iOS client, and does it show any error?</p>



<a name="1474971"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1474971" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1474971">(Dec 06 2022 at 17:56)</a>:</h4>
<p>My first guess (given <a class="stream-topic" data-stream-id="31" href="/#narrow/stream/31-production-help/topic/Issues.20with.20Zulip.20behind.20Caddy.20servers.20as.20reverse.20proxies">#production help &gt; Issues with Zulip behind Caddy servers as reverse proxies</a>) is potentially certificates - do you have a custom CA?</p>



<a name="1475522"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475522" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lachie Chapman <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475522">(Dec 07 2022 at 00:18)</a>:</h4>
<p>Here is the error on the Electron client: <a href="/user_uploads/2/9a/Wnh90YhEzPivEjuOvvZSgdmr/Zulip_p159LvIAMx.png">Zulip_p159LvIAMx.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/9a/Wnh90YhEzPivEjuOvvZSgdmr/Zulip_p159LvIAMx.png" title="Zulip_p159LvIAMx.png"><img src="/user_uploads/2/9a/Wnh90YhEzPivEjuOvvZSgdmr/Zulip_p159LvIAMx.png"></a></div><p>On iOS it says "Cannot connect to server" in red text.</p>



<a name="1475524"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475524" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lachie Chapman <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475524">(Dec 07 2022 at 00:19)</a>:</h4>
<p>I don't use a custom CA, Caddy handles HTTPS in the background via LetsEncrypt.</p>



<a name="1475537"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475537" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475537">(Dec 07 2022 at 00:28)</a>:</h4>
<p>What version of iOS? Let’s Encrypt <a href="https://letsencrypt.org/docs/certificate-compatibility/">no longer supports iOS 9</a> and earlier.</p>



<a name="1475555"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475555" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475555">(Dec 07 2022 at 00:35)</a>:</h4>
<p>Oh, I think your main problem is that you haven’t <a href="https://zulip.readthedocs.io/en/latest/production/install.html#step-3-create-a-zulip-organization-and-log-in">created a realm</a> yet?</p>



<a name="1475558"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475558" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475558">(Dec 07 2022 at 00:35)</a>:</h4>
<p>That would be why your <code>server_settings</code> is missing <code>realm_name</code> and <code>realm_icon</code>.</p>



<a name="1475598"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475598" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475598">(Dec 07 2022 at 01:03)</a>:</h4>
<p>Great catch.  We should probably make that error clearer.</p>



<a name="1475619"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475619" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lachie Chapman <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475619">(Dec 07 2022 at 01:26)</a>:</h4>
<p>I didn't know about this process, perhaps there is a quickstart I should be following <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> Clearer error sounds good.</p>



<a name="1475651"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475651" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475651">(Dec 07 2022 at 02:59)</a>:</h4>
<p>The installer should have printed a link at the end directing you how to make a the first realm.</p>
<p>What instructions were you following, if not <a href="https://zulip.readthedocs.io/en/latest/production/install.html">https://zulip.readthedocs.io/en/latest/production/install.html</a> ?</p>



<a name="1475669"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475669" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475669">(Dec 07 2022 at 03:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="24643">Lachie Chapman</span> has marked this topic as resolved.</p>



<a name="1475670"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Zulip%20clients%20can%27t%20see%20my%20server/near/1475670" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lachie Chapman <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Zulip.20clients.20can.27t.20see.20my.20server.html#1475670">(Dec 07 2022 at 03:49)</a>:</h4>
<p>I wasn't following a guide as such, just going on my experience with setting up open source apps. A bit gung-ho of me.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>