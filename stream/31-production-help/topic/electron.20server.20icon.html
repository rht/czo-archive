<html>
<head><meta charset="utf-8"><title>electron server icon · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html">electron server icon</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="548126"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548126" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548126">(Mar 24 2018 at 06:03)</a>:</h4>
<p>How can I customize the icon that appears in the desktop app for our server? I see it's currently pulling from a default icon inside of the electron app, but I also found some commits referencing that this is only the fallback or default icon.  Is there some way for me to override this?<br>
<a href="/user_uploads/2/12/4Q7TGQpfVAUy_BQuJlPV1JtI/Screen-Shot-2018-03-23-at-11.03.07-PM.png" target="_blank" title="Screen-Shot-2018-03-23-at-11.03.07-PM.png">Screen-Shot-2018-03-23-at-11.03.07-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/12/4Q7TGQpfVAUy_BQuJlPV1JtI/Screen-Shot-2018-03-23-at-11.03.07-PM.png" target="_blank" title="Screen-Shot-2018-03-23-at-11.03.07-PM.png"><img src="/user_uploads/2/12/4Q7TGQpfVAUy_BQuJlPV1JtI/Screen-Shot-2018-03-23-at-11.03.07-PM.png"></a></div>



<a name="548127"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548127" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akash Nimare <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548127">(Mar 24 2018 at 06:11)</a>:</h4>
<p><span class="user-mention" data-user-id="3733">@Sean Wallitsch</span> do you have the realm icon (<code>https://yourserver/api/v1/server_settings</code> and then <code>realm_icon</code>)? The default icon is fallback when there is no server icon.</p>



<a name="548184"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548184" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548184">(Mar 24 2018 at 15:40)</a>:</h4>
<p>that icon is set, but not being respected</p>



<a name="548185"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548185" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548185">(Mar 24 2018 at 15:42)</a>:</h4>
<p><code> {"zulip_version":"1.7.1+git","realm_icon":"\/user_avatars\/2\/realm\/icon.png?version=3", </code> and then... <code>https://server/user_avatars/2/realm/icon.png?version=3</code> shows me our server icon (our company logo) which appears correctly on the login page</p>



<a name="548187"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548187" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548187">(Mar 24 2018 at 15:42)</a>:</h4>
<p>but not the electron sidebar</p>



<a name="548188"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548188" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548188">(Mar 24 2018 at 15:42)</a>:</h4>
<p>should I file an issue?</p>



<a name="548193"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548193" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyank Patel <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548193">(Mar 24 2018 at 15:49)</a>:</h4>
<p>When was the icon changed? I think we already have an issue for this and a PR to fix.</p>



<a name="548280"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548280" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548280">(Mar 24 2018 at 17:43)</a>:</h4>
<p>When we first set up the server, 4-5 months ago?</p>



<a name="548282"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548282" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548282">(Mar 24 2018 at 17:50)</a>:</h4>
<p><a href="https://github.com/zulip/zulip-electron/pull/360/files" target="_blank" title="https://github.com/zulip/zulip-electron/pull/360/files">this</a> PR seems to be about using a default letter<br/>
<a href="https://github.com/zulip/zulip-electron/issues/425" target="_blank" title="https://github.com/zulip/zulip-electron/issues/425">this</a> issue is about the icon only updating when the server is added (I just removed the server from the desktop app and re-added it, still getting the default icon)<br/>
Those were all the ones I could find</p>



<a name="548284"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548284" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akash Nimare <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548284">(Mar 24 2018 at 18:12)</a>:</h4>
<p><span class="user-mention" data-user-id="3733">@Sean Wallitsch</span> interesting, this should have worked BTW. Feel free to open an issue. It would be great help if you could PM me your server address (if it's public).</p>



<a name="548286"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548286" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhigyan Khaund <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548286">(Mar 24 2018 at 18:15)</a>:</h4>
<p>This icon is added when you're server is accessible but the icon file isn't.  Once this icon is added, it isn't updated even if the icon is updated. By any chance are you behind a https proxy? If you're connecting to your server using <code>http</code> instead of <code>https</code> then there is a high chance the icon wouldn't be accessible as it uses <code>https</code> for the icon. <br>
This was the case in my issue, may not be true in your case.</p>



<a name="548290"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548290" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akash Nimare <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548290">(Mar 24 2018 at 18:21)</a>:</h4>
<blockquote>
<p>Once this icon is added, it isn't updated even if the icon is updated. </p>
</blockquote>
<p>We do try to fetch the updated icon on reload/app starts (more info <a href="https://github.com/zulip/zulip-electron/blob/89d1344e2fa0f09e217e2d9b1f132edee9fbe24f/app/renderer/js/utils/domain-util.js#L226" target="_blank" title="https://github.com/zulip/zulip-electron/blob/89d1344e2fa0f09e217e2d9b1f132edee9fbe24f/app/renderer/js/utils/domain-util.js#L226">here</a>).</p>



<a name="548293"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548293" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akash Nimare <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548293">(Mar 24 2018 at 18:29)</a>:</h4>
<p>Okay, I think there is a path issue in the icon URL which we need to handle. </p>
<ul>
<li>
<p>In czo the <code>realm_icon</code> is <br>
<code>/user_avatars/2/realm/icon.png?version="</code></p>
</li>
<li>
<p>In Sean's server<br>
<code>\/user_avatars\/2\/realm\/icon.png?version=3</code></p>
</li>
</ul>



<a name="548300"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548300" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhigyan Khaund <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548300">(Mar 24 2018 at 18:40)</a>:</h4>
<blockquote>
<p>We do try to fetch the updated icon on reload/app starts (more info <a href="https://github.com/zulip/zulip-electron/blob/89d1344e2fa0f09e217e2d9b1f132edee9fbe24f/app/renderer/js/utils/domain-util.js#L226" target="_blank" title="https://github.com/zulip/zulip-electron/blob/89d1344e2fa0f09e217e2d9b1f132edee9fbe24f/app/renderer/js/utils/domain-util.js#L226">here</a>).</p>
</blockquote>
<p>Ah yes we do. It isn't probably isn't updating in my due to some other issue then.</p>



<a name="548302"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548302" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhigyan Khaund <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548302">(Mar 24 2018 at 18:40)</a>:</h4>
<blockquote>
<p>Okay, I think there is a path issue in the icon URL which we need to handle. <br>
* In czo the <code>realm_icon</code> is <br>
<code>/user_avatars/2/realm/icon.png?version="</code><br>
* In Sean's server<br>
<code>\/user_avatars\/2\/realm\/icon.png?version=3</code></p>
</blockquote>
<p>I see. Shouldn't be much of a task.</p>



<a name="548336"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548336" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548336">(Mar 24 2018 at 21:43)</a>:</h4>
<p>The server has native https support- but uses a self signed certificate. Perhaps that is the issue- does it respect the decision by the user to accept the cert? It's on an internal network</p>



<a name="548345"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548345" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhigyan Khaund <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548345">(Mar 24 2018 at 22:43)</a>:</h4>
<p>I think that could be the issue. I am not sure if it respects the self signed certificate for icon.</p>



<a name="548394"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548394" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548394">(Mar 25 2018 at 06:10)</a>:</h4>
<p><span class="user-mention" data-user-id="4922">@Abhigyan Khaund</span> can you open an issue to track this?</p>



<a name="548413"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548413" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhigyan Khaund <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548413">(Mar 25 2018 at 07:56)</a>:</h4>
<p>Opened <a href="https://github.com/zulip/zulip-electron/pull/463" target="_blank" title="https://github.com/zulip/zulip-electron/pull/463">#D463</a>.</p>



<a name="548507"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548507" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548507">(Mar 25 2018 at 15:50)</a>:</h4>
<p>Thank you!</p>



<a name="548508"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/electron%20server%20icon/near/548508" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/electron.20server.20icon.html#548508">(Mar 25 2018 at 15:50)</a>:</h4>
<p>I've followed it and will continue to provide additional details as needed</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>