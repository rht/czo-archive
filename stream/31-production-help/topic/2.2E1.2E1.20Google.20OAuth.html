<html>
<head><meta charset="utf-8"><title>2.1.1 Google OAuth · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/2.2E1.2E1.20Google.20OAuth.html">2.1.1 Google OAuth</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="802975"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/2.1.1%20Google%20OAuth/near/802975" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andhie Wong <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/2.2E1.2E1.20Google.20OAuth.html#802975">(Dec 16 2019 at 13:15)</a>:</h4>
<p>i have upgraded from 2.0.8 to 2.1.1, it seems the Google OAuth redirect uri has changed. previously its <code>https://zulip.example.com/accounts/login/google/done/</code> but now its redirecting to <code>https://zulip.example.com/complete/google/</code>. is this change intentional,  i dont see its documented even in <code>zproject/prod_settings_template.py</code>?</p>



<a name="802983"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/2.1.1%20Google%20OAuth/near/802983" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/2.2E1.2E1.20Google.20OAuth.html#802983">(Dec 16 2019 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="13626">@Andhie Wong</span> Yes, it's a result of us changing the library on which we build the backend to <code>python-social-auth</code>.</p>



<a name="803049"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/2.1.1%20Google%20OAuth/near/803049" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/2.2E1.2E1.20Google.20OAuth.html#803049">(Dec 16 2019 at 23:00)</a>:</h4>
<p><span class="user-mention" data-user-id="13626">@Andhie Wong</span> thanks for the report!  This is indeed an oversight in our documentation updates.</p>
<p><span class="user-mention" data-user-id="10349">@Mateusz Mandera</span> I think this means we have a bug in our documentation, because <code>prod_settings_template.py</code> has:</p>
<div class="codehilite"><pre><span></span># (3) Return to &quot;Credentials&quot;, and select &quot;Create credentials&quot;.
# Choose &quot;OAuth client ID&quot;, and follow prompts to create a consent
# screen.  Fill in &quot;Authorized redirect URIs&quot; with a value like
#   https://zulip.example.com/accounts/login/google/done/
# based on your value for EXTERNAL_HOST.
</pre></div>


<p>(And we should audit for other places, and update the "upgrade notes").</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>