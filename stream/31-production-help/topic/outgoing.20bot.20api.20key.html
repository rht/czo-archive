<html>
<head><meta charset="utf-8"><title>outgoing bot api key · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html">outgoing bot api key</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="837389"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837389" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837389">(Mar 23 2020 at 20:36)</a>:</h4>
<p>Should an outgoing webhook bot's API key be valid for sending messages to Zulip unprompted?</p>



<a name="837406"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837406" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837406">(Mar 23 2020 at 20:43)</a>:</h4>
<p>We've discovered that our outgoing webhook bot API keys can send PMs and stream messages, without receiving a triggering outgoing message first</p>



<a name="837410"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837410" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837410">(Mar 23 2020 at 20:44)</a>:</h4>
<p>Before we rejoice and make use of this, we wanted to confirm it was not a bug</p>



<a name="837424"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837424" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Henckel <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837424">(Mar 23 2020 at 20:48)</a>:</h4>
<p>The repro being:</p>
<div class="codehilite"><pre><span></span>zulip-send &lt;my email&gt; -m hello --site &lt;URI&gt; --api-key &lt;incoming webhook bot key&gt; --user &lt;incoming webhook bot email&gt;
</pre></div>



<a name="837427"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837427" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837427">(Mar 23 2020 at 20:49)</a>:</h4>
<p><span class="user-mention" data-user-id="3733">@Sean Wallitsch</span> yes, that's intended behavior.  We will probably in the future split outgoing webhooks to have 2 types of outgoing webhooks, adding one with no permissions like our incoming webhooks.</p>



<a name="837428"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837428" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837428">(Mar 23 2020 at 20:50)</a>:</h4>
<p>But you need that if you want to do use more complex Zulip APIs from the webhook service.</p>



<a name="837429"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837429" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Wallitsch <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837429">(Mar 23 2020 at 20:50)</a>:</h4>
<p>awesome, thanks Tim. Hope y'all are doing well. "safer at home" has resulted in an explosion of bot authoring.</p>



<a name="837433"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837433" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837433">(Mar 23 2020 at 20:52)</a>:</h4>
<p>I've been mostly WFH for 1.5 years at this point, and our nanny is back after being unable to reasonably commute here last week, so coronavirus has not been as personally disruptive as I'm sure it is for most.</p>



<a name="837435"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/837435" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#837435">(Mar 23 2020 at 20:53)</a>:</h4>
<p>That said, Zulip is one of the few things that get dramatically increased attention at this sort of time, so I'm super busy right now <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="849756"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/849756" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noe Martinez <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#849756">(Apr 08 2020 at 16:30)</a>:</h4>
<p>Another sanity check here. To the rejoice of some bot authors, we just discovered that the outgoing webhook can also upload images to zulip with its API key. Can we happily enjoy that as a feature, <span class="user-mention" data-user-id="7">@Tim Abbott</span>, or is it unintended behavior that we should not get used to?</p>



<a name="849759"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/849759" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#849759">(Apr 08 2020 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="3748">@Noe Martinez</span> yep, that's intended!</p>



<a name="849767"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/849767" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noe Martinez <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#849767">(Apr 08 2020 at 16:36)</a>:</h4>
<p>It appears we've been quite overestimating the differences in permissions between generic and outgoing :). That's good to learn. It  might be nice to make these differences (or lack thereof) between bot types a bit more explicitly clear in the documentation some time.</p>



<a name="849773"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/outgoing%20bot%20api%20key/near/849773" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/outgoing.20bot.20api.20key.html#849773">(Apr 08 2020 at 16:39)</a>:</h4>
<p>Yeah, or have a broader set of options for what permissions you're requesting.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>