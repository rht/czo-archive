<html>
<head><meta charset="utf-8"><title>Password Reset · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Password.20Reset.html">Password Reset</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="662885"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Password%20Reset/near/662885" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Skurlat <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Password.20Reset.html#662885">(Nov 19 2018 at 17:37)</a>:</h4>
<p>On a self-hosted organisation, one of our user is trying to reset his password but get's this message when opening the reset link received by email:</p>
<blockquote>
<p>Sorry, the link you provided is invalid or has already been used.</p>
</blockquote>
<p>I have created a test user and could reset the password successfully for it so I really don't know what is going on !?</p>



<a name="662887"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Password%20Reset/near/662887" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Password.20Reset.html#662887">(Nov 19 2018 at 17:47)</a>:</h4>
<p><span class="user-mention" data-user-id="9371">@Skurlat</span> is it possible that the link has expired? (i.e.the user didn't click on it within a day?)</p>



<a name="662888"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Password%20Reset/near/662888" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Skurlat <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Password.20Reset.html#662888">(Nov 19 2018 at 17:47)</a>:</h4>
<p><span class="user-mention" data-user-id="131">@Rishi Gupta</span>  I thought about it but I asked him to do it again and forward the email to me and had the same issue so no :(</p>



<a name="662894"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Password%20Reset/near/662894" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Skurlat <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Password.20Reset.html#662894">(Nov 19 2018 at 17:55)</a>:</h4>
<p>Is there a way I can set the password from the database as a temporary fix ?</p>



<a name="663017"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Password%20Reset/near/663017" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Password.20Reset.html#663017">(Nov 19 2018 at 21:29)</a>:</h4>
<p><span class="user-mention" data-user-id="9371">@Skurlat</span> you can use something like </p>
<div class="codehilite"><pre><span></span><span class="n">zulip</span><span class="o">/</span><span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">shell</span>
<span class="p">[</span><span class="n">enter</span> <span class="n">shell</span> <span class="o">..</span><span class="p">]</span>

<span class="kn">from</span> <span class="nn">zerver.lib.actions</span> <span class="kn">import</span> <span class="n">do_change_password</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">UserProfile</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">email</span><span class="o">=&lt;</span><span class="n">users</span> <span class="n">email</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">do_change_password</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">new</span> <span class="n">password</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>