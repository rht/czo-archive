<html>
<head><meta charset="utf-8"><title>cert problem when using docker · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cert.20problem.20when.20using.20docker.html">cert problem when using docker</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1557572"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cert%20problem%20when%20using%20docker/near/1557572" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> stackinspector <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cert.20problem.20when.20using.20docker.html#1557572">(Apr 28 2023 at 02:06)</a>:</h4>
<p>I set <code>SSL_CERTIFICATE_GENERATION: "certbot"</code> in docker-compose.yml, but I still find self-signed certificate when access through web</p>



<a name="1557573"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cert%20problem%20when%20using%20docker/near/1557573" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> stackinspector <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cert.20problem.20when.20using.20docker.html#1557573">(Apr 28 2023 at 02:07)</a>:</h4>
<p>Are there any certbot logs that can be found in the container?</p>



<a name="1557574"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cert%20problem%20when%20using%20docker/near/1557574" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> stackinspector <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cert.20problem.20when.20using.20docker.html#1557574">(Apr 28 2023 at 02:10)</a>:</h4>
<p>Where do I put the certificate if I don't use certbot? The <code>/opt/docker/zulip/zulip/certs/</code> mentioned in the README does not exist in either the host or the <code>zulip</code> container.<br>
While trying to find it, I found two folders <code>certs</code> and <code>letsencrypt</code> in <code>/data</code> in the <code>zulip</code> container, and surprisingly they were both empty. I don't even know where the self-signed certificate is stored now.</p>



<a name="1557575"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cert%20problem%20when%20using%20docker/near/1557575" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cert.20problem.20when.20using.20docker.html#1557575">(Apr 28 2023 at 02:12)</a>:</h4>
<p>This is a known issue, <a href="https://github.com/zulip/docker-zulip/pull/381">#DZ381</a>.</p>



<a name="1557577"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cert%20problem%20when%20using%20docker/near/1557577" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> stackinspector <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cert.20problem.20when.20using.20docker.html#1557577">(Apr 28 2023 at 02:16)</a>:</h4>
<p>So are there any temp solutions? I just want to make my production server work for now</p>



<a name="1611532"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/cert%20problem%20when%20using%20docker/near/1611532" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Bastian <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/cert.20problem.20when.20using.20docker.html#1611532">(Jul 18 2023 at 09:02)</a>:</h4>
<p>Any solution or workaround?<br>
I thought of using self signed certs in the container and using certbot on the host itself. But I dont know if this works with passing through to the container. With one Org this might work fine but I want to host several orgs with differrent domains where the main org wold be smth like: <a href="http://zulip.example.com">zulip.example.com</a> anf the following ones <a href="http://org1.zulip.example.com">org1.zulip.example.com</a> ....</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>