<html>
<head><meta charset="utf-8"><title>Installation error rabbitmq in docker · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Installation.20error.20rabbitmq.20in.20docker.html">Installation error rabbitmq in docker</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="582416"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Installation%20error%20rabbitmq%20in%20docker/near/582416" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjibukai <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Installation.20error.20rabbitmq.20in.20docker.html#582416">(May 18 2018 at 08:03)</a>:</h4>
<p>Hi everyone,<br>
I'm trying to setup a zulip instance in docker..<br>
But I'm facing a weird issue..<br>
I managed to get my container running and also having certbot steps passing..<br>
However, I'm getting an error when the installation script try to start the service [rabbitmq-server]..<br>
I saw that this is a common problem with the /etc/hosts file, however I tried many versions and I'm still unable to install zulip.<br>
When I try to start the rabbitmq service manually I got the same errors..<br>
The startup_err file is two lines with nothing interesting (at least it seems not interesting..) </p>
<div class="codehilite"><pre><span></span>Crash dump is being written to: erl_crash.dump...done
Kernel pid terminated (application_controller) ({application_start_failure,kernel,{{shutdown,{failed_to_start_child,net_sup,{shutdown,{failed_to_start_child,net_kernel,{&#39;EXIT&#39;,nodistribution}}}}},{k
</pre></div>


<p>The startup-log is longer:</p>
<div class="codehilite"><pre><span></span>{error_logger,{{2018,5,18},{7,52,39}},&quot;Protocol: ~tp: register/listen error: ~tp~n&quot;,[&quot;inet_tcp&quot;,econnrefused]}
{error_logger,{{2018,5,18},{7,52,39}},crash_report,[[{initial_call,{net_kernel,init,[&#39;Argument__1&#39;]}},{pid,&lt;0.22.0&gt;},{registered_name,[]},{error_info,{exit,{error,badarg},[{gen_server,init_it,6,[{file,&quot;gen_server.erl&quot;},{line,344}]},{proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,240}]}]}},{ancestors,[net_sup,kernel_sup,&lt;0.10.0&gt;]},{messages,[]},{links,[#Port&lt;0.330&gt;,&lt;0.19.0&gt;]},{dictionary,[{longnames,false}]},{trap_exit,true},{status,running},{heap_size,610},{stack_size,27},{reductions,873}],[]]}
{error_logger,{{2018,5,18},{7,52,39}},supervisor_report,[{supervisor,{local,net_sup}},{errorContext,start_error},{reason,{&#39;EXIT&#39;,nodistribution}},{offender,[{pid,undefined},{id,net_kernel},{mfargs,{net_kernel,start_link,[[rabbitmqprelaunch13757,shortnames]]}},{restart_type,permanent},{shutdown,2000},{child_type,worker}]}]}
{error_logger,{{2018,5,18},{7,52,39}},supervisor_report,[{supervisor,{local,kernel_sup}},{errorContext,start_error},{reason,{shutdown,{failed_to_start_child,net_kernel,{&#39;EXIT&#39;,nodistribution}}}},{offender,[{pid,undefined},{id,net_sup},{mfargs,{erl_distribution,start_link,[]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]}]}
{error_logger,{{2018,5,18},{7,52,39}},crash_report,[[{initial_call,{application_master,init,[&#39;Argument__1&#39;,&#39;Argument__2&#39;,&#39;Argument__3&#39;,&#39;Argument__4&#39;]}},{pid,&lt;0.9.0&gt;},{registered_name,[]},{error_info,{exit,{{shutdown,{failed_to_start_child,net_sup,{shutdown,{failed_to_start_child,net_kernel,{&#39;EXIT&#39;,nodistribution}}}}},{kernel,start,[normal,[]]}},[{application_master,init,4,[{file,&quot;application_master.erl&quot;},{line,134}]},{proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,240}]}]}},{ancestors,[&lt;0.8.0&gt;]},{messages,[{&#39;EXIT&#39;,&lt;0.10.0&gt;,normal}]},{links,[&lt;0.8.0&gt;,&lt;0.7.0&gt;]},{dictionary,[]},{trap_exit,true},{status,running},{heap_size,376},{stack_size,27},{reductions,117}],[]]}
{error_logger,{{2018,5,18},{7,52,39}},std_info,[{application,kernel},{exited,{{shutdown,{failed_to_start_child,net_sup,{shutdown,{failed_to_start_child,net_kernel,{&#39;EXIT&#39;,nodistribution}}}}},{kernel,start,[normal,[]]}}},{type,permanent}]}
{&quot;Kernel pid terminated&quot;,application_controller,&quot;{application_start_failure,kernel,{{shutdown,{failed_to_start_child,net_sup,{shutdown,{failed_to_start_child,net_kernel,{&#39;EXIT&#39;,nodistribution}}}}},{kernel,start,[normal,[]]}}}&quot;}
</pre></div>


<p>I would really appreciate if someone can help me..<br>
I'm trying to selfhost a chat application with docker..<br>
Already tried mattermost and rocket.chat, but I was not really  satisfied..</p>



<a name="582526"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Installation%20error%20rabbitmq%20in%20docker/near/582526" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Installation.20error.20rabbitmq.20in.20docker.html#582526">(May 18 2018 at 21:07)</a>:</h4>
<p><span class="user-mention" data-user-id="8121">@Sanjibukai</span> hey, can you give a bit more detail on what exactly you where doing (e.g. are you using this project: <a href="https://github.com/galexrt/docker-zulip" target="_blank" title="https://github.com/galexrt/docker-zulip">https://github.com/galexrt/docker-zulip</a> ?)</p>



<a name="582651"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Installation%20error%20rabbitmq%20in%20docker/near/582651" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjibukai <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Installation.20error.20rabbitmq.20in.20docker.html#582651">(May 19 2018 at 02:44)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="7">@Tim Abbott</span> <br>
Nope, I tried to build the container myself..<br>
I just followed the installation instructions <a href="https://zulip.readthedocs.io/en/stable/production/install.html#step-1-download-the-latest-release" target="_blank" title="https://zulip.readthedocs.io/en/stable/production/install.html#step-1-download-the-latest-release">https://zulip.readthedocs.io/en/stable/production/install.html#step-1-download-the-latest-release</a> inside a fresh ubuntu:xenial container where I installed the following packages beforehand like, <code>sudo wget curl lsb-release locales</code><br>
Just a hint I discovered in the meantime, I tried exactly the same steps inside an ubuntu VPS and it worked :/</p>



<a name="582652"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Installation%20error%20rabbitmq%20in%20docker/near/582652" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjibukai <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Installation.20error.20rabbitmq.20in.20docker.html#582652">(May 19 2018 at 02:46)</a>:</h4>
<p>I will try to run the container with the images from that repo..</p>



<a name="583337"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Installation%20error%20rabbitmq%20in%20docker/near/583337" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Installation.20error.20rabbitmq.20in.20docker.html#583337">(May 21 2018 at 01:16)</a>:</h4>
<p><span class="user-mention" data-user-id="8121">@Sanjibukai</span> yeah, you should use the <code>docker-zulip</code> project; no point reinventing the wheel here.</p>



<a name="583340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Installation%20error%20rabbitmq%20in%20docker/near/583340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjibukai <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Installation.20error.20rabbitmq.20in.20docker.html#583340">(May 21 2018 at 01:35)</a>:</h4>
<p>Hi,<br>
I agree and I was able to setup an instance...<br>
However, for a learning purpose I wish I had manage to make a docker image from scratch.<br>
But this one with the docker-compose is really good, yes..<br>
Thank you again..<br>
I'm testing it before I setup a real production chat server...</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>