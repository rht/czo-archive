<html>
<head><meta charset="utf-8"><title>Postgress upgrade instructions · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html">Postgress upgrade instructions</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1573897"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1573897" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1573897">(May 22 2023 at 02:10)</a>:</h4>
<p>Noticed there is a link from latest beta 7: <a href="https://github.com/zulip/zulip/blob/production/upgrade.md">https://github.com/zulip/zulip/blob/production/upgrade.md</a> yet is a deadend.</p>



<a name="1573900"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1573900" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1573900">(May 22 2023 at 02:41)</a>:</h4>
<p>Anyhow I will wait with the upgrade to 7.x since my first attempt failes in style :)</p>



<a name="1573901"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1573901" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1573901">(May 22 2023 at 02:42)</a>:</h4>
<p>I was already on Postgress 13, so that should do according to docs, yet still failed due to some DB isssues.</p>



<a name="1573902"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1573902" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1573902">(May 22 2023 at 02:42)</a>:</h4>
<p>Just restoring now a backup snapshot.</p>



<a name="1574103"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1574103" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1574103">(May 22 2023 at 16:57)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> can you post what error you got trying to upgrade postgres?</p>



<a name="1574246"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1574246" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1574246">(May 22 2023 at 19:07)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> well it was a bit more than that. In fact It managed to update postgress yet I tried then to do also a ubuntu release upgrade and to upgrade zulip to version 7.1. All failed I do not have the errors anymore because I had to restore the machine to avoid more downtime.</p>



<a name="1574248"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1574248" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1574248">(May 22 2023 at 19:09)</a>:</h4>
<p>Will make an attempt at it again. Yet i said will wait a bit more. I am on psql 13. The website mention i must be above 11. Yet main concern was that 2 postgresql pkgs wont upgrade anymore unless i use dist-upgrade that want to remove one existing pkg</p>



<a name="1574610"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1574610" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1574610">(May 23 2023 at 01:11)</a>:</h4>
<p>I recommend doing one upgrade at a time -- if it works, you can update your backup checkpoint and not have to do it again.</p>



<a name="1576109"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1576109" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1576109">(May 24 2023 at 21:42)</a>:</h4>
<p>I did one at a time, yet ... the upgrade from 6 to 7 failed on some db migrations premises.</p>



<a name="1577898"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1577898" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1577898">(May 26 2023 at 20:49)</a>:</h4>
<p>If you can provide the errors, then we may be able to fix them.  But it's hard to help with a bug report of "failed." <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1580869"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Postgress%20upgrade%20instructions/near/1580869" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Postgress.20upgrade.20instructions.html#1580869">(May 30 2023 at 14:28)</a>:</h4>
<p>Will try again to upgrade, and will provide logs</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>