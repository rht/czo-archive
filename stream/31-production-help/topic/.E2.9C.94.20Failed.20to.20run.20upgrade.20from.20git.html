<html>
<head><meta charset="utf-8"><title>✔ Failed to run upgrade from git · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html">✔ Failed to run upgrade from git</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1411990"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1411990" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1411990">(Jul 28 2022 at 12:52)</a>:</h4>
<p>Hi, tried to run github update today, all went fine up to: </p>
<div class="codehilite"><pre><span></span><code>Applying zerver.0401_migrate_old_realm_reactivation_links...Traceback (most recent call last):
  File &quot;./manage.py&quot;, line 151, in &lt;module&gt;
    execute_from_command_line(sys.argv)
  File &quot;./manage.py&quot;, line 116, in execute_from_command_line
    utility.execute()
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/core/management/__init__.py&quot;, line 440, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/core/management/base.py&quot;, line 414, in run_from_argv
    self.execute(*args, **cmd_options)
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/core/management/base.py&quot;, line 460, in execute
    output = self.handle(*args, **options)
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/core/management/base.py&quot;, line 98, in wrapped
    res = handle_func(*args, **kwargs)
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/core/management/commands/migrate.py&quot;, line 290, in handle
    post_migrate_state = executor.migrate(
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/db/migrations/executor.py&quot;, line 131, in migrate
    state = self._migrate_all_forwards(
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/db/migrations/executor.py&quot;, line 163, in _migrate_all_forwards
    state = self.apply_migration(
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/db/migrations/executor.py&quot;, line 248, in apply_migration
    state = migration.apply(state, schema_editor)
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/db/migrations/migration.py&quot;, line 131, in apply
    operation.database_forwards(
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/db/migrations/operations/special.py&quot;, line 193, in database_forwards
    self.code(from_state.apps, schema_editor)
  File &quot;/home/zulip/deployments/2022-07-28-12-39-59/zerver/migrations/0401_migrate_old_realm_reactivation_links.py&quot;, line 35, in fix_old_realm_reactivation_confirmations
    realm_reactivation_status_content_type = ContentType.objects.get(
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/db/models/manager.py&quot;, line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File &quot;/srv/zulip-venv-cache/db87ef6dd3d5c1514bbfb2e87ebb13abe4673d2c/zulip-py3-venv/lib/python3.8/site-packages/django/db/models/query.py&quot;, line 496, in get
    raise self.model.DoesNotExist(
__fake__.DoesNotExist: ContentType matching query does not exist.
Sentry is attempting to send 2 pending error messages
Waiting up to 10 seconds
Press Ctrl-C to quit
2022-07-28 12:50:33.564 WARN [urllib3.connectionpool] Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by &#39;NewConnectionError(&#39;&lt;urllib3.connection.HTTPSConnection object at 0x7f18e6d03730&gt;: Failed to establish a new connection: [Errno 113] No route to host&#39;)&#39;: /api/4/store/
2022-07-28 12:50:36.635 WARN [urllib3.connectionpool] Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by &#39;NewConnectionError(&#39;&lt;urllib3.connection.HTTPSConnection object at 0x7f18e6aec4f0&gt;: Failed to establish a new connection: [Errno 113] No route to host&#39;)&#39;: /api/4/store/
2022-07-28 12:50:39.708 WARN [urllib3.connectionpool] Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by &#39;NewConnectionError(&#39;&lt;urllib3.connection.HTTPSConnection object at 0x7f18e6d03dc0&gt;: Failed to establish a new connection: [Errno 113] No route to host&#39;)&#39;: /api/4/store/
Traceback (most recent call last):
  File &quot;/home/zulip/deployments/2022-07-28-12-39-59/scripts/lib/upgrade-zulip-stage-2&quot;, line 454, in &lt;module&gt;
    subprocess.check_call(
  File &quot;/usr/lib/python3.8/subprocess.py&quot;, line 364, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command &#39;[&#39;./manage.py&#39;, &#39;migrate&#39;, &#39;--noinput&#39;, &#39;--skip-checks&#39;]&#39; returned non-zero exit status 1.

Zulip upgrade failed (exit code 1)!

The upgrade process is designed to be idempotent, so you can retry after resolving whatever issue caused the failure (there should be a traceback above). A log of this installation is available in /var/log/zulip/upgrade.log
</code></pre></div>



<a name="1411997"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1411997" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1411997">(Jul 28 2022 at 13:50)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> Ah, thanks for reporting, that should be an easy fix. Could you check in <code>manage.py shell</code> the output of these?</p>
<div class="codehilite"><pre><span></span><code>from confirmation.models import Confirmation
Confirmation.objects.filter(type=Confirmation.REALM_REACTIVATION)
</code></pre></div>
<p>and</p>
<div class="codehilite"><pre><span></span><code>from confirmation.models import ContentType
ContentType.objects.filter(app_label=&quot;zerver&quot;).values(&quot;id&quot;,  &quot;model&quot;)
</code></pre></div>
<p>That'll help verify if my idea for fixing this is right</p>



<a name="1411998"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1411998" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1411998">(Jul 28 2022 at 13:53)</a>:</h4>
<p>Sure let me give it a go, meanwhile I restored a older backup, should I try to run the above mentioned ?</p>



<a name="1412000"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412000" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412000">(Jul 28 2022 at 13:56)</a>:</h4>
<p>Yup, sure! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1412004"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412004" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412004">(Jul 28 2022 at 14:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="10349">Mateusz Mandera</span> <a href="#narrow/stream/31-production-help/topic/Failed.20to.20run.20upgrade.20from.20git/near/1411997">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> Ah, thanks for reporting, that should be an easy fix. Could you check in <code>manage.py shell</code> the output of these?</p>
<div class="codehilite"><pre><span></span><code>from confirmation.models import Confirmation
Confirmation.objects.filter(type=Confirmation.REALM_REACTIVATION)

In [1]: from confirmation.models import Confirmation

In [2]: Confirmation.objects.filter(type=Confirmation.REALM_REACTIVATION)
Out[2]: &lt;QuerySet []&gt;
</code></pre></div>
<p>and</p>
<div class="codehilite"><pre><span></span><code>from confirmation.models import ContentType
ContentType.objects.filter(app_label=&quot;zerver&quot;).values(&quot;id&quot;,  &quot;model&quot;)

In [3]: from confirmation.models import ContentType
   ...: ContentType.objects.filter(app_label=&quot;zerver&quot;).values(&quot;id&quot;,  &quot;model&quot;)
   ...:
Out[3]: &lt;QuerySet [{&#39;id&#39;: 7, &#39;model&#39;: &#39;userprofile&#39;}, {&#39;id&#39;: 8, &#39;model&#39;: &#39;client&#39;}, {&#39;id&#39;: 9, &#39;model&#39;: &#39;defaultstream&#39;}, {&#39;id&#39;: 10, &#39;model&#39;: &#39;huddle&#39;}, {&#39;id&#39;: 11, &#39;model&#39;: &#39;message&#39;}, {&#39;id&#39;: 12, &#39;model&#39;: &#39;preregistrationuser&#39;}, {&#39;id&#39;: 13, &#39;model&#39;: &#39;pushdevicetoken&#39;}, {&#39;id&#39;: 14, &#39;model&#39;: &#39;realm&#39;}, {&#39;id&#39;: 15, &#39;model&#39;: &#39;realmemoji&#39;}, {&#39;id&#39;: 16, &#39;model&#39;: &#39;realmfilter&#39;}, {&#39;id&#39;: 17, &#39;model&#39;: &#39;recipient&#39;}, {&#39;id&#39;: 18, &#39;model&#39;: &#39;stream&#39;}, {&#39;id&#39;: 19, &#39;model&#39;: &#39;subscription&#39;}, {&#39;id&#39;: 20, &#39;model&#39;: &#39;useractivity&#39;}, {&#39;id&#39;: 21, &#39;model&#39;: &#39;useractivityinterval&#39;}, {&#39;id&#39;: 22, &#39;model&#39;: &#39;usermessage&#39;}, {&#39;id&#39;: 23, &#39;model&#39;: &#39;userpresence&#39;}, {&#39;id&#39;: 24, &#39;model&#39;: &#39;attachment&#39;}, {&#39;id&#39;: 25, &#39;model&#39;: &#39;reaction&#39;}, {&#39;id&#39;: 26, &#39;model&#39;: &#39;emailchangestatus&#39;}, &#39;...(remaining elements truncated)...&#39;]&gt;
</code></pre></div>
<p>That'll help verify if my idea for fixing this is right</p>
</blockquote>



<a name="1412008"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412008" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412008">(Jul 28 2022 at 14:04)</a>:</h4>
<p>Thats what I get</p>



<a name="1412013"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412013" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412013">(Jul 28 2022 at 14:14)</a>:</h4>
<p>Okay, thanks! Hmm, I'm actually quite confused because I just tried upgrading on a similar production server with empty <code> Confirmation.objects.filter(type=Confirmation.REALM_REACTIVATION)</code>, where I expected to reproduce the bug you ran into, but the migration actually succeeds. Not sure why the <code>ContentType</code> is missing in your case <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span>  But  the solution to fix the migration is clear anyway, so I'll open a PR - and this mystery can be solved later perhaps</p>



<a name="1412016"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412016" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412016">(Jul 28 2022 at 14:25)</a>:</h4>
<p>Opened <a href="https://github.com/zulip/zulip/pull/22610">#22610</a></p>



<a name="1412032"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412032" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412032">(Jul 28 2022 at 14:57)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="10349">@Mateusz Mandera</span></p>



<a name="1412208"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412208" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412208">(Jul 28 2022 at 18:06)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> that PR is merged.</p>



<a name="1412210"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412210" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412210">(Jul 28 2022 at 18:07)</a>:</h4>
<p>I'm pretty sure the <code>ContentType</code> will only exist if an actual object has been created in it -- I'm pretty sure there's no migration to create <code>ContentType</code> objects when adding new confirmation types.</p>



<a name="1412227"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412227" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412227">(Jul 28 2022 at 18:15)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> will give it a try again later on</p>



<a name="1412293"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412293" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412293">(Jul 28 2022 at 19:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Failed.20to.20run.20upgrade.20from.20git/near/1412210">said</a>:</p>
<blockquote>
<p>I'm pretty sure the <code>ContentType</code> will only exist if an actual object has been created in it -- I'm pretty sure there's no migration to create <code>ContentType</code> objects when adding new confirmation types.</p>
</blockquote>
<p>I'll re-post my comment from the PR here, since it's closed now:</p>
<blockquote>
<p>That was my theory, but then I upgraded my server without  such objects (like the user in the thread) and the migration succeeded anyway - and the <code>ContentType</code> does exist:</p>
<div class="codehilite"><pre><span></span><code>In [8]: ContentType.objects.get(
   ...:         model=&quot;realmreactivationstatus&quot;, app_label=&quot;zerver&quot;
   ...:     )
Out[8]: &lt;ContentType: zerver | realm reactivation status&gt;

In [9]: Confirmation.objects.exists()
Out[9]: False

In [10]: RealmReactivationStatus.objects.exists()
Out[10]: False
</code></pre></div>
<p>so why it's different between my server vs the user's is a mystery to me</p>
</blockquote>



<a name="1412295"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1412295" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1412295">(Jul 28 2022 at 19:26)</a>:</h4>
<p>Perhaps checking <code>ContentType</code> status and testing creating of a realm reactivation link on <span class="user-mention silent" data-user-id="20576">Cosmic Sound</span>'s server post-upgrade would reveal some hints</p>



<a name="1413868"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1413868" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1413868">(Aug 01 2022 at 19:14)</a>:</h4>
<p>Should I try an upgrade now again?</p>



<a name="1413869"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1413869" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1413869">(Aug 01 2022 at 19:14)</a>:</h4>
<p>Yep!</p>



<a name="1413900"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1413900" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1413900">(Aug 01 2022 at 20:02)</a>:</h4>
<p>Done!<br>
Worked like a charm!</p>



<a name="1413902"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1413902" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1413902">(Aug 01 2022 at 20:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> has marked this topic as resolved.</p>



<a name="1414246"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1414246" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1414246">(Aug 02 2022 at 19:30)</a>:</h4>
<p>Great!</p>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> Would you be up for helping with a bit of debugging by running some more stuff in <code>manage.py shell</code>, so that maybe we can manage to figure out what was up with the <code>ContentType</code> object missing error during the upgrade? (and whether it's set up correctly now)</p>



<a name="1414479"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1414479" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1414479">(Aug 03 2022 at 12:01)</a>:</h4>
<p><span class="user-mention" data-user-id="10349">@Mateusz Mandera</span> would it still work after upgrade was done? In that case tell me what to run to help debug this more.</p>



<a name="1414551"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1414551" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1414551">(Aug 03 2022 at 16:44)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> Yup, checking the post-upgrade situation is exactly what we need <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> We could start by checking if 1. The ContentType has been created now and if 2. Creation of a realm reactivation link works by running in <code>manage.py shell</code>:</p>
<div class="codehilite"><pre><span></span><code>from confirmation.models import ContentType, Confirmation, create_confirmation_link

ContentType.objects.filter(
    model=&quot;realmreactivationstatus&quot;, app_label=&quot;zerver&quot;
).exists()

realm = get_realm(&quot;yoursubdomain&quot;)  # use empty string &quot;&quot; if the realm is on the root domain
obj = RealmReactivationStatus.objects.create(realm=realm)

create_confirmation_link(obj, Confirmation.REALM_REACTIVATION)
</code></pre></div>
<p>Perhaps don't click the link (and censor it when posting the output here) - although clicking it shouldn't do anything problematic.</p>



<a name="1415080"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415080" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415080">(Aug 04 2022 at 14:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="10349">Mateusz Mandera</span> <a href="#narrow/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git/near/1414551">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> Yup, checking the post-upgrade situation is exactly what we need <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> We could start by checking if 1. The ContentType has been created now and if 2. Creation of a realm reactivation link works by running in <code>manage.py shell</code>:</p>
<div class="codehilite"><pre><span></span><code>from confirmation.models import ContentType, Confirmation, create_confirmation_link

ContentType.objects.filter(
    model=&quot;realmreactivationstatus&quot;, app_label=&quot;zerver&quot;
).exists()

realm = get_realm(&quot;yoursubdomain&quot;)  # use empty string &quot;&quot; if the realm is on the root domain
obj = RealmReactivationStatus.objects.create(realm=realm)

create_confirmation_link(obj, Confirmation.REALM_REACTIVATION)
</code></pre></div>
<p>Perhaps don't click the link (and censor it when posting the output here) - although clicking it shouldn't do anything problematic.</p>
</blockquote>
<p>We got </p>
<div class="codehilite" data-code-language="Python"><pre><span></span><code><span class="n">Input</span> <span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">cell</span> <span class="n">line</span><span class="p">:</span> <span class="mi">7</span><span class="o">&gt;</span><span class="p">()</span>
      <span class="mi">1</span> <span class="kn">from</span> <span class="nn">confirmation.models</span> <span class="kn">import</span> <span class="n">ContentType</span><span class="p">,</span> <span class="n">Confirmation</span><span class="p">,</span> <span class="n">create_confirmation_link</span>
      <span class="mi">3</span> <span class="n">ContentType</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
      <span class="mi">4</span>     <span class="n">model</span><span class="o">=</span><span class="s2">"realmreactivationstatus"</span><span class="p">,</span> <span class="n">app_label</span><span class="o">=</span><span class="s2">"zerver"</span>
      <span class="mi">5</span> <span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">7</span> <span class="n">realm</span> <span class="o">=</span> <span class="n">get_realm</span><span class="p">(</span><span class="s2">"yoursubdomain"</span><span class="p">)</span>  <span class="c1"># use empty string "" if the realm is on the root domain</span>
      <span class="mi">8</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">RealmReactivationStatus</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">realm</span><span class="o">=</span><span class="n">realm</span><span class="p">)</span>
     <span class="mi">10</span> <span class="n">create_confirmation_link</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Confirmation</span><span class="o">.</span><span class="n">REALM_REACTIVATION</span><span class="p">)</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">deployments</span><span class="o">/</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">19</span><span class="o">-</span><span class="mi">55</span><span class="o">-</span><span class="mi">31</span><span class="o">/</span><span class="n">zerver</span><span class="o">/</span><span class="n">models</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1008</span><span class="p">,</span> <span class="ow">in</span> <span class="n">get_realm</span><span class="p">(</span><span class="n">string_id</span><span class="p">)</span>
   <span class="mi">1007</span> <span class="k">def</span> <span class="nf">get_realm</span><span class="p">(</span><span class="n">string_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Realm</span><span class="p">:</span>
<span class="o">-&gt;</span> <span class="mi">1008</span>     <span class="k">return</span> <span class="n">Realm</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">string_id</span><span class="o">=</span><span class="n">string_id</span><span class="p">)</span>

<span class="n">File</span> <span class="o">/</span><span class="n">srv</span><span class="o">/</span><span class="n">zulip</span><span class="o">-</span><span class="n">venv</span><span class="o">-</span><span class="n">cache</span><span class="o">/</span><span class="n">b9b6b1e1f9bff55507160d19f5d4e646428ecb02</span><span class="o">/</span><span class="n">zulip</span><span class="o">-</span><span class="n">py3</span><span class="o">-</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">django</span><span class="o">/</span><span class="n">db</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">manager</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">85</span><span class="p">,</span> <span class="ow">in</span> <span class="n">BaseManager</span><span class="o">.</span><span class="n">_get_queryset_methods</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">create_method</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
     <span class="mi">84</span> <span class="k">def</span> <span class="nf">manager_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="o">---&gt;</span> <span class="mi">85</span>     <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(),</span> <span class="n">name</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="n">File</span> <span class="o">/</span><span class="n">srv</span><span class="o">/</span><span class="n">zulip</span><span class="o">-</span><span class="n">venv</span><span class="o">-</span><span class="n">cache</span><span class="o">/</span><span class="n">b9b6b1e1f9bff55507160d19f5d4e646428ecb02</span><span class="o">/</span><span class="n">zulip</span><span class="o">-</span><span class="n">py3</span><span class="o">-</span><span class="n">venv</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">django</span><span class="o">/</span><span class="n">db</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">query</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">496</span><span class="p">,</span> <span class="ow">in</span> <span class="n">QuerySet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="mi">494</span>     <span class="k">return</span> <span class="n">clone</span><span class="o">.</span><span class="n">_result_cache</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="mi">495</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">num</span><span class="p">:</span>
<span class="o">--&gt;</span> <span class="mi">496</span>     <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">(</span>
    <span class="mi">497</span>         <span class="s2">"</span><span class="si">%s</span><span class="s2"> matching query does not exist."</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">object_name</span>
    <span class="mi">498</span>     <span class="p">)</span>
    <span class="mi">499</span> <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">MultipleObjectsReturned</span><span class="p">(</span>
    <span class="mi">500</span>     <span class="s2">"get() returned more than one </span><span class="si">%s</span><span class="s2"> -- it returned </span><span class="si">%s</span><span class="s2">!"</span>
    <span class="mi">501</span>     <span class="o">%</span> <span class="p">(</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="mi">504</span>     <span class="p">)</span>
    <span class="mi">505</span> <span class="p">)</span>

<span class="n">DoesNotExist</span><span class="p">:</span> <span class="n">Realm</span> <span class="n">matching</span> <span class="n">query</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span><span class="o">.</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span>
</code></pre></div>



<a name="1415185"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415185" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415185">(Aug 04 2022 at 18:17)</a>:</h4>
<p>Oh, sorry <span class="user-mention" data-user-id="20576">@Cosmic Sound</span> I didn't explain - in that <code>get_realm("yoursubdomain")</code> line you have to put in the correct values instead of <code>yoursubdomain</code>. If you don't have a multi-realm set up i assume it's just the empty string <code>""</code>. You can confirm by checking <code>manage.py list_realm</code> (the subdomain is the same as <code>string_id</code> value)</p>



<a name="1415556"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415556" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415556">(Aug 05 2022 at 09:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="10349">Mateusz Mandera</span> <a href="#narrow/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git/near/1415185">said</a>:</p>
<blockquote>
<p>Oh, sorry <span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> I didn't explain - in that <code>get_realm("yoursubdomain")</code> line you have to put in the correct values instead of <code>yoursubdomain</code>. If you don't have a multi-realm set up i assume it's just the empty string <code>""</code>. You can confirm by checking <code>manage.py list_realm</code> (the subdomain is the same as <code>string_id</code> value)</p>
</blockquote>
<p>I got this</p>
<div class="codehilite"><pre><span></span><code>root@chat:/home/ubuntu# su zulip -c &#39;/home/zulip/deployments/current/manage.py list_realms&#39;
System check identified some issues:

WARNINGS:
?: (staticfiles.W004) The directory &#39;static/&#39; in the STATICFILES_DIRS setting does not exist.
id    string_id            name                           domain
--    ---------            ----                           ------
4     &#39;&#39;                   UHL Concierge Services         https://chat.uhlhosting.ch
1     zulipinternal        System bot realm               https://zulipinternal.chat.uhlhosting.ch
root@chat:/home/ubuntu#
</code></pre></div>



<a name="1415557"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415557" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415557">(Aug 05 2022 at 09:47)</a>:</h4>
<p><span class="user-mention" data-user-id="10349">@Mateusz Mandera</span> this is what we look for I suppose: </p>
<div class="codehilite" data-code-language="Python"><pre><span></span><code><span class="n">Successfully</span> <span class="n">imported</span> <span class="n">Zulip</span> <span class="n">settings</span><span class="p">,</span> <span class="n">models</span><span class="p">,</span> <span class="ow">and</span> <span class="n">actions</span> <span class="n">functions</span><span class="o">.</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">confirmation.models</span> <span class="kn">import</span> <span class="n">ContentType</span><span class="p">,</span> <span class="n">Confirmation</span><span class="p">,</span> <span class="n">create_confirmation_link</span>
   <span class="o">...</span><span class="p">:</span>
   <span class="o">...</span><span class="p">:</span> <span class="n">ContentType</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
   <span class="o">...</span><span class="p">:</span>     <span class="n">model</span><span class="o">=</span><span class="s2">"realmreactivationstatus"</span><span class="p">,</span> <span class="n">app_label</span><span class="o">=</span><span class="s2">"zerver"</span>
   <span class="o">...</span><span class="p">:</span> <span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
   <span class="o">...</span><span class="p">:</span>
   <span class="o">...</span><span class="p">:</span> <span class="n">realm</span> <span class="o">=</span> <span class="n">get_realm</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span>  <span class="c1"># use empty string "" if the realm is on the root domain</span>
   <span class="o">...</span><span class="p">:</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">RealmReactivationStatus</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">realm</span><span class="o">=</span><span class="n">realm</span><span class="p">)</span>
   <span class="o">...</span><span class="p">:</span>
   <span class="o">...</span><span class="p">:</span> <span class="n">create_confirmation_link</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Confirmation</span><span class="o">.</span><span class="n">REALM_REACTIVATION</span><span class="p">)</span>
   <span class="o">...</span><span class="p">:</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="s1">'https://chat.uhlhosting.ch/reactivate/ndhttxpxir3oeiovtnm7alsz'</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
</code></pre></div>



<a name="1415564"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415564" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415564">(Aug 05 2022 at 10:38)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> Okay, so everything looks to be working right! So the <code>ContentType</code>  has been created at some point <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="1415565"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415565" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415565">(Aug 05 2022 at 10:40)</a>:</h4>
<p>I'd suggest deleting the reactivation link with</p>
<div class="codehilite"><pre><span></span><code>from confirmation,models import Confirmation
c = Confirmation.objects.get(confirmation_key=&quot;ndhttxpxir3oeiovtnm7alsz&quot;)
obj = c.content_object
c.delete()
obj.delete()
</code></pre></div>



<a name="1415566"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415566" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415566">(Aug 05 2022 at 10:45)</a>:</h4>
<div class="codehilite" data-code-language="Python"><pre><span></span><code><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">confirmation.models</span> <span class="kn">import</span> <span class="n">Confirmation</span>
   <span class="o">...</span><span class="p">:</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Confirmation</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">confirmation_key</span><span class="o">=</span><span class="s2">"ndhttxpxir3oeiovtnm7alsz"</span><span class="p">)</span>
   <span class="o">...</span><span class="p">:</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">content_object</span>
   <span class="o">...</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
   <span class="o">...</span><span class="p">:</span> <span class="n">obj</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="s1">'zerver.RealmReactivationStatus'</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
</code></pre></div>



<a name="1415567"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415567" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415567">(Aug 05 2022 at 10:45)</a>:</h4>
<p>Guess thats a success.</p>



<a name="1415581"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20Failed%20to%20run%20upgrade%20from%20git/near/1415581" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20Failed.20to.20run.20upgrade.20from.20git.html#1415581">(Aug 05 2022 at 12:36)</a>:</h4>
<p>Yup, looks good. Thanks for checking this!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>