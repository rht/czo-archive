<html>
<head><meta charset="utf-8"><title>upgrading zulip containers · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20zulip.20containers.html">upgrading zulip containers</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="660859"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20zulip%20containers/near/660859" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andip <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20zulip.20containers.html#660859">(Nov 13 2018 at 08:53)</a>:</h4>
<p>Hey guys,<br>
I'm having a problem now with the new version. I'm on an offline server, so i have to download images using "docker pull"  on an online-box, save images, transfer them to the offline server and then import with docker import there.<br>
My problem is that both rabbitmq and zulip are listed as "none"-images after import. </p>
<p>I suppose this is a docker-issue, but maybe someone here has had the same problem and know how to handle it?</p>
<p>cheers</p>



<a name="660860"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20zulip%20containers/near/660860" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andip <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20zulip.20containers.html#660860">(Nov 13 2018 at 08:54)</a>:</h4>
<p>i should mention that when i pull new images on the online-box, i do not have the same problem, so i suppose there's a difference in "pulling" from official repos, and importing a saved container</p>



<a name="660869"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20zulip%20containers/near/660869" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andip <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20zulip.20containers.html#660869">(Nov 13 2018 at 13:19)</a>:</h4>
<p>Never mind, fixed it.</p>



<a name="660993"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20zulip%20containers/near/660993" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20zulip.20containers.html#660993">(Nov 13 2018 at 20:39)</a>:</h4>
<p><span class="user-mention" data-user-id="9967">@andip</span> can you share what you needed to do to fix it, so that we can point other folks in a similar situation to the solution?</p>



<a name="661059"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20zulip%20containers/near/661059" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> andip <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20zulip.20containers.html#661059">(Nov 14 2018 at 05:37)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="9967">@andip</span> can you share what you needed to do to fix it, so that we can point other folks in a similar situation to the solution?</p>
</blockquote>
<p>Problem was my limited knowledge with docker (i think). When i first installed the containers, i used "docker import", that did not work with upgrading, i had to you "docker load". This is of course only an issue with offline-installs, because with online you only use "docker pull", and the rest is more or less automatic.<br>
I also used "docker pull" with no version-specification, which caused problems with docker-compose. Seems it looks for actual tags, so even though "latest" was version 1.9.0-0, i had to change the tag before it worked as intended.</p>
<p>FYI, I'm quite new to docker, so I do not give any guarantees to this way of doing it. I also did an update on the rabbitmq-container which caused issues (i tried updating all containters needed by zulip, only to find out that zulip still needed the 3.7.7-version, and not the newest 3.7.8).</p>
<p>In short, i made such a mess of things, that I could easily be the cause of many of my problems, and i might not remember exactly what caused what. What i do know of sure, is that when i finally used "docker load" (and with the right version of rabbitmq), things sorted themselves out.</p>



<a name="661386"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upgrading%20zulip%20containers/near/661386" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upgrading.20zulip.20containers.html#661386">(Nov 14 2018 at 19:16)</a>:</h4>
<p>OK, thanks for the writeup <span class="emoji emoji-1f642" title="slight smile">:slight_smile:</span></p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>