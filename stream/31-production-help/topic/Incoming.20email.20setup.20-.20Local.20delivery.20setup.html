<html>
<head><meta charset="utf-8"><title>Incoming email setup - Local delivery setup · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup.html">Incoming email setup - Local delivery setup</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1351211"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20email%20setup%20-%20Local%20delivery%20setup/near/1351211" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jcheng <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup.html#1351211">(Mar 23 2022 at 21:59)</a>:</h4>
<p>Hello,<br>
I am not sure if anyone has able to figure incoming email setup - local delivery successfully. <br>
I had added the following line to my docker-compose.yml.</p>
<div class="codehilite"><pre><span></span><code>  # Set up the following line for reply zulip message via email
  SETTING_EMAIL_GATEWAY_PATTERN: &quot;%s@abc.edu&quot;
</code></pre></div>

<p>I was able to see an email address has been generated under each stream. <br>
For example:<br>
<a href="mailto:php-dev.df69d135d86d0f43a1e9f5a4d6fbdc4b.show-sender@abc.edu">php-dev.df69d135d86d0f43a1e9f5a4d6fbdc4b.show-sender@abc.edu</a></p>
<p>However, I didn't receive any email from php-dev stream. <br>
Also, when I tried to send a message to <a href="mailto:php-dev.df69d135d86d0f43a1e9f5a4d6fbdc4b.show-sender@abc.edu">php-dev.df69d135d86d0f43a1e9f5a4d6fbdc4b.show-sender@abc.edu</a>, the message never sent to php-dev stream.</p>
<p>I think that I must miss any configuration. Otherwise, I should at least receive a copy of message from php-dev stream. <br>
I tried to following the instruction from the article below. <br>
(under sending chat message via email)<br>
<a href="https://serveradmin.ru/ustanovka-i-nastroyka-zulip/">https://serveradmin.ru/ustanovka-i-nastroyka-zulip/</a></p>
<p>Ps: I am using zulip docker container. <br>
Thank you so much. :)</p>



<a name="1351212"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20email%20setup%20-%20Local%20delivery%20setup/near/1351212" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup.html#1351212">(Mar 23 2022 at 22:04)</a>:</h4>
<p>See the instructions at <a href="https://zulip.readthedocs.io/en/stable/production/email-gateway.html">https://zulip.readthedocs.io/en/stable/production/email-gateway.html</a>.</p>



<a name="1351221"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20email%20setup%20-%20Local%20delivery%20setup/near/1351221" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jcheng <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup.html#1351221">(Mar 23 2022 at 22:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> <a href="#narrow/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup/near/1351212">said</a>:</p>
<blockquote>
<p>See the instructions at <a href="https://zulip.readthedocs.io/en/stable/production/email-gateway.html">https://zulip.readthedocs.io/en/stable/production/email-gateway.html</a>.</p>
</blockquote>
<p>Hi Anders,<br>
Thank you so much for sending me the message and the document. <br>
I did read that document. However, I am using zulip container image.<br>
I am not sure where I can add following information to docker-compose.yml.</p>
<p>puppet_classes = zulip::profile::standalone, zulip::postfix_localmail<br>
 [postfix]<br>
mailname = <a href="http://emaildomain.example.com">emaildomain.example.com</a></p>
<p>That is why I use the document from <a href="https://serveradmin.ru/ustanovka-i-nastroyka-zulip">https://serveradmin.ru/ustanovka-i-nastroyka-zulip</a>.<br>
Do you have any suggestions for me?  Thank you so much. :)</p>



<a name="1351225"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20email%20setup%20-%20Local%20delivery%20setup/near/1351225" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup.html#1351225">(Mar 23 2022 at 22:20)</a>:</h4>
<p>I’m not sure if anyone has tried to integrate incoming email with docker-zulip. You might need to use the <a href="https://github.com/zulip/docker-zulip#manual-configuration">manual configuration</a> mode.</p>



<a name="1351226"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20email%20setup%20-%20Local%20delivery%20setup/near/1351226" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jcheng <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup.html#1351226">(Mar 23 2022 at 22:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> <a href="#narrow/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup/near/1351225">said</a>:</p>
<blockquote>
<p>I’m not sure if anyone has tried to integrate incoming email with docker-zulip. You might need to use the <a href="https://github.com/zulip/docker-zulip#manual-configuration">manual configuration</a> mode.</p>
</blockquote>
<p>Okay, I can try manual configuration. <br>
After I enable manual configuration on docker-compose.yml, do I still need to restart container each time when I make changes on settings.py or zulip-secrets.conf? Or Settings.py and zulip-secrets.conf will replace docker-compose.yml completely?<br>
Thank you so much for your message again. :)</p>



<a name="1537926"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20email%20setup%20-%20Local%20delivery%20setup/near/1537926" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rahul Tripathi <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20email.20setup.20-.20Local.20delivery.20setup.html#1537926">(Mar 30 2023 at 22:46)</a>:</h4>
<p>hey guys anyone got this incoming email working.. tried local delivery but no luck</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>