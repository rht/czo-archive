<html>
<head><meta charset="utf-8"><title>LDAP wont work · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/LDAP.20wont.20work.html">LDAP wont work</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="284928"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/LDAP%20wont%20work/near/284928" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bart <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/LDAP.20wont.20work.html#284928">(Sep 20 2017 at 17:44)</a>:</h4>
<p>Hi, i configured the ldap plugin. But when i login i get a Internal error (500). If i wireshark the ldap traffic i see that i'm getting a successful bind.<br>
When i look at the error.log it says AttributeError: 'NoneType' object has no attribute 'deactivated'. I tried to initialize a domain with the generate_domain function of manage.py but that also gives an internal error</p>



<a name="284939"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/LDAP%20wont%20work/near/284939" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/LDAP.20wont.20work.html#284939">(Sep 20 2017 at 18:00)</a>:</h4>
<p><span class="user-mention" data-user-email="bartdenotte@hotmail.com" data-user-id="3446">@Bart</span> are you trying to use LDAP to create the first user?</p>



<a name="284940"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/LDAP%20wont%20work/near/284940" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/LDAP.20wont.20work.html#284940">(Sep 20 2017 at 18:00)</a>:</h4>
<p>You need to use EmailAuthBackend to create a new organization, and only after that can you use LDAP</p>



<a name="284941"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/LDAP%20wont%20work/near/284941" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/LDAP.20wont.20work.html#284941">(Sep 20 2017 at 18:00)</a>:</h4>
<p>That exception in particular is an unrelated bug that hides the actual problem, which is I think that you haven't created a Realm yet.</p>



<a name="284955"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/LDAP%20wont%20work/near/284955" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bart <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/LDAP.20wont.20work.html#284955">(Sep 20 2017 at 18:52)</a>:</h4>
<p>Hi Tim,</p>
<p>Thanks for explaining. ok will try it out</p>



<a name="285106"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/LDAP%20wont%20work/near/285106" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Umair Khan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/LDAP.20wont.20work.html#285106">(Sep 21 2017 at 04:09)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span>, this type of scenario does come up regularly. I think we should show a better error message. I can work on this.</p>



<a name="285170"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/LDAP%20wont%20work/near/285170" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/LDAP.20wont.20work.html#285170">(Sep 21 2017 at 12:30)</a>:</h4>
<p><span class="user-mention" data-user-email="umair.waheed@gmail.com" data-user-id="92">@Umair Khan</span> sounds good!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>