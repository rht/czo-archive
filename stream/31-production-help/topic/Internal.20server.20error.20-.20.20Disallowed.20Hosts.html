<html>
<head><meta charset="utf-8"><title>Internal server error -  Disallowed Hosts · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html">Internal server error -  Disallowed Hosts</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1614415"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Internal%20server%20error%20-%20%20Disallowed%20Hosts/near/1614415" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srishti Hasijani <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html#1614415">(Jul 23 2023 at 14:47)</a>:</h4>
<p>Hi,<br>
I am trying to host zulip on azure vm but I am getting Internal server error. Upon checking the server log I can see the error Disallowed Hosts<br>
Below is the screenshot for settins.py and error<br>
<a href="/user_uploads/2/3e/NhXqUJEFkjRlRB7zAcz5WkdO/zulip_prod_setting.py.png">zulip_prod_setting.py.png</a><br>
<a href="/user_uploads/2/37/HRFI-mJCS76WnTLJPmavqGQt/zulip_prod_serverlog.png">zulip_prod_serverlog.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/3e/NhXqUJEFkjRlRB7zAcz5WkdO/zulip_prod_setting.py.png" title="zulip_prod_setting.py.png"><img src="/user_uploads/2/3e/NhXqUJEFkjRlRB7zAcz5WkdO/zulip_prod_setting.py.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/37/HRFI-mJCS76WnTLJPmavqGQt/zulip_prod_serverlog.png" title="zulip_prod_serverlog.png"><img src="/user_uploads/2/37/HRFI-mJCS76WnTLJPmavqGQt/zulip_prod_serverlog.png"></a></div>



<a name="1614429"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Internal%20server%20error%20-%20%20Disallowed%20Hosts/near/1614429" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Satyam Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html#1614429">(Jul 23 2023 at 16:07)</a>:</h4>
<p><span class="user-mention" data-user-id="26059">@Srishti Hasijani</span> I think it should be <code>zulipdev.eastus...</code> in the <code>ALLOWED_HOSTS</code> instead of <code>zulip.eastus...</code>.</p>



<a name="1614447"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Internal%20server%20error%20-%20%20Disallowed%20Hosts/near/1614447" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srishti Hasijani <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html#1614447">(Jul 23 2023 at 17:31)</a>:</h4>
<p><span class="user-mention" data-user-id="26135">@Satyam Bansal</span> .. this is what i have set as domainname for my ubuntu vm in azure so ideally it is write <br>
<a href="/user_uploads/2/b2/uAfePSsPiXn1QfVnlpJ42Wxn/Screenshot-2023-07-23-182916.png">Screenshot-2023-07-23-182916.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b2/uAfePSsPiXn1QfVnlpJ42Wxn/Screenshot-2023-07-23-182916.png" title="Screenshot-2023-07-23-182916.png"><img src="/user_uploads/2/b2/uAfePSsPiXn1QfVnlpJ42Wxn/Screenshot-2023-07-23-182916.png"></a></div>



<a name="1614448"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Internal%20server%20error%20-%20%20Disallowed%20Hosts/near/1614448" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Satyam Bansal <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html#1614448">(Jul 23 2023 at 17:39)</a>:</h4>
<p>If changing the <code>ALLOWED_HOSTS</code> didn't work we might have to wait for someone else to answer this then.</p>



<a name="1614662"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Internal%20server%20error%20-%20%20Disallowed%20Hosts/near/1614662" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html#1614662">(Jul 24 2023 at 12:33)</a>:</h4>
<p><span class="user-mention" data-user-id="26059">@Srishti Hasijani</span>: I moved your other message, from <a class="stream" data-stream-id="49" href="/#narrow/stream/49-development-help">#development help</a>, to here.  Please only ask your question in one place.</p>
<p>If <code>zulip.eastus.cloudapp.azure.com</code> is what you're typing into your browser to access the host, then that's what you should set as your <code>EXTERNAL_HOST</code> (assuming you don't have a reverse proxy involved).  The <code>ALLOWED_HOSTS</code> should, in most cases (including yours, I suspect), be empty.  An IP address is never what you want in there.</p>



<a name="1614664"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Internal%20server%20error%20-%20%20Disallowed%20Hosts/near/1614664" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html#1614664">(Jul 24 2023 at 12:34)</a>:</h4>
<p>Also, to be explicit, <a href="https://zulip.readthedocs.io/en/latest/production/settings.html#making-changes">you need to restart Zulip after making changes to that file</a>.</p>



<a name="1614665"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Internal%20server%20error%20-%20%20Disallowed%20Hosts/near/1614665" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html#1614665">(Jul 24 2023 at 12:35)</a>:</h4>
<p>And please read the rest of our <a href="https://zulip.com/development-community/#community-norms">community norms</a> -- pasting code into <a href="https://zulip.com/help/code-blocks">code blocks</a> is much better than dropping in screenshots.</p>



<a name="1614914"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Internal%20server%20error%20-%20%20Disallowed%20Hosts/near/1614914" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srishti Hasijani <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Internal.20server.20error.20-.20.20Disallowed.20Hosts.html#1614914">(Jul 24 2023 at 18:57)</a>:</h4>
<p>Thank you....Its working now</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>