<html>
<head><meta charset="utf-8"><title>duplicate key issue #24222 · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/duplicate.20key.20issue.20.2324222.html">duplicate key issue #24222</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1500474"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/duplicate%20key%20issue%20%2324222/near/1500474" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/duplicate.20key.20issue.20.2324222.html#1500474">(Feb 01 2023 at 07:54)</a>:</h4>
<p>Posting <strong>creating new profil when use different browser - duplicate key value violates unique constraint</strong> <a href="https://github.com/zulip/zulip/pull/24222">#24222</a> here for visibility; see issue for details.</p>



<a name="1500622"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/duplicate%20key%20issue%20%2324222/near/1500622" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/duplicate.20key.20issue.20.2324222.html#1500622">(Feb 01 2023 at 15:46)</a>:</h4>
<p>My first guess here is case mismatch in the domain or the local part, where we check existence case-sensitively but the unique index is case-insensitive.</p>



<a name="1500863"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/duplicate%20key%20issue%20%2324222/near/1500863" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/duplicate.20key.20issue.20.2324222.html#1500863">(Feb 01 2023 at 21:06)</a>:</h4>
<p>Yeah; <span class="user-mention" data-user-id="10349">@Mateusz Mandera</span> can you take this one? It might be possible to find the bug by just tracing how we manage case in that code path, but if not, perhaps the user can share the emails with us so that we can reproduce.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>