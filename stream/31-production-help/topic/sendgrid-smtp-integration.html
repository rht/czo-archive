<html>
<head><meta charset="utf-8"><title>sendgrid-smtp-integration · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html">sendgrid-smtp-integration</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1250911"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250911" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shahzad Sherazi <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250911">(Aug 31 2021 at 10:44)</a>:</h4>
<p>Hi, I installed a zulip self hosted server on AWS. Tried to configure the sendgrid smtp but its not working. Can anyone share the working configuration or concise instructions. Thanks</p>



<a name="1250913"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250913" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shahzad Sherazi <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250913">(Aug 31 2021 at 10:52)</a>:</h4>
<p><a href="/user_uploads/2/b0/XiRQ19Rsnx92mEmu98AZTQfK/settings.py.png">settings.py.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b0/XiRQ19Rsnx92mEmu98AZTQfK/settings.py.png" title="settings.py.png"><img src="/user_uploads/2/b0/XiRQ19Rsnx92mEmu98AZTQfK/settings.py.png"></a></div>



<a name="1250914"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250914" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shahzad Sherazi <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250914">(Aug 31 2021 at 10:53)</a>:</h4>
<p>email_password in zulip-secret file has api key from sendgrid</p>



<a name="1250923"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250923" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250923">(Aug 31 2021 at 12:20)</a>:</h4>
<p><span class="user-mention" data-user-id="21325">@Shahzad Sherazi</span> What error are you getting? You can use <code>manage.py send_test_email</code> for simpler testing of this</p>



<a name="1250938"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250938" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shahzad Sherazi <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250938">(Aug 31 2021 at 12:59)</a>:</h4>
<p><span class="user-mention" data-user-id="10349">@Mateusz Mandera</span> invites are not working as emails are not landing in the destination emails. <br>
manage.py does not execute and stucks at the following output:</p>
<p>ubuntu@ip-172-31-29-80:~$ <br>
ubuntu@ip-172-31-29-80:~$ su zulip -c '/home/zulip/deployments/current/manage.py send_test_email <a href="mailto:user@example.com">user@example.com</a>'<br>
Password: <br>
If you run into any trouble, read:</p>
<p><a href="https://zulip.readthedocs.io/en/latest/production/email.html#troubleshooting">https://zulip.readthedocs.io/en/latest/production/email.html#troubleshooting</a></p>
<p>The most common error is not setting <code>ADD_TOKENS_TO_NOREPLY_ADDRESS=False</code> when<br>
using an email provider that doesn't support that feature.</p>
<p>Sending 2 test emails from:</p>
<p>* ssXXXX</p>



<a name="1250942"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250942" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250942">(Aug 31 2021 at 13:25)</a>:</h4>
<p>Hmm the output looks as if the emails were sent - did they not arrive? Could be worth checking the spam folder</p>



<a name="1250943"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250943" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250943">(Aug 31 2021 at 13:25)</a>:</h4>
<p>Also there might be some useful information on what happened on the sendgrind side</p>



<a name="1250944"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250944" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shahzad Sherazi <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250944">(Aug 31 2021 at 13:26)</a>:</h4>
<p>fixed: <br>
Instead of using TSL on port 25 using SSL on port 465 seemed to have worked</p>



<a name="1250964"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/sendgrid-smtp-integration/near/1250964" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/sendgrid-smtp-integration.html#1250964">(Aug 31 2021 at 13:55)</a>:</h4>
<p>Great!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>