<html>
<head><meta charset="utf-8"><title>popup banners · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html">popup banners</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1125995"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1125995" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Spatz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1125995">(Mar 02 2021 at 17:50)</a>:</h4>
<p>Simple question; how do I disable the "Complete the organization profile" banner from showing up on login?</p>



<a name="1126031"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126031" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126031">(Mar 02 2021 at 19:28)</a>:</h4>
<p><span class="user-mention" data-user-id="12467">@Joshua Spatz</span> that only appears for organization administrators, and I believe the best solution is to actually enter something for the organization profile.</p>



<a name="1126032"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126032" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126032">(Mar 02 2021 at 19:28)</a>:</h4>
<p>Is there a reason you don't want to do that?</p>



<a name="1126033"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126033" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126033">(Mar 02 2021 at 19:29)</a>:</h4>
<p>The organization profile appears on the organization's login page, and is used for identifying your organization in the desktop/mobile apps, so I'd expect it to be useful to complete for any organization.</p>



<a name="1126046"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126046" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Spatz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126046">(Mar 02 2021 at 19:41)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> The org profile is already set up the way we want it, but the banner keeps showing up.</p>



<a name="1126047"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126047" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Spatz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126047">(Mar 02 2021 at 19:41)</a>:</h4>
<p>We have a logo, a name, and a description set.</p>



<a name="1126058"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126058" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126058">(Mar 02 2021 at 19:47)</a>:</h4>
<p>OK, well that's probably a bug.</p>



<a name="1126060"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126060" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126060">(Mar 02 2021 at 19:48)</a>:</h4>
<p>Here's the code:</p>
<div class="codehilite" data-code-language="JavaScript"><pre><span></span><code><span class="k">export</span> <span class="kd">function</span> <span class="nx">check_profile_incomplete</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">page_params</span><span class="p">.</span><span class="nx">is_admin</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Eventually, we might also check page_params.realm_icon_source,</span>
    <span class="c1">// but it feels too aggressive to ask users to do change that</span>
    <span class="c1">// since their organization might not have a logo yet.</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="nx">page_params</span><span class="p">.</span><span class="nx">realm_description</span> <span class="o">===</span> <span class="s2">""</span> <span class="o">||</span>
        <span class="nx">page_params</span><span class="p">.</span><span class="nx">realm_description</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s2">"Organization imported from"</span><span class="p">)</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"[data-process='profile-incomplete']"</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"[data-process='profile-incomplete']"</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>



<a name="1126061"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126061" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126061">(Mar 02 2021 at 19:48)</a>:</h4>
<p>Are you sure you have a description?  Oh, or does the description start with "Organization imported from ..."?</p>



<a name="1126062"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126062" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126062">(Mar 02 2021 at 19:49)</a>:</h4>
<p>That second test is hacky -- I see why we're trying to cover "Organization imported from Slack|Mattermost|...", but it's of course reasonable to have a description starting with that before explaining something else.</p>



<a name="1126064"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126064" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126064">(Mar 02 2021 at 19:51)</a>:</h4>
<p>I think replacing that with a regex that checks for pattern like "Organization imported from [A-Za-z]+[.]" would be a reasonable check here.</p>



<a name="1126076"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126076" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Spatz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126076">(Mar 02 2021 at 20:01)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> Ah, that's it.  We still had "Organization imported from Slack" at the top of our description.  Thanks!</p>



<a name="1126122"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/popup%20banners/near/1126122" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/popup.20banners.html#1126122">(Mar 03 2021 at 00:53)</a>:</h4>
<p>OK, cool, opened <a href="https://github.com/zulip/zulip/issues/17463">https://github.com/zulip/zulip/issues/17463</a> to track this.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>