<html>
<head><meta charset="utf-8"><title>upload-domain · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upload-domain.html">upload-domain</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="774900"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upload-domain/near/774900" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upload-domain.html#774900">(Jul 31 2019 at 01:16)</a>:</h4>
<p>Hey, whats the correct way to move uploaded user content to a different domain? Its mentioned here but I can't find the process documented anywhere <a href="https://zulip.readthedocs.io/en/latest/production/security-model.html#user-uploaded-content" target="_blank" title="https://zulip.readthedocs.io/en/latest/production/security-model.html#user-uploaded-content">https://zulip.readthedocs.io/en/latest/production/security-model.html#user-uploaded-content</a></p>



<a name="775252"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upload-domain/near/775252" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upload-domain.html#775252">(Jul 31 2019 at 18:17)</a>:</h4>
<p><span class="user-mention" data-user-id="13059">@James</span> can you explain in more detail what you're trying to do?</p>



<a name="775401"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upload-domain/near/775401" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upload-domain.html#775401">(Jul 31 2019 at 23:20)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="7">@Tim Abbott</span> basically I'm reading this page <a href="https://zulip.readthedocs.io/en/stable/production/security-model.html#user-uploaded-content" target="_blank" title="https://zulip.readthedocs.io/en/stable/production/security-model.html#user-uploaded-content">here about user uploaded content</a> and it mentions</p>
<blockquote>
<p>Zulip supports user-uploaded files. Ideally they should be hosted from a separate domain from the main Zulip server to protect against various same-domain attacks</p>
</blockquote>
<p>So how do I go about serving the user-uploaded files on a separate domain in Zulip? I can't see a setting for "user-content" or anything like that, just how to punt them up to S3.</p>



<a name="775664"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upload-domain/near/775664" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upload-domain.html#775664">(Aug 01 2019 at 19:27)</a>:</h4>
<p><span class="user-mention" data-user-id="13059">@James</span> we don't have an explicit setting for that; the S3 backend should achieve whatever goals one might have from using a separate domain.  I don't think it would be super hard to add a nginx configuration option to serve uploads from a different domain from the same server, but I'd like to understand the use case before spending time on how to do that, since it's not clear to me there is a good one.</p>



<a name="775703"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/upload-domain/near/775703" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/upload-domain.html#775703">(Aug 02 2019 at 00:10)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> I'm legit just going from your security model document that suggests it so assumed there must be a way to do so in Zulip. If thats not the case maybe I wont worry about it!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>