<html>
<head><meta charset="utf-8"><title>push notification · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html">push notification</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="409728"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/409728" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#409728">(Dec 25 2017 at 22:09)</a>:</h4>
<p>Hi all,</p>
<p>Newbie here (to Zulip, not to programming).</p>
<p>I have requested push notification through the relay and configured my settings.py as per <a href="https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html" target="_blank" title="https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html">https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html</a></p>
<p>I receive desktop notifications but not android ones. I have restarted the server and hard booted the android device. Anyone else having/had this issue?</p>



<a name="409748"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/409748" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#409748">(Dec 25 2017 at 22:13)</a>:</h4>
<p>Hi!<br>
Let's see, we're definitely getting the messages from your server; copying from the logs below (with your org_id replaced with <code>c..a</code>)</p>
<div class="codehilite"><pre><span></span>/var/log/zulip/server.log:2017-12-24 22:39:53.901 INFO [zr] 159.203.164.116 POST    400   6ms (db: 2ms/2q) /api/v1/remotes/push/unregister (zulip-server:c..a via ZulipServer)
/var/log/zulip/server.log:2017-12-24 22:39:53.901 INFO [zr] status=400, data=, uid=zulip-server:c..a
/var/log/zulip/server.log:2017-12-24 22:40:17.782 INFO [zr] 159.203.164.116 POST    200  10ms (db: 3ms/6q) /api/v1/remotes/push/register (zulip-server:c..a via ZulipServer)
/var/log/zulip/server.log:2017-12-24 22:40:18.215 INFO [zr] 159.203.164.116 POST    200   9ms (db: 2ms/4q) /api/v1/remotes/push/register (zulip-server:c..a via ZulipServer)
/var/log/zulip/server.log:2017-12-25 02:45:12.248 INFO [zr] 159.203.164.116 POST    200   7ms (db: 2ms/3q) /api/v1/remotes/push/notify (zulip-server:c..a via ZulipServer)
/var/log/zulip/server.log:2017-12-25 03:19:13.043 INFO [zr] 159.203.164.116 POST    200   7ms (db: 0ms/3q) /api/v1/remotes/push/notify (zulip-server:c..a via ZulipServer)
/var/log/zulip/server.log:2017-12-25 19:44:36.222 INFO [zr] 159.203.164.116 POST    200   7ms (db: 2ms/2q) /api/v1/remotes/push/unregister (zulip-server:c..a via ZulipServer)
/var/log/zulip/server.log:2017-12-25 19:45:24.352 INFO [zr] 159.203.164.116 POST    200  10ms (db: 3ms/6q) /api/v1/remotes/push/register (zulip-server:c..a via ZulipServer)
</pre></div>



<a name="409757"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/409757" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#409757">(Dec 25 2017 at 22:19)</a>:</h4>
<p>Android (marshmallow) notifications allow everything for Zulip:</p>
<ul>
<li>Priority notifications (in do not disturb mode)</li>
<li>Icon tag</li>
<li>Display banner</li>
<li>Display on locked screen</li>
</ul>
<p>My accounts both here and on my own server have notifications turned on</p>



<a name="409761"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/409761" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#409761">(Dec 25 2017 at 22:20)</a>:</h4>
<p>BTW this is a very low priority issue. It is something my organization will probably want to have but won't be the end of the world if not.</p>



<a name="409769"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/409769" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#409769">(Dec 25 2017 at 22:26)</a>:</h4>
<p>cool. The people most familiar with the push notification bouncer are out of town at the moment, but should be back from travel in a week or so. We definitely want to fix this (if you are having this issue I expect others will as well); I'll set a reminder to ping you when they're back. Thanks for reporting!</p>



<a name="409770"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/409770" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#409770">(Dec 25 2017 at 22:26)</a>:</h4>
<p>also <span class="user-mention" data-user-email="borisyankov@gmail.com" data-user-id="284">@Boris Yankov</span> ^^ in case you have ideas</p>



<a name="409970"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/409970" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#409970">(Dec 26 2017 at 03:12)</a>:</h4>
<p>I suspect <span class="user-mention" data-user-email="kunall.gupta17@gmail.com" data-user-id="22">@Kunal Gupta</span> might be more useful on this</p>



<a name="410372"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/410372" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kunal Gupta <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#410372">(Dec 26 2017 at 14:03)</a>:</h4>
<p>It would be very useful if you could see the android adb logs, it would log as <code>New GCM received</code> if the mobile has received the notification, so in that case we can verify if the notif is reaching the phone or not?</p>



<a name="1560707"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560707" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tuho <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560707">(May 03 2023 at 07:18)</a>:</h4>
<p>Hello, I want to ask you, I have set PUSH according to this everything went OK but I still don't get PUSH <br>
I used this procedure: <br>
Uncomment the line PUSH_NOTIFICATION_BOUNCER_URL = '<a href="https://push.zulipchat.com">https://push.zulipchat.com</a>' in /etc/zulip/settings.py (i.e. remove the # at the beginning of the line) and restart the Zulip server. If you installed a Zulip server with a version older than 1.6, you will need to add this line (it will not be possible to uncomment it there).</p>
<p>If you are using Zulip 1.8.1 or later, you can run the registration command:</p>
<h1>As root:</h1>
<p>zulip -c '/home/zulip/deployments/current/manage.py register_server'</p>
<h1>Or as a zulip user, you can skip the <code>su zulip -c</code> command:</h1>



<a name="1560708"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560708" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tuho <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560708">(May 03 2023 at 07:24)</a>:</h4>
<p>how do I set it up when I have everything on my own and I don't have any push server that would send it, what can you advise me ?</p>



<a name="1560709"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560709" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tuho <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560709">(May 03 2023 at 07:36)</a>:</h4>
<p>root@testuj:~# sudo /home/zulip/deployments/current/manage.py register_server<br>
manage.py should not be run as root. Use <code>su zulip</code> to switch to the 'zulip'<br>
user before rerunning this, or use <br>
  su zulip -c '/home/zulip/deployments/current/manage.py ...'<br>
to switch users and run this as a single command.</p>



<a name="1560714"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560714" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tuho <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560714">(May 03 2023 at 08:50)</a>:</h4>
<p>I have another question about the PUSH setup, isn't it necessary to have an account registered somewhere on some PUSH server for sending PUSH?</p>



<a name="1560715"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560715" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tuho <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560715">(May 03 2023 at 08:51)</a>:</h4>
<p>Hello, I want to ask you, I have set PUSH according to this everything went OK but I still don't get PUSH<br>
I used this procedure:<br>
Uncomment the line PUSH_NOTIFICATION_BOUNCER_URL = '<a href="https://push.zulipchat.com">https://push.zulipchat.com</a>' in /etc/zulip/settings.py (i.e. remove the # at the beginning of the line) and restart the Zulip server. If you installed a Zulip server with a version older than 1.6, you will need to add this line (it will not be possible to uncomment it there).</p>
<p>If you are using Zulip 1.8.1 or later, you can run the registration command:</p>



<a name="1560818"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560818" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560818">(May 03 2023 at 13:58)</a>:</h4>
<p>3 messages were moved here from <a class="stream-topic" data-stream-id="387" href="/#narrow/stream/387-zulip-cloud/topic/push.20notification">#zulip cloud &gt; push notification</a> by <span class="user-mention silent" data-user-id="22107">Philipp Huebner</span>.</p>



<a name="1560819"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560819" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560819">(May 03 2023 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="26886">@Tuho</span>: Please only post in one place.  I've moved your other messages here.</p>



<a name="1560820"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560820" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560820">(May 03 2023 at 14:00)</a>:</h4>
<p>I see your registration in the push bouncer, so it looks like you've run that correctly.</p>
<p>How are you testing for push notifications?</p>



<a name="1560823"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560823" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560823">(May 03 2023 at 14:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="26886">Tuho</span> <a href="#narrow/stream/31-production-help/topic/push.20notification/near/1560708">said</a>:</p>
<blockquote>
<p>how do I set it up when I have everything on my own and I don't have any push server that would send it, what can you advise me ?</p>
</blockquote>
<p>Please read <a href="https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html#why-this-is-necessary">https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html#why-this-is-necessary</a> for the "why" of why we have to run the push bouncer.</p>



<a name="1560828"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560828" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tuho <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560828">(May 03 2023 at 14:15)</a>:</h4>
<p>yes everything went OK but PUSH still not coming as if it wanted to set up some account to send PUSH or something else</p>



<a name="1560836"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560836" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560836">(May 03 2023 at 14:26)</a>:</h4>
<p>I think you need to log out of Zulip on your phone and back in again.</p>



<a name="1560837"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560837" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560837">(May 03 2023 at 14:27)</a>:</h4>
<p>(this is step 3 in <a href="https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html#how-to-sign-up">https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html#how-to-sign-up</a>)</p>



<a name="1560848"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560848" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tuho <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560848">(May 03 2023 at 14:44)</a>:</h4>
<p>thank you push is already working. can I ask one more question outside of push?</p>



<a name="1560849"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560849" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560849">(May 03 2023 at 14:45)</a>:</h4>
<p>Sure.</p>



<a name="1560876"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1560876" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1560876">(May 03 2023 at 15:19)</a>:</h4>
<p>6 messages were moved from this topic to <a class="stream-topic" data-stream-id="101" href="/#narrow/stream/101-design/topic/filtered.20buddy.20list">#design &gt; filtered buddy list</a> by <span class="user-mention silent" data-user-id="12178">Alex Vandiver</span>.</p>



<a name="1579332"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/push%20notification/near/1579332" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tuho <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/push.20notification.html#1579332">(May 28 2023 at 20:33)</a>:</h4>
<p>according to this guide <a href="https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html">https://zulip.readthedocs.io/en/latest/production/mobile-push-notifications.html</a> I have everything set up and I have enabled ports 80/443 but I still don't get the push, is there anything else I need to run or configure?</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>