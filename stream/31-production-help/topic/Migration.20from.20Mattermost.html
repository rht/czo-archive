<html>
<head><meta charset="utf-8"><title>Migration from Mattermost · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html">Migration from Mattermost</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1205413"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205413" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205413">(Jun 09 2021 at 19:10)</a>:</h4>
<p>Hi I tried to follow steps here, did someone succeded because i am onpy stressed and confused by following these steps.</p>



<a name="1205414"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205414" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205414">(Jun 09 2021 at 19:10)</a>:</h4>
<p><a href="https://bitcoin.zulip.com/help/import-from-mattermost#import-into-a-self-hosted-zulip-server">https://bitcoin.zulip.com/help/import-from-mattermost#import-into-a-self-hosted-zulip-server</a></p>



<a name="1205415"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205415" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205415">(Jun 09 2021 at 19:11)</a>:</h4>
<p>the part with the subdomains and root domains and all is killer</p>



<a name="1205416"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205416" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205416">(Jun 09 2021 at 19:11)</a>:</h4>
<p>who ever wrote that is either a domain geek or never worked with a domain blurps...</p>



<a name="1205418"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205418" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205418">(Jun 09 2021 at 19:11)</a>:</h4>
<p>Can someone bring some light?</p>



<a name="1205419"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205419" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205419">(Jun 09 2021 at 19:11)</a>:</h4>
<p>And maybe guide me what and or how the import command should like to work?</p>



<a name="1205420"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205420" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205420">(Jun 09 2021 at 19:12)</a>:</h4>
<p>I speak to this line: <code>./manage.py import &lt;subdomain&gt; /home/zulip/converted_mattermost_data/&lt;team-name&gt;</code></p>



<a name="1205421"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205421" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205421">(Jun 09 2021 at 19:12)</a>:</h4>
<p><code>&lt;subdomain&gt;</code> is likely to be the empty string (<code>""</code>) unless you are trying to host multiple Zulip organizations, and <code>&lt;team-name&gt;</code> should be the name of the team within your Mattermost export that you want to import.</p>



<a name="1205422"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205422" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205422">(Jun 09 2021 at 19:12)</a>:</h4>
<p>I do not know how and or what subdomains do you reffer to.</p>



<a name="1205423"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205423" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205423">(Jun 09 2021 at 19:13)</a>:</h4>
<p>The old mattermost team?</p>



<a name="1205424"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205424" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205424">(Jun 09 2021 at 19:13)</a>:</h4>
<p>hmmm</p>



<a name="1205425"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205425" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205425">(Jun 09 2021 at 19:13)</a>:</h4>
<p>This should be mentioned in the documentation, at this point is confusing only.</p>



<a name="1205426"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205426" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205426">(Jun 09 2021 at 19:13)</a>:</h4>
<p>or rewriten...</p>



<a name="1205427"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205427" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205427">(Jun 09 2021 at 19:13)</a>:</h4>
<p>let me try</p>



<a name="1205429"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205429" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205429">(Jun 09 2021 at 19:14)</a>:</h4>
<p>tried it</p>



<a name="1205430"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205430" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205430">(Jun 09 2021 at 19:14)</a>:</h4>
<p>I said its connfusing</p>



<a name="1205431"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205431" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205431">(Jun 09 2021 at 19:14)</a>:</h4>
<p>Now I got this</p>



<a name="1205432"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205432" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205432">(Jun 09 2021 at 19:14)</a>:</h4>
<div class="codehilite"><pre><span></span><code>zulip@chat:~/deployments/current$ ./manage.py import &quot;&quot; /home/zulip/converted_mattermost_data/devops
Subdomain reserved: pass --allow-reserved-subdomain to use.
zulip@chat:~/deployments/current$
</code></pre></div>



<a name="1205433"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205433" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205433">(Jun 09 2021 at 19:15)</a>:</h4>
<p>Why is reserved?</p>



<a name="1205434"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205434" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205434">(Jun 09 2021 at 19:15)</a>:</h4>
<p>I did no such reservings, what does that even mean?</p>



<a name="1205435"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205435" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205435">(Jun 09 2021 at 19:15)</a>:</h4>
<p>So yeah more confusion for someone new to Zulip, where the docs do not help much.</p>



<a name="1205437"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205437" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205437">(Jun 09 2021 at 19:15)</a>:</h4>
<p>I want to overstand how it works, not to ask daily for such simple things</p>



<a name="1205438"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205438" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205438">(Jun 09 2021 at 19:16)</a>:</h4>
<p>Thats why we have docs :D</p>



<a name="1205439"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205439" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205439">(Jun 09 2021 at 19:16)</a>:</h4>
<div class="codehilite"><pre><span></span><code>zulip@chat:~/deployments/current$ ./manage.py import &quot;&quot; /home/zulip/converted_mattermost_data/devops --allow-reserved-subdomain
Subdomain reserved: pass --allow-reserved-subdomain to use.
</code></pre></div>



<a name="1205440"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205440" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205440">(Jun 09 2021 at 19:16)</a>:</h4>
<p>Nope not really working with or without the --reserved domain...</p>



<a name="1205441"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205441" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205441">(Jun 09 2021 at 19:17)</a>:</h4>
<p>Anything I missed?</p>



<a name="1205442"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205442" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205442">(Jun 09 2021 at 19:18)</a>:</h4>
<p>I had tried all forms possible: <a href="/user_uploads/2/b9/v5Ipk7S3OjbKuXzW733hlhVq/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b9/v5Ipk7S3OjbKuXzW733hlhVq/image.png" title="image.png"><img src="/user_uploads/2/b9/v5Ipk7S3OjbKuXzW733hlhVq/image.png"></a></div>



<a name="1205445"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205445" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205445">(Jun 09 2021 at 19:20)</a>:</h4>
<p>By the way is there a way to import users too?</p>



<a name="1205447"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205447" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205447">(Jun 09 2021 at 19:20)</a>:</h4>
<p>Or just content...</p>



<a name="1205469"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205469" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205469">(Jun 09 2021 at 19:51)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> the issue there is you put <code>--allow-reserved-subdomain</code> too early; it should be after <code>import</code>.</p>



<a name="1205472"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205472" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205472">(Jun 09 2021 at 19:53)</a>:</h4>
<p>I think there's also a bug with that error message; I suspect your actual problem is something else.</p>



<a name="1205473"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205473" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205473">(Jun 09 2021 at 19:54)</a>:</h4>
<p>That error message is wrong (<a href="#narrow/stream/9-issues/topic/I.20can.20not.20change.20user.20email/near/1188632">previous discussion</a>).</p>



<a name="1205475"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205475" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205475">(Jun 09 2021 at 19:57)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/16935">#16935</a> incorrectly assumed that the only reason <code>check_subdomain_available</code> raises <code>ValidationError</code> is to indicate that the subdomain is reserved.</p>



<a name="1205476"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205476" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205476">(Jun 09 2021 at 19:58)</a>:</h4>
<p>I'm fixing the error message now, and will backport to 4.x when that's done.</p>



<a name="1205502"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205502" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205502">(Jun 09 2021 at 20:23)</a>:</h4>
<p>Fixed the error handling bug in <a href="https://github.com/zulip/zulip/commit/d041bb067449e0da291197dd0e7c87f8aa6655a9">d041bb067449e0da291197dd0e7c87f8aa6655a9</a>.</p>



<a name="1205554"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205554" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205554">(Jun 09 2021 at 21:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1205469">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> the issue there is you put <code>--allow-reserved-subdomain</code> too early; it should be after <code>import</code>.</p>
</blockquote>
<p>This has not helped much either...</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">zulip@chat:~/deployments/current$ </span>./manage.py import --allow-reserved-subdomain <span class="s2">""</span> /home/zulip/converted_mattermost_data/devops
<span class="go">Subdomain reserved: pass --allow-reserved-subdomain to use.</span>
<span class="gp">zulip@chat:~/deployments/current$</span>
</code></pre></div>



<a name="1205572"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205572" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205572">(Jun 09 2021 at 21:36)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> sorry, I should have followed up -- the actual issue is that you already have a realm at the <code>""</code> subdomain, and the import tool is giving you the wrong error message for that state.</p>



<a name="1205576"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205576" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205576">(Jun 09 2021 at 21:36)</a>:</h4>
<p>You likely don't need the <code>allow-reserved-subdomain</code> option at all -- you need to decide whether you want to delete the existing organization or do something else.</p>



<a name="1205608"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205608" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205608">(Jun 09 2021 at 22:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1205572">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> sorry, I should have followed up -- the actual issue is that you already have a realm at the <code>""</code> subdomain, and the import tool is giving you the wrong error message for that state.</p>
</blockquote>
<p>And how I solve it? I am still not sure how I import that data in.</p>



<a name="1205609"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1205609" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1205609">(Jun 09 2021 at 22:48)</a>:</h4>
<p>And by the way can I import also users, not sure this was answered.</p>



<a name="1206635"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1206635" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1206635">(Jun 10 2021 at 23:04)</a>:</h4>
<p>so what is in the end the right command? And still this question can i import somehow current users?</p>



<a name="1206636"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1206636" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1206636">(Jun 10 2021 at 23:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1205576">said</a>:</p>
<blockquote>
<p>You likely don't need the <code>allow-reserved-subdomain</code> option at all -- you need to decide whether you want to delete the existing organization or do something else.</p>
</blockquote>
<p>I am not sure I get this line, can you elaborate, what I need to do to import migrate successfully the exported mattermost data.</p>



<a name="1206637"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1206637" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1206637">(Jun 10 2021 at 23:05)</a>:</h4>
<p>What is right command?</p>



<a name="1206668"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1206668" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1206668">(Jun 11 2021 at 00:12)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> it depends on your goals.  Do you want to delete whatever you currently have?  </p>
<p>If so, you can use <code>manage.py delete_realm</code> to delete your existing organization, and then run the import tool as documented.</p>



<a name="1207583"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207583" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207583">(Jun 12 2021 at 01:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1206668">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> it depends on your goals.  Do you want to delete whatever you currently have?  </p>
<p>If so, you can use <code>manage.py delete_realm</code> to delete your existing organization, and then run the import tool as documented.</p>
</blockquote>
<p>I have these:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">zulip@chat:~/deployments/current$ </span>./manage.py list_realms
<span class="go">id    string_id            name                           domain</span>
<span class="go">--    ---------            ----                           ------</span>
<span class="go">1     zulipinternal        None                           https://zulipinternal.chat.uhl.site</span>
<span class="go">2     ''                   UHL Agency                     https://chat.uhl.site</span>
</code></pre></div>



<a name="1207585"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207585" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207585">(Jun 12 2021 at 01:03)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> yeah, so <code>./manage.py delete_realm -r ''</code>.</p>



<a name="1207586"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207586" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207586">(Jun 12 2021 at 01:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1206668">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> it depends on your goals.  Do you want to delete whatever you currently have?  </p>
<p>If so, you can use <code>manage.py delete_realm</code> to delete your existing organization, and then run the import tool as documented.</p>
</blockquote>
<p>can someone update the migration docs since that is not valid. 5 day using testing, havent managed to migrate anything.</p>



<a name="1207587"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207587" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207587">(Jun 12 2021 at 01:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1207585">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> yeah, so <code>./manage.py delete_realm -r ''</code>.</p>
</blockquote>
<p>Followed by?</p>



<a name="1207588"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207588" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207588">(Jun 12 2021 at 01:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1207585">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="20576">Cosmic Sound</span> yeah, so <code>./manage.py delete_realm -r ''</code>.</p>
</blockquote>
<p>Does not work, or I dont know the name:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">zulip@chat:~/deployments/current$ </span>./manage.py delete_realm -r <span class="s1">''</span>
<span class="go">This realm has 1 users and 0 messages.</span>

<span class="go">This command will PERMANENTLY DELETE all data for this realm.  Most use cases will be better served by scrub_realm and/or deactivate_realm.</span>
<span class="go">Type the name of the realm to confirm: ''</span>
<span class="go">Aborting!</span>
<span class="gp">zulip@chat:~/deployments/current$ </span>./manage.py delete_realm -r <span class="s1">''</span>
<span class="go">This realm has 1 users and 0 messages.</span>

<span class="go">This command will PERMANENTLY DELETE all data for this realm.  Most use cases will be better served by scrub_realm and/or deactivate_realm.</span>
<span class="go">Type the name of the realm to confirm: UHL Agency</span>
<span class="go">Aborting!</span>
<span class="gp">zulip@chat:~/deployments/current$</span>
</code></pre></div>



<a name="1207591"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207591" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207591">(Jun 12 2021 at 01:09)</a>:</h4>
<p>I think you just need to hit enter at the "Type the name" prompt -- it's expecting the empty string.  </p>
<p>Followed by running the import process.  Your issue from the beginning has just been that you'd already setup an organization on the root domain on this Zulip server, and then the import tool gave a bad error message.</p>



<a name="1207596"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207596" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207596">(Jun 12 2021 at 01:31)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span>  is there a way to migrate users? Or what exactly can be migrated?</p>



<a name="1207597"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207597" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207597">(Jun 12 2021 at 01:31)</a>:</h4>
<p>Checking the system bots.<br>
Finished importing system bots.</p>



<a name="1207598"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207598" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207598">(Jun 12 2021 at 01:35)</a>:</h4>
<p>it seems migration is done, yet i see nothing in zulip.</p>



<a name="1207599"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207599" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207599">(Jun 12 2021 at 01:35)</a>:</h4>
<p>no changes</p>



<a name="1207600"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207600" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207600">(Jun 12 2021 at 01:39)</a>:</h4>
<p>It seems it for some reason failed i get:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">Internal server error</span>
<span class="go">This Zulip server is currently experiencing some technical difficulties. Sorry about that!</span>

<span class="go">The page will reload automatically soon after service is restored.</span>

<span class="go">If you'd like, you can drop us a line to let us know what happened.</span>
</code></pre></div>



<a name="1207601"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207601" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207601">(Jun 12 2021 at 01:41)</a>:</h4>
<p>pitty migraation is not workin out of box</p>



<a name="1207602"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1207602" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1207602">(Jun 12 2021 at 01:41)</a>:</h4>
<p>would had been good experience</p>



<a name="1215089"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1215089" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1215089">(Jun 21 2021 at 10:54)</a>:</h4>
<p>Heya, is there any way to import attachments, images and stuff from mattermost? The docs say it's not supported because the mattermost exporter doesn't export it, but I was able to get it to export images and everything, so I think that's no longer the case. Thanks!</p>



<a name="1215328"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1215328" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1215328">(Jun 21 2021 at 20:02)</a>:</h4>
<p><span class="user-mention" data-user-id="20312">@Laura Hausmann</span> can you open an issue at <a href="https://github.com/zulip/zulip/issues/new">https://github.com/zulip/zulip/issues/new</a> with details?  The ideal version would include be a sample Mattermost export file with images/attachments/etc. from a test team, which we could use for testing without anyone needing to setup a Mattermost server, but even an explanation of your research on the format would be very helpful.</p>



<a name="1215329"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1215329" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1215329">(Jun 21 2021 at 20:02)</a>:</h4>
<p><span class="user-mention" data-user-id="52">@Vishnu KS</span> <span class="user-mention" data-user-id="14114">@Priyansh Garg (garg3133)</span> FYI, this might be a good small project while you're working on the data import tools.</p>



<a name="1215762"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1215762" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1215762">(Jun 22 2021 at 08:18)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> I set up a test instance and after writing a few messages and uploading images &amp; files, exported with <code>mattermost export bulk bulk_data.zip --archive --attachments</code>.</p>
<p>This is the result:  <a href="/user_uploads/2/cb/Ch_CrG93ymGJRFNcpZ15Q_Fm/bulk_data.zip">bulk_data.zip</a> </p>
<p>Is this the correct format? If yes, I will create an issue.</p>
<p>Thanks!</p>



<a name="1215999"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1215999" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1215999">(Jun 22 2021 at 16:53)</a>:</h4>
<p><span class="user-mention" data-user-id="20312">@Laura Hausmann</span> that's great, go ahead and open an issue with it.</p>



<a name="1216183"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1216183" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1216183">(Jun 22 2021 at 19:14)</a>:</h4>
<p>alright, doing that now :)</p>



<a name="1216192"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1216192" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1216192">(Jun 22 2021 at 19:18)</a>:</h4>
<p>created. <a href="https://github.com/zulip/zulip/issues/18959">https://github.com/zulip/zulip/issues/18959</a></p>



<a name="1216206"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1216206" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1216206">(Jun 22 2021 at 19:22)</a>:</h4>
<p>Thanks!</p>



<a name="1217372"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1217372" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1217372">(Jun 24 2021 at 02:32)</a>:</h4>
<p><span class="user-mention" data-user-id="20312">@Laura Hausmann</span>  how did you managed to export images and all from mattermost can you share details?</p>



<a name="1217503"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1217503" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1217503">(Jun 24 2021 at 07:52)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> the comand I used is as mentioned above, <code>mattermost export bulk bulk_data.zip --archive --attachments</code></p>



<a name="1220087"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220087" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220087">(Jun 28 2021 at 07:39)</a>:</h4>
<blockquote>
<p><code>mattermost export bulk bulk_data.zip --archive --attachments</code></p>
</blockquote>
<p><span class="user-mention" data-user-id="20312">@Laura Hausmann</span> Where did you find this command? I don't see it documented anywhere in the Mattermost docs.</p>



<a name="1220088"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220088" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220088">(Jun 28 2021 at 07:45)</a>:</h4>
<p><span class="user-mention" data-user-id="14114">@Priyansh Garg (garg3133)</span> that's because it isn't. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> <br>
I found it while looking through the source code, as well as the help function for the bulk export.<br>
The mattermost docs are hopelessly outdated and/or plain wrong</p>



<a name="1220095"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220095" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220095">(Jun 28 2021 at 08:47)</a>:</h4>
<p>Ohh, then I guess instead of replacing the old mattermost export commands in our doc, we should add this new command as a note, saying something like, "Although exporting the attachments is not yet officially supported by Mattermost as per their docs, looking at the source code of mattermost-server, we've found a way to export the attachments as well..".</p>



<a name="1220096"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220096" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220096">(Jun 28 2021 at 08:56)</a>:</h4>
<p><span class="user-mention" data-user-id="20312">@Laura Hausmann</span> Instead of exporting the data into a zip file, can't we just export it in a directory, say with the command <code>mattermost export bulk mattermost_export --attachments</code>?</p>
<p>We need to make some changes to the exported data before archiving it:</p>
<div class="codehilite"><pre><span></span><code>cd mattermost_export
mkdir -p exported_emoji/
mv import.jsonl export.json
tar --transform &#39;s|^|mattermost/|&#39; -czf export.tar.gz \
    data/ exported_emoji/ export.json
</code></pre></div>



<a name="1220097"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220097" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220097">(Jun 28 2021 at 08:57)</a>:</h4>
<p><span class="user-mention" data-user-id="14114">@Priyansh Garg (garg3133)</span> let me check what that does :D</p>



<a name="1220100"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220100" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220100">(Jun 28 2021 at 09:03)</a>:</h4>
<p>the (mattermost) installation ate itself again, dammit</p>



<a name="1220104"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220104" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220104">(Jun 28 2021 at 09:33)</a>:</h4>
<p><span class="user-mention" data-user-id="14114">@Priyansh Garg (garg3133)</span> okay, yes, the attachment export w/o archive works, but (on my test machine) only if executed in /var/opt/mattermost</p>



<a name="1220105"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220105" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220105">(Jun 28 2021 at 09:33)</a>:</h4>
<p>the full command being <code>mattermost export bulk bulk_data.json --attachments</code></p>



<a name="1220107"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220107" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220107">(Jun 28 2021 at 09:38)</a>:</h4>
<p>And the structure of export is</p>
<div class="codehilite"><pre><span></span><code>- data/
- bulk_data.json
</code></pre></div>
<p>right?</p>



<a name="1220108"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220108" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220108">(Jun 28 2021 at 09:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="14114">Priyansh Garg (garg3133)</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1220107">said</a>:</p>
<blockquote>
<p>And the structure of export is</p>
<div class="codehilite"><pre><span></span><code>- data/
- bulk_data.json
</code></pre></div>
<p>right?</p>
</blockquote>
<p>ya</p>



<a name="1220109"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220109" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220109">(Jun 28 2021 at 09:42)</a>:</h4>
<p><a href="/user_uploads/2/5/fpyQ2sFld8rNT-nSV6Mf5tkL/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/5/fpyQ2sFld8rNT-nSV6Mf5tkL/image.png" title="image.png"><img src="/user_uploads/2/5/fpyQ2sFld8rNT-nSV6Mf5tkL/image.png"></a></div>



<a name="1220110"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220110" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220110">(Jun 28 2021 at 09:57)</a>:</h4>
<p>Thanks a lot :)</p>



<a name="1220137"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1220137" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1220137">(Jun 28 2021 at 11:17)</a>:</h4>
<p>Opened <a href="https://github.com/zulip/zulip/pull/19034">#19034</a> to add the support for importing attachments from Mattermost.</p>



<a name="1222009"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1222009" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1222009">(Jun 29 2021 at 09:01)</a>:</h4>
<p>excellent, thanks!</p>



<a name="1222353"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1222353" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1222353">(Jun 29 2021 at 15:58)</a>:</h4>
<p><span class="user-mention" data-user-id="14114">@Priyansh Garg (garg3133)</span> I posted a comment with notes on how to add test coverage so that we can merge this.</p>



<a name="1223769"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1223769" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1223769">(Jul 01 2021 at 20:50)</a>:</h4>
<p>Added the test coverage for the new code.</p>



<a name="1223818"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1223818" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1223818">(Jul 01 2021 at 21:49)</a>:</h4>
<p><span class="user-mention" data-user-id="14114">@Priyansh Garg (garg3133)</span> awesome, does that mean it passes CI now?</p>



<a name="1223939"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1223939" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1223939">(Jul 02 2021 at 00:08)</a>:</h4>
<p>Hows the status on this, when can we try it?</p>



<a name="1223982"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1223982" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1223982">(Jul 02 2021 at 05:04)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> Yes, it does.</p>



<a name="1224028"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1224028" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1224028">(Jul 02 2021 at 13:13)</a>:</h4>
<p>Mattermost.. my first love before Zulip</p>



<a name="1224124"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1224124" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1224124">(Jul 02 2021 at 18:32)</a>:</h4>
<p>This was merged today <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span>.</p>



<a name="1228393"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1228393" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1228393">(Jul 09 2021 at 13:04)</a>:</h4>
<p>Hi Tim, was wondering running again the delete real and reimporting wont do the trick?</p>



<a name="1228394"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1228394" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1228394">(Jul 09 2021 at 13:05)</a>:</h4>
<p>I still havent figured out a safe way to restore my mattermost over existing restored organization</p>



<a name="1228395"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1228395" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1228395">(Jul 09 2021 at 13:05)</a>:</h4>
<p>Any help would be welcomed</p>



<a name="1228486"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1228486" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1228486">(Jul 09 2021 at 16:32)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> we don't have a tool for importing on top of an existing organization.  It's require significant development to make one.  So unless you want to fund development of such a feature, the choices you have are you either start afresh from a Mattermost export, or continue with the organization you imported (or both -- make an second organization with the attachments for when you want it).</p>



<a name="1229468"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1229468" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1229468">(Jul 12 2021 at 07:46)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> well my idea is that i do not need to keep the old organization. There is not a single guide complete steps to clean up old organizations or i dont want to redeploy all settings. I just want to replace existing content with a new import and to have attachements. Thats all</p>



<a name="1229469"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1229469" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1229469">(Jul 12 2021 at 07:46)</a>:</h4>
<p>It seems you did missunderstood me</p>



<a name="1229470"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1229470" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1229470">(Jul 12 2021 at 07:46)</a>:</h4>
<p>I dont need to keep existing content</p>



<a name="1229471"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1229471" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1229471">(Jul 12 2021 at 07:46)</a>:</h4>
<p>I need to have entire content from mattermost imported</p>



<a name="1229472"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1229472" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1229472">(Jul 12 2021 at 07:47)</a>:</h4>
<p>Wirhout conflicting</p>



<a name="1229473"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1229473" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1229473">(Jul 12 2021 at 07:47)</a>:</h4>
<p>So thats what i am looking for</p>



<a name="1229474"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1229474" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1229474">(Jul 12 2021 at 07:47)</a>:</h4>
<p>The steps to reset/remove safely and reimport safely.</p>



<a name="1232329"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1232329" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1232329">(Jul 15 2021 at 23:57)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> you can delete the existing organizations with <code>scripts/setup/postgresql-init-db</code>.  Obviously, be very careful using this command, since it deletes everything in your database.</p>



<a name="1249547"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1249547" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1249547">(Aug 24 2021 at 11:30)</a>:</h4>
<p>Heya, I found one more thing: the new mattermost export command in the documentation overwrites all attachments with 0b/nothing before/while exporting when ran inside of the official docker container. Exporting with <code>--archive</code> seems to work, though. Currently attempting to import this. The bug is on mattermost's side, but I feel like the documentation could be updated to inform users about that bug. Will report back once I get it to import the archive, with the commands that got me there. Thanks again for the new importer, though! I was able to import a large org (albeit with the empty attachments, but that's mattermost's fault)</p>



<a name="1249548"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1249548" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1249548">(Aug 24 2021 at 12:39)</a>:</h4>
<p><a href="/user_uploads/2/ef/7zMqvxtHHRWKPu7wAvVlNwDa/image.png">image.png</a> welp.</p>
<div class="message_inline_image"><a href="/user_uploads/2/ef/7zMqvxtHHRWKPu7wAvVlNwDa/image.png" title="image.png"><img src="/user_uploads/2/ef/7zMqvxtHHRWKPu7wAvVlNwDa/image.png"></a></div>



<a name="1249549"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1249549" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laura Hausmann <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1249549">(Aug 24 2021 at 12:44)</a>:</h4>
<p>okay nevermind, was an OOM error</p>



<a name="1274401"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1274401" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1274401">(Oct 30 2021 at 07:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="20312">Laura Hausmann</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1249547">said</a>:</p>
<blockquote>
<p>Heya, I found one more thing: the new mattermost export command in the documentation overwrites all attachments with 0b/nothing before/while exporting when ran inside of the official docker container. Exporting with <code>--archive</code> seems to work, though. Currently attempting to import this. The bug is on mattermost's side, but I feel like the documentation could be updated to inform users about that bug. Will report back once I get it to import the archive, with the commands that got me there. Thanks again for the new importer, though! I was able to import a large org (albeit with the empty attachments, but that's mattermost's fault)</p>
</blockquote>
<p>I have this issues when trying to export with --attachements flag on mattermost, what version you hadon mattermost at time of the export? Would be glad to manage to move on!</p>



<a name="1274812"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1274812" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1274812">(Nov 01 2021 at 18:43)</a>:</h4>
<p><span class="user-mention" data-user-id="20312">@Laura Hausmann</span> <span class="user-mention" data-user-id="20576">@Cosmic Sound</span> have either of you reported this big to Mattermost?</p>



<a name="1274813"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1274813" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1274813">(Nov 01 2021 at 18:43)</a>:</h4>
<p>Ideally we'd be able to link to the bug with their export attachment exporting.</p>



<a name="1274814"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1274814" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1274814">(Nov 01 2021 at 18:44)</a>:</h4>
<p>(I guess in the meantime, should we just change our documentation to recommend <code>--archive</code>?)</p>



<a name="1274829"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1274829" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1274829">(Nov 01 2021 at 18:50)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> I clearly had not, i am too dissapointed in their present even disturbed, so I would preffer not to even try, not sure about <span class="user-mention" data-user-id="20312">@Laura Hausmann</span> what she thinks, I am still confused how that she managed to get it working for her, guess she had a version that had this working.</p>



<a name="1285672"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1285672" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krešimir Bojčić <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1285672">(Nov 23 2021 at 10:07)</a>:</h4>
<p>Hello guys. Great work on Zulip. I really love it so far. Having some issues with importing attachments/images.  So it I put "data" folder in mattermost folder is "convert_mattermost_data" command preparing attachments for import? I am asking as my attachment.json is empty after this command and I don't see it in imported messages. So I am not sure where to put mattermost data folder, but it looks in source code like it should work. From what I see, importer is than supposed to put this to "uploads" table to make it work.</p>
<p><a href="/user_uploads/2/63/Sa5R3Pt6MGaqVYmeGtJQT6V8/Screenshot-2021-11-23-at-11.04.56.png">Screenshot-2021-11-23-at-11.04.56.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/63/Sa5R3Pt6MGaqVYmeGtJQT6V8/Screenshot-2021-11-23-at-11.04.56.png" title="Screenshot-2021-11-23-at-11.04.56.png"><img src="/user_uploads/2/63/Sa5R3Pt6MGaqVYmeGtJQT6V8/Screenshot-2021-11-23-at-11.04.56.png"></a></div><div class="codehilite"><pre><span></span><code>./manage.py convert_mattermost_data /home/zulip/mattermost --output /home/zulip/converted_mattermost_data
</code></pre></div>
<p>I have around 20GB of data, so it is a big hit If I am not able to transfer those over.</p>
<p>p.s. If I have only one team on MM I can get PM also? (I reorganized my Mattermost server to have one team just for this, but haven't tested it out yet).</p>



<a name="1285841"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1285841" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1285841">(Nov 23 2021 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-id="22256">@Krešimir Bojčić</span> yes, if you have only one team you'll get private messages; I think the documentation says that.</p>



<a name="1285844"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1285844" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1285844">(Nov 23 2021 at 18:29)</a>:</h4>
<p>That format for the Mattermost export directory looks correct to me.  <span class="user-mention" data-user-id="14114">@Priyansh Garg (garg3133)</span> might be able to debug why the uploaded files aren't working.  One question is whether you're using the Zulip <code>main</code> branch?</p>



<a name="1285846"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1285846" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1285846">(Nov 23 2021 at 18:30)</a>:</h4>
<p>I think it's possible we only added attachment support in the 5.0 branch.</p>



<a name="1285925"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1285925" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priyansh Garg (garg3133) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1285925">(Nov 23 2021 at 20:30)</a>:</h4>
<p>The format seems correct to me too. The problem should be with using the wrong git branch.</p>



<a name="1285940"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1285940" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1285940">(Nov 23 2021 at 21:44)</a>:</h4>
<p>Yeah, I think you're right that's the problem.  So <span class="user-mention" data-user-id="22256">@Krešimir Bojčić</span> you should do <code>upgrade-zulip-from-git main</code> and then run the import tool.</p>



<a name="1287014"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1287014" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krešimir Bojčić <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1287014">(Nov 25 2021 at 17:42)</a>:</h4>
<p>I am having issues with upgrade-zulip as I am using docker Zulip 4.7(production is CentOS so I kinda have to). I was able to export DM-s but now import data preparation is breaking with message "TypeError: 'NoneType' object is not iterable" </p>
<div class="codehilite" data-code-language="Python"><pre><span></span><code> <span class="k">def</span> <span class="nf">initialize_stream_membership_dicts</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channel_data</span><span class="p">:</span>
            <span class="n">channel_name</span> <span class="o">=</span> <span class="n">channel</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span>
            <span class="n">channel_members_map</span><span class="p">[</span><span class="n">channel_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">channel_admins_map</span><span class="p">[</span><span class="n">channel_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">username</span> <span class="ow">in</span> <span class="n">user_data_map</span><span class="p">:</span>
            <span class="n">user_dict</span> <span class="o">=</span> <span class="n">user_data_map</span><span class="p">[</span><span class="n">username</span><span class="p">]</span>
            <span class="n">teams</span> <span class="o">=</span> <span class="n">user_dict</span><span class="p">[</span><span class="s2">"teams"</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">user_dict</span><span class="p">[</span><span class="s2">"teams"</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">teams</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">team</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span> <span class="o">!=</span> <span class="n">team_name</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">team</span><span class="p">[</span><span class="s2">"channels"</span><span class="p">]:</span>
                    <span class="n">channel_roles</span> <span class="o">=</span> <span class="n">channel</span><span class="p">[</span><span class="s2">"roles"</span><span class="p">]</span>
                    <span class="n">channel_name</span> <span class="o">=</span> <span class="n">channel</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span>
                    <span class="k">if</span> <span class="s2">"channel_admin"</span> <span class="ow">in</span> <span class="n">channel_roles</span><span class="p">:</span>
                        <span class="n">channel_admins_map</span><span class="p">[</span><span class="n">channel_name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="s2">"channel_user"</span> <span class="ow">in</span> <span class="n">channel_roles</span><span class="p">:</span>
                        <span class="n">channel_members_map</span><span class="p">[</span><span class="n">channel_name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</code></pre></div>
<p>I think it's because of DM-s (did not have this issue first time around)</p>
<p><a href="/user_uploads/2/9b/yoPeJIWrHnJLydkwmYLWYZqz/Screenshot-2021-11-25-at-18.40.23.png">Screenshot-2021-11-25-at-18.40.23.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/9b/yoPeJIWrHnJLydkwmYLWYZqz/Screenshot-2021-11-25-at-18.40.23.png" title="Screenshot-2021-11-25-at-18.40.23.png"><img src="/user_uploads/2/9b/yoPeJIWrHnJLydkwmYLWYZqz/Screenshot-2021-11-25-at-18.40.23.png"></a></div><p>Bulk export was from Mattermost 5.37.2</p>



<a name="1287567"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1287567" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1287567">(Nov 28 2021 at 19:37)</a>:</h4>
<p><span class="user-mention" data-user-id="22256">@Krešimir Bojčić</span> can you explain more clearly what sequence of things you're doing?</p>



<a name="1287568"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1287568" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1287568">(Nov 28 2021 at 19:38)</a>:</h4>
<p>You can run <code>docker-zulip</code> with <code>main</code> if need be as documented for that project, and there's also not requirement that the Mattermost host be the same as the Zulip host; you can just <code>scp</code> the Mattermost export directory to your Zulip host.</p>



<a name="1287776"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1287776" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krešimir Bojčić <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1287776">(Nov 29 2021 at 09:46)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> Erorr above was for some old channel on mattermost, it went away when I cleaned up mattermost original via mm console. Then I had issues with "huddle". Import would break while trying to create same huddle twice( db constraints prevented that). What helped was me sorting channel members always in the same order and storing it as "cleaned" export.json. To be honest I still dont see "private group messages" from original in Zulip, but all other stuff, including files is there. This is amazing success in my book. Thanks for the cool product.</p>



<a name="1288111"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1288111" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1288111">(Nov 29 2021 at 23:07)</a>:</h4>
<p><span class="user-mention" data-user-id="22256">@Krešimir Bojčić</span> oh, interesting; the <code>huddle</code> issue is probably just a bug in how we handle Mattermost having two "Group direct message" conversations with the same set of people not being translated properly.  Not sure if those should become private streams or be merged.</p>



<a name="1288112"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1288112" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1288112">(Nov 29 2021 at 23:08)</a>:</h4>
<p>Yeah, that's the bug; this assumes the Mattermost data doesn't have duplicates.</p>
<div class="codehilite"><pre><span></span><code>def generate_huddle_name(huddle_members: List[str]) -&gt; str:
    # Simple hash function to generate a unique hash key for the
    # members of a huddle.  Needs to be consistent only within the
    # lifetime of export tool run, as it doesn&#39;t appear in the output.
    import hashlib

    return hashlib.md5(&quot;&quot;.join(sorted(huddle_members)).encode()).hexdigest()


def convert_huddle_data(
    huddle_data: List[ZerverFieldsT],
    user_data_map: Dict[str, Dict[str, Any]],
    subscriber_handler: SubscriberHandler,
    huddle_id_mapper: IdMapper,
    user_id_mapper: IdMapper,
    realm_id: int,
    team_name: str,
) -&gt; List[ZerverFieldsT]:

    zerver_huddle = []
    for huddle in huddle_data:
        if len(huddle[&quot;members&quot;]) &gt; 2:
            huddle_name = generate_huddle_name(huddle[&quot;members&quot;])
            huddle_id = huddle_id_mapper.get(huddle_name)
            huddle_dict = build_huddle(huddle_id)
            huddle_user_ids = set()
            for username in huddle[&quot;members&quot;]:
                huddle_user_ids.add(user_id_mapper.get(username))
            subscriber_handler.set_info(
                users=huddle_user_ids,
                huddle_id=huddle_id,
            )
            zerver_huddle.append(huddle_dict)
    return zerver_huddle
</code></pre></div>



<a name="1288113"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1288113" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1288113">(Nov 29 2021 at 23:10)</a>:</h4>
<p>Opened <a href="https://github.com/zulip/zulip/issues/20393">https://github.com/zulip/zulip/issues/20393</a> to track this bug.</p>



<a name="1288232"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1288232" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krešimir Bojčić <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1288232">(Nov 30 2021 at 06:58)</a>:</h4>
<p>I agree with your assement, my workaround went in that direction. Where do I find huddles in UI. I was assuming in private messages, but there is none there. Interestingly if I add one by hand that exists, then it shows, and history is there.</p>
<p><a href="/user_uploads/2/6a/SrxNUajiNI9lT4VCg3nT7gPx/Screenshot-2021-11-30-at-07.55.09.png">Screenshot-2021-11-30-at-07.55.09.png</a> <a href="/user_uploads/2/14/m3JoslOB0sUYNm7uQtIJxlu4/Screenshot-2021-11-30-at-07.55.30.png">Screenshot-2021-11-30-at-07.55.30.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/6a/SrxNUajiNI9lT4VCg3nT7gPx/Screenshot-2021-11-30-at-07.55.09.png" title="Screenshot-2021-11-30-at-07.55.09.png"><img src="/user_uploads/2/6a/SrxNUajiNI9lT4VCg3nT7gPx/Screenshot-2021-11-30-at-07.55.09.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/14/m3JoslOB0sUYNm7uQtIJxlu4/Screenshot-2021-11-30-at-07.55.30.png" title="Screenshot-2021-11-30-at-07.55.30.png"><img src="/user_uploads/2/14/m3JoslOB0sUYNm7uQtIJxlu4/Screenshot-2021-11-30-at-07.55.30.png"></a></div>



<a name="1288673"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1288673" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1288673">(Nov 30 2021 at 21:21)</a>:</h4>
<p><span class="user-mention" data-user-id="22256">@Krešimir Bojčić</span> it's under "Private messages" -- "Huddle" is just a non-user-visible name for a group private message with more than 2 users in the thread.</p>



<a name="1288678"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1288678" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Krešimir Bojčić <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1288678">(Nov 30 2021 at 21:23)</a>:</h4>
<p>Yes, but migrated ones are not there, unless I try to send new message to huddle group. Then it shows under private, and migrated history is there</p>



<a name="1305717"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1305717" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The One <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1305717">(Jan 06 2022 at 23:00)</a>:</h4>
<p>Hello. I know I'm probably being paranoid by asking, but I want to test migrating my mattermost data to my new zulip instance before it is live.  Can somebody confirm if the export method from mattermost in the  zulip documentation  <a href="https://zchat.peeps.dev/help/import-from-mattermost">https://zchat.peeps.dev/help/import-from-mattermost</a> will cause any issues/interruption  to  my Mattermost instance <br>
(currently in production)?</p>



<a name="1305808"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1305808" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1305808">(Jan 07 2022 at 00:07)</a>:</h4>
<p><span class="user-mention" data-user-id="22053">@The One</span> it just does a data export from Mattermost; it should have no effect on your Mattermost server.</p>



<a name="1305822"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1305822" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The One <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1305822">(Jan 07 2022 at 00:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1305808">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="22053">The One</span> it just does a data export from Mattermost; it should have no effect on your Mattermost server.</p>
</blockquote>
<p>Thanks, <span class="user-mention" data-user-id="7">@Tim Abbott</span>   So it only exports a <strong>copy</strong> of my mattermost  data, correct?</p>



<a name="1305842"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1305842" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1305842">(Jan 07 2022 at 00:31)</a>:</h4>
<p><span class="user-mention" data-user-id="22053">@The One</span> correct.</p>



<a name="1305852"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1305852" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The One <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1305852">(Jan 07 2022 at 00:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1305842">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="22053">The One</span> correct.</p>
</blockquote>
<p>Thanks, <span class="user-mention" data-user-id="7">@Tim Abbott</span> !</p>



<a name="1317391"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1317391" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The One <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1317391">(Jan 27 2022 at 23:48)</a>:</h4>
<p>Hello. I was trying to import my Mattermost data into my new Zulip instance as instructed in the zulip documentation.  However, upon running the "./manage.py import "" /home/zulip/converted_mattermost_data/&lt;team-name&gt;" and inserting the Mattermost team I would like import I get an error.  The error message reads "Subdomain unavailable. Please choose a different one.<br>
Pass --allow-reserved-subdomain to override subdomain restrictions."  I currently don't have any domains in zulip.  I even tried passing the command in the error to no avail and could not find anything in the zulip docs that might help.  Please, advise?</p>



<a name="1317465"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1317465" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1317465">(Jan 28 2022 at 01:38)</a>:</h4>
<p><span class="user-mention" data-user-id="22053">@The One</span> the most likely explanation is that you already created an organization on the root domain for your Zulip server.</p>



<a name="1317466"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1317466" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1317466">(Jan 28 2022 at 01:39)</a>:</h4>
<p>If that's because you just did a bit of testing before attempting the import, you can e.g. potentially use <code>manage.py change_realm_subdomain "" "deleted"</code> to rename that testing organization so you can give the Mattermost import the root domain.</p>



<a name="1318467"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1318467" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The One <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1318467">(Jan 29 2022 at 04:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Migration.20from.20Mattermost/near/1317465">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="22053">The One</span> the most likely explanation is that you already created an organization on the root domain for your Zulip server.</p>
</blockquote>
<p>Thanks for your response.  I thought I had done this on my test instance, but I will try again.</p>



<a name="1320860"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Migration%20from%20Mattermost/near/1320860" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The One <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Migration.20from.20Mattermost.html#1320860">(Feb 02 2022 at 01:31)</a>:</h4>
<p>Hello I'm trying to install zulip with my own internal certificate CA,  unsure what other command can I use besides "./zulip-server-*/scripts/setup/install --certbot \<br>
    --email=YOUR_EMAIL --hostname=YOUR_HOSTNAME" because this does not help install zulip after I have downloaded and installed my own internal ca successfully.  Right now my ca is located in /etc/letsencrypt/live/&lt;servername/fullchain.pem and /etc/letsencrypt/live/&lt;servername&gt;/privkey.pem"  Is there another location I should be storing these in?</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>