<html>
<head><meta charset="utf-8"><title>Upgrade from 2.0.6 failing · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html">Upgrade from 2.0.6 failing</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="802925"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802925" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802925">(Dec 16 2019 at 03:00)</a>:</h4>
<p><span class="user-mention" data-user-id="13725">@morevsky</span> Post here please <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="802926"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802926" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> morevsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802926">(Dec 16 2019 at 03:01)</a>:</h4>
<p>root@zchat:~/soft/new# su zulip -c '/home/zulip/deployments/current/manage.py showmigrations'<br>
analytics<br>
 [X] 0001_initial<br>
 [X] 0002_remove_huddlecount<br>
 [X] 0003_fillstate<br>
 [X] 0004_add_subgroup<br>
 [X] 0005_alter_field_size<br>
 [X] 0006_add_subgroup_to_unique_constraints<br>
 [X] 0007_remove_interval<br>
 [X] 0008_add_count_indexes<br>
 [X] 0009_remove_messages_to_stream_stat<br>
 [X] 0010_clear_messages_sent_values<br>
 [X] 0011_clear_analytics_tables<br>
 [X] 0012_add_on_delete<br>
 [X] 0013_remove_anomaly<br>
auth<br>
 [X] 0001_initial<br>
 [X] 0002_alter_permission_name_max_length<br>
 [X] 0003_alter_user_email_max_length<br>
 [X] 0004_alter_user_username_opts<br>
 [X] 0005_alter_user_last_login_null<br>
 [X] 0006_require_contenttypes_0002<br>
 [X] 0007_alter_validators_add_error_messages<br>
 [X] 0008_alter_user_username_max_length<br>
confirmation<br>
 [X] 0001_initial<br>
 [X] 0002_realmcreationkey<br>
 [X] 0003_emailchangeconfirmation<br>
 [X] 0004_remove_confirmationmanager<br>
 [X] 0005_confirmation_realm<br>
 [X] 0006_realmcreationkey_presume_email_valid<br>
contenttypes<br>
 [X] 0001_initial<br>
 [X] 0002_remove_content_type_name<br>
otp_static<br>
 [X] 0001_initial<br>
otp_totp<br>
 [X] 0001_initial<br>
sessions<br>
 [X] 0001_initial<br>
social_django<br>
 [X] 0001_initial (2 squashed migrations)<br>
 [X] 0002_add_related_name (2 squashed migrations)<br>
 [X] 0003_alter_email_max_length (2 squashed migrations)<br>
 [X] 0004_auto_20160423_0400 (2 squashed migrations)<br>
 [X] 0005_auto_20160727_2333 (1 squashed migrations)<br>
 [X] 0006_partial<br>
 [X] 0007_code_timestamp<br>
 [X] 0008_partial_timestamp<br>
two_factor<br>
 [X] 0001_initial<br>
 [X] 0002_auto_20150110_0810<br>
 [X] 0003_auto_20150817_1733<br>
 [X] 0004_auto_20160205_1827<br>
 [X] 0005_auto_20160224_0450<br>
zerver<br>
 [X] 0001_initial<br>
 [X] 0029_realm_subdomain<br>
 [X] 0030_realm_org_type<br>
 [X] 0031_remove_system_avatar_source<br>
 [X] 0032_verify_all_medium_avatar_images<br>
 [X] 0033_migrate_domain_to_realmalias<br>
 [X] 0034_userprofile_enable_online_push_notifications<br>
 [X] 0035_realm_message_retention_period_days<br>
 [X] 0036_rename_subdomain_to_string_id<br>
 [X] 0037_disallow_null_string_id<br>
 [X] 0038_realm_change_to_community_defaults<br>
 [X] 0039_realmalias_drop_uniqueness<br>
 [X] 0040_realm_authentication_methods<br>
 [X] 0041_create_attachments_for_old_messages<br>
 [X] 0042_attachment_file_name_length<br>
 [X] 0043_realm_filter_validators<br>
 [X] 0044_reaction<br>
 [X] 0045_realm_waiting_period_threshold<br>
 [X] 0046_realmemoji_author<br>
 [X] 0047_realm_add_emoji_by_admins_only<br>
 [X] 0048_enter_sends_default_to_false<br>
 [X] 0049_userprofile_pm_content_in_desktop_notifications<br>
 [X] 0050_userprofile_avatar_version<br>
 [X] 0051_realmalias_add_allow_subdomains<br>
 [X] 0052_auto_fix_realmalias_realm_nullable<br>
 [X] 0053_emailchangestatus<br>
 [X] 0054_realm_icon<br>
 [X] 0055_attachment_size<br>
 [X] 0056_userprofile_emoji_alt_code<br>
 [X] 0057_realmauditlog<br>
 [X] 0058_realm_email_changes_disabled<br>
 [X] 0059_userprofile_quota<br>
 [X] 0060_move_avatars_to_be_uid_based<br>
 [X] 0061_userprofile_timezone<br>
 [X] 0062_default_timezone<br>
 [X] 0063_realm_description<br>
 [X] 0064_sync_uploads_filesize_with_db<br>
 [X] 0065_realm_inline_image_preview<br>
 [X] 0066_realm_inline_url_embed_preview<br>
 [X] 0067_archived_models<br>
 [X] 0068_remove_realm_domain<br>
 [X] 0069_realmauditlog_extra_data<br>
 [X] 0070_userhotspot<br>
 [X] 0071_rename_realmalias_to_realmdomain<br>
 [X] 0072_realmauditlog_add_index_event_time<br>
 [X] 0073_custom_profile_fields<br>
 [X] 0074_fix_duplicate_attachments<br>
 [X] 0075_attachment_path_id_unique<br>
 [X] 0076_userprofile_emojiset<br>
 [X] 0077_add_file_name_field_to_realm_emoji<br>
 [X] 0078_service<br>
 [X] 0079_remove_old_scheduled_jobs<br>
 [X] 0080_realm_description_length<br>
 [X] 0081_make_emoji_lowercase<br>
 [X] 0082_index_starred_user_messages<br>
 [X] 0083_index_mentioned_user_messages<br>
 [X] 0084_realmemoji_deactivated<br>
 [X] 0085_fix_bots_with_none_bot_type<br>
 [X] 0086_realm_alter_default_org_type<br>
 [X] 0087_remove_old_scheduled_jobs<br>
 [X] 0088_remove_referral_and_invites<br>
 [X] 0089_auto_20170710_1353<br>
 [X] 0090_userprofile_high_contrast_mode<br>
 [X] 0091_realm_allow_edit_history<br>
 [X] 0092_create_scheduledemail<br>
 [X] 0093_subscription_event_log_backfill<br>
 [X] 0094_realm_filter_url_validator<br>
 [X] 0095_index_unread_user_messages<br>
 [X] 0096_add_password_required<br>
 [X] 0097_reactions_emoji_code<br>
 [X] 0098_index_has_alert_word_user_messages<br>
 [X] 0099_index_wildcard_mentioned_user_messages<br>
 [X] 0100_usermessage_remove_is_me_message<br>
 [X] 0101_muted_topic<br>
 [X] 0102_convert_muted_topic<br>
 [X] 0103_remove_userprofile_muted_topics<br>
 [X] 0104_fix_unreads<br>
 [X] 0105_userprofile_enable_stream_push_notifications<br>
 [X] 0106_subscription_push_notifications<br>
 [X] 0107_multiuseinvite<br>
 [X] 0108_fix_default_string_id<br>
 [X] 0109_mark_tutorial_status_finished<br>
 [X] 0110_stream_is_in_zephyr_realm<br>
 [X] 0111_botuserstatedata<br>
 [X] 0112_index_muted_topics<br>
 [X] 0113_default_stream_group<br>
 [X] 0114_preregistrationuser_invited_as_admin<br>
 [X] 0115_user_groups<br>
 [X] 0116_realm_allow_message_deleting<br>
 [X] 0117_add_desc_to_user_group<br>
 [X] 0118_defaultstreamgroup_description<br>
 [X] 0119_userprofile_night_mode<br>
 [X] 0120_botuserconfigdata<br>
 [X] 0121_realm_signup_notifications_stream<br>
 [X] 0122_rename_botuserstatedata_botstoragedata<br>
 [X] 0123_userprofile_make_realm_email_pair_unique<br>
 [X] 0124_stream_enable_notifications<br>
 [X] 0125_realm_max_invites<br>
 [X] 0126_prereg_remove_users_without_realm<br>
 [X] 0127_disallow_chars_in_stream_and_user_name<br>
 [X] 0128_scheduledemail_realm<br>
 [X] 0129_remove_userprofile_autoscroll_forever<br>
 [X] 0130_text_choice_in_emojiset<br>
 [X] 0131_realm_create_generic_bot_by_admins_only<br>
 [X] 0132_realm_message_visibility_limit<br>
 [X] 0133_rename_botuserconfigdata_botconfigdata<br>
 [X] 0134_scheduledmessage<br>
 [X] 0135_scheduledmessage_delivery_type<br>
 [X] 0136_remove_userprofile_quota<br>
 [X] 0137_realm_upload_quota_gb<br>
 [X] 0138_userprofile_realm_name_in_notifications<br>
 [X] 0139_fill_last_message_id_in_subscription_logs<br>
 [X] 0140_realm_send_welcome_emails<br>
 [X] 0141_change_usergroup_description_to_textfield<br>
 [X] 0142_userprofile_translate_emoticons<br>
 [X] 0143_realm_bot_creation_policy<br>
 [X] 0144_remove_realm_create_generic_bot_by_admins_only<br>
 [X] 0145_reactions_realm_emoji_name_to_id<br>
 [X] 0146_userprofile_message_content_in_email_notifications<br>
 [X] 0147_realm_disallow_disposable_email_addresses<br>
 [X] 0148_max_invites_forget_default<br>
 [X] 0149_realm_emoji_drop_unique_constraint<br>
 [X] 0150_realm_allow_community_topic_editing<br>
 [X] 0151_last_reminder_default_none<br>
 [X] 0152_realm_default_twenty_four_hour_time<br>
 [X] 0153_remove_int_float_custom_fields<br>
 [X] 0154_fix_invalid_bot_owner<br>
 [X] 0155_change_default_realm_description<br>
 [X] 0156_add_hint_to_profile_field<br>
 [X] 0157_userprofile_is_guest<br>
 [X] 0158_realm_video_chat_provider<br>
 [X] 0159_realm_google_hangouts_domain<br>
 [X] 0160_add_choice_field<br>
 [X] 0161_realm_message_content_delete_limit_seconds<br>
 [X] 0162_change_default_community_topic_editing<br>
 [X] 0163_remove_userprofile_default_desktop_notifications<br>
 [X] 0164_stream_history_public_to_subscribers<br>
 [X] 0165_add_date_to_profile_field<br>
 [X] 0166_add_url_to_profile_field<br>
 [X] 0167_custom_profile_fields_sort_order<br>
 [X] 0168_stream_is_web_public<br>
 [X] 0169_stream_is_announcement_only<br>
 [X] 0170_submessage<br>
 [X] 0171_userprofile_dense_mode<br>
 [X] 0172_add_user_type_of_custom_profile_field<br>
 [X] 0173_support_seat_based_plans<br>
 [X] 0174_userprofile_delivery_email<br>
 [X] 0175_change_realm_audit_log_event_type_tense<br>
 [X] 0176_remove_subscription_notifications<br>
 [X] 0177_user_message_add_and_index_is_private_flag<br>
 [X] 0178_rename_to_emails_restricted_to_domains<br>
 [X] 0179_rename_to_digest_emails_enabled<br>
 [X] 0180_usermessage_add_active_mobile_push_notification<br>
 [X] 0181_userprofile_change_emojiset<br>
 [X] 0182_set_initial_value_is_private_flag<br>
 [X] 0183_change_custom_field_name_max_length<br>
 [X] 0184_rename_custom_field_types<br>
 [X] 0185_realm_plan_type<br>
 [X] 0186_userprofile_starred_message_counts<br>
 [X] 0187_userprofile_is_billing_admin<br>
 [X] 0188_userprofile_enable_login_emails<br>
 [X] 0189_userprofile_add_some_emojisets<br>
 [X] 0190_cleanup_pushdevicetoken<br>
 [X] 0191_realm_seat_limit<br>
 [X] 0192_customprofilefieldvalue_rendered_value<br>
 [X] 0193_realm_email_address_visibility<br>
 [X] 0194_userprofile_notification_sound<br>
 [X] 0195_realm_first_visible_message_id<br>
 [X] 0196_add_realm_logo_fields<br>
 [X] 0197_azure_active_directory_auth<br>
 [X] 0198_preregistrationuser_invited_as<br>
 [X] 0199_userstatus<br>
 [X] 0200_remove_preregistrationuser_invited_as_admin<br>
 [X] 0201_zoom_video_chat<br>
 [X] 0202_add_user_status_info<br>
 [X] 0203_realm_message_content_allowed_in_email_notifications<br>
 [X] 0204_remove_realm_billing_fields<br>
 [X] 0205_remove_realmauditlog_requires_billing_update<br>
 [X] 0206_stream_rendered_description<br>
 [X] 0207_multiuseinvite_invited_as<br>
 [X] 0208_add_realm_night_logo_fields<br>
root@zchat:~/soft/new#</p>



<a name="802927"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802927" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802927">(Dec 16 2019 at 03:02)</a>:</h4>
<p>You're upgrading to which zulip version? Or are you just upgrading the OS?</p>



<a name="802928"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802928" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802928">(Dec 16 2019 at 03:02)</a>:</h4>
<p>Can you show the command you're running, and the full error?</p>



<a name="802929"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802929" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> morevsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802929">(Dec 16 2019 at 03:05)</a>:</h4>
<blockquote>
<p>You're upgrading to which version? Or are you just upgrading the OS?</p>
</blockquote>
<p>At first I updated the zulip on ubuntu 16.04, I got an error that I wrote about on the Github.<br>
Next, I decided to update the OS to 18.04. Updated.<br>
I decided to update the zulip and got the error we are talking about.</p>



<a name="802930"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802930" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> morevsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802930">(Dec 16 2019 at 03:06)</a>:</h4>
<p>Reading package lists... Done<br>
Building dependency tree       <br>
Reading state information... Done<br>
Calculating upgrade... Done<br>
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.<br>
2019-12-13 12:02:15,466 upgrade-zulip-stage-2: Restarting Zulip...<br>
2019-12-13 12:02:17,271 restart-server: Filling memcached caches<br>
Traceback (most recent call last):<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/backends/utils.py", line 64, in execute<br>
    return self.cursor.execute(sql, params)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zerver/lib/db.py", line 32, in execute<br>
    return wrapper_execute(self, super().execute, query, vars)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zerver/lib/db.py", line 19, in wrapper_execute<br>
    return action(sql, params)<br>
psycopg2.ProgrammingError: column zerver_userprofile.is_realm_admin does not exist<br>
LINE 1: ...le"."is_staff", "zerver_userprofile"."is_active", "zerver_us...<br>
                                                             ^</p>
<p>The above exception was the direct cause of the following exception:</p>
<p>Traceback (most recent call last):<br>
  File "./manage.py", line 46, in &lt;module&gt;<br>
    execute_from_command_line(sys.argv)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/core/management/__init__.py", line 364, in execute_from_command_line<br>
    utility.execute()<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/core/management/__init__.py", line 356, in execute<br>
    self.fetch_command(subcommand).run_from_argv(self.argv)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/core/management/base.py", line 283, in run_from_argv<br>
    self.execute(*args, **cmd_options)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/core/management/base.py", line 330, in execute<br>
    output = self.handle(*args, **options)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zerver/management/commands/fill_memcached_caches.py", line 20, in handle<br>
    fill_remote_cache(cache)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zerver/lib/cache_helpers.py", line 138, in fill_remote_cache<br>
    for obj in objects():<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/models/query.py", line 250, in __iter__<br>
    self._fetch_all()<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/models/query.py", line 1121, in _fetch_all<br>
    self._result_cache = list(self._iterable_class(self))<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/models/query.py", line 53, in __iter__<br>
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/models/sql/compiler.py", line 899, in execute_sql<br>
    raise original_exception<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/models/sql/compiler.py", line 889, in execute_sql<br>
    cursor.execute(sql, params)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/backends/utils.py", line 64, in execute<br>
    return self.cursor.execute(sql, params)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/utils.py", line 94, in __exit__<br>
    six.reraise(dj_exc_type, dj_exc_value, traceback)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/utils/six.py", line 685, in reraise<br>
    raise value.with_traceback(tb)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zulip-py3-venv/lib/python3.6/site-packages/django/db/backends/utils.py", line 64, in execute<br>
    return self.cursor.execute(sql, params)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zerver/lib/db.py", line 32, in execute<br>
    return wrapper_execute(self, super().execute, query, vars)<br>
  File "/home/zulip/deployments/2019-10-24-12-53-20/zerver/lib/db.py", line 19, in wrapper_execute<br>
    return action(sql, params)<br>
django.db.utils.ProgrammingError: column zerver_userprofile.is_realm_admin does not exist<br>
LINE 1: ...le"."is_staff", "zerver_userprofile"."is_active", "zerver_us...<br>
                                                             ^</p>
<p>Traceback (most recent call last):<br>
  File "./scripts/restart-server", line 35, in &lt;module&gt;<br>
    subprocess.check_call(["./manage.py", "fill_memcached_caches"])<br>
  File "/usr/lib/python3.6/subprocess.py", line 311, in check_call<br>
    raise CalledProcessError(retcode, cmd)<br>
subprocess.CalledProcessError: Command '['./manage.py', 'fill_memcached_caches']' returned non-zero exit status 1.<br>
Traceback (most recent call last):<br>
  File "/home/zulip/deployments/current/scripts/lib/upgrade-zulip-stage-2", line 191, in &lt;module&gt;<br>
    subprocess.check_output(["./scripts/restart-server", "--fill-cache"], preexec_fn=su_to_zulip)<br>
  File "/usr/lib/python3.6/subprocess.py", line 356, in check_output<br>
    **kwargs).stdout<br>
  File "/usr/lib/python3.6/subprocess.py", line 438, in run<br>
    output=stdout, stderr=stderr)<br>
subprocess.CalledProcessError: Command '['./scripts/restart-server', '--fill-cache']' returned non-zero exit status 1.</p>



<a name="802931"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802931" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> morevsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802931">(Dec 16 2019 at 03:06)</a>:</h4>
<p>psycopg2.ProgrammingError: column zerver_userprofile.is_realm_admin does not exist<br>
LINE 1: ...le"."is_staff", "zerver_userprofile"."is_active", "zerver_us...<br>
^</p>



<a name="802934"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802934" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802934">(Dec 16 2019 at 03:11)</a>:</h4>
<p>Have you simply upgraded the system, or followed the instructions for it at <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-from-ubuntu-16-04-xenial-to-18-04-bionic" target="_blank" title="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-from-ubuntu-16-04-xenial-to-18-04-bionic">https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-from-ubuntu-16-04-xenial-to-18-04-bionic</a> ?</p>



<a name="802935"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802935" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802935">(Dec 16 2019 at 03:12)</a>:</h4>
<p>Because things can break if the system gets upgraded without following the procedure <span aria-label="confounded" class="emoji emoji-1f616" role="img" title="confounded">:confounded:</span></p>



<a name="802936"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802936" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> morevsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802936">(Dec 16 2019 at 03:12)</a>:</h4>
<blockquote>
<p>Have you simply upgraded the system, or followed the instructions for it at <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-from-ubuntu-16-04-xenial-to-18-04-bionic" target="_blank" title="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-from-ubuntu-16-04-xenial-to-18-04-bionic">https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-from-ubuntu-16-04-xenial-to-18-04-bionic</a> ?</p>
</blockquote>
<p>yes</p>



<a name="802937"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802937" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802937">(Dec 16 2019 at 03:13)</a>:</h4>
<p>By that you mean you simply did an Ubuntu upgrade?</p>



<a name="802938"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802938" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> morevsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802938">(Dec 16 2019 at 03:15)</a>:</h4>
<p>System is upgrading normaly.<br>
root@zchat:~/soft/new# lsb_release -a<br>
No LSB modules are available.<br>
Distributor ID: Ubuntu<br>
Description:    Ubuntu 18.04.3 LTS<br>
Release:        18.04<br>
Codename:       bionic</p>



<a name="802939"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802939" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802939">(Dec 16 2019 at 03:17)</a>:</h4>
<p>The system will upgrade fine, but the zulip instance can likely break in some ways as a result of changes in package versions</p>



<a name="802940"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802940" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802940">(Dec 16 2019 at 03:19)</a>:</h4>
<p>You mentioned in a PM that it's not a production server and may be easier to just reinstall - I think that may be a reasonable approach here, because figuring out if something broke etc. would be much more troublesome than just a reinstall.</p>



<a name="802941"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802941" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> morevsky <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802941">(Dec 16 2019 at 03:46)</a>:</h4>
<blockquote>
<p>You mentioned in a PM that it's not a production server and may be easier to just reinstall - I think that may be a reasonable approach here, because figuring out if something broke etc. would be much more troublesome than just a reinstall.</p>
</blockquote>
<p>Ubuntu 18.04 is not fully supported ?</p>



<a name="802942"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Upgrade%20from%202.0.6%20failing/near/802942" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Upgrade.20from.202.2E0.2E6.20failing.html#802942">(Dec 16 2019 at 04:43)</a>:</h4>
<p>It is supported, but upgrading from 16.04 to 18.04 when you already have a server installed involves more steps, as explained in the doc I linked. If you're reinstalling though, you can just start off with a fresh Ubuntu 18.04 and install zulip there normally. <span class="user-mention" data-user-id="13725">@morevsky</span></p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>