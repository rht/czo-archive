<html>
<head><meta charset="utf-8"><title>accent custom field · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html">accent custom field</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="839811"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839811" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Szasz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839811">(Mar 25 2020 at 18:59)</a>:</h4>
<p>hi. <br>
I need to set up a custom profile field with an accented char in its name. How can I configure in the auth map a name example Beosztás?</p>



<a name="839853"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839853" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839853">(Mar 25 2020 at 19:19)</a>:</h4>
<p><span class="user-mention" data-user-id="15411">@Norbert Szasz</span> just to be clear, this in the LDAP mapping?</p>



<a name="839854"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839854" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839854">(Mar 25 2020 at 19:20)</a>:</h4>
<p>I'm not sure; I'd expect roughly just using a string with the name of the field would work, but I haven't tested.  <span class="user-mention" data-user-id="10349">@Mateusz Mandera</span> FYI, this is probably something you'll be able to help investigate pretty efficiently.</p>



<a name="839856"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839856" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Szasz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839856">(Mar 25 2020 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> Yes, sure, it is LDAP with Active Directory.</p>



<a name="839859"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839859" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839859">(Mar 25 2020 at 19:22)</a>:</h4>
<p>You should be able to try out various things and use <code>manage.py query_ldap</code> to test.  I'd start with just putting the literal field name there.</p>



<a name="839863"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839863" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Szasz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839863">(Mar 25 2020 at 19:24)</a>:</h4>
<p>The ldap side is ok, I have already synced the data to an other profile field</p>



<a name="839865"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839865" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Szasz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839865">(Mar 25 2020 at 19:25)</a>:</h4>
<p>Can I get somehow the custom field name by management console?</p>



<a name="839867"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839867" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Szasz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839867">(Mar 25 2020 at 19:29)</a>:</h4>
<p>Non working config from settings.py:<br>
AUTH_LDAP_USER_ATTR_MAP = {<br>
    # full_name is required; common values include "cn" or "displayName".<br>
    # If names are encoded in your LDAP directory as first and last<br>
    # name, you can instead specify first_name and last_name, and<br>
    # Zulip will combine those to construct a full_name automatically.<br>
    "full_name": "displayName",<br>
    # "first_name": "fn",<br>
    # "last_name": "ln",<br>
    "custom_profile_field__beosztás": "title",<br>
    "custom_profile_field__szervezeti_egyseg": "physicalDeliveryOfficeName",</p>
<div class="codehilite"><pre><span></span># Profile pictures can be pulled from the LDAP &quot;thumbnailPhoto&quot;/&quot;jpegPhoto&quot; field.
# &quot;avatar&quot;: &quot;thumbnailPhoto&quot;,

# This line is for having Zulip to automatically deactivate users
# who are disabled in LDAP/Active Directory (and reactivate users who are not).
# See docs for usage details and precise semantics.
</pre></div>


<h1>"userAccountControl": "userAccountControl",</h1>
<p>}</p>



<a name="839886"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839886" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839886">(Mar 25 2020 at 19:32)</a>:</h4>
<p>Try in a <code>manage.py shell</code>, doing </p>
<div class="codehilite"><pre><span></span>for field in CustomProfileField.objects.all():
    print(field.name)
</pre></div>



<a name="839887"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839887" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839887">(Mar 25 2020 at 19:33)</a>:</h4>
<p>The code that does this is <code>sync_custom_profile_fields_from_ldap</code> in <code>zproject/backends.py</code>; you can print-debug it.</p>



<a name="839888"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839888" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839888">(Mar 25 2020 at 19:33)</a>:</h4>
<p>After looking at it somewhat, I'm wondering if the issue could be case, not i18n?</p>



<a name="839906"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839906" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Szasz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839906">(Mar 25 2020 at 19:38)</a>:</h4>
<p>fixed. It was something with the terminal encoding or the editor i have used. Now copied the name from the console and it works.</p>
<p>This helped:<br>
for field in CustomProfileField.objects.all():<br>
    print(<a href="http://field.name" title="http://field.name">field.name</a>)</p>



<a name="839913"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839913" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839913">(Mar 25 2020 at 19:39)</a>:</h4>
<p>Great!</p>



<a name="839914"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839914" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839914">(Mar 25 2020 at 19:39)</a>:</h4>
<p>Thanks for the confirmation <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="839915"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/accent%20custom%20field/near/839915" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Norbert Szasz <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/accent.20custom.20field.html#839915">(Mar 25 2020 at 19:40)</a>:</h4>
<p>Thanks for your help:)</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>