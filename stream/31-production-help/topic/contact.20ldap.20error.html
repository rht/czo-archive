<html>
<head><meta charset="utf-8"><title>contact ldap error · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html">contact ldap error</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="629211"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/629211" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#629211">(Aug 13 2018 at 08:41)</a>:</h4>
<p>Hi there, I config LDAP and got error: <code>ldap.SERVER_DOWN: {'errno': 107, 'info': 'Transport endpoint is not connected', 'desc': "Can't contact LDAP server"}</code></p>



<a name="629219"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/629219" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#629219">(Aug 13 2018 at 08:43)</a>:</h4>
<p>when I run: <code>./manage.py sync_ldap_user_data</code> or <code>./manage.py query_ldap &lt;email&gt;</code></p>



<a name="629222"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/629222" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#629222">(Aug 13 2018 at 08:44)</a>:</h4>
<p>I wonder if anyone have experience on this error</p>



<a name="629223"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/629223" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#629223">(Aug 13 2018 at 08:44)</a>:</h4>
<p>I leave <code>AUTH_LDAP_BIND_DN</code> empty</p>



<a name="629471"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/629471" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Russell <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#629471">(Aug 13 2018 at 13:52)</a>:</h4>
<p><span class="user-mention" data-user-id="9107">@Quoc Hoang</span> I've moved your question to this thread.</p>



<a name="629472"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/629472" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Russell <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#629472">(Aug 13 2018 at 13:55)</a>:</h4>
<p>What do you have for your AUTH_LDAP_SERVER_URI setting?</p>



<a name="629484"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/629484" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Russell <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#629484">(Aug 13 2018 at 14:02)</a>:</h4>
<p>Also, can you tell us if your ldap server connection is using SSL or TLS?</p>



<a name="630266"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/630266" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#630266">(Aug 14 2018 at 02:14)</a>:</h4>
<p>I'm integrating with an existing LDAP inside freeIPA (<a href="https://www.freeipa.org/page/Main_Page" target="_blank" title="https://www.freeipa.org/page/Main_Page">https://www.freeipa.org/page/Main_Page</a>). It can be accessed via web browser at <a href="https://ipa.mycompany.lan" target="_blank" title="https://ipa.mycompany.lan">https://ipa.mycompany.lan</a>. So I set AUTH_LDAP_SERVER_URI="ldaps://ipa.&lt;mycompany&gt;.lan"</p>



<a name="630267"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/630267" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#630267">(Aug 14 2018 at 02:17)</a>:</h4>
<p>One further information is that https://ipa.&lt;mycompany&gt;.lan is on local network and self-signed certificicates</p>



<a name="630268"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/630268" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#630268">(Aug 14 2018 at 02:19)</a>:</h4>
<p>I'm deploy zulip using Docker method (from offical docker-zulip repository). Inside container, it can reach to LDAP server. I have installed and trusted the CA inside container. When I use curl try to access the IPA server, it response <code>400 Bad Request</code></p>



<a name="630269"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/630269" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#630269">(Aug 14 2018 at 02:30)</a>:</h4>
<p>I have tried to connect to a public/free LDAP server on the Internet and zulip can connect to it. So I think it might be the issue with the certificates on my side</p>



<a name="630280"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/630280" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#630280">(Aug 14 2018 at 06:25)</a>:</h4>
<p>Hi there, I have solved it, the problem is that ldap IP is incorrect</p>



<a name="630286"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/contact%20ldap%20error/near/630286" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quoc Hoang <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/contact.20ldap.20error.html#630286">(Aug 14 2018 at 07:55)</a>:</h4>
<p>Everything is work fine now</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>