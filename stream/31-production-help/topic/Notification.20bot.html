<html>
<head><meta charset="utf-8"><title>Notification bot · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html">Notification bot</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="568264"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/568264" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#568264">(Apr 23 2018 at 16:08)</a>:</h4>
<p>Hello where are stored the default message sent by the notification bot?</p>



<a name="568268"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/568268" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#568268">(Apr 23 2018 at 16:09)</a>:</h4>
<p>You can find them with <code>git grep NOTIFICATION_BOT</code></p>



<a name="568269"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/568269" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#568269">(Apr 23 2018 at 16:09)</a>:</h4>
<p><span class="user-mention" data-user-id="6309">@Alexandre de Lespinasse</span> I assume you're interested in translating them as well?</p>



<a name="568270"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/568270" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#568270">(Apr 23 2018 at 16:09)</a>:</h4>
<p>I will :)</p>



<a name="569665"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/569665" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#569665">(Apr 25 2018 at 12:07)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> OK I found the two json files I think that are used in  <code>/home/zulip/deployments/current/prod-static/serve/locale/fr/</code> but after modifying them and restarted Zulip and Nginx, nothing changed. Do I have to do anything else to apply the modification?</p>



<a name="569894"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/569894" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#569894">(Apr 25 2018 at 18:01)</a>:</h4>
<p><span class="user-mention" data-user-id="6309">@Alexandre de Lespinasse</span> I think those files get cached in browser local storage, so clearing that is likely what you need.</p>



<a name="569896"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/569896" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#569896">(Apr 25 2018 at 18:01)</a>:</h4>
<p>(The cache is based on the hashed filename, I think)</p>



<a name="570381"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570381" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570381">(Apr 26 2018 at 06:57)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> Hmmm we are using the Windows Client. Anyway I cleared the browser cache (Chrome) and connect by using this browser but the problem is still the same... There is something else to do I think. I will try to restart the Linux server.</p>



<a name="570391"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570391" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570391">(Apr 26 2018 at 07:10)</a>:</h4>
<p>No restarting the server did not solve that. All the ideas are welcome.</p>



<a name="570404"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570404" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570404">(Apr 26 2018 at 07:41)</a>:</h4>
<p>It's way past my bedtime, but <span class="user-mention" data-user-id="92">@Umair Khan</span> might have some ideas.</p>



<a name="570471"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570471" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Umair Khan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570471">(Apr 26 2018 at 08:56)</a>:</h4>
<p><span class="user-mention" data-user-id="6309">@Alexandre de Lespinasse</span>, after changing that file, have you run <code>manage.py compilemessages</code>?</p>



<a name="570501"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570501" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570501">(Apr 26 2018 at 11:52)</a>:</h4>
<p>No but after your message I will do it.</p>



<a name="570504"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570504" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570504">(Apr 26 2018 at 12:32)</a>:</h4>
<p>And the problem is the same...<br>
It processed file that are not in current but in another directory.<br>
<code>{processing file django.po in /home/zulip/deployments/2018-04-18-09-20-14/prod-static/serve/locale/fr/LC_MESSAGES
processing file django.0f4fd1c2a3e2.po in /home/zulip/deployments/2018-04-18-09-20-14/prod-static/serve/locale/tr/LC_MESSAGES</code><br>
But those files did not contains the translation I have to make or that I made.</p>



<a name="570548"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570548" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570548">(Apr 26 2018 at 15:45)</a>:</h4>
<p>So, the preferred way to update translations is to apply them in Git and then do an <code>upgrade-zulip-from-git</code> (which runs our full static asset build pipeline), rather than just modifying files in-place.  Is that what you're doing?</p>



<a name="570572"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570572" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570572">(Apr 26 2018 at 16:10)</a>:</h4>
<p>Clearly not. But I will</p>



<a name="570574"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570574" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570574">(Apr 26 2018 at 16:11)</a>:</h4>
<p>(As a sidenote, we're starting to merge commits to make it possible to translate the emails in Transifex without needing to do a local hack)</p>



<a name="570977"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/570977" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre de Lespinasse <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#570977">(Apr 27 2018 at 15:37)</a>:</h4>
<p>deleted I found what to do...</p>



<a name="1481224"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1481224" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sekan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1481224">(Dec 16 2022 at 12:08)</a>:</h4>
<p>Hello!<br>
Could you plz help me with Notification bot problem on the zulip server <a href="https://zulip.life.com.by/">https://zulip.life.com.by/</a><br>
Previous, names of streams via webhooks were displayed correctly. But now instead of the name the bot displays - #None<br>
Thank you!<br>
<a href="/user_uploads/2/78/ePnaUvwKyntrCyGDLzII9wFX/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/78/ePnaUvwKyntrCyGDLzII9wFX/image.png" title="image.png"><img src="/user_uploads/2/78/ePnaUvwKyntrCyGDLzII9wFX/image.png"></a></div>



<a name="1484123"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1484123" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1484123">(Jan 02 2023 at 22:34)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="9" href="/#narrow/stream/9-issues/topic/Notification.20bot">#issues &gt; Notification bot</a> by <span class="user-mention silent" data-user-id="19257">Alya Abbott</span>.</p>



<a name="1484211"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1484211" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1484211">(Jan 03 2023 at 02:33)</a>:</h4>
<p><span class="user-mention" data-user-id="25473">@Igor Sekan</span> thanks for the report. What version is your server running?</p>



<a name="1484212"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1484212" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1484212">(Jan 03 2023 at 02:34)</a>:</h4>
<p>The current Zulip 6.0 code at least looks like it should never output <code>None</code>:</p>
<div class="codehilite"><pre><span></span><code>def send_pm_if_empty_stream(
    stream: Optional[Stream],
    realm: Realm,
    sender: UserProfile,
    stream_name: Optional[str] = None,
    stream_id: Optional[int] = None,
) -&gt; None:
    &quot;&quot;&quot;If a bot sends a message to a stream that doesn&#39;t exist or has no
    subscribers, sends a notification to the bot owner (if not a
    cross-realm bot) so that the owner can correct the issue.&quot;&quot;&quot;
    if not sender.is_bot or sender.bot_owner is None:
        return

    arg_dict = {
        &quot;bot_identity&quot;: f&quot;`{sender.delivery_email}`&quot;,
        &quot;stream_id&quot;: stream_id,
        &quot;stream_name&quot;: f&quot;#**{stream_name}**&quot;,
        &quot;new_stream_link&quot;: &quot;#streams/new&quot;,
    }
    if sender.bot_owner is not None:
        with override_language(sender.bot_owner.default_language):
            if stream is None:
                if stream_id is not None:
                    content = _(
                        &quot;Your bot {bot_identity} tried to send a message to stream ID &quot;
                        &quot;{stream_id}, but there is no stream with that ID.&quot;
                    ).format(**arg_dict)
                else:
                    assert stream_name is not None
                    content = _(
                        &quot;Your bot {bot_identity} tried to send a message to stream &quot;
                        &quot;{stream_name}, but that stream does not exist. &quot;
                        &quot;Click [here]({new_stream_link}) to create it.&quot;
                    ).format(**arg_dict)
            else:
                if num_subscribers_for_stream_id(stream.id) &gt; 0:
                    return
                content = _(
                    &quot;Your bot {bot_identity} tried to send a message to &quot;
                    &quot;stream {stream_name}. The stream exists but &quot;
                    &quot;does not have any subscribers.&quot;
                ).format(**arg_dict)

        send_rate_limited_pm_notification_to_bot_owner(sender, realm, content)
</code></pre></div>



<a name="1484219"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1484219" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sekan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1484219">(Jan 03 2023 at 04:58)</a>:</h4>
<p>v5.4</p>



<a name="1484370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1484370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1484370">(Jan 03 2023 at 16:17)</a>:</h4>
<p><span class="user-mention" data-user-id="25473">@Igor Sekan</span>: We've had a number of cleanups to that codepath since 5.4.  Can you try upgrading to 6.0 and see if you're still seeing that?</p>



<a name="1485603"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1485603" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sekan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1485603">(Jan 05 2023 at 04:55)</a>:</h4>
<p><span class="user-mention" data-user-id="12178">@Alex Vandiver</span> Updated to v6.0, but the problem is still there<br>
<a href="/user_uploads/2/7e/sqdPJPC3wh9R69Nw4UzFkKiL/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/7e/sqdPJPC3wh9R69Nw4UzFkKiL/image.png" title="image.png"><img src="/user_uploads/2/7e/sqdPJPC3wh9R69Nw4UzFkKiL/image.png"></a></div>



<a name="1485962"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1485962" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1485962">(Jan 05 2023 at 21:27)</a>:</h4>
<p><span class="user-mention" data-user-id="25473">@Igor Sekan</span> is it possible your bot is configured to send to a stream named <code>None</code> that someone created but didn't subscribe any users to?</p>



<a name="1485965"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1485965" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1485965">(Jan 05 2023 at 21:27)</a>:</h4>
<p>That is the simplest explanation I can come up with for that error.</p>



<a name="1486250"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1486250" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sekan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1486250">(Jan 06 2023 at 06:02)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> There is not a stream named None</p>



<a name="1486430"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1486430" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1486430">(Jan 06 2023 at 15:49)</a>:</h4>
<p><span class="user-mention" data-user-id="25473">@Igor Sekan</span>: And just to be doubly sure, if you click the gear icon in the top right, you see the version as "Zulip Server 6.0"?</p>



<a name="1487724"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1487724" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1487724">(Jan 08 2023 at 21:48)</a>:</h4>
<p><span class="user-mention" data-user-id="25473">@Igor Sekan</span> Hmm, also could you show the webhook URL you have configured for this integration? (the Zulip URL to which the webhook makes requests to generate these messages) After censoring the API key in it of course</p>



<a name="1489846"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1489846" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sekan <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1489846">(Jan 12 2023 at 05:16)</a>:</h4>
<p>We use the special script:</p>
<p>#!/usr/bin/env python3</p>
<h1>-<em>- coding: cp1251 -</em>-</h1>
<p>import zulip<br>
import requests<br>
import sys<br>
import json<br>
import datetime</p>
<p>link = '<a href="http://help.life.com.by/WorkOrder.do?woMode=viewWO&amp;woID=">http://help.life.com.by/WorkOrder.do?woMode=viewWO&amp;woID=</a>'</p>
<p>file_Path = sys.argv[1]</p>
<p>with open(file_Path, encoding="utf8") as data_file:<br>
 data = json.load(data_file)</p>
<p>request_obj = data['request']</p>
<p>workorderid = request_obj['WORKORDERID']</p>
<p>subject_text = request_obj['SUBJECT']<br>
requester = '<strong>Инициатор:</strong> ' + request_obj['REQUESTER'] + ' (' + request_obj['DEPARTMENT'] + ')'<br>
#to=request_obj['GROUP']<br>
#to='test'</p>
<p>status = ''<br>
if 'STATUS' in request_obj:<br>
   if 'NAME' in request_obj['STATUS']:<br>
      status = request_obj['STATUS']['NAME']<br>
   else:<br>
      status = request_obj['STATUS']</p>
<p>description = ''<br>
if request_obj['SHORTDESCRIPTION']:<br>
    description = '\n<code>quote\n' + request_obj['SHORTDESCRIPTION'] +  '\n</code>'</p>
<p>resolution = ''<br>
if 'RESOLUTION' in request_obj:<br>
   if request_obj['RESOLUTION']:<br>
      resolution = '\n<code>quote\n' + request_obj['RESOLUTION'] +  '\n</code>'</p>
<p>tech = ''<br>
if 'TECHNICIAN' in request_obj:<br>
   fio = request_obj['TECHNICIAN'].split(' ')</p>
<p>if 2 &gt; len(fio):<br>
       if(fio[0] != ''):<br>
          tech = '<strong>Ответственный:</strong> @_<strong>' + fio[0] + '</strong>'<br>
   else:<br>
       tech = '<strong>Ответственный:</strong> @_<strong>' + fio[1] + ' ' + fio[0] + '</strong>'</p>
<p>priority='other'<br>
if 'PRIORITY' in request_obj:<br>
    if request_obj['PRIORITY']:<br>
        priority=request_obj['PRIORITY']</p>
<p>subject = '<code>' + status + '</code> <strong><a href="http://" title="+ link + workorderid +">' + workorderid + '</a> ' + subject_text + ' </strong> \n' + requester + ' ' + description + '\n' + tech + ' ' + resolution + '\n ---'</p>
<p>if 'GROUP' in request_obj:<br>
    to=request_obj['GROUP']<br>
else:<br>
    to=request_obj['REQUESTER']</p>
<p>client = zulip.Client(config_file="c:\Python37\zuliprc")</p>
<p>request = {<br>
    "type": "stream",<br>
    "to": to,<br>
    "topic": priority,<br>
    "content": subject<br>
}<br>
result = client.send_message(request)</p>



<a name="1507740"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1507740" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1507740">(Feb 13 2023 at 15:29)</a>:</h4>
<p>This is a bug in the server: when a bot sends to a stream by id, and that stream has not subscribers, we erroneously call the stream <code>#None</code> in the error message.</p>
<p>I've pushed <a href="https://github.com/zulip/zulip/pull/24378">#24378</a> to fix.</p>



<a name="1510837"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1510837" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1510837">(Feb 21 2023 at 20:05)</a>:</h4>
<p>The fix looks good and should be merged pretty soon after a bit of tweaking for readability. Thanks again for the report!</p>



<a name="1560694"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1560694" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Felix <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1560694">(May 03 2023 at 06:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/31-production-help/topic/Notification.20bot/near/1510837">said</a>:</p>
<blockquote>
<p>The fix looks good and should be merged pretty soon after a bit of tweaking for readability. Thanks again for the report!</p>
</blockquote>
<p>Hi <span class="user-mention" data-user-id="7">@Tim Abbott</span>. What about fix?</p>



<a name="1561005"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Notification%20bot/near/1561005" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Notification.20bot.html#1561005">(May 03 2023 at 17:46)</a>:</h4>
<p><span class="user-mention" data-user-id="12634">@Felix</span> the bug has been fixed; you can get the fix by upgrading to 7.0-beta1 (See <a class="stream-topic" data-stream-id="1" href="/#narrow/stream/1-announce/topic/server.20releases">#announce &gt; server releases</a> for details).</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>