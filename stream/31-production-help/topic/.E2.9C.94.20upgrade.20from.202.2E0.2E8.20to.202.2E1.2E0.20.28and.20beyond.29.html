<html>
<head><meta charset="utf-8"><title>✔ upgrade from 2.0.8 to 2.1.0 (and beyond) · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html">✔ upgrade from 2.0.8 to 2.1.0 (and beyond)</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1259221"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259221" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259221">(Sep 27 2021 at 14:08)</a>:</h4>
<p>Hello,<br>
We have a Ubuntu 18.04 install that was living on Zulip 1.9.2 for a long time.  I recently started working on getting it up to date, however I seem to be stuck at 2.0.8.  When I go to 2.1.0 I get an Internal Server Error after starting up.</p>
<p>The best I can tell from the errors.log is something to do with python 3.6<br>
"AssertionError<br>
2021-09-27 13:58:36.072 ERR  [django.request] Internal Server Error: /<br>
Traceback (most recent call last):<br>
  File "/srv/zulip-venv-cache/546c5f60162d0b5be09d52adebaa995f9c609da3/zulip-py3-venv/lib/python3.6/site-packages/django/core/handlers/exception.py", line 41, in inner<br>
    response = get_response(request)"</p>
<p>this is among many other lines of errors</p>



<a name="1259223"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259223" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259223">(Sep 27 2021 at 14:34)</a>:</h4>
<p><a href="/user_uploads/2/d4/BBxLBqCCUFoVhhO33mixJxON/server.log">server.log</a> <a href="/user_uploads/2/61/tYhy_0H3ok7jZXgRLs22rMnw/django.log">django.log</a> <a href="/user_uploads/2/24/ZiBU06eMzbhMWdR8QDdgpIEb/errors.log">errors.log</a></p>



<a name="1259261"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259261" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259261">(Sep 27 2021 at 16:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="21240">David</span> has marked this topic as resolved.</p>



<a name="1259263"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259263" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259263">(Sep 27 2021 at 16:35)</a>:</h4>
<p>Had to add <br>
AUTH_LDAP_USERNAME_ATTR = 'uid'<br>
AUTH_LDAP_REVERSE_EMAIL_SEARCH = AUTH_LDAP_USER_SEARCH</p>
<p>to settings.py</p>



<a name="1259304"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259304" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259304">(Sep 27 2021 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="21240">@David</span> is there something we could have done to help you find the relevant section of the "Upgrade notes" in the changelog documenting the need to do that?</p>



<a name="1259315"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259315" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259315">(Sep 27 2021 at 18:29)</a>:</h4>
<p>Probably not.  I spent hours trying to figure out what was even wrong.  Not having a bunch of experience with the software, I had to learn what I was looking for.  I'd find some great community posts or topics here and follow what they did and it wasn't until I narrowed it down to possibly LDAP that I found those two variables to enter.</p>
<p>I feel like it was a fairly narrow scope problem since I only came across one or two instances referencing it.</p>



<a name="1259317"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259317" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259317">(Sep 27 2021 at 18:30)</a>:</h4>
<p>and honestly, when we were running 1.9.2 we had no issues and the software was running rock solid.  we only started to upgrade because we eventually noticed how far behind we were.</p>



<a name="1259321"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259321" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259321">(Sep 27 2021 at 18:32)</a>:</h4>
<p>Well I suspect you found your way to <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-to-a-release">https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-to-a-release</a> to figure out how upgrade?</p>



<a name="1259323"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259323" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259323">(Sep 27 2021 at 18:33)</a>:</h4>
<p>And the first step is to review <a href="https://zulip.readthedocs.io/en/latest/overview/changelog.html#upgrade-notes">https://zulip.readthedocs.io/en/latest/overview/changelog.html#upgrade-notes</a>; did you skip that step, or was it not clear how or convenient enough to get from that to the list of actual things to review?</p>



<a name="1259324"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259324" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259324">(Sep 27 2021 at 18:33)</a>:</h4>
<p>(I could imagine us building a tool that fetched and printed those things for the user, for example, or just inlining the upgrade notes)</p>



<a name="1259326"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259326" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259326">(Sep 27 2021 at 18:38)</a>:</h4>
<p>I scrolled down that page a couple times.  With some of the releases there are so many changes that I could've missed something.</p>



<a name="1259328"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259328" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259328">(Sep 27 2021 at 18:40)</a>:</h4>
<p>currently sitting at 2.1.8,     going up to 3.0 seems to give the internal server error again and i'm assuming it's another issue with LDAP so just continuing with troubleshooting.  <br>
It's nice because I have a VM Clone of prod so I can break it and test as much as i need.    much less stressful this way</p>



<a name="1259367"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259367" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259367">(Sep 27 2021 at 20:31)</a>:</h4>
<p><span class="user-mention" data-user-id="21240">@David</span> if you look at <code>/var/log/zulip/server.log</code>, you should be able to find a traceback making clear what the issue is.</p>



<a name="1259369"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/%E2%9C%94%20upgrade%20from%202.0.8%20to%202.1.0%20%28and%20beyond%29/near/1259369" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/.E2.9C.94.20upgrade.20from.202.2E0.2E8.20to.202.2E1.2E0.20.28and.20beyond.29.html#1259369">(Sep 27 2021 at 20:32)</a>:</h4>
<p>See also <a href="https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-the-operating-system">https://zulip.readthedocs.io/en/latest/production/upgrade-or-modify.html#upgrading-the-operating-system</a>; you will likely need to upgrade the operating system before getting all the way to current.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>