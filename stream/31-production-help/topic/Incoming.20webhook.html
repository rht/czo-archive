<html>
<head><meta charset="utf-8"><title>Incoming webhook · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html">Incoming webhook</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1325663"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20webhook/near/1325663" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html#1325663">(Feb 09 2022 at 19:41)</a>:</h4>
<p>We tried to setup incoming webhook for one of our apps. We got this from the server sending the payload:</p>



<a name="1325666"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20webhook/near/1325666" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html#1325666">(Feb 09 2022 at 19:42)</a>:</h4>
<div class="codehilite"><pre><span></span><code>URL
https://chat.uhl.site/api/v1/external/slack_incoming?api_key=nM8mnpZrfGZYpFahw7ZP8wR9nCihCrAr
Event
MessageSent
UUID
2c0c3654-f004-4b8f-9466-64f2320f9c9b
Timestamp
09/02/2022 at 20:36:03
HTTP Status Code
200
Attempt
1
</code></pre></div>



<a name="1325668"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20webhook/near/1325668" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html#1325668">(Feb 09 2022 at 19:42)</a>:</h4>
<p>This is the payload:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;message&quot;: {
    &quot;id&quot;: 555,
    &quot;token&quot;: &quot;mVrRHNCA2Roe&quot;,
    &quot;direction&quot;: &quot;outgoing&quot;,
    &quot;message_id&quot;: &quot;d3b9d4dd-adc4-49ae-a580-003df494a38b@rp.post.uhlhosting.ch&quot;,
    &quot;to&quot;: &quot;cosmin@uhlhost.net&quot;,
    &quot;from&quot;: &quot;test@uhl.cloud&quot;,
    &quot;subject&quot;: &quot;Test Message at February 09, 2022 20:33&quot;,
    &quot;timestamp&quot;: 1644435220.835964,
    &quot;spam_status&quot;: &quot;NotSpam&quot;,
    &quot;tag&quot;: null
  },
  &quot;status&quot;: &quot;Sent&quot;,
  &quot;details&quot;: &quot;Message for cosmin@uhlhost.net accepted by mail.uhlhost.net (137.74.247.200)&quot;,
  &quot;output&quot;: &quot;250 2.0.0 Ok: queued as DDFFAA66ED\n&quot;,
  &quot;sent_with_ssl&quot;: true,
  &quot;timestamp&quot;: 1644435362.7539525,
  &quot;time&quot;: 0.14
}
</code></pre></div>



<a name="1325669"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20webhook/near/1325669" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html#1325669">(Feb 09 2022 at 19:43)</a>:</h4>
<p>And this is the "Response body":</p>
<div class="codehilite"><pre><span></span><code>{&quot;result&quot;:&quot;success&quot;,&quot;msg&quot;:&quot;&quot;}
</code></pre></div>



<a name="1325670"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20webhook/near/1325670" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html#1325670">(Feb 09 2022 at 19:43)</a>:</h4>
<p><span class="user-mention" data-user-id="20576">@Cosmic Sound</span> you should change the API key, since you just accidentally posted it publicly.</p>



<a name="1325672"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20webhook/near/1325672" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html#1325672">(Feb 09 2022 at 19:44)</a>:</h4>
<p>In the end we got not notifications on Zulip.  <span class="user-mention" data-user-id="7">@Tim Abbott</span> I will do so, thanks for the reminder. Any idea why Zulip does not delivers these payloads?</p>



<a name="1325733"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20webhook/near/1325733" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Felix (strifel) <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html#1325733">(Feb 09 2022 at 20:57)</a>:</h4>
<p>That is not valid payload.<br>
As you are using the Slack compatible endpoint you can see <a href="https://api.slack.com/messaging/webhooks">here</a> what payload is required.</p>
<p>If this payload is not from a custom script you might have a look at <a href="https://zulip.com/integrations/">the integrations page</a> if there is a compatible integration for it.<br>
If not either try to convince the program to send slack compatible data. If there is no other option you might write code to <a href="https://zulip.com/api/integrations-overview">parse the data yourself</a> or create a github issue for the integration.</p>



<a name="1326146"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Incoming%20webhook/near/1326146" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cosmic Sound <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Incoming.20webhook.html#1326146">(Feb 10 2022 at 10:11)</a>:</h4>
<p><span class="user-mention" data-user-id="15808">@Felix (strifel)</span> thanks that solved the issue, modified the hook for json, since the payload was json. It works like a charm.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>