<html>
<head><meta charset="utf-8"><title>Authentication issue after migration · production help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/31-production-help/index.html">production help</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Authentication.20issue.20after.20migration.html">Authentication issue after migration</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="330164"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Authentication%20issue%20after%20migration/near/330164" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Edmund Lian <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Authentication.20issue.20after.20migration.html#330164">(Nov 18 2017 at 03:29)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span> I migrated my Zulip instance to a VPS for more reliability, but now I get an authentication error in Rabbitmq's logs:</p>
<blockquote>
<p>=ERROR REPORT==== 17-Nov-2017::22:26:44 ===<br>
closing AMQP connection &lt;0.1380.0&gt; (127.0.0.1:46294 -&gt; 127.0.0.1:5672):<br>
{handshake_error,starting,0,<br>
                 {amqp_error,access_refused,<br>
                             "PLAIN login refused: user 'zulip' - invalid credentials",<br>
                             'connection.start_ok'}}</p>
<blockquote>
<p>I'm guessing that I didn't bring something over from the previous server... where are the credentials stored?</p>
</blockquote>
</blockquote>



<a name="330183"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Authentication%20issue%20after%20migration/near/330183" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Edmund Lian <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Authentication.20issue.20after.20migration.html#330183">(Nov 18 2017 at 04:37)</a>:</h4>
<p>I figured out what was wrong. I had to run scripts/configure-rabbitmq</p>



<a name="331073"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Authentication%20issue%20after%20migration/near/331073" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Authentication.20issue.20after.20migration.html#331073">(Nov 18 2017 at 23:17)</a>:</h4>
<p>Cool :)</p>



<a name="1498795"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Authentication%20issue%20after%20migration/near/1498795" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vanessa Teague <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Authentication.20issue.20after.20migration.html#1498795">(Jan 29 2023 at 11:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2530">Edmund Lian</span> <a href="#narrow/stream/31-production-help/topic/Authentication.20issue.20after.20migration/near/330183">said</a>:</p>
<blockquote>
<p>I figured out what was wrong. I had to run scripts/configure-rabbitmq</p>
</blockquote>
<p>Thankyou! I had the same problem after upgrading to 6.1 and this fixed it too.</p>



<a name="1499056"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/31-production%20help/topic/Authentication%20issue%20after%20migration/near/1499056" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/31-production-help/topic/Authentication.20issue.20after.20migration.html#1499056">(Jan 30 2023 at 14:20)</a>:</h4>
<p><span class="user-mention" data-user-id="25580">@Vanessa Teague</span>: Were you upgrading to 6.1 on the same host?  That shouldn't have been necessary if it was the same machine.</p>
<p>Can you show <code>/var/log/zulip/upgrade.log</code>, starting from the most recent <code>Unpacking the tarball</code> line?</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>