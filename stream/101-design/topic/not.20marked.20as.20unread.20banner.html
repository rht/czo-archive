<html>
<head><meta charset="utf-8"><title>not marked as unread banner · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html">not marked as unread banner</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1627530"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627530" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hemant Umre <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627530">(Aug 18 2023 at 16:20)</a>:</h4>
<p>I'm working on <a href="https://github.com/zulip/zulip/pull/23470">#23470</a>, where we want to show a banner when messages from unsubscribed streams are not marked as unread after clicking 'Mark as unread from here' in an interleaved view.</p>
<p>Just want to confirm, does the design and placement of the banner below look good?</p>



<a name="1627531"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627531" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hemant Umre <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627531">(Aug 18 2023 at 16:20)</a>:</h4>
<p><a href="/user_uploads/2/aa/EZL-Rn53PeKja5r2SbECRW8x/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/aa/EZL-Rn53PeKja5r2SbECRW8x/image.png" title="image.png"><img src="/user_uploads/2/aa/EZL-Rn53PeKja5r2SbECRW8x/image.png"></a></div>



<a name="1627536"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627536" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hemant Umre <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627536">(Aug 18 2023 at 16:27)</a>:</h4>
<p><a href="/user_uploads/2/db/YWT1p7CreAX92GUxS_tIj0FU/image.png">light.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/db/YWT1p7CreAX92GUxS_tIj0FU/image.png" title="light.png"><img src="/user_uploads/2/db/YWT1p7CreAX92GUxS_tIj0FU/image.png"></a></div>



<a name="1627539"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627539" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627539">(Aug 18 2023 at 16:31)</a>:</h4>
<p>Placement looks okay, but I could see users getting headaches from trying to understand that banner's contents alongside the mark-as-read one below it. Maybe it makes more sense when the mark-unread action has been taken though.</p>



<a name="1627647"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627647" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627647">(Aug 18 2023 at 19:14)</a>:</h4>
<p>I would imagine the other banner should disappear when this new one shows up?</p>



<a name="1627648"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627648" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627648">(Aug 18 2023 at 19:15)</a>:</h4>
<p>I'm also a bit nervous about how readable the banner would be when it lists e.g. 10 streams</p>



<a name="1627791"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627791" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627791">(Aug 18 2023 at 22:57)</a>:</h4>
<p>I guess it is hard to test but I suggest to don’t show banner 1 for people who has banner 2</p>



<a name="1627793"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627793" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627793">(Aug 18 2023 at 22:57)</a>:</h4>
<p>Or if banner 2 wouldn’t mark them at all to not show it</p>



<a name="1627805"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627805" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627805">(Aug 18 2023 at 23:11)</a>:</h4>
<p>I think we should definitely show the "this view doesn't mark messages as read" always for this view because it's true always.</p>



<a name="1627807"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1627807" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1627807">(Aug 18 2023 at 23:12)</a>:</h4>
<p>When they click "mark as read" is when the other banner shows up to explain that it only marked some of the visible messages as read.</p>



<a name="1628173"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1628173" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1628173">(Aug 19 2023 at 20:36)</a>:</h4>
<p>Ok, anyway lets figure out how to not show 2 banners...</p>



<a name="1629072"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1629072" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1629072">(Aug 22 2023 at 00:44)</a>:</h4>
<p>I think this might be a case where popping up a modal is reasonable. It's a rare error-like condition, and that I expect even power users to like only have a 10% chance of every seeing. But I'd also do like a "warning" banner type for it, since it's basically "we mostly did what you asked, but not quite for this corner case you probably didn't realize existed and probably don't super care about".</p>



<a name="1629082"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1629082" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1629082">(Aug 22 2023 at 00:51)</a>:</h4>
<p>Well if it is a warning can we make another banner a warning for now?</p>



<a name="1629764"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1629764" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1629764">(Aug 23 2023 at 00:56)</a>:</h4>
<p><span class="user-mention" data-user-id="21453">@Evy</span> what do you think about using the <code>feedback_widget</code> that pops up when we mute a stream for this? We might want to turn off the auto-hide timer, and I kinda hate that view's unique visual design so we might want to replace that as a follow-up, but this seems like the exact use case for that and maybe we should be able to use that code path for this?</p>



<a name="1629819"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1629819" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1629819">(Aug 23 2023 at 04:22)</a>:</h4>
<p>I don't super like popups, but for a very rare case that seems fine? I'm not totally sure what you're talking about and can't trigger it when I try muting a stream (it just mutes and that's it).</p>



<a name="1629820"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1629820" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1629820">(Aug 23 2023 at 04:22)</a>:</h4>
<p>My preferred strategy still is just to disappear the first banner and replace it with the second one.</p>



<a name="1629821"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1629821" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1629821">(Aug 23 2023 at 04:23)</a>:</h4>
<p>If we're worried about the list of streams being too long, we can also say something like "Some messages were from streams you're not subscribed to, and those messages were not marked as read."</p>



<a name="1630256"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1630256" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1630256">(Aug 23 2023 at 20:02)</a>:</h4>
<p><span class="user-mention" data-user-id="21453">@Evy</span> use the <code>M</code> keyboard shortcut -- I think we only use it there (and also for maybe the <code>Ctrl+*</code> deprecated keyboard shortcut, and a few other code paths). Just <code>git grep feedback_widget</code> and you'll see the handful of callers.</p>



<a name="1630261"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1630261" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1630261">(Aug 23 2023 at 20:03)</a>:</h4>
<p>I don't think it will feel at all natural that an action you picked a <code>\vdots</code> menu will give feedback in the form of a banner at the bottom of the message feed -- that will be invisible to the user without a LOT of scrolling 99% of the time that this unusual corner case in "mark as unread" comes up -- which is basically when users with a like 5% frequency history did "Mark as unread" from the "All messages" view to mark a few thousand messages unread.</p>



<a name="1630266"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1630266" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1630266">(Aug 23 2023 at 20:04)</a>:</h4>
<p>I like the idea of using <code>feedback_widget</code> because it seems very easy and this is very much a "We need to communicate with the user because otherwise we're lying to them, but basically this isn't going to come up."</p>



<a name="1630322"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1630322" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1630322">(Aug 23 2023 at 20:49)</a>:</h4>
<p>Oh I'm confused -- I thought the feedback we're giving only happens when you click the button on the banner at the bottom of the narrow. Is this a different use case?</p>



<a name="1630506"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1630506" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1630506">(Aug 23 2023 at 23:31)</a>:</h4>
<p>From the issue:</p>
<blockquote>
<p>In Zulip, a stream message can be in the "unread" state only if the user is subscribed to the stream is it was sent to -- Zulip does not keep track of read/unread messages in unsubscribed streams.</p>
<p>This can cause some confusion if a user chooses the "Mark as unread from here" message option in an interleaved view (e.g., search results that include all messages sent to public streams), when messages in unsubscribed streams do not get marked as unread (see <a href="https://github.com/zulip/zulip/pull/23455">#23455</a>).</p>
<p>We should therefore display a banner notifying the user when the "Mark as unread from here" action fails to mark some messages (in unsubscribed streams) as unread.</p>
</blockquote>



<a name="1630508"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1630508" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1630508">(Aug 23 2023 at 23:32)</a>:</h4>
<p>Ah I see, yeah I had mistaken what was going. A popup seems very reasonable then :)</p>



<a name="1630554"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1630554" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1630554">(Aug 23 2023 at 23:49)</a>:</h4>
<p><span class="user-mention" data-user-id="25140">@Hemant Umre</span> FYI, hopefully this unblocks further work on this issue.</p>



<a name="1632027"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1632027" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hemant Umre <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1632027">(Aug 26 2023 at 19:00)</a>:</h4>
<p>I'm mostly done with this. There are some minor questions I want feedback on:</p>
<ul>
<li>Currently, we have a 4-second timeout before the <code>feedback_widget</code> auto-hides. Do we want to increase this time, or should we disable auto-hide for this use case? If we go with the latter, do we want to hide it when the narrow is changed or when any other modal or popover opens?</li>
<li>Does <code>Skipped unsubscribed streams</code> sound good as the title for the popover?</li>
<li>I think we don't want any undo action from this popover. Just want to confirm before hiding the undo button.</li>
</ul>
<p><a href="/user_uploads/2/4d/hiquHPq6MK-He-fdO98Q8eFl/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/4d/hiquHPq6MK-He-fdO98Q8eFl/image.png" title="image.png"><img src="/user_uploads/2/4d/hiquHPq6MK-He-fdO98Q8eFl/image.png"></a></div>



<a name="1632316"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1632316" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1632316">(Aug 28 2023 at 12:41)</a>:</h4>
<ul>
<li>I don’t see the user benefit to increasing the timeout; 4 seconds is already pretty long. Disabling entirely creates more work for users, too.</li>
<li>I’m not sure about the popover title, but I’m not coming up with a viable replacement just offhand, either.</li>
<li>Hiding Undo sounds right to me, as it’s ambiguous what would be undone here—especially with the current modal title</li>
</ul>



<a name="1644929"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1644929" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1644929">(Sep 21 2023 at 20:32)</a>:</h4>
<p>I think that seems fine but probably would just disable the timeout for this one... it's not something I expect anyone to see regularly, so giving all the time they want to read it makes sense.</p>
<p>Would do it all as new options to the feedback widget component.</p>



<a name="1644958"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1644958" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1644958">(Sep 21 2023 at 21:05)</a>:</h4>
<p>Sounds like a good plan; I updated the issue accordingly.</p>



<a name="1645008"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1645008" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1645008">(Sep 21 2023 at 21:10)</a>:</h4>
<p>For the heading, maybe we can try to keep it short, since the body conveys the full info? "Messages skipped", perhaps?</p>



<a name="1646969"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1646969" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1646969">(Sep 25 2023 at 22:58)</a>:</h4>
<p>Yeah, that heading is probably OK as a first pass, might have a better idea when playing with it.</p>



<a name="1646970"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/not%20marked%20as%20unread%20banner/near/1646970" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/not.20marked.20as.20unread.20banner.html#1646970">(Sep 25 2023 at 22:58)</a>:</h4>
<p><span class="user-mention" data-user-id="25140">@Hemant Umre</span> just a quick mention so you see the last decisions here.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>