<html>
<head><meta charset="utf-8"><title>Quote-and-reply newlines · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html">Quote-and-reply newlines</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1465208"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1465208" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Bobbe <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1465208">(Nov 16 2022 at 02:25)</a>:</h4>
<p>Currently, in the web app, quote-and-reply Markdown is inserted with a newline character before and after it, unless it's inserted at the beginning in which case the newline before is omitted.</p>
<p>Here's a proposal: keep all that the same, except use two newline characters instead of one, which would pad the inserted text with a whole empty line. I think the extra breathing room could be nice, and we're considering doing this on mobile.</p>



<a name="1465218"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1465218" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1465218">(Nov 16 2022 at 02:48)</a>:</h4>
<p>Hmm, I think that might be correct but would want to take some care if there's a newline at the end of the content one is quoting?</p>



<a name="1465226"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1465226" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1465226">(Nov 16 2022 at 03:13)</a>:</h4>
<p>The <code> ``` </code> separator makes that a pretty independent question.</p>



<a name="1465243"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1465243" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1465243">(Nov 16 2022 at 03:41)</a>:</h4>
<p>That seems reasonable to me... I think I often add that extra line manually to make it easier to read what I'm composing.</p>



<a name="1466301"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466301" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Bobbe <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466301">(Nov 17 2022 at 06:25)</a>:</h4>
<p>Cool; <a href="https://github.com/zulip/zulip-mobile/pull/5554">#M5554</a> for quote-and-reply on mobile.</p>
<p>Shall I open a web-app issue for the newlines thing, with a mostly copy-paste of my message above?</p>



<a name="1466391"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466391" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466391">(Nov 17 2022 at 08:03)</a>:</h4>
<p>Yeah, that sounds great!</p>



<a name="1466749"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466749" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Bobbe <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466749">(Nov 17 2022 at 19:31)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/23608">#23608</a></p>



<a name="1466765"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466765" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shishir Iyer <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466765">(Nov 17 2022 at 19:39)</a>:</h4>
<p>Hey, I'm a new member here and I was looking to make my first contribution. I saw that this issue was labeled with "good first issue". Any tips on getting started?</p>



<a name="1466825"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466825" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Smith <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466825">(Nov 17 2022 at 20:16)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="25256">@Shishir Iyer</span> I claimed this issue on github before I saw your comment on this topic; depending on how far I get with this issue, I'd be happy to share anything I learn with you during/after <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1466828"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466828" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Smith <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466828">(Nov 17 2022 at 20:18)</a>:</h4>
<p>Could someone help me identify variable name(s) that I can <code>git grep</code> to find where this edit will go?</p>



<a name="1466835"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466835" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Smith <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466835">(Nov 17 2022 at 20:22)</a>:</h4>
<p>looks like <code>quote_and_reply</code> is a likely candidate</p>



<a name="1466837"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466837" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466837">(Nov 17 2022 at 20:25)</a>:</h4>
<p>Yeah, that should work.</p>



<a name="1466890"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466890" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shishir Iyer <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466890">(Nov 17 2022 at 21:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="25149">Eric Smith</span> <a href="#narrow/stream/101-design/topic/Quote-and-reply.20newlines/near/1466825">said</a>:</p>
<blockquote>
<p>Hey <span class="user-mention silent" data-user-id="25256">Shishir Iyer</span> I claimed this issue on github before I saw your comment on this topic; depending on how far I get with this issue, I'd be happy to share anything I learn with you during/after :)</p>
</blockquote>
<p>that'd be great, thanks!</p>



<a name="1466945"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466945" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466945">(Nov 17 2022 at 22:32)</a>:</h4>
<p>Will this affect generated html? I'm guessing not since it's possible now?</p>
<p>ZT uses the rendered result, and it should handle this automatically, but would be good to know if this is part of the plan and might affect that.</p>



<a name="1466955"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466955" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Smith <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466955">(Nov 17 2022 at 22:53)</a>:</h4>
<p>(deleted)</p>



<a name="1466971"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466971" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Smith <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466971">(Nov 17 2022 at 23:06)</a>:</h4>
<p>Is the idea for the extra newline to appear while editing, like this (before/after): <br>
<a href="/user_uploads/2/23/bvZNxszauA51ju_8PhsNgGIW/before-one-newline.png">before-one-newline</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/23/bvZNxszauA51ju_8PhsNgGIW/before-one-newline.png" title="before-one-newline"><img src="/user_uploads/2/23/bvZNxszauA51ju_8PhsNgGIW/before-one-newline.png"></a></div><p><a href="/user_uploads/2/e2/CGOg68T0KJbaUGpH_NXyDrrZ/after-two-newlines.png">after-two-newlines</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/e2/CGOg68T0KJbaUGpH_NXyDrrZ/after-two-newlines.png" title="after-two-newlines"><img src="/user_uploads/2/e2/CGOg68T0KJbaUGpH_NXyDrrZ/after-two-newlines.png"></a></div>



<a name="1466973"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1466973" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1466973">(Nov 17 2022 at 23:06)</a>:</h4>
<p>No, the nextra newline should be outside the ```.</p>



<a name="1467022"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1467022" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Smith <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1467022">(Nov 17 2022 at 23:54)</a>:</h4>
<p>Are these the correct / desired outcomes? </p>
<p><a href="/user_uploads/2/ab/GgNSQ1IAAPAckyTZo_5KaEf0/quote-at-beginning-of-message.png">When the quote is inserted at the beginning of the message:</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/ab/GgNSQ1IAAPAckyTZo_5KaEf0/quote-at-beginning-of-message.png" title="When the quote is inserted at the beginning of the message:"><img src="/user_uploads/2/ab/GgNSQ1IAAPAckyTZo_5KaEf0/quote-at-beginning-of-message.png"></a></div><p><a href="/user_uploads/2/ac/KDSiiwu7zAYpb3EQCTChxny3/quote-inserted-after-existing-content.png">When quote is inserted after existing content: </a></p>
<div class="message_inline_image"><a href="/user_uploads/2/ac/KDSiiwu7zAYpb3EQCTChxny3/quote-inserted-after-existing-content.png" title="When quote is inserted after existing content: "><img src="/user_uploads/2/ac/KDSiiwu7zAYpb3EQCTChxny3/quote-inserted-after-existing-content.png"></a></div>



<a name="1467032"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1467032" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1467032">(Nov 18 2022 at 00:40)</a>:</h4>
<p>Yep, that looks right to me -- thanks!</p>



<a name="1480711"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1480711" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1480711">(Dec 15 2022 at 19:54)</a>:</h4>
<p>27 messages were moved from this topic to <a class="stream-topic" data-stream-id="6" href="/#narrow/stream/6-frontend/topic/Quote-and-reply.20newlines">#frontend &gt; Quote-and-reply newlines</a> by <span class="user-mention silent" data-user-id="2187">Greg Price</span>.</p>



<a name="1480712"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1480712" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1480712">(Dec 15 2022 at 19:55)</a>:</h4>
<p>I moved implementation discussion to <a class="stream" data-stream-id="6" href="/#narrow/stream/6-frontend">#frontend</a>, so that the discussion in this stream can remain focused on the UX and design questions.</p>



<a name="1480713"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1480713" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1480713">(Dec 15 2022 at 19:56)</a>:</h4>
<p>There was one message in that time range about the design. Quoting it here instead of moving it back, because other messages (about the implementation) replied to it:</p>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/6-frontend/topic/Quote-and-reply.20newlines/near/1479383">said</a>:</p>
<blockquote>
<p>I came across <a href="https://github.com/zulip/zulip/pull/11389">#11389</a>, which proposes adding two newlines for attachments as well. What do folks think? It's less clear to me that attachments should usually be in their own paragraph.</p>
</blockquote>



<a name="1480714"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1480714" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1480714">(Dec 15 2022 at 19:58)</a>:</h4>
<p>On that design question, FWIW I agree that attachments are a different story and only need one newline on each side, not two.</p>
<p>In particular, an attachment makes a single short line -- just the name of the file. So that tends to fit naturally without a blank line separating it from other things. Whereas a quote is a whole paragraph, not least because of the attribution line we add at the start, so it needs blank lines to set it off.</p>



<a name="1490646"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1490646" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eden <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1490646">(Jan 13 2023 at 22:21)</a>:</h4>
<p><span class="user-mention" data-user-id="25149">@Eric Smith</span> Are you still working on this issue?</p>



<a name="1491111"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1491111" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hussain Shariff <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1491111">(Jan 16 2023 at 09:36)</a>:</h4>
<p><span class="user-mention" data-user-id="25149">@Eric Smith</span>  any updates ?</p>



<a name="1491195"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1491195" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Smith <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1491195">(Jan 16 2023 at 16:42)</a>:</h4>
<p>Hey all, sorry for the delay getting back to this, I'm not working on it anymore; I started an internship and I don't plan on working on this anytime soon. I wasn't able to get testing working on this but did have working code, please checkout the discussion in <a href="#narrow/stream/6-frontend/topic/Quote-and-reply.20newlines">#frontend&gt; Quote-and-reply newlines</a></p>



<a name="1522373"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1522373" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu Suryawanshi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1522373">(Mar 10 2023 at 19:03)</a>:</h4>
<p><span class="user-mention" data-user-id="19257">@Alya Abbott</span> <br>
 Should the two line break appear in the compose box only or the posted message as well ?</p>



<a name="1522385"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1522385" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1522385">(Mar 10 2023 at 19:23)</a>:</h4>
<p>The posted message should reflect what's in the compose box in the usual way. We aren't changing anything about the Markdown rendering here.</p>



<a name="1522484"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1522484" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu Suryawanshi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1522484">(Mar 10 2023 at 22:01)</a>:</h4>
<p><span class="user-mention" data-user-id="19257">@Alya Abbott</span>  I have opened a pull request for the issue  <a href="https://github.com/zulip/zulip/issues/11389">https://github.com/zulip/zulip/issues/11389</a> and have made some changes according to issue.</p>



<a name="1522487"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1522487" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu Suryawanshi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1522487">(Mar 10 2023 at 22:04)</a>:</h4>
<p>Can you please the pull request <a href="https://github.com/zulip/zulip/pull/24645">PR</a></p>



<a name="1522490"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1522490" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu Suryawanshi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1522490">(Mar 10 2023 at 22:05)</a>:</h4>
<p>Can you please review the pull request</p>



<a name="1522502"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1522502" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1522502">(Mar 10 2023 at 22:15)</a>:</h4>
<p>Thanks! I will review it when I have time; there is no need to send multiple pings on anything other than urgent bug fixes.</p>



<a name="1526064"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1526064" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu Suryawanshi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1526064">(Mar 16 2023 at 07:54)</a>:</h4>
<p>I have made a new <a href="https://github.com/zulip/zulip/pull/24718">PR</a> for the issue <a href="https://github.com/zulip/zulip/issues/11389">11389</a>.  <br>
Had to adjust a node test there. Please review the PR.</p>



<a name="1527582"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1527582" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1527582">(Mar 18 2023 at 09:08)</a>:</h4>
<p>I got back to my PR <a href="https://github.com/zulip/zulip/pull/23608">#23608</a> for this after 1.5 months and have fixed and added tests. Would appreciate another code review; it shouldn't need manual testing again, since the behaviour hasn't been changed since</p>



<a name="1527864"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1527864" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1527864">(Mar 19 2023 at 09:39)</a>:</h4>
<p>Sorry that's the issue linked in the last message; my PR is <a href="https://github.com/zulip/zulip/pull/24187">#24187</a></p>



<a name="1536281"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1536281" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1536281">(Mar 29 2023 at 10:59)</a>:</h4>
<p>The PR has been merged and here's an analysis of all the places we call the <code>compose_ui.insert_syntax_and_focus</code> function, and which of those would benefit from using it's block variant by passing in the new <code>mode</code> parameter. </p>
<p>The following are the ones which are fine as is (implicit inline mode):</p>
<ul>
<li>Adding a global timestamp using the time-picker</li>
<li>Using the <code>@</code> hotkey to respond to selected message with a mention of the author (works only with compose closed)</li>
<li>Reply mentioning user from their user popover card (Both the previous point and this insert a mention inline wherever the cursor is)</li>
<li>Pasting data from the clipboard</li>
<li>Inserting the selected emoji from the emoji-picker</li>
</ul>
<p>I think these are likely better off with block mode:</p>
<ul>
<li>Inserting a video call link by clicking the Add video call compose button (not sure about this one - might help the meet link to stand out as a separate paragraph?)</li>
<li>Quoting and replying to a message already uses the block mode</li>
<li>Inserting a Giphy gif</li>
<li>Uploading files / attachments via the compose button for it or via drag and drop</li>
</ul>



<a name="1536282"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1536282" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1536282">(Mar 29 2023 at 11:03)</a>:</h4>
<p>Would like to hear more opinions on this :)</p>
<p>FYI <span class="user-mention" data-user-id="19257">@Alya Abbott</span> <span class="user-mention" data-user-id="7">@Tim Abbott</span></p>



<a name="1536450"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1536450" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1536450">(Mar 29 2023 at 17:29)</a>:</h4>
<p>Hmm. I feel like with uploaded files it really depends; I do definitely upload files intending to use them in a sentence, but that's probably not the most common case? (And I feel like video call/Giphy might want to match the behavior for uploaded files; fundamentally they're all ways to insert links).</p>



<a name="1536652"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1536652" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1536652">(Mar 29 2023 at 19:27)</a>:</h4>
<p>Thanks for summarizing the decisions to consider! Looks like file uploads were discussed earlier in this thread: <a href="#narrow/stream/101-design/topic/Quote-and-reply.20newlines/near/1480714">https://chat.zulip.org/#narrow/stream/101-design/topic/Quote-and-reply.20newlines/near/1480714</a></p>



<a name="1536725"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1536725" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1536725">(Mar 29 2023 at 20:12)</a>:</h4>
<p>Thanks for linking to that buried message, Alya! Having 1 line spacing instead of 2 in certain use cases will be easy enough to implement (just an additional optional parameter in the function responsible)</p>



<a name="1541294"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1541294" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1541294">(Apr 04 2023 at 19:55)</a>:</h4>
<p>What do we feel about having all 3 - video call, giphy and attachments - inserted with 1 newline before and after? I'll put up a PR soon with this change so we can test it out</p>



<a name="1541481"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1541481" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1541481">(Apr 05 2023 at 00:15)</a>:</h4>
<p><span class="user-mention" data-user-id="18948">@Nehal Sharma</span> sounds good to me!</p>



<a name="1541840"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Quote-and-reply%20newlines/near/1541840" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Quote-and-reply.20newlines.html#1541840">(Apr 05 2023 at 16:48)</a>:</h4>
<p>Here it is: <a href="https://github.com/zulip/zulip/pull/25002">#25002</a></p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>