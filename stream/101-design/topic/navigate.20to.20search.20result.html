<html>
<head><meta charset="utf-8"><title>navigate to search result · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html">navigate to search result</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1329377"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329377" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329377">(Feb 15 2022 at 22:22)</a>:</h4>
<p>Hey folks! I recently chatted with a user who expressed frustration with being unable to navigate to a conversation from search results. They are on a self-hosted Zulip server, and we've made one improvement that they don't currently have access to, but I think we can do better.</p>
<p>The things the user described having tried were: click on message? click on timestamp? click on date? three-dot menu?</p>
<p>The change we've made already is that the timestamp now <em>does</em> take you to a "near" context for the message.</p>
<p>Other ideas for how to make this common workflow easier:</p>
<ol>
<li>Currently, clicking on the search result topic (or the recipients in a PM thread) takes you to the message if it's been read. However, if it's unread, it takes you to the latest read message, which is super confusing. I think the topic/PM recipients link should just be a "near" link to the message, same as the timestamp. Note that "near" views don't mark messages as read, and we have a release blocker feature to show a banner explaining this and allowing the user to mark messages as read.</li>
<li>Perhaps then entire bar should be a click target for navigating to the message (from a search view), or the topic (from, e.g., All messages).</li>
<li>Maybe in general we should add  a "Go to message" or maybe "Go to message in context" link to the three-dot menu?</li>
<li>We could consider adding a keyboard shortcut for going to a message near: view as well.</li>
</ol>
<p>The user's first idea was to click on the message itself, but I'm not sure we can make that work while keeping the experience consistent with other contexts.</p>
<p>Thoughts on the ideas above? Any other suggestions?</p>



<a name="1329438"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329438" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329438">(Feb 15 2022 at 23:09)</a>:</h4>
<p>I think the 3rd option ("Go to message in context") should be the first approach we try.</p>
<p>I don't think the user's idea is super crazy in a search context.  If you click on the message, it's hard for the app to know what you really want to do:</p>
<ul>
<li>reply to the message</li>
<li>see the message in context</li>
</ul>
<p>My guess is that it's about 50/50.  It's somewhat problematic to reply to a message in a search view, because you're not seeing all the context around it, so you risk spamming a topic where things have already been addressed.  So it seems reasonable for the app to pop up a simple modal asking what you want to do.</p>



<a name="1329475"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329475" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329475">(Feb 15 2022 at 23:48)</a>:</h4>
<p>Pop ups are usually excuse way to solve a problem without solving it. That’s a last resort. I agree that the context menu is a place to add any kinds of action with a reasonable label and a hot key.  The question after that would be if we really need an additional button inside a message and if we can utilize a current element like a timestamp for that</p>



<a name="1329478"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329478" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329478">(Feb 15 2022 at 23:51)</a>:</h4>
<p>On mobile there is no action attached to the time of a message, So it looks like a good button for show me that in context of other messages at that time“”</p>



<a name="1329546"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329546" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329546">(Feb 16 2022 at 00:49)</a>:</h4>
<p>What's the benefit of going to the message without also bringing up the context around it?</p>



<a name="1329548"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329548" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329548">(Feb 16 2022 at 00:49)</a>:</h4>
<p>Because having context is definitely my intuition as well (I think I've been confused about this in the past) and I'm curious how the other use case works</p>



<a name="1329553"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329553" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329553">(Feb 16 2022 at 00:52)</a>:</h4>
<p>I think proposal 1 makes the most sense to me logically, but it might be annoying in practice -- would need to test-deploy to know.  The rule would be "If you're currently in a view that doesn't mark messages as read and click a topic heading, you get the <code>near:</code> version of that view like if you clicked on the timestamp which lets you see the target content in a view that doesn't mark messages as read"</p>



<a name="1329554"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329554" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329554">(Feb 16 2022 at 00:55)</a>:</h4>
<p>It's already the case that clicking the timestamp is a permanent link to a message, though I guess the tooltip for that element does not hint that fact at all, so that could be worth changing.  But it's a small click target, and intuitively clicking the topic feels like a more natural way to navigate to a topic.  In general I think it's valuable to have consistent models that, e.g., clicking on a given element does the same thing regardless of view (E.g. clicking the stream titles takes you to that stream), but the search UI could be a reasonable exception (it takes you to that message via the permanent link mechanism)</p>



<a name="1329578"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329578" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329578">(Feb 16 2022 at 01:14)</a>:</h4>
<p>Clicking on a message bringing you to the topic view makes sense to me globally, but I also am not a user that ever uses the view that mixes messages from different topics. So, if I click on a message then I want to see the message in context. Even if I'm just replying, I want to see the context around where I'm replying</p>



<a name="1329585"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329585" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329585">(Feb 16 2022 at 01:16)</a>:</h4>
<p>Anecdotally, a friend of mine was having a similar issue where they wanted to reply to one of their mentions (from the @mentions view) and would often miss that someone further in the conversation had already addressed the issue (because clicking on the mention didn't bring up the context)</p>



<a name="1329679"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329679" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329679">(Feb 16 2022 at 02:23)</a>:</h4>
<p>Actually yes. If we open the reply but do show the context (jumping in the topic view) it would be ideal, no?</p>



<a name="1329689"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1329689" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1329689">(Feb 16 2022 at 02:37)</a>:</h4>
<p>Yup.  I am sure I am overlooking some annoying edge case, but I suspect doing both things here may be the right solution.</p>



<a name="1330422"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330422" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330422">(Feb 16 2022 at 23:49)</a>:</h4>
<p>There's a tradeoff here -- if we take you to a /near/ conversation view (i.e. one that centers on a message regardless of unread state, and won't mark messages as read), that could be annoying if your goal was to find a thread someone told you about and read it from the beginning.  I'm unsure if that's a significant issue, especially now that have a banner when you get to the bottom of such a view.</p>
<p>My proposal is that we try changing the ways the recipient bar links when in a search view (<code>!filter.supports_collapsing_recipients()</code>, specifically) to be the same as the timestamp link, and see how that goes.  I suppose we'll want this to apply to the <code>s</code> keyboard shortcut as well.</p>



<a name="1330465"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330465" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330465">(Feb 17 2022 at 00:18)</a>:</h4>
<blockquote>
<p>I suppose we'll want this to apply to the <code>s</code> keyboard shortcut as well.</p>
</blockquote>
<p>Do you mean <code>Shift + s</code> (topic / PM shortcut, not stream shortcut)?</p>



<a name="1330469"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330469" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330469">(Feb 17 2022 at 00:20)</a>:</h4>
<p>I'm excited to try <span class="user-mention silent" data-user-id="7">Tim Abbott</span> 's proposal (i.e. (1)) regardless of whether we also do something else. <span class="user-mention" data-user-id="7">@Tim Abbott</span> maybe it would be best for you to write up the issue, so that the technical details can be expressed more clearly?</p>



<a name="1330479"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330479" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330479">(Feb 17 2022 at 00:26)</a>:</h4>
<p>My philosophy on these type of debates is that the most respectful way to deal with a user is to present them with info and let them decide, even if it comes with a convenience cost.  I am wary of expecting users to figure out which elements to click on or which hotkeys to memorize to accomplish a task. I say this as a power user.</p>



<a name="1330489"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330489" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330489">(Feb 17 2022 at 00:33)</a>:</h4>
<p>(As a power user I want the best of both worlds.  Convenience and control.)</p>



<a name="1330507"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330507" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330507">(Feb 17 2022 at 00:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="22433">Vlad Korobov</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1329679">said</a>:</p>
<blockquote>
<p>Actually yes. If we open the reply but do show the context (jumping in the topic view) it would be ideal, no?</p>
</blockquote>
<p>That might be right... Replying to a message when you don't see the context is likely to trip people up, as in <span class="user-mention silent" data-user-id="21453">Evy Kassirer</span> 's friend's experience.</p>



<a name="1330514"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330514" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330514">(Feb 17 2022 at 00:46)</a>:</h4>
<p>I suppose we could also show a "Back to search results" banner in that situation, or keep that idea in our back pocket if folks complain? I feel like I unintentionally click on messages with some frequency.</p>



<a name="1330520"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330520" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330520">(Feb 17 2022 at 00:50)</a>:</h4>
<p>This is the classic debate about whether it’s better to ask for forgiveness or permission.</p>



<a name="1330524"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330524" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330524">(Feb 17 2022 at 00:52)</a>:</h4>
<p>Like every good question, the answer here depends on context.</p>



<a name="1330525"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330525" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330525">(Feb 17 2022 at 00:52)</a>:</h4>
<p>Can we just ask the user what they want to do?</p>



<a name="1330531"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330531" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330531">(Feb 17 2022 at 00:55)</a>:</h4>
<p>Well, I suppose the banner idea could go in either direction: "Back to search results" or "Go to message in context". The advantage of a banner over a popover is that you only need one click in one of the two cases (whichever one we decide should be the default).</p>



<a name="1330539"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330539" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330539">(Feb 17 2022 at 01:01)</a>:</h4>
<p>I am obviously not super obsessed about mouse clicks, but I wouldn’t completely diminish it either. I want our app to converse with the user.  Present the user with the options and let them make explicit, informed decisions.</p>



<a name="1330710"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330710" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330710">(Feb 17 2022 at 17:25)</a>:</h4>
<p>I was actually thinking earlier about having a back to search results button</p>



<a name="1330711"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1330711" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1330711">(Feb 17 2022 at 17:25)</a>:</h4>
<p>That would be my preferred workflow. And it feels common to other apps</p>



<a name="1332855"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1332855" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1332855">(Feb 22 2022 at 20:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1330422">said</a>:</p>
<blockquote>
<p>My proposal is that we try changing the ways the recipient bar links when in a search view (<code>!filter.supports_collapsing_recipients()</code>, specifically) to be the same as the timestamp link, and see how that goes.  I suppose we'll want this to apply to the <code>s</code> keyboard shortcut as well.</p>
</blockquote>
<p>This seems pretty reasonable to me. With a potential followup of a "back to search results" banner when viewing the conversation</p>



<a name="1332858"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1332858" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1332858">(Feb 22 2022 at 20:19)</a>:</h4>
<p>Oh it seems like clicking on the topic name also goes to the correct narrow. But I think the change we want is to also have that view when clicking on the message itself? Or at least, avoiding the situation where you're replying to a message but not in its narrow</p>



<a name="1332975"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1332975" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1332975">(Feb 22 2022 at 23:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="21453">Evy Kassirer</span> where that link goes is contextual:</p>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1329377">said</a>:</p>
<blockquote>
<ol>
<li>Currently, clicking on the search result topic (or the recipients in a PM thread) takes you to the message if it's been read. However, if it's unread, it takes you to the latest read message, which is super confusing. I think the topic/PM recipients link should just be a "near" link to the message, same as the timestamp. Note that "near" views don't mark messages as read, and we have a release blocker feature to show a banner explaining this and allowing the user to mark messages as read.</li>
</ol>
</blockquote>



<a name="1333002"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1333002" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1333002">(Feb 22 2022 at 23:17)</a>:</h4>
<p>I filed <a href="https://github.com/zulip/zulip/pull/21216">#21216</a> for the topic link change, and <a href="https://github.com/zulip/zulip/pull/21217">#21217</a> for the idea of clicking on a message taking the user to the near: view for that message.</p>



<a name="1333008"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1333008" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1333008">(Feb 22 2022 at 23:22)</a>:</h4>
<p>A couple more questions:</p>
<ol>
<li>Should we add the <code>S</code> shortcut to the topic link tooltip in the message header bar?</li>
<li>Is it worth adding a "Narrow to topic (<code>S</code>)" / "Narrow to PM conversation (<code>S</code>)" option to the three-dot message menu in interleaved views (search views, All messages, interleaved stream views, etc.)?</li>
</ol>



<a name="1333043"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1333043" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1333043">(Feb 22 2022 at 23:44)</a>:</h4>
<p>Note that the browser <code>Back</code> button is already a "Back to search results" button.  The main problem with adding such a button is figuring out where to put it that won't make the app feel cluttered.</p>



<a name="1333045"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1333045" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1333045">(Feb 22 2022 at 23:45)</a>:</h4>
<p>I would prefer to avoid adding additional "Narrow to ..." options in the 3-dot menus; clicking the timestamp right next that menu does essentially the same thing, as does clicking the recipient bar, and we put a lot of effort in the past into figuring out how to remove redundant options like that one in the past.</p>



<a name="1333046"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1333046" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1333046">(Feb 22 2022 at 23:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1333008">said</a>:</p>
<blockquote>
<ol>
<li>Should we add the <code>S</code> shortcut to the topic link tooltip in the message header bar?</li>
</ol>
</blockquote>
<p>Yeah, we should change those tooltips, and possibly also migrate them to Tippy while we're at it so that we can style the shortcut itself.</p>



<a name="1414770"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1414770" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1414770">(Aug 04 2022 at 00:29)</a>:</h4>
<p>This was <a href="#narrow/stream/415-chat.2Ezulip.2Eorg/topic/experiments/near/1414753">test-deployed</a> just now. I recommend playing around with search and clicking the recipient bars on messages, especially those that are marked unread to explore this.</p>



<a name="1414772"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1414772" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1414772">(Aug 04 2022 at 00:30)</a>:</h4>
<p>One aspect that may be a bit subtle and may deserve follow-up thinking is if you search for an old thread, and then start a conversation there without changing your view, then even if you were previously caught up, new messages that come in will not be eligible for being marked as read. There's a few directions for how we could change that if we think it's not the desired outcome, but certainly worth noting as it may be a while before someone encounters this scenario in the wild.</p>



<a name="1415475"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1415475" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1415475">(Aug 05 2022 at 01:54)</a>:</h4>
<p>I'm not a fan of it not marking as read when I click on Mentions and go from there to the conversation where I was mentioned</p>



<a name="1415919"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1415919" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1415919">(Aug 06 2022 at 01:00)</a>:</h4>
<p><span class="user-mention" data-user-id="21453">@Evy</span> hmm, I wonder if that's an implementation bug -- the mentions view currently lets you mark messages as read (though we may want to change that), and so I'd have expected <code>message_lists.current.can_mark_messages_read()</code> to be true, and thus this to not apply.</p>



<a name="1415949"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1415949" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1415949">(Aug 06 2022 at 02:05)</a>:</h4>
<p>I haven't reloaded all the context back into my brain, but if I remember correctly all near views don't mark messages as read?</p>



<a name="1415952"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1415952" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1415952">(Aug 06 2022 at 02:06)</a>:</h4>
<p>Yeah, that looks to be the case.</p>



<a name="1415953"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1415953" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1415953">(Aug 06 2022 at 02:06)</a>:</h4>
<p>And the mention links to a near view</p>



<a name="1416489"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1416489" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1416489">(Aug 07 2022 at 05:13)</a>:</h4>
<p>Right, but the mentions view <strong>does</strong> mark messages as read, and that's the thing your code is checking to see if it's a search view, so I'm a bit confused.</p>



<a name="1416490"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1416490" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1416490">(Aug 07 2022 at 05:14)</a>:</h4>
<p>That said ... I think it's possible that the mentions view should work like other search views in not marking things as read -- now that we have a "mark all as read" button, that feels like a better experience than having clicking into the mentions view eat an unread mention.</p>



<a name="1416705"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1416705" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1416705">(Aug 07 2022 at 18:39)</a>:</h4>
<p>It's not about a search view, it's about the near view that clicking on the mentions message brings me to.</p>



<a name="1416706"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1416706" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1416706">(Aug 07 2022 at 18:40)</a>:</h4>
<p>I click mentions --&gt; see a message in Mentions view --&gt; that message gets read --&gt; I click to see the rest of the conversation and reply --&gt; end up in a near view (in the topic narrow) where it says messages aren't being marked read</p>



<a name="1416707"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1416707" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1416707">(Aug 07 2022 at 18:41)</a>:</h4>
<p>I agree that having the mentions view not mark as read is better than what it currently is. I could see an argument that a near view linked to by the Mentions view shouldn't do the "don't mark as read" thing.</p>



<a name="1417187"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1417187" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1417187">(Aug 08 2022 at 23:47)</a>:</h4>
<p>Here's the challenge -- clicking on the mention should probably take you to the mention itself, even if that's 50 messages below the last thing you've read in that topic.</p>



<a name="1417188"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1417188" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1417188">(Aug 08 2022 at 23:47)</a>:</h4>
<p>But it'd be pretty bad if we marked everything as read for you in the topic above what you clicked on -- that's going to lose your place if you want to actually read the portion of the context that's new.</p>



<a name="1417989"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1417989" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1417989">(Aug 10 2022 at 17:39)</a>:</h4>
<p>Could we do something smart that can tell if all unread messages are currently in view?</p>



<a name="1418031"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1418031" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1418031">(Aug 10 2022 at 20:16)</a>:</h4>
<p>It seems like part of the change that's been test-deployed here is that the shift-S shortcut no longer takes me to a view where the messages actually get marked as read in the normal way.</p>
<p>A consequence of that is that AFAICT there no longer is any way to get to such a view with the keyboard, and no longer a way to get to such a view without doing something pretty subtle and nonobvious -- like click a second time on the topic in the recipient header.</p>



<a name="1418035"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1418035" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1418035">(Aug 10 2022 at 20:20)</a>:</h4>
<p>Previously a thing I've regularly used is:</p>
<ul>
<li>I'm on some /near/NNN view.</li>
<li>I've now read the messages and want to mark them as read -- or, it's a long thread, I've read the first few messages, and I want the ones I read to get marked as read in the normal way.</li>
<li>So I hit shift-S. That removes the /near/NNN from the URL, so that messages get marked as read in the normal way.</li>
</ul>
<p>It seems like shift-S no longer removes /near/NNN, so effectively once I'm on a /near/NNN view for a given conversation shift-S no longer does anything useful. I'd like to have it start working again, at least in that situation.</p>



<a name="1418168"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1418168" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1418168">(Aug 11 2022 at 01:00)</a>:</h4>
<p>Hmm, I would not have expected the <code>shift+S</code> behavior to change ... though I suppose logically it is basically the same as clicking on a message heading, so I'm not sure it totally makes sense for these to be inconsistent.</p>



<a name="1418169"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1418169" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1418169">(Aug 11 2022 at 01:00)</a>:</h4>
<p>I'm not sure this experiment is going to be successful as designed; it seems possible we want to think about an alternative design for how to get the "don't mark messages read" view.</p>



<a name="1422944"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1422944" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1422944">(Aug 22 2022 at 18:14)</a>:</h4>
<p>Hmm, the problem we were trying to solve in <a href="https://github.com/zulip/zulip/pull/21216">#21216</a> was not really about whether messages were getting marked as read. It was about which message the header bar link would take you to:</p>
<blockquote>
<p>Currently, clicking on the search result topic (or the recipients in a PM thread) takes you to the message if it's been read. However, if it's unread, it takes you to the latest read message, which can be very confusing.</p>
</blockquote>



<a name="1422948"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1422948" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1422948">(Aug 22 2022 at 18:15)</a>:</h4>
<p>The resulting not marking as read state was just a consequence of how <code>near</code> links work in general.</p>



<a name="1422950"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1422950" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1422950">(Aug 22 2022 at 18:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1418035">said</a>:</p>
<blockquote>
<p>Previously a thing I've regularly used is:</p>
<ul>
<li>I'm on some /near/NNN view.</li>
<li>I've now read the messages and want to mark them as read -- or, it's a long thread, I've read the first few messages, and I want the ones I read to get marked as read in the normal way.</li>
<li>So I hit shift-S. That removes the /near/NNN from the URL, so that messages get marked as read in the normal way.</li>
</ul>
<p>It seems like shift-S no longer removes /near/NNN, so effectively once I'm on a /near/NNN view for a given conversation shift-S no longer does anything useful. I'd like to have it start working again, at least in that situation.</p>
</blockquote>
<p>Hmm, if you're currently in a "near" view, is removing the "near" part from the URL the only thing that <code>Shift-S</code> does? Or does it also potentially navigate you to a different part of the thread?</p>



<a name="1422956"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1422956" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1422956">(Aug 22 2022 at 18:28)</a>:</h4>
<p>Well, currently on czo it does nothing <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> </p>
<p>(More precisely, it changes the URL from …/near/NNN to …/near/MMM , to refer to the message the cursor is currently on -- but nothing happens in the actual page)</p>



<a name="1422957"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1422957" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1422957">(Aug 22 2022 at 18:29)</a>:</h4>
<p>I believe before this change (so in main?), it would move the cursor to the first unread.</p>
<p>Typically in my usage that would already be on screen, so no scrolling would happen.</p>



<a name="1424728"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1424728" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1424728">(Aug 24 2022 at 23:17)</a>:</h4>
<p>I will note that our codebase very much has the capability to take you to a specific target message when narrowing not via <code>near</code> view; that was the default model for years before we added <code>near</code> views. The problem is doing so can lose your unread state.</p>



<a name="1427342"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1427342" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1427342">(Aug 29 2022 at 22:09)</a>:</h4>
<p>I just followed up on this topic thanks to <span class="user-mention silent" data-user-id="19257">Alya Abbott</span>,  after the discussion following my proposal of a necessary precursor to the original idea of <a class="stream-topic" data-stream-id="2" href="/#narrow/stream/2-general/topic/s.2FS.2Fz.20hotkeys">#general &gt; s/S/z hotkeys</a>.</p>



<a name="1427346"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1427346" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1427346">(Aug 29 2022 at 22:14)</a>:</h4>
<p>As discussed there, this issue sounds like it would support the contextual (near) narrow changes I was looking for, in at least the PM/topic cases.<br>
(I was hoping for ultimately a more broad change to support stream narrows and potentially others like all-messages)</p>
<p>In that topic I anticipated the need for a hotkey/UI to switch from contextual to unread views, which seems to be the issue with this design currently? Would that be an acceptable approach?</p>



<a name="1428064"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1428064" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1428064">(Aug 30 2022 at 21:19)</a>:</h4>
<p>OK, here's a possible proposal after brainstorming some more with <span class="user-mention silent" data-user-id="2187">Greg Price</span>:</p>
<ol>
<li>
<p>If you are in a search view that does not mark messages as read, the topic bar and <code>Shift+S</code> take you to the <code>near</code> view for the message, as in <a href="https://github.com/zulip/zulip/pull/21417">#21417</a>.</p>
</li>
<li>
<p>Elsewhere,  including "near" views, the topic bar and <code>Shift+S</code> has the current behavior of taking you to the topic (i.e. your first unread message or the end of the topic, if all messages are already read).</p>
</li>
</ol>
<p>This would more narrowly solve <a href="https://github.com/zulip/zulip/pull/21216">#21216</a>. It's a little tricky conceptually, but the intuitive idea is that in (1) you're taking a half-step towards viewing the conversation, and in (2) you're getting all the way there. The hope would be that it would just feel to the user like the app is doing the right thing, without them having to think too hard about these definitions. For the purposes of documentation, we could describe the two shortcut key behaviors separately, as they apply in different contexts.</p>
<p>I'll have to think more about how this interacts with <span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> 's ideas...</p>



<a name="1428318"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1428318" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1428318">(Aug 31 2022 at 00:19)</a>:</h4>
<p>It seems like you're solving Greg's shortcut concern by overloading <code>shift+S</code>/topic-bar behavior based on the initial narrow.<br>
So from a search, or mentions or similar, that key on a stream message would 1) go to topic near narrow then 2) go to topic narrow (next unread).</p>
<p>I can understand that this fits with the current Zulip model of viewing a conversation generally meaning going to the next unread message, so going 'half way' first makes sense from that point of view (to a specific message). As a way to resolve the specific issue, it sounds reasonable and it retains Greg's hotkey memory. However, while it may mimic the existing behavior while solving a problem, and it could be a step to a larger change, overloading feels like a confusing UX. The user has to think "will this key change the context around this message, or change my unreads and move my current position in the narrow?". While this design/key-usage may be present to a degree already, and it may work fine, supporting it explicitly might also expose it as being confusing (raising the earlier user questions) but also inconsistent - what about all the other narrowing hotkeys/actions? Might<code>S</code> go to the message in stream context, then <code>S</code> again to next unread in the stream?</p>
<p>My recent followup to <a class="stream-topic" data-stream-id="2" href="/#narrow/stream/2-general/topic/s.2FS.2Fz.20hotkeys">#general &gt; s/S/z hotkeys</a> concerned how for<code>z</code> to be reliable, a required precursor was effectively for narrowing keys (and similar UI elements) to go to 'near' narrows only. The consequence from that was a need for an additional hotkey/UI to bridge the gap between the current behavior and this, namely to perform exactly the second stage noted by Alya or (2) above, ie jump to first unread in this narrow. Later discussion and reading in <a class="stream" data-stream-id="101" href="/#narrow/stream/101-design">#design</a> emphasized this would be likely more accurately going from a not-marking-read view of a narrow, to one that does. </p>
<p>Discussion in <a class="stream-topic" data-stream-id="101" href="/#narrow/stream/101-design/topic/mark.20as.20unread">#design &gt; mark as unread</a> also indicated the desire for a similar hotkey, to support returning to a marking-read view after entering a not-marking-read view related to taking a marking unread action. While previously I wasn't sure of a UI element equivalent for the hotkey, that discussion mentioned a banner which shows if you're not marking read in the view. I'm unsure of the intent of that banner, but it currently only seems to be at the bottom of a narrow and the button maybe is a shortcut to marking all of the narrow read? If the banner is shown more consistently - which I understand was discussed and/or is planned - then this seems a prime location to also have a 'jump to first unread' button.</p>



<a name="1428368"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1428368" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1428368">(Aug 31 2022 at 01:37)</a>:</h4>
<p>I understand there's a desire to resolve a user issue promptly and not upset current behavior too much, which <span class="user-mention silent" data-user-id="19257">Alya Abbott</span> and <span class="user-mention silent" data-user-id="2187">Greg Price</span>'s proposal supports. As above my concern would be if this set a constraint which limited handling this more cleanly.</p>
<p>Since there are already other cases of 'near' narrows in Zulip, adding a feature to 'go to first/next unread in this narrow (and start marking read)' seems like a worthy one to add independently, but would also integrate nicely with the issue here. If that feature is sufficiently clear to <span class="user-mention silent" data-user-id="19257">Alya Abbott</span> or <span class="user-mention silent" data-user-id="2187">Greg Price</span> we could extract further discussion of it into another topic, unless there is desire to integrate it with/prior to the open PR/issue.</p>
<p>While I do feel that feature alone would support the current Zulip design and the user issue, I also think it would enable opening a wider conversation on enabling greater use of 'near' views of narrows. Among other things, that of course could include if both <code>shift+S</code> and <code>S</code> might go to near views, which would support reliable introduction of <code>z</code>; that as well as  <code>a</code> could then allow seeing messages being sent in a wider context.</p>



<a name="1428936"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1428936" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1428936">(Sep 01 2022 at 00:27)</a>:</h4>
<p>Just to clarify a bit: my feedback here wasn't really about retaining a hotkey memory, so much as about having a way to handle this use case with the keyboard at all.</p>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1418031">said</a>:</p>
<blockquote>
<p>A consequence of that is that AFAICT there no longer is any way to get to such a view with the keyboard, and no longer a way to get to such a view without doing something pretty subtle and nonobvious -- like click a second time on the topic in the recipient header.</p>
</blockquote>



<a name="1493266"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493266" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493266">(Jan 19 2023 at 21:47)</a>:</h4>
<p>I'd like to bump this thread, after hearing a couple more user stories from folks struggling to get from search results to conversations. One user didn't know how to do it at all; another hand figured out the workaround of using "Copy link to message" in the three-dot menu and opening that in a new tab.</p>



<a name="1493267"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493267" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493267">(Jan 19 2023 at 21:48)</a>:</h4>
<p><span class="user-mention" data-user-id="21453">@Evy</span> Perhaps <a href="https://github.com/zulip/zulip/pull/21217">#21217</a> could be an issue for you to take a look at while waiting to get redesign work unblocked?</p>



<a name="1493272"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493272" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493272">(Jan 19 2023 at 21:59)</a>:</h4>
<p>We should also unblock the next iteration on <a href="https://github.com/zulip/zulip/pull/21216">#21216</a>. I think there are roughly two options discussed above.</p>
<p>Option 1:</p>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1428064">said</a>:</p>
<blockquote>
<ol>
<li>
<p>If you are in a search view that does not mark messages as read, the topic bar and <code>Shift+S</code> take you to the <code>near</code> view for the message, as in <a href="https://github.com/zulip/zulip/pull/21417">#21417</a>.</p>
</li>
<li>
<p>Elsewhere,  including "near" views, the topic bar and <code>Shift+S</code> has the current behavior of taking you to the topic (i.e. your first unread message or the end of the topic, if all messages are already read).</p>
</li>
</ol>
</blockquote>
<p>Option 2:</p>
<ol>
<li>The topic bar and <code>Shift+S</code>always  take you to the <code>near</code> view for the message, as in <a href="https://github.com/zulip/zulip/pull/21417">#21417</a>.</li>
<li>We add a <code>z</code> ("zoom") keyboard shortcut that takes users to the topic  (i.e. your first unread message or the end of the topic, if all messages are already read).</li>
</ol>
<p>(<span class="user-mention" data-user-id="2406">@Neil Pilgrim (neiljp)</span> Correct me if I'm not summarizing this correctly.)</p>
<p>The second option seems simpler to explain to users, so maybe we should just do that?</p>



<a name="1493340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493340">(Jan 19 2023 at 23:07)</a>:</h4>
<p>See also <a href="https://github.com/zulip/zulip/pull/24095">#24095</a> (filed recently).</p>



<a name="1493375"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493375" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493375">(Jan 20 2023 at 00:41)</a>:</h4>
<p>The division of behaviors in option 2 makes sense to me.</p>
<p>Perhaps in that case the keychords for the shortcuts should be reversed, though? The reason "narrow to topic/conversation" is shift+S is that it pairs with "narrow to stream", which is S. So we could have:</p>
<ul>
<li>S ("stream") narrows to stream</li>
<li>Shift+S ("stream, but more so") narrows to topic/conversation</li>
<li>Z ("zoom") goes straight to the message, in a <code>/near/</code> view that doesn't mark as read</li>
</ul>



<a name="1493397"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493397" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493397">(Jan 20 2023 at 01:21)</a>:</h4>
<p>That makes sense to me!</p>



<a name="1493431"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493431" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493431">(Jan 20 2023 at 01:50)</a>:</h4>
<p>I should mention we've in the past discussed swapping s/S, since it's much more common to want to narrow to a topic than to a stream.</p>



<a name="1493432"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493432" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493432">(Jan 20 2023 at 01:51)</a>:</h4>
<p>I like the idea of "z" being "zoom to conversation in /near/ view centered on the target message", vs. <code>s</code> being "Go to this conversation" (as opposed to the other way around).</p>



<a name="1493434"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493434" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493434">(Jan 20 2023 at 01:56)</a>:</h4>
<p>One thing to note is that our current s/S hotkeys currently do take you to the selected message (not the end) if there are no unread messages above that point; this detail is part of the interaction design for "All messages", though I'm not sure how important it is. </p>
<p>Specifically, if you're looking at "All messages" with a given message M selected and hit <code>S</code>, you'll end up on that message in the narrowed view. If you then use <code>a</code> (or <code>Esc</code>, if All messages is your default view) to go back, and didn't read any messages in the meantime, you'll land back in All Messages with message M selected. (If you read anything in that narrowed view, returning to All Messages will instead take you to the first unread message).</p>
<p>I am not sure whether the above proposal for the new behavior of the s/S shortcuts would be to remove that behavior and just jump you to place you'd be at if you'd clicked into the topic without a specific message as context.</p>



<a name="1493451"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493451" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493451">(Jan 20 2023 at 02:10)</a>:</h4>
<p>I think this proposal doesn't need to involve changing behavior in that respect.</p>



<a name="1493452"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493452" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493452">(Jan 20 2023 at 02:40)</a>:</h4>
<p>There was a <em>lot</em> of previous discussion here, across various topics. Without rereading everything, the key thing from the perspective of ZT is that <code>z</code> keeps the message context, and zooms in/out. If retaining message context implies a near narrow in the web app, that would be the most compatible in terms of  adding <code>z</code> to the web app.</p>
<p>In ZT, <code>z</code> is currently defined in the help as <code>Narrow to a topic/private-chat, or stream/all-private-messages</code> (<a href="https://github.com/zulip/zulip-terminal/blob/main/docs/hotkeys.md">https://github.com/zulip/zulip-terminal/blob/main/docs/hotkeys.md</a>). Note that this therefore applies to PMs too.</p>
<p>That's approximately defined as a difference to the web app at <a href="https://github.com/zulip/zulip-terminal#feature-status">https://github.com/zulip/zulip-terminal#feature-status</a>, though it probably would benefit from being expanded to include that currently <em>all</em> narrowing from a message works that way - vs narrowing via the side panels, where there's clearly no message context.</p>
<p>ZT's behavior when narrowing based on a focused message, sounds a little like Tim's discussion of all-messages behavior above, except in ZT then it's always contextual (if possible), even if the user reads or moves around before narrowing elsewhere.</p>
<p>The later summary by Greg/Tim has a closer match to my own/ZT, but:</p>
<ul>
<li>it's not clear if these include that <code>z</code> would zoom in <em>and</em> out</li>
<li>these also work on PMs in ZT</li>
</ul>



<a name="1493490"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493490" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493490">(Jan 20 2023 at 06:54)</a>:</h4>
<p>As I discussed elsewhere, in ZT and if adopted elsewhere, that does leave a gap for handling contextual-&gt;unread state changes (ie. near-&gt;unread/regular narrows). <code>n</code> could be adapted, assuming it doesn't handle this already, but it would be more consistent for users as a separate key ("right now, will <code>n</code> change topic? or go to the end?"). Such an action (key/GUI) already partially exists as a banner, after marking-unread entering a near narrow (to go back to marking read), and I believe was going to be used in the previous PR for the search case - though with no hotkey in either case.</p>



<a name="1493659"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493659" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493659">(Jan 20 2023 at 18:58)</a>:</h4>
<p>I was imagining that <code>z</code> would just zoom in... If it also zoomed out, would that be the equivalent of <code>S/s/a</code>, depending on where you came from?</p>



<a name="1493660"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1493660" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1493660">(Jan 20 2023 at 19:00)</a>:</h4>
<p>By the way, if we do switch <code>S</code> and <code>s</code>, would it be possible to pop an alert to tell the user about it the first time they use one of these shortcuts after the change is made? We could introduce them to <code>z</code> as well.</p>



<a name="1494177"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1494177" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1494177">(Jan 21 2023 at 06:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1493267">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="21453">Evy</span> Perhaps <a href="https://github.com/zulip/zulip/pull/21217">#21217</a> could be an issue for you to take a look at while waiting to get redesign work unblocked?</p>
</blockquote>
<p>This feels very related to <a href="https://github.com/zulip/zulip/pull/21417">#21417</a> -- did we end up addressing whatever we didn't like in that PR? I wasn't following that super closely.</p>



<a name="1494196"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1494196" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1494196">(Jan 21 2023 at 08:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1493659">said</a>:</p>
<blockquote>
<p>I was imagining that <code>z</code> would just zoom in... If it also zoomed out, would that be the equivalent of <code>S/s/a</code>, depending on where you came from?</p>
</blockquote>
<p>In ZT, <code>z</code> currently does a toggle between the 'most zoomed in' for that type of message, and the 'next zoomed out'. That is, topic&lt;-&gt;stream, or conversation&lt;-&gt;all-PMs.</p>
<p>There has been discussion on different ways to incorporate other narrowing keys like <code>a</code>, ie. whether to return to the previous location, but that requires the user to remember which state that was. Right now additional hotkeys in ZT for other narrows like mentions and starred messages (see the linked docs above) behave similarly to <code>a</code> in keeping message context. That's the other reason I mentioned the importance of a hotkey/UI to switch near&lt;-&gt;unread state.</p>



<a name="1494389"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1494389" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1494389">(Jan 21 2023 at 18:51)</a>:</h4>
<p>I am a bit scarred with single letter hot keys which do things... sometimes people just accidentally hit buttons. I guess it is good that the back button work in Zulip</p>



<a name="1495048"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1495048" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1495048">(Jan 23 2023 at 18:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="21453">Evy</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1494177">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1493267">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="21453">Evy</span> Perhaps <a href="https://github.com/zulip/zulip/pull/21217">#21217</a> could be an issue for you to take a look at while waiting to get redesign work unblocked?</p>
</blockquote>
<p>This feels very related to <a href="https://github.com/zulip/zulip/pull/21417">#21417</a> -- did we end up addressing whatever we didn't like in that PR? I wasn't following that super closely.</p>
</blockquote>
<p>The problem that led us not to merge it was <span class="user-mention silent" data-user-id="2187">Greg Price</span>'s observation <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1418031">here</a>, so I think we'll be able to modify it and merge it once the shortcut keys discussion above is settled. I think we want both <a href="https://github.com/zulip/zulip/pull/21217">#21217</a> and <a href="https://github.com/zulip/zulip/pull/21417">#21417</a> to happen, though.</p>



<a name="1495556"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1495556" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1495556">(Jan 24 2023 at 02:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="22433">Vlad Korobov</span> It may be better now that we have mark-unread in the web app. In ZT there is only explicit mark-read, so <code>zz</code> is idempotent.</p>



<a name="1495858"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1495858" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1495858">(Jan 24 2023 at 11:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="22433">Vlad Korobov</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1494389">said</a>:</p>
<blockquote>
<p>I am a bit scarred with single letter hot keys which do things... sometimes people just accidentally hit buttons. I guess it is good that the back button work in Zulip</p>
</blockquote>
<p>The confusing part is when a hot key accidentally changes which view state you are in (all messages / topic narrow / stream narrow / PM / huddle) without your knowledge. This could be mitigated, so that when you press a key that changes the view state, it announces the action "Narrow changed to x" in a hover text.</p>
<p>Also, what I find confusing is that in general, the only surest way for me to know whether I am in a topic/stream narrow, in the web app, is by looking at the URL. If it is short, then I am in a stream narrow. If it is very long with topic, then I am in a topic narrow. Though in most cases, I usually make sure that I am always in the topic narrow, so that I don't even have to look at the URL.</p>
<p>On my ZT fork, I have made the view state explicit: <a href="#narrow/stream/206-zulip-terminal/topic/mode.20indicator.20like.20vim/near/1249826">https://chat.zulip.org/#narrow/stream/206-zulip-terminal/topic/mode.20indicator.20like.20vim/near/1249826</a>.</p>



<a name="1495998"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1495998" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1495998">(Jan 24 2023 at 17:33)</a>:</h4>
<blockquote>
<p>Also, what I find confusing is that in general, the only surest way for me to know whether I am in a topic/stream narrow, in the web app, is by looking at the URL</p>
</blockquote>
<p>Hm, that's an interesting point. You can tell from the highlighting in the left sidebar, but it's not so clear in the message view part of the window.</p>



<a name="1496444"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1496444" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1496444">(Jan 25 2023 at 02:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1495998">said</a>:</p>
<blockquote>
<blockquote>
<p>Also, what I find confusing is that in general, the only surest way for me to know whether I am in a topic/stream narrow, in the web app, is by looking at the URL</p>
</blockquote>
<p>Hm, that's an interesting point. You can tell from the highlighting in the left sidebar, but it's not so clear in the message view part of the window.</p>
</blockquote>
<p>Looking at the left sidebar doesn't work 100% of the time. My laptop screen is small (12.5"), and so sometimes the highlighted topic is not even visible in the left sidebar.</p>



<a name="1496473"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1496473" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1496473">(Jan 25 2023 at 05:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2328">Rein Zustand</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1496444">said</a>:</p>
<blockquote>
<p>My laptop screen is small (12.5"), and so sometimes the highlighted topic is not even visible in the left sidebar.</p>
</blockquote>
<p>This is an interesting point. It may be useful for us to do something to fix that — like, when navigating to a different narrow, scroll the left sidebar as necessary so that the highlighted conversation is visible.</p>
<p>I sometimes run into this myself, and find it a bit disorienting. Now that I think about it, I do seem to run into it more often on my office machine (which has fewer pixels) than on my home desktop with its large monitor…</p>
<p>(If we discuss this further, it probably belongs in its own topic.)</p>



<a name="1497036"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1497036" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1497036">(Jan 26 2023 at 01:43)</a>:</h4>
<p>We definitely already scroll the topic into view in the left sidebar when you narrow to it; I bet we added that in 2012.</p>



<a name="1497037"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1497037" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1497037">(Jan 26 2023 at 01:44)</a>:</h4>
<p>(But you can of course scroll the sidebar elsewhere, so there's no guarantee it stays in that state).</p>



<a name="1497038"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1497038" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1497038">(Jan 26 2023 at 01:45)</a>:</h4>
<p>We at some point had a design idea that a topic view would display just the topic, and not the stream, in the second row here:</p>
<p><a href="/user_uploads/2/7b/zx9H8t6ddR8YSiLGpqTMGZCv/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/7b/zx9H8t6ddR8YSiLGpqTMGZCv/image.png" title="image.png"><img src="/user_uploads/2/7b/zx9H8t6ddR8YSiLGpqTMGZCv/image.png"></a></div><p>I don't think we were ever really sure if that was a better experience, but I think changing that part of the display would make it more clear.</p>



<a name="1497040"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1497040" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1497040">(Jan 26 2023 at 01:46)</a>:</h4>
<p>That said, probably this is all a digression from the <code>z</code> keyboard shortcut discussion, so we should get back to that.</p>



<a name="1497140"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1497140" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1497140">(Jan 26 2023 at 06:22)</a>:</h4>
<p>I think the proposal currently on the table is:</p>
<ul>
<li><code>S</code> narrows to topic or PM conversation   </li>
<li><code>Shift+S</code> narrows to stream</li>
<li>[unchanged] <code>Shift + P</code> Narrows to all private messages   </li>
<li><code>Z</code> ("zoom") goes straight to the message, in a <code>/near/</code> view that doesn't mark as read. This should work in streams and PMs.</li>
</ul>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> brought up that in ZT, <code>z</code> works as both <code>S</code> and <code>Shift+S</code> in the proposal above; we could consider having <code>S</code> do double duty as well. But I think that would be significantly more awkward to document.</p>



<a name="1497804"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1497804" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1497804">(Jan 27 2023 at 02:31)</a>:</h4>
<p>The toggle keyboard shortcut has been available in ZT for years. As such, we should be able to poll ZT users on whether they prefer <code>z</code> or <code>S</code>/<code>shift+S</code> for switching between stream and topic narrow.</p>



<a name="1498266"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498266" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498266">(Jan 27 2023 at 22:28)</a>:</h4>
<p>I do find that a concise description of how <code>Z</code> performs double-duty is challenging.</p>
<p>However, personally I also find it challenging to remember which keyboard shortcut is for topics vs streams, ie. <code>S</code> vs <code>Shift</code>+<code>S</code>.</p>
<p>So, it may be easy to document, but if I have to look it up every time it's not great ;)</p>



<a name="1498271"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498271" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498271">(Jan 27 2023 at 22:34)</a>:</h4>
<p>That said, <code>Z</code> on a topic or PM conversation is not the same as <code>Shift</code>+<code>S</code> or <code>Shift</code>+<code>P</code>, at least in ZT, since it retains the near properties.</p>



<a name="1498279"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498279" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498279">(Jan 27 2023 at 22:42)</a>:</h4>
<p>However... I just checked and ZT has topic=<code>shift S</code>, stream=<code>S</code> listed in the hot keys, possibly based on the premise that Tim noted earlier of the web app switching these keys around 'real soon now' (but not yet?).</p>
<p>[edited to reflect that the proposal differs from current behavior for s/S in the web app]</p>



<a name="1498280"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498280" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498280">(Jan 27 2023 at 22:47)</a>:</h4>
<p>Ah, apologies <span class="user-mention" data-user-id="19257">@Alya Abbott</span>, you stated <code>S</code> doing double duty would be challenging to document, rather than specifically introducing allowing <code>Z</code> to also zoom 'out' with <code>/near/</code>.</p>



<a name="1498281"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498281" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498281">(Jan 27 2023 at 22:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1498279">said</a>:</p>
<blockquote>
<p>However... I just checked and ZT has topic=<code>shift S</code>, stream=<code>S</code> listed in the hot keys, possibly based on the premise that Tim noted earlier of the web app switching these keys around 'real soon now' (but not yet?).</p>
<p>[edited to reflect that the proposal differs from current behavior for s/S in the web app]</p>
</blockquote>
<p>Yes, the proposal switches <code>S</code> and <code>Shift+S</code>.</p>



<a name="1498282"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498282" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498282">(Jan 27 2023 at 22:53)</a>:</h4>
<p>My preference generally would be that if we do change the keys at all, they move in a direction that would enable reuse and extension down the road.</p>



<a name="1498303"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498303" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498303">(Jan 27 2023 at 23:08)</a>:</h4>
<p>In an ideal world I've considered various options along the lines of having <code>(modifier)</code> (eg shift, or the inverse) visit a larger non-near narrow (stream, all PMs, all-messages, ...), ie. to read next message, and having the inverse of <em>that</em> be the contextual (near) form.</p>



<a name="1498309"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498309" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498309">(Jan 27 2023 at 23:10)</a>:</h4>
<p>Oh, I also missed that this proposed switching S vs. Shift+S:</p>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1497140">said</a>:</p>
<blockquote>
<p>I think the proposal currently on the table is:</p>
<ul>
<li><code>S</code> narrows to topic or PM conversation   </li>
<li><code>Shift+S</code> narrows to stream […]</li>
</ul>
</blockquote>
<p>My version above that had S and Shift+S keeping their current meanings:</p>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1493375">said</a>:</p>
<blockquote>
<p>Perhaps in that case the keychords for the shortcuts should be reversed, though? The reason "narrow to topic/conversation" is shift+S is that it pairs with "narrow to stream", which is S. So we could have:</p>
<ul>
<li>S ("stream") narrows to stream</li>
<li>Shift+S ("stream, but more so") narrows to topic/conversation</li>
<li>Z ("zoom") goes straight to the message, in a <code>/near/</code> view that doesn't mark as read</li>
</ul>
</blockquote>
<p>(Perhaps "should be reversed" was confusing ­— I meant relative to the proposals before that, which were effectively switching them relative to the status quo.)</p>
<p>I don't think I have a real strong preference for the status quo there (I might even think we should make that switch), but if we want to change it I feel a bit more discussion would be good.</p>



<a name="1498316"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498316" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498316">(Jan 27 2023 at 23:12)</a>:</h4>
<p>The idea to switch s/S came from:</p>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1493431">said</a>:</p>
<blockquote>
<p>I should mention we've in the past discussed swapping s/S, since it's much more common to want to narrow to a topic than to a stream.</p>
</blockquote>



<a name="1498318"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498318" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498318">(Jan 27 2023 at 23:13)</a>:</h4>
<p>(I don't use any of these keys, so don't have any personal intuition on it.)</p>



<a name="1498321"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498321" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498321">(Jan 27 2023 at 23:15)</a>:</h4>
<p>Got it, thanks, missed that line earlier.</p>
<p>Yeah, that reasoning makes sense to me.</p>



<a name="1498323"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498323" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498323">(Jan 27 2023 at 23:15)</a>:</h4>
<p>I think making the lower-case letter be for the stream comes from the same early-Zulip design concept as having All Messages be the home view — the idea in that era was that the interleaved views were primary.</p>



<a name="1498325"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498325" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498325">(Jan 27 2023 at 23:16)</a>:</h4>
<p>(That reasoning is in fact the same reasoning I had in mind here:)</p>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1498309">said</a>:</p>
<blockquote>
<p>I don't think I have a real strong preference for the status quo there (I might even think we should make that switch),</p>
</blockquote>



<a name="1498326"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498326" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498326">(Jan 27 2023 at 23:16)</a>:</h4>
<p>In terms of <span class="user-mention silent" data-user-id="19257">Alya Abbott</span>'s specific proposal, it seems like a good first step.</p>
<p>Ideally that would allow building upon that to consider consistent:</p>
<ul>
<li>near&lt;-&gt;non-near hotkeys/banners</li>
<li>introducing the inverse use of <code>Z</code></li>
<li>considering other improvements in hotkey consistency</li>
<li>possibly how this relates to the go-to-next-unread behavior and similar?</li>
</ul>



<a name="1498395"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498395" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498395">(Jan 28 2023 at 00:29)</a>:</h4>
<p>I think doing <code>S</code> double duty shouldn't be put out of the table just from the documentation challenge.<br>
The current ZT documentation is</p>
<blockquote>
<p>Narrow to a topic/private-chat, or stream/all-private-messages</p>
</blockquote>
<p>Which technically compresses the current documentation of <code>S</code> and <code>Shift+S</code> into one (it could say "toggle narrow" if this clarifies further). And the user can easily try it on the spot to see what the shortcut does.</p>



<a name="1498501"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498501" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498501">(Jan 28 2023 at 06:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2328">Rein Zustand</span> Do you mean <code>S</code> or <code>Z</code> here? These won't be the same in the proposed change, and while <code>ZZ</code> in ZT should change no state, <code>S</code> followed by <code>Shift</code>+<code>S</code> right now can be quite different in the web app.</p>
<p>I understand you were focusing on the explanation aspect, and I agree this needs addressing if introducing <code>Z</code> to only zoom-in first, with a plan to later consider <code>Z</code> to also zoom back out again. One idea might be to focus on treating not-marking-read as a different (or modified) action to narrowing, either just in documentation or generally, so later we might have <code>Toggle Exploring message in [topic/PM] conversation or wider context</code> (bracketed text optional), and for now perhaps something like <code>Explore message in conversation context</code>?</p>
<p>Just to clarify for anyone coming from ZT: this may seem simple, since right now ZT doesn't distinguish between the two URL behaviors the web app has in quite the same way. Now (or soon?) my understanding is that in the web app entering a <code>/near/</code> narrow goes to approximately that message and won't mark read (unless explicitly desired), while entering a non-<code>/near/</code> narrow jumps to first unread or the last message. In ZT the behavior is generally like the first case only, except for certain hot keys (or UI elements) jumping to specific unread/last positions (though we need more keys/UI to improve that).</p>



<a name="1498508"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498508" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498508">(Jan 28 2023 at 07:36)</a>:</h4>
<p>Right now, my experience of the web app is that the contextual behavior from a selected message is:</p>
<ul>
<li>the stream version (<code>S</code>) does a 'next unread or last message' in the stream (and marking read - unless surrounded by some read?)</li>
<li>similarly the topic version (<code>Shift</code>+<code>S</code>) does a 'next unread or last message' in the topic</li>
</ul>
<p>I was going to say that these did something similar with PMs, but it's kinda nuanced, since:</p>
<ul>
<li><code>S</code> will only go to the message if it's in a stream (admittedly as documented)<ul>
<li>but this means I can't jump from a private conversation to all-PMs without going to a next-unread narrow by using <code>Shift</code>+<code>P</code> first</li>
</ul>
</li>
<li><code>Shift</code>+<code>S</code> seems to zoom in to a PM conversation, as expected.</li>
</ul>
<p>After the current (initial) proposal:</p>
<ul>
<li><code>Shift</code>+<code>P</code> = next unread/last message in All-PMs (marking-read narrow) [unchanged]</li>
<li><code>Shift</code>+<code>S</code> = next unread/last message in stream of this message (marking-read narrow)</li>
<li><code>S</code> = next unread/last message in topic of this message (marking-read narrow) <strong>or</strong> in conversation of this message</li>
<li><code>Z</code> = this message in zoomed-in/conversation (topic- or PM-conversation) context (near narrow, not marking read)</li>
</ul>
<p>The lack of mobility from a PM conversation to its location in All-PMs discussed above would be fixed by applying the follow-up:</p>
<ul>
<li><code>Z</code> = [also] this message in zoomed-out/wider (stream or All-PMs) context (near narrow, not marking read)</li>
</ul>
<p>It's too late to lay out an alternative right now, but while the proposal (and followup) is a logical direction to take to mirror ZT, I'm wary for the longer-term, with the crux of the issue being that <code>Shift</code>+<code>P</code> is an unconditional change of narrow (there's no message context). That compares to <code>Shift</code>+<code>S</code> which is contextual, but also eg. <code>A</code> which is not.</p>



<a name="1498599"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1498599" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rein Zustand <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1498599">(Jan 28 2023 at 13:37)</a>:</h4>
<p>I thought the current consensus is to:</p>
<ul>
<li>eventually swap <code>S</code> and <code>Shift+S</code></li>
<li>introduce <code>Z</code> for zooming in to <code>/near/</code></li>
</ul>
<p>What I had in mind is to:</p>
<ul>
<li>port ZT's current <code>Z</code>'s stream/topic behavior to <code>S</code>, for toggling between topic and stream narrow, i.e. the <code>S</code> double duty</li>
<li>the former then frees up the <code>Z</code> shortcut to be used for zooming in to <code>/near/</code></li>
</ul>
<p>Both are regardless of whether there should be a toggle for zooming out of <code>/near</code>, regardless of where the shortcut puts you in the narrow, and regardless of whether the shortcut changes the state irreversibly. Those points also need to be discussed, but what I'm more concerned about, is the missed opportunity of at least having the convenient <code>S</code> doing double duty in the web app.</p>



<a name="1499382"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499382" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499382">(Jan 30 2023 at 21:17)</a>:</h4>
<p>Ok, I filed <strong>Improve S and Shift+S shortcut keys</strong> <a href="https://github.com/zulip/zulip/pull/24226">#24226</a> with the amended proposal to just use <code>S</code> and get rid of <code>Shift</code>+<code>S</code>. Also filed <strong>Implement <code>z</code> shortcut to zoom to message <code>near</code> view</strong> <a href="https://github.com/zulip/zulip/pull/24227">#24227</a>.</p>



<a name="1499383"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499383" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499383">(Jan 30 2023 at 21:18)</a>:</h4>
<p>Thanks all for the thoughtful discussion!</p>



<a name="1499432"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499432" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499432">(Jan 30 2023 at 22:20)</a>:</h4>
<p>Thanks for filing these <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span><br>
Having a solid couple of points is useful to implement or compare from.</p>



<a name="1499437"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499437" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499437">(Jan 30 2023 at 22:29)</a>:</h4>
<p>To clarify the <code>Z</code> issue (<a href="https://github.com/zulip/zulip/pull/24227">#24227</a>), and from rereading the above, the issue is specced to only absolutely turn the 'nearness' on, not to zoom in?</p>



<a name="1499453"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499453" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499453">(Jan 30 2023 at 22:39)</a>:</h4>
<p>To clarify, I like the idea of removing the confusion between which of <code>S</code>/<code>Shift</code>+<code>S</code> does what, but that's mainly due to both having the same root key.</p>
<p>Solving that problem in some sense, by making it do double duty, is appealing. However, that a single key then does different things with different stateful changes feels like presenting a bad UX.</p>



<a name="1499472"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499472" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499472">(Jan 30 2023 at 23:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1499437">said</a>:</p>
<blockquote>
<p>To clarify the <code>Z</code> issue (<a href="https://github.com/zulip/zulip/pull/24227">#24227</a>), and from rereading the above, the issue is specced to only absolutely turn the 'nearness' on, not to zoom in?</p>
</blockquote>
<p>Yes, that's right. I think that's the clearest definition, and the one that offers unique functionality not available with other shortcut keys.</p>



<a name="1499475"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499475" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499475">(Jan 30 2023 at 23:10)</a>:</h4>
<blockquote>
<p>Solving that problem in some sense, by making it do double duty, is appealing. However, that a single key then does different things with different stateful changes feels like presenting a bad UX.</p>
</blockquote>
<p>I dunno, I don't personally feel strongly about <code>Shift+S</code> vs. <code>S</code> for navigating to an interleaved stream view.</p>
<p>Note that there is a bit of loss of functionality with  <a href="https://github.com/zulip/zulip/pull/24226">#24226</a>, as it will now require two navigation steps to go from All messages to an interleaved stream (<code>S</code> x 2); I'm guessing this is not an especially common use case.</p>



<a name="1499525"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499525" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499525">(Jan 31 2023 at 02:00)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/24227">#24227</a>: If it only switches to a non-marking-read version of the narrow around the current message, I understand it's unique functionality, but I'm a little confused:</p>
<ul>
<li>The issue and preliminary help text suggests 'zoom'?</li>
<li>The help text also mentions 'conversation context' - which sounds like a guaranteed zoom-in?</li>
<li>Isn't it more of a 'bookmark', or something like that?</li>
<li>If it definitely isn't zooming-in, I understand the issue is a starting point and can be adjusted, eg. to not include 'zoom', but then also the key need not be that either?</li>
</ul>



<a name="1499881"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499881" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499881">(Jan 31 2023 at 18:30)</a>:</h4>
<p>Ah, I was confused about what exactly a "near" view is. I thought it would automatically narrow it to the conversation. Let me fix up the issue.</p>



<a name="1499923"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499923" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499923">(Jan 31 2023 at 19:07)</a>:</h4>
<p>I suspect one point of confusion there might be that 'linking to a message' generates a conversation link, even in a stream/all-PMs/all-messages view. That is, not in the same context - ie. narrow.</p>



<a name="1499925"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1499925" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1499925">(Jan 31 2023 at 19:10)</a>:</h4>
<p>Yeah, I think that's right.</p>



<a name="1503868"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1503868" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1503868">(Feb 07 2023 at 01:27)</a>:</h4>
<p>This is now test-deployed here.</p>



<a name="1503884"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1503884" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1503884">(Feb 07 2023 at 02:11)</a>:</h4>
<p>Should this be doing anything even if already in the correct narrow/position? This is adding an entry to the browser history each time it's used.</p>



<a name="1506553"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1506553" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1506553">(Feb 10 2023 at 00:13)</a>:</h4>
<p>Yeah, currently <code>/near/</code> views are a different view from the normal conversation views; they're not just a scroll position within it. (This is done this way because they have different behavior involving unread messages). </p>
<p>The interaction of that detail with this <code>z</code> shortcut does thus navigate you to a different view including adjusting browser history if you hit <code>z</code> (and possibly jumping scroll position, though we could definitely fix that readily) while already in a conversation view of some sort of the topic.</p>



<a name="1506554"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1506554" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1506554">(Feb 10 2023 at 00:13)</a>:</h4>
<p>What do we want the <code>z</code> keyboard shortcut to do if you're already looking at a conversation view for the topic (just not a <code>near</code> one)?</p>



<a name="1506555"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1506555" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1506555">(Feb 10 2023 at 00:14)</a>:</h4>
<p>I feel like the intent is most likely "I forgot I was already sorta there".</p>



<a name="1506558"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1506558" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1506558">(Feb 10 2023 at 00:16)</a>:</h4>
<p>I dunno, I think it should work consistently... Maybe you're using <code>z</code> as a way to center a message on your screen, or get its URL.</p>



<a name="1506570"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1506570" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1506570">(Feb 10 2023 at 00:39)</a>:</h4>
<p>In case it wasn't clear from my statement above, if one happens to press <code>Z</code> multiple times one after another, it adds an entry to the history repeatedly. While this seems mostly harmless, it's a little odd if one goes back/forth and nothing appears to happen :)</p>
<p>I noted this since eg. doing <code>A</code> repeatedly does not do something similar. Admittedly that's not a near narrow, but it feels like it should behave similarly?</p>



<a name="1506571"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1506571" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1506571">(Feb 10 2023 at 00:40)</a>:</h4>
<p>I was also briefly confused, since apparently <code>DD</code> opens and closes drafts, but the history entry just shows as the narrow name. That seems like a separate issue/improvement though.</p>



<a name="1510953"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1510953" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1510953">(Feb 21 2023 at 22:12)</a>:</h4>
<p><span class="user-mention" data-user-id="2406">@Neil Pilgrim (neiljp)</span> would you be up for filing follow-up issues for the history oddities you noted? I don't think it's a blocker for merging this feature, but I agree that it's not idea that pressing <code>z</code> twice in a row means you'll have to press "back" a couple of times before anything happens.</p>



<a name="1512720"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1512720" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1512720">(Feb 24 2023 at 01:06)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/24468">#24468</a> - z shortcut adds duplicate entries to browser history<br>
<a href="https://github.com/zulip/zulip/pull/24469">#24469</a> - Popups show as previous narrow state in browser history (Drafts, Settings, Streams, Shortcuts)</p>



<a name="1513847"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1513847" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1513847">(Feb 24 2023 at 22:37)</a>:</h4>
<p>I wasn't sure about some of the phrasing of the latter, as I'm not sure if there's a glossary for what counts as a popup or if there are other preferred terms, so please feel free to reword accordingly :)<br>
Having a glossary would be good too, if we don't have one?</p>



<a name="1559088"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559088" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559088">(May 01 2023 at 14:05)</a>:</h4>
<p>If you are a user of the <code>S/Shift +S</code> shortcuts, please play around with the revised version currently deployed here and note any feedback. </p>
<p><a href="/user_uploads/2/13/f1RC6tBKTUiV7dt2FlMRzxu1/Screen-Shot-2023-05-01-at-7.03.48-AM.png">Screen-Shot-2023-05-01-at-7.03.48-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/13/f1RC6tBKTUiV7dt2FlMRzxu1/Screen-Shot-2023-05-01-at-7.03.48-AM.png" title="Screen-Shot-2023-05-01-at-7.03.48-AM.png"><img src="/user_uploads/2/13/f1RC6tBKTUiV7dt2FlMRzxu1/Screen-Shot-2023-05-01-at-7.03.48-AM.png"></a></div>



<a name="1559143"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559143" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559143">(May 01 2023 at 14:54)</a>:</h4>
<p>When is it supposed to mark unread now? I expected <code>S</code> to go to next unread as (I thought?) before, but that seems different now - <code>SS</code> doesn't mark anything read? Is that intentional? New?</p>



<a name="1559149"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559149" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559149">(May 01 2023 at 15:04)</a>:</h4>
<p>There shouldn't be any changes in marking as read/unread behavior.</p>



<a name="1559179"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559179" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559179">(May 01 2023 at 15:35)</a>:</h4>
<p>Ah, so we still mark read when moving off a message, but <code>S</code> doesn't.</p>



<a name="1559183"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559183" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559183">(May 01 2023 at 15:38)</a>:</h4>
<p>So <code>S</code> is now a toggle between stream and topic read-messages views, but itself doesn't mark a message read.</p>



<a name="1559185"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559185" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559185">(May 01 2023 at 15:39)</a>:</h4>
<p>It also seems to work for direct messages, though only from all-DMs to a DM (zoom in), not backwards (zoom out), which I suppose is consistent with the previous behavior.</p>



<a name="1559187"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559187" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559187">(May 01 2023 at 15:39)</a>:</h4>
<p>However, it does seem to enter compose when using <code>S</code> on a direct message?</p>



<a name="1559189"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559189" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559189">(May 01 2023 at 15:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1559185">said</a>:</p>
<blockquote>
<p>It also seems to work for direct messages, though only from all-DMs to a DM (zoom in), not backwards (zoom out), which I suppose is consistent with the previous behavior.</p>
</blockquote>
<p>Yeah, and that's how we explicitly document it.</p>



<a name="1559193"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559193" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559193">(May 01 2023 at 15:42)</a>:</h4>
<p>I'm not saying it's not consistent with previous behavior or the documentation.</p>



<a name="1559196"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559196" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559196">(May 01 2023 at 15:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1559187">said</a>:</p>
<blockquote>
<p>However, it does seem to enter compose when using <code>S</code> on a direct message?</p>
</blockquote>
<p>I think this is for the same reasons as discussed in <a class="stream-topic" data-stream-id="9" href="/#narrow/stream/9-issues/topic/inconsistency.20in.20entering.20DM.20or.20stream">#issues &gt; inconsistency in entering DM or stream</a> .</p>



<a name="1559377"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559377" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559377">(May 01 2023 at 18:46)</a>:</h4>
<p>I will note if we wanted to not do that only when navigating to a direct message conversation via this hotkey, that's likely only a couple lines of code to implement, so feedback on that detail is appreciated. My personal leaning would be to have <code>s</code> not open compose box when used to navigate to a PM conversation.</p>
<p>(I feel like if you're using <code>s</code>, you probably also know how to use <code>Enter</code> to open compose, and you're more likely to want to stay in the reading modality for keyboard UI).</p>



<a name="1559399"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559399" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559399">(May 01 2023 at 19:08)</a>:</h4>
<blockquote>
<p>My personal leaning would be to have <code>s</code> not open compose box when used to navigate to a PM conversation.</p>
</blockquote>
<p>Hmm, that seems really random to me given what we decided about not changing it in <a class="stream-topic" data-stream-id="9" href="/#narrow/stream/9-issues/topic/inconsistency.20in.20entering.20DM.20or.20stream">#issues &gt; inconsistency in entering DM or stream</a> . We're still opening the compose box if you use keyboard navigation to get to the DM conversation, and I don't see why pressing "Enter" to go to a conversation from "Recent conversations" should work differently from <code>s</code>.</p>



<a name="1559400"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559400" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559400">(May 01 2023 at 19:08)</a>:</h4>
<p>I also don't think the argument about familiarity with the <code>Enter</code> shortcut is enough to motivate treating keyboard nav and mouse nav differently in general, with keyboard nav never  to a DM conversation never opening the compose box.</p>



<a name="1559466"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559466" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559466">(May 01 2023 at 20:06)</a>:</h4>
<p>Well the main argument would be that the main downside of popping open the compose box is that it interferes with keyboard navigation, and we know based on the fact that you're using this keyboard shortcut that you're using keyboard navigation, which may adjust the trade-offs.</p>



<a name="1559467"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1559467" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1559467">(May 01 2023 at 20:06)</a>:</h4>
<p>But I'm certainly content to wait for more feedback from users being happy/unhappy with that interaction detail before changing anything here.</p>



<a name="1561070"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1561070" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1561070">(May 03 2023 at 19:27)</a>:</h4>
<p>Hey! <span class="user-mention silent" data-user-id="7">Tim Abbott</span> and I were just looking over <a href="https://github.com/zulip/zulip/pull/25424">#25424</a>, which makes topic links in search views go to a "near" view rather than the topic. This is intended to address the fact that the topic link can put you nowhere near the message you saw in the search results if  the topic has unreads.</p>
<p>Thinking back to the major user problem that started this conversation (I'm in a search view -- how do I get to the conversation for one of my search results?), we were wondering if it would be better not to modify the message header bar behavior after all. Instead, as some have suggested above,  maybe we should have clicking on the message from a view that does not collapse messages take you to the "near:" view for that message.</p>



<a name="1561071"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1561071" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1561071">(May 03 2023 at 19:30)</a>:</h4>
<p>It's inconsistent in that clicking on a message usually opens the compose box, but:</p>
<ol>
<li>If you looking at a search result, it seems much more likely that you want to go to the conversation than that you want to immediately send a message.</li>
<li>Sending a message from this type of search view is actually pretty risky / not recommended, as you may be missing the latest messages in teh conversation.</li>
</ol>



<a name="1561075"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1561075" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1561075">(May 03 2023 at 19:33)</a>:</h4>
<p>If we make this change, it will make it quite tricky to reply to a message from one of these views using only the mouse. You could do it via "Quote and reply or forward" (deleting the quote if you want), or by scrolling around until the blue box is on the right message and clicking the "Message..." button  (which requires understanding how the blue box works).</p>



<a name="1561076"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1561076" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1561076">(May 03 2023 at 19:35)</a>:</h4>
<p>Since replying to a message from one of these views is not recommended in the first place, that might be OK? If we really wanted to, we could do something to give the option back, like adding a "Reply" ("Reply to message"? "Reply to conversation"?) button in the three-dot menu.</p>



<a name="1561077"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1561077" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1561077">(May 03 2023 at 19:36)</a>:</h4>
<p>There was also discussion above as to whether clicking on the message should just go to the conversation, or go to conversation <em>and</em> open the compose box. <span class="user-mention silent" data-user-id="7">Tim Abbott</span> perspective is that it should just go to the conversation, as the user most likely just wants to read the conversation, not necessarily respond to it. (I don't have a clear opinion.)</p>



<a name="1561078"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1561078" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1561078">(May 03 2023 at 19:37)</a>:</h4>
<p><span class="user-mention" data-user-id="21836">@Lauryn Menard</span> making sure you see this discussion. :)</p>



<a name="1562187"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562187" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lauryn Menard <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562187">(May 05 2023 at 11:16)</a>:</h4>
<p>I think going to the conversation by clicking on the message from a search-like view makes sense to me.</p>
<p>This sounds like <a href="https://github.com/zulip/zulip/pull/21217">#21217</a>, which was filed as a part of <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1333002">this same discussion here</a>.</p>



<a name="1562189"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562189" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lauryn Menard <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562189">(May 05 2023 at 11:23)</a>:</h4>
<p>I'll say that I agree that clicking should just go to the conversation and not open the compose box. But I'm one who doesn't like that the compose box opens when I navigate to direct messages though, so maybe a biased opinion.</p>



<a name="1562318"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562318" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562318">(May 05 2023 at 16:21)</a>:</h4>
<p>Ah, yeah, thanks for the pointer! OK, at this point I'd propose:</p>
<ol>
<li>Not considering any of these changes as release goals at this point.</li>
<li>Trying a version of <a href="https://github.com/zulip/zulip/pull/21217">#21217</a> as the next step (rather than continuing with <a href="https://github.com/zulip/zulip/pull/25424">#25424</a>), but without opening the compose box, and without a banner for the initial implementation.</li>
</ol>
<p>And then we can play with it on CZO and see how it feels.</p>



<a name="1562321"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562321" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562321">(May 05 2023 at 16:23)</a>:</h4>
<p>The banner is a little tricky, because our other message feed banners have to do with marking messages as read, and get placed at the bottom of the message feed. Whereas a "Back to search results" is something you'd probably like to be offered wherever you land, which may be in the middle of a conversation.</p>



<a name="1562322"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562322" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562322">(May 05 2023 at 16:24)</a>:</h4>
<p>Maybe a banner is the wrong form for that "back" button to take.</p>



<a name="1562324"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562324" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562324">(May 05 2023 at 16:26)</a>:</h4>
<p>Or maybe what we want is not a "back" button, but a way to get the same search query in the search bar again.</p>



<a name="1562580"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562580" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562580">(May 05 2023 at 19:35)</a>:</h4>
<p>That plan sounds good.</p>



<a name="1562583"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562583" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562583">(May 05 2023 at 19:36)</a>:</h4>
<p>In terms of the back button, I think we should just make the browser back button take you back to where you were in terms of selected message and scroll position, which I'm pretty sure we have an open issue for.</p>



<a name="1562784"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562784" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562784">(May 05 2023 at 22:51)</a>:</h4>
<p>I would really like this - there are a number of times where I've made a search, taken a look at a topic/message, realize it's not what I was looking for and go back, only to realize it's dropping me at the end of the search results :/</p>



<a name="1562857"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562857" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562857">(May 06 2023 at 00:15)</a>:</h4>
<p>Yeah, I often find the search view pretty much unusable for that reason. It's OK when the search is easy (there's only a screenful or two of results, or I look at the results and can confidently identify the one conversation I was looking for), but breaks down for anything beyond that.</p>
<p>The workaround I resort to is to make a new tab and start opening the individual conversations there instead of in the main view.</p>



<a name="1562858"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1562858" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1562858">(May 06 2023 at 00:17)</a>:</h4>
<p>I'd thought we had an issue for this, but I'm not finding it.</p>



<a name="1563481"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1563481" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1563481">(May 08 2023 at 13:48)</a>:</h4>
<p><strong>Preserve location of blue box (selected message) when navigating "back"</strong> <a href="https://github.com/zulip/zulip/pull/20066">#20066</a>, right?</p>



<a name="1564155"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1564155" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1564155">(May 09 2023 at 00:11)</a>:</h4>
<p>Ah, that looks like the one, thanks!</p>



<a name="1601182"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1601182" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Topic Bridge Bot <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1601182">(Jun 29 2023 at 18:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> mentioned this topic in <strong><a href="#narrow/stream/415-chat.zulip.org/topic/experiments/near/1601180">#chat.zulip.org &gt; experiments</a></strong>.</p>



<a name="1601365"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1601365" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1601365">(Jun 29 2023 at 20:02)</a>:</h4>
<p>^ Invalid link from Topic Bridge Bot ?</p>



<a name="1601395"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1601395" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1601395">(Jun 29 2023 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="2406">@Neil Pilgrim (neiljp)</span> Yup, we'll investigate.  I am pretty sure it's the " &gt; " that causes problems, but haven't looked yet.</p>



<a name="1606231"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1606231" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1606231">(Jul 07 2023 at 21:34)</a>:</h4>
<p>I was going through different results from a search just now, and I'm quite happy with the behavior on clicking on a search result. (I believe there's currently an experiment deployed that's related to this thread.)</p>
<p>I've forgotten what the status quo was before, so I'm not sure what has changed. But consider this positive feedback for whatever experiment is currently deployed.</p>



<a name="1606232"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1606232" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1606232">(Jul 07 2023 at 21:37)</a>:</h4>
<p>Once I'm done looking at one search result and want to go back to the list of results, that's not so good — the back button is still broken. I guess that's <a href="https://github.com/zulip/zulip/pull/20066">#20066</a>.</p>
<p>As long as that's the case, the overall experience is broken enough that I personally mostly avoid navigating to a search result in the first place:</p>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1562857">said</a>:</p>
<blockquote>
<p>Yeah, I often find the search view pretty much unusable for that reason. It's OK when the search is easy (there's only a screenful or two of results, or I look at the results and can confidently identify the one conversation I was looking for), but breaks down for anything beyond that.</p>
<p>The workaround I resort to is to make a new tab and start opening the individual conversations there instead of in the main view.</p>
</blockquote>



<a name="1609247"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1609247" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1609247">(Jul 13 2023 at 16:59)</a>:</h4>
<p>Yeah, we should figure out a plan for <a href="https://github.com/zulip/zulip/pull/20066">#20066</a>; I'm not sure what's involved in storing the currently selected message ID in the browser history storage, but that's likely the hard part given the existing plumbing we have, so could be valuable for someone to look into.</p>



<a name="1609250"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1609250" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1609250">(Jul 13 2023 at 17:10)</a>:</h4>
<p>I'll do the bit of work to integrate <a href="https://github.com/zulip/zulip/pull/25873">#25873</a>, since we had a theory that this was a good improvement, I've found it seems fine myself, and the only feedback has been positive.</p>



<a name="1609258"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1609258" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1609258">(Jul 13 2023 at 17:27)</a>:</h4>
<p><span class="user-mention" data-user-id="21453">@Evy</span> updated <a href="https://github.com/zulip/zulip/pull/25873">#25873</a> following a review, it'd be great if you can verify my changes.</p>



<a name="1609260"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1609260" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1609260">(Jul 13 2023 at 17:28)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/20066">#20066</a> likely requires some sort of fancy tweak to the <code>browser_history.js</code> module to store every navigation with a "previous pointer" field, in case that context is helpful for anyone.</p>



<a name="1610370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1610370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1610370">(Jul 15 2023 at 17:00)</a>:</h4>
<p>Verified!</p>



<a name="1644547"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1644547" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lauryn Menard <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1644547">(Sep 21 2023 at 14:28)</a>:</h4>
<p>Looping back to this conversation.</p>
<p>Now that these two issues have been addressed:</p>
<ul>
<li><strong>Clicking on a message in search results should go to "near:" narrow</strong>, <a href="https://github.com/zulip/zulip/pull/21217">#21217</a></li>
<li><strong>Preserve location of blue box (selected message) when navigating "back"</strong>, <a href="https://github.com/zulip/zulip/pull/20066">#20066</a></li>
</ul>
<p>Do we think we'll want to do <strong>Topic link in search results should always go to "near:" narrow</strong>, <a href="https://github.com/zulip/zulip/pull/21216">#21216</a>? Or should we close that issue and my linked PR, <a href="https://github.com/zulip/zulip/pull/25424">#25424</a>? </p>
<p>See <a href="#narrow/stream/101-design/topic/navigate.20to.20search.20result/near/1561070">notes above</a> about the changes in that PR and why we went another direction.</p>



<a name="1644870"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1644870" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1644870">(Sep 21 2023 at 19:01)</a>:</h4>
<p>Hmm, I'm thinking it's still valuable, because we still have the confusing experience described in <a href="https://github.com/zulip/zulip/pull/21216">#21216</a>. Sure, the user can now click on the message itself, and it'll work great. But users will probably still click on the topic and get confused.</p>



<a name="1646347"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1646347" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1646347">(Sep 25 2023 at 00:29)</a>:</h4>
<p>Hmmm, I'm not sure; doing that breaks the consistent model that clicking a topic in a recipient bar bar, i.e. asking to go to that topic, always take you to a normal topic view.</p>
<p>I think we may want to wait to see feedback suggesting the new UI is problematic before making further changes here.</p>



<a name="1646379"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1646379" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1646379">(Sep 25 2023 at 03:58)</a>:</h4>
<p>I'm not so sure we'll get clear feedback on this on CZO...</p>
<p>What do other folks think?</p>



<a name="1646545"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1646545" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1646545">(Sep 25 2023 at 13:49)</a>:</h4>
<p>It’s tricky, for sure. I can say that sometimes I’ll search for a particular topic based on some message I remember being posted there—not necessarily the message I’m interested in, but the one I know was part of the topic I’m looking for. Not that that’s the only or even most common use case, but one to consider alongside others.</p>



<a name="1646720"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1646720" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1646720">(Sep 25 2023 at 18:52)</a>:</h4>
<p>Yeah, that's a use case for being able to pick what behavior you want. </p>
<p>I am also just generally not excited about the design direction of taking a component (topic in the recipient bar) and changing it from doing the same thing always (take you to that topic's default conversation view) to instead do something different which is also what clicking on the message itself does (a much larger click target right next to it).</p>



<a name="1646723"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1646723" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1646723">(Sep 25 2023 at 18:54)</a>:</h4>
<p>Another common use case is the "mentions" narrow -- if you click on the message itself, it'll take you to the message that mentioned you, which is sometimes what you want. But usually I want to read the conversation leading up to the mention in order, and clicking the recipient bar in that search view will start me with the first unread, which is what I want most of the time.</p>



<a name="1646725"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/navigate%20to%20search%20result/near/1646725" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/navigate.20to.20search.20result.html#1646725">(Sep 25 2023 at 18:55)</a>:</h4>
<p>Making the topic link no longer do that would mean we have no UI option for "let me go read this topic started from where I last read".</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>