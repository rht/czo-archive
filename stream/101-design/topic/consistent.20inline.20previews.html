<html>
<head><meta charset="utf-8"><title>consistent inline previews · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html">consistent inline previews</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1419725"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1419725" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1419725">(Aug 15 2022 at 18:10)</a>:</h4>
<p>This is in reference to issue <a href="https://github.com/zulip/zulip/pull/21603">#21603</a>.  One possible way to help distinguish between attachment links (especially when one after the other on the same line) can be by having different thumbnails / icons for common file types used accordingly before a file's link.</p>
<p>Technically this could be by setting the <code>:before</code> pseudoelement  of the file link in CSS to the icon according to the file type. </p>
<p>This would solve the problem of distinguishability and also add a visual clue for the file type. How does this sound?</p>



<a name="1419727"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1419727" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1419727">(Aug 15 2022 at 18:13)</a>:</h4>
<p>FWIW we discussed this in PMs and I'm in favor of testing this idea, while also trying to reduce the height of our inline previews for Youtube, etc, for example.</p>



<a name="1419730"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1419730" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1419730">(Aug 15 2022 at 18:15)</a>:</h4>
<p>A quick mock-up of what I mean:</p>
<div class="message_inline_image"><a href="user_uploads/2/23/pSjWGj7ffC4fYD03AG_Qq_jb/image.png"><img src="user_uploads/2/23/pSjWGj7ffC4fYD03AG_Qq_jb/image.png"></a></div>



<a name="1419976"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1419976" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1419976">(Aug 16 2022 at 01:25)</a>:</h4>
<p>That style of visual for a Youtube preview does seem nicer than the current design.</p>



<a name="1422931"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1422931" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1422931">(Aug 22 2022 at 17:50)</a>:</h4>
<p>Yeah, I'd be happy to see prototypes for both of those ideas!</p>



<a name="1427857"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1427857" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1427857">(Aug 30 2022 at 18:03)</a>:</h4>
<p>Here's the PR prototyping the pre-link icons: <a href="https://github.com/zulip/zulip/pull/22822">#22822</a>. I'm sure it can be made much more comprehensive by adding support for more file types, but as an initial prototype it should be fine. Here's a peek!<br>
<a href="/user_uploads/2/9f/JveP_ME6N8HaCBh0MCUz2V9T/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/9f/JveP_ME6N8HaCBh0MCUz2V9T/image.png" title="image.png"><img src="/user_uploads/2/9f/JveP_ME6N8HaCBh0MCUz2V9T/image.png"></a></div>



<a name="1427964"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1427964" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1427964">(Aug 30 2022 at 19:39)</a>:</h4>
<p>I'm not sure about the <code>fa-link</code> case -- showing an icon next to generic links feels more confusing than doing nothing. For example, I suspect we don't want <a class="stream-topic" data-stream-id="101" href="/#narrow/stream/101-design/topic/consistent.20inline.20previews">#design &gt; consistent inline previews</a> or <a href="https://github.com/zulip/zulip/pull/22822">#22822</a> to be decorated with these link icons. I could see having an open-in-new-window icon decoration for links with <code>target="_blank"</code>, i.e. ones that open in a new window, but otherwise would keep normal links unmodified.</p>
<p>I think the idea of doing this for recognized file extensions is pretty reasonable as a design approach, assuming we're OK with the security reality that we're not validating that a <code>foo.png</code> file actually contains a valid image.</p>
<p>I'm a bit worried about the approach of applying this CSS to "Any link inside markdown that isn't in a preview object". I can't think of a case where that approach would be wrong, and I expect any future element where we don't want this behavior to have a class on it that we can use like we do with previews, so maybe it's fine ... but I can't say I'm comfortable with that.</p>
<p><span class="user-mention" data-user-id="699">@Anders Kaseorg</span> can I get your thoughts on this approach?</p>



<a name="1427973"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1427973" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1427973">(Aug 30 2022 at 19:45)</a>:</h4>
<p>If the goal is to fix <a href="https://github.com/zulip/zulip/pull/21603">#21603</a>, I have a much simpler proposal—have the frontend compose box put in a comma when it adds an attachment link next to another link: <a href="/user_uploads/2/f6/213n55xXgSj8ZtX1z93G4e_N/file.txt">file1.txt</a>, <a href="/user_uploads/2/f6/213n55xXgSj8ZtX1z93G4e_N/file.txt">file2.txt</a>, <a href="/user_uploads/2/f6/213n55xXgSj8ZtX1z93G4e_N/file.txt">file3.txt</a></p>



<a name="1427974"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1427974" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1427974">(Aug 30 2022 at 19:45)</a>:</h4>
<p>Agree with all the concerns raised above. This PR is definitely very rough around the edges but I just wanted to get an initial version out so we can then incrementally consider improvements.</p>



<a name="1428029"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1428029" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1428029">(Aug 30 2022 at 20:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> <a href="#narrow/stream/101-design/topic/consistent.20inline.20previews/near/1427973">said</a>:</p>
<blockquote>
<p>If the goal is to fix <a href="https://github.com/zulip/zulip/pull/21603">#21603</a>, I have a much simpler proposal—have the frontend compose box put in a comma when it adds an attachment link next to another link: <a href="/user_uploads/2/f6/213n55xXgSj8ZtX1z93G4e_N/file.txt">file1.txt</a>, <a href="/user_uploads/2/f6/213n55xXgSj8ZtX1z93G4e_N/file.txt">file2.txt</a>, <a href="/user_uploads/2/f6/213n55xXgSj8ZtX1z93G4e_N/file.txt">file3.txt</a></p>
</blockquote>
<p>I like that as a quick fix while we think about the more involved change of adding file type icons.</p>



<a name="1428072"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/consistent%20inline%20previews/near/1428072" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/consistent.20inline.20previews.html#1428072">(Aug 30 2022 at 21:21)</a>:</h4>
<p>Just informing that I updated the PR to add the appropriate icon for external links, and leave others untouched:<br>
<a href="/user_uploads/2/91/yF8Ls4klPSaJX-Z7cPBacYqR/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/91/yF8Ls4klPSaJX-Z7cPBacYqR/image.png" title="image.png"><img src="/user_uploads/2/91/yF8Ls4klPSaJX-Z7cPBacYqR/image.png"></a></div>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>