<html>
<head><meta charset="utf-8"><title>emails · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html">emails</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="288660"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288660" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288660">(Sep 28 2017 at 02:24)</a>:</h4>
<p>We just merged new versions of all of our outgoing email templates, in many cases complete with illustrations.  Huge thanks to <span class="user-mention" data-user-email="vaidaplankyte@gmail.com" data-user-id="1906">@Vaida Plankyte</span>, <span class="user-mention" data-user-email="yo@vishnuks.com" data-user-id="52">@Vishnu Ks</span>, <span class="user-mention" data-user-email="brock@zulipchat.com" data-user-id="136">@Brock Whittaker</span> , and <span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> for their work on the infrastructure and styling for this; we ended up having to do a lot of work to make our CSS-in-emails system maintainable.</p>
<p>Probably most of them, like missed_message emails, will be noticable to everyone.  It would be super awesome if several folks could test them out, especially if you use an email provider that isn't gmail!</p>



<a name="288662"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288662" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288662">(Sep 28 2017 at 02:25)</a>:</h4>
<p>Things you can do when testing include:</p>
<ul>
<li>Initiate the email change process</li>
<li>Invite variants of your email that will still be delivered to your inbox, e.g. tabbott+test@zulipchat.com</li>
<li>receive missed-message and digest emails</li>
<li>Etc.</li>
</ul>
<p>Probably if those all work in your email provider, the rest will too.</p>



<a name="288663"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288663" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288663">(Sep 28 2017 at 02:25)</a>:</h4>
<p>(It's kinda insane how many different email providers do crazy things in terms of what HTML email works)</p>



<a name="288932"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288932" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288932">(Sep 28 2017 at 16:10)</a>:</h4>
<p>I created a Zulip account that maps to my yahoo email.  I then went back to my main account, and PM'ed myself with a dog picture.  The missed-message email comes up blank, even though there was a bit of text in the message.</p>



<a name="288933"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288933" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288933">(Sep 28 2017 at 16:11)</a>:</h4>
<p><a href="/user_uploads/2/1c/sGTpHT611LAeSP-zL40cfUTf/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/1c/sGTpHT611LAeSP-zL40cfUTf/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/1c/sGTpHT611LAeSP-zL40cfUTf/pasted_image.png"></a></div>



<a name="288934"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288934" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288934">(Sep 28 2017 at 16:12)</a>:</h4>
<p>but then...</p>
<p><a href="/user_uploads/2/d9/8sqvz4BkyW7GSz6YAK2wYfWa/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/d9/8sqvz4BkyW7GSz6YAK2wYfWa/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/d9/8sqvz4BkyW7GSz6YAK2wYfWa/pasted_image.png"></a></div>



<a name="288935"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288935" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288935">(Sep 28 2017 at 16:13)</a>:</h4>
<p>I've seen similar Yahoo quirks with Facebook, so I blame Yahoo for this, not Zulip, but somebody should probably try out a similar experiment with other emails clients.  (Send a PM with a couple words of text and an attached image.)</p>



<a name="288948"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288948" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288948">(Sep 28 2017 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-email="showell@zulipchat.com" data-user-id="58">@Steve Howell</span> interesting!  That seems like their bug, but we might want to see whether we can figure out how to work around it...</p>



<a name="288952"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288952" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288952">(Sep 28 2017 at 16:32)</a>:</h4>
<p>This is what missed-message looks like in yahoo (seems fine to me):</p>
<p><a href="/user_uploads/2/b1/5gdxA5MgcGW39MN4jVecPsQD/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b1/5gdxA5MgcGW39MN4jVecPsQD/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/b1/5gdxA5MgcGW39MN4jVecPsQD/pasted_image.png"></a></div>



<a name="288955"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288955" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288955">(Sep 28 2017 at 16:33)</a>:</h4>
<p>This also seems good to me:</p>
<p><a href="/user_uploads/2/a9/Rho83TnoZZ_6lRKyuSIN54S3/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<p>There is lots of padding, but nothing seems misplaced.</p>
<div class="message_inline_image"><a href="/user_uploads/2/a9/Rho83TnoZZ_6lRKyuSIN54S3/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/a9/Rho83TnoZZ_6lRKyuSIN54S3/pasted_image.png"></a></div>



<a name="288956"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288956" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288956">(Sep 28 2017 at 16:34)</a>:</h4>
<p>OK, I guess I'm a bit confused; how are the 2 cases of missed-message emails different (the one working and the one not)?</p>



<a name="288961"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288961" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288961">(Sep 28 2017 at 16:38)</a>:</h4>
<p>The broken one had an image attachment.</p>



<a name="288966"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288966" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288966">(Sep 28 2017 at 16:40)</a>:</h4>
<p>I see.  So we should investigate whether our image attachments to emails are done wrong.</p>



<a name="288967"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288967" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288967">(Sep 28 2017 at 16:41)</a>:</h4>
<p>I suspect that the way permissions are setup we probably aren't doing it the optimal way.</p>



<a name="288969"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288969" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288969">(Sep 28 2017 at 16:41)</a>:</h4>
<p>If I had to guess, what we're doing is including an image tag for an auth-protected URL in the message, and Yahoo is trying to fetch that directly (rather than having your browser fetch it), and so it isn't working.</p>



<a name="288971"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/288971" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#288971">(Sep 28 2017 at 16:42)</a>:</h4>
<p>So I bet we could adjust this by replacing the <code>img</code> tags with actually attaching the image to the email if we wanted it to work.</p>



<a name="289592"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/289592" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vishwesh Jainkuniya <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#289592">(Sep 29 2017 at 12:33)</a>:</h4>
<p>Account confirmation mail looks like this on rediffmail <a href="/user_uploads/2/28/dZA4NU4xsy-CY7I2By-WK250/Screen-Shot-2017-09-29-at-5.46.46-PM.png" target="_blank" title="Screen-Shot-2017-09-29-at-5.46.46-PM.png">Screen-Shot-2017-09-29-at-5.46.46-PM.png</a> background color of confirm button is not visible. (BTW it is visible on gmail.)</p>
<div class="message_inline_image"><a href="/user_uploads/2/28/dZA4NU4xsy-CY7I2By-WK250/Screen-Shot-2017-09-29-at-5.46.46-PM.png" target="_blank" title="Screen-Shot-2017-09-29-at-5.46.46-PM.png"><img src="/user_uploads/2/28/dZA4NU4xsy-CY7I2By-WK250/Screen-Shot-2017-09-29-at-5.46.46-PM.png"></a></div>



<a name="289743"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/289743" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#289743">(Sep 29 2017 at 16:52)</a>:</h4>
<p>Awesome, thanks for testing <span class="user-mention" data-user-email="jainkuniya@gmail.com" data-user-id="703">@Vishwesh Jainkuniya</span>.  Can you open an issue?  This seems like it'll be interesting to debug.</p>



<a name="289799"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/289799" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vishwesh Jainkuniya <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#289799">(Sep 29 2017 at 17:22)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/6775" target="_blank" title="https://github.com/zulip/zulip/pull/6775">#6775</a></p>



<a name="292578"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/292578" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#292578">(Oct 04 2017 at 00:12)</a>:</h4>
<p><span class="user-mention" data-user-email="jainkuniya@gmail.com" data-user-id="703">@Vishwesh Jainkuniya</span> can you test the issue is fixed now?  The fix for <a href="https://github.com/zulip/zulip/pull/6775" target="_blank" title="https://github.com/zulip/zulip/pull/6775">#6775</a> is now in production.</p>



<a name="292663"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/292663" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vishwesh Jainkuniya <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#292663">(Oct 04 2017 at 03:32)</a>:</h4>
<p>Yup! tested. It is resolved <span class="emoji emoji-1f44d" title="+1">:+1:</span> <br>
<a href="/user_uploads/2/fe/UajVpcmINFbZVPaTy2FgCoZ2/Screen-Shot-2017-10-04-at-8.59.32-AM.png" target="_blank" title="Screen-Shot-2017-10-04-at-8.59.32-AM.png">Screen-Shot-2017-10-04-at-8.59.32-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/fe/UajVpcmINFbZVPaTy2FgCoZ2/Screen-Shot-2017-10-04-at-8.59.32-AM.png" target="_blank" title="Screen-Shot-2017-10-04-at-8.59.32-AM.png"><img src="/user_uploads/2/fe/UajVpcmINFbZVPaTy2FgCoZ2/Screen-Shot-2017-10-04-at-8.59.32-AM.png"></a></div>



<a name="293058"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emails/near/293058" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emails.html#293058">(Oct 04 2017 at 18:10)</a>:</h4>
<p>Great!  Thanks for testing :)</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>