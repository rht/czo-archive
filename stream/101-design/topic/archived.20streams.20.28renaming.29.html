<html>
<head><meta charset="utf-8"><title>archived streams (renaming) · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html">archived streams (renaming)</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1636410"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636410" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636410">(Sep 07 2023 at 19:38)</a>:</h4>
<p>As came up in a support email recently, we currently have an awkward situation when your search results include messages in archived streams. When a user archives a stream, that stream is automatically renamed with a prefix that indicates that is deactivated. This conveniently makes the stream's name available for new streams, but causes confusion when a user sees a message from an archived stream in their search results. E.g., after archiving #design:</p>
<p><a href="/user_uploads/2/17/1TmvMZDHUjbEkkVWtav9sk2d/Screen-Shot-2023-09-07-at-10.08.30-AM.png">Screen-Shot-2023-09-07-at-10.08.30-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/17/1TmvMZDHUjbEkkVWtav9sk2d/Screen-Shot-2023-09-07-at-10.08.30-AM.png" title="Screen-Shot-2023-09-07-at-10.08.30-AM.png"><img src="/user_uploads/2/17/1TmvMZDHUjbEkkVWtav9sk2d/Screen-Shot-2023-09-07-at-10.08.30-AM.png"></a></div>



<a name="1636411"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636411" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636411">(Sep 07 2023 at 19:39)</a>:</h4>
<p>I've written up <a href="https://github.com/zulip/zulip/pull/26661">#26661</a> as a proposed solution for this. Any feedback or alternative suggestions are appreciated!</p>



<a name="1636412"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636412" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636412">(Sep 07 2023 at 19:40)</a>:</h4>
<p>A technical question I had when writing up the issue:</p>
<blockquote>
<p>Can we make topic links work for achived streams? That would be best, but if not, we should remove the link from the message header bar altogether. The current experience of following that link is broken, as it links to, e.g., <code>http://localhost:9991/#narrow/stream/8-unknown</code>.</p>
</blockquote>



<a name="1636437"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636437" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636437">(Sep 07 2023 at 20:06)</a>:</h4>
<p>The links should be fine structurally; 8 is the stream ID and the name "unknown" isn't used to resolve the link. The main issue on that question is that we don't send data to clients on deactivated streams, which would need to change for such links to work.</p>



<a name="1636446"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636446" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636446">(Sep 07 2023 at 20:58)</a>:</h4>
<p>I see. Currently, clicking on such a link takes you to:</p>
<p><a href="/user_uploads/2/59/29OHSqeIT-YvDQRYAfWo0Int/Screen-Shot-2023-09-07-at-10.03.30-AM.png">Screen-Shot-2023-09-07-at-10.03.30-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/59/29OHSqeIT-YvDQRYAfWo0Int/Screen-Shot-2023-09-07-at-10.03.30-AM.png" title="Screen-Shot-2023-09-07-at-10.03.30-AM.png"><img src="/user_uploads/2/59/29OHSqeIT-YvDQRYAfWo0Int/Screen-Shot-2023-09-07-at-10.03.30-AM.png"></a></div>



<a name="1636447"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636447" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636447">(Sep 07 2023 at 20:59)</a>:</h4>
<p>So is that something we could just change, then? Why don't we send data on deactivated streams currently?</p>



<a name="1636454"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636454" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636454">(Sep 07 2023 at 21:03)</a>:</h4>
<p>4 messages were moved from this topic to <a class="stream-topic" data-stream-id="101" href="/#narrow/stream/101-design/topic/unarchiving.20streams">#design &gt; unarchiving streams</a> by <span class="user-mention silent" data-user-id="19257">Alya Abbott</span>.</p>



<a name="1636470"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636470" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636470">(Sep 07 2023 at 21:20)</a>:</h4>
<p>I bet we don't send information about deactivated streams because we were thinking of them as deactivated not as archived. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1636496"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636496" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636496">(Sep 07 2023 at 21:41)</a>:</h4>
<p>Yeah that sounds right -- I think we made the product design decision that we wanted to move towards "archived" as the concept but didn't have resources to invest in doing anything beyond the name change at that point.</p>



<a name="1636509"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/archived%20streams%20%28renaming%29/near/1636509" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/archived.20streams.20.28renaming.29.html#1636509">(Sep 07 2023 at 21:48)</a>:</h4>
<p>Sounds good; I updated that point in the issue:</p>
<blockquote>
<p>Topic links work for archived streams should work. Currently, the server doesn't send data on archived streams to clients. See related discussion <a href="#narrow/stream/101-design/topic/archived.20streams.20.28renaming.29/near/1636412">here</a>.</p>
</blockquote>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>