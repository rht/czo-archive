<html>
<head><meta charset="utf-8"><title>n followed by s · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html">n followed by s</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="366095"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366095" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366095">(Dec 05 2017 at 19:44)</a>:</h4>
<p>One unfortunate thing I've noticed is that <code>n</code> followed by <code>s</code> will often mark a ton of stuff as read, especially when <code>n</code> goes to a topic in a new stream. So that's one argument for having <code>n</code> (or our general navigation) go to the "last read" message, rather than the first unread.</p>
<p>I know this is a tricky change, so just putting it out there.</p>



<a name="366103"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366103" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366103">(Dec 05 2017 at 19:46)</a>:</h4>
<p>I just experienced this also :/</p>



<a name="366127"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366127" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366127">(Dec 05 2017 at 19:54)</a>:</h4>
<p>oh cool, I thought it was just me. That increases my estimate on whether we should work on this, especially given the upcoming <a href="https://github.com/zulip/zulip/pull/7555" target="_blank" title="https://github.com/zulip/zulip/pull/7555">#7555</a>.</p>



<a name="366197"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366197" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Linas etc. <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366197">(Dec 05 2017 at 20:55)</a>:</h4>
<p>What?</p>



<a name="366357"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366357" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366357">(Dec 05 2017 at 23:35)</a>:</h4>
<p><span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> Fortunately, I think only one half of this tricky.  The "n" logic is complicated, but it shouldn't be affected by this change, except for the one line it calls into <code>narrow.js</code>.  We just need to tell the narrowing code go to last-read.  I don't know hard that is off the top of my head.</p>



<a name="366359"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366359" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366359">(Dec 05 2017 at 23:37)</a>:</h4>
<p>I seem to remember some discussion about more generally making all renarrows go to last unread, and there being some worry about various corner cases. But it's possible the discussion was more around it being "one day hard" rather than "one hour hard".</p>



<a name="366362"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366362" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366362">(Dec 05 2017 at 23:38)</a>:</h4>
<p>It's possible this is a prerequisite for <a href="https://github.com/zulip/zulip/pull/7555" target="_blank" title="https://github.com/zulip/zulip/pull/7555">#7555</a> essentially, at least for topic narrows.</p>



<a name="366376"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366376" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366376">(Dec 05 2017 at 23:45)</a>:</h4>
<p>I guess another possibility here is that when you "widen" with "s", we should just go the first unread for the stream, rather than keeping your pointer on the same message.</p>



<a name="366386"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366386" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366386">(Dec 05 2017 at 23:49)</a>:</h4>
<p>oh, interesting. yeah, that might be a good change regardless, and similar for Esc'ing to home view.</p>



<a name="366395"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366395" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366395">(Dec 05 2017 at 23:53)</a>:</h4>
<p>I almost never widen, but when I just tried it, as I scrolled up, I still saw some unread messages (they become read as soon as they come into view, but I could see the green bar before it faded).</p>



<a name="366570"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/366570" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#366570">(Dec 06 2017 at 02:09)</a>:</h4>
<p>For me it's super important sometimes that widening with something like <code>s</code> stays on the same message. Especially when coming from a search.</p>



<a name="367513"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/367513" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#367513">(Dec 06 2017 at 14:23)</a>:</h4>
<p>Yeah, that's fair, <span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span>.  I think our unread logic just may have a bug, or the mechanism of making things become read (and the quick fade that may be too subtle) as people page up is also possibly just confusing, since they will feel like all the messages above were unread.</p>



<a name="368341"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/368341" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#368341">(Dec 06 2017 at 18:30)</a>:</h4>
<p>Not totally sure, but I think the cases where it marks everything as read for me is when <code>s</code> takes me to ~the end of the stream narrow. (vs when there are still lots of messages "below the fold")</p>



<a name="368559"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/368559" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#368559">(Dec 06 2017 at 19:55)</a>:</h4>
<p>Hmm, that seems plausible -- because we do have some special logic for if you're so close to the end that what's left should all be in view. (Or something like that.)</p>



<a name="368561"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/368561" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#368561">(Dec 06 2017 at 19:57)</a>:</h4>
<p>I don't think I've actually seen the case you mentioned in the OP -- where hitting <code>s</code> after <code>n</code> causes everything else to be marked read. I definitely see the opposite, where I do that and there are unread messages both right before and after the one with my cursor, and they stay unread unless I start moving the cursor over them.</p>



<a name="371882"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/371882" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#371882">(Dec 08 2017 at 07:33)</a>:</h4>
<p>okay, I am more confident in the assessment from my last message. </p>
<ul>
<li>If there is nothing "below the fold", everything is marked as read</li>
<li>else, it does correct-seeming behavior</li>
</ul>
<p>To repro, hit <code>n</code> into a stream where the most recent topic has only 1 unread message. In that case, that message is also guaranteed to be the most recent one in the stream. Hit <code>s</code>. For me, it will mark everything in the stream as read.</p>



<a name="374230"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/374230" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#374230">(Dec 08 2017 at 19:40)</a>:</h4>
<p>Ouch. Yeah, that sounds really annoying.</p>



<a name="462388"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/462388" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#462388">(Jan 23 2018 at 21:53)</a>:</h4>
<p>Did this discussion end up with any action?  .</p>



<a name="462414"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/n%20followed%20by%20s/near/462414" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/n.20followed.20by.20s.html#462414">(Jan 23 2018 at 22:00)</a>:</h4>
<p>It did not. I suspect the right solution here is to have things like our current <code>A</code> or <code>D</code> (or keyboard navigation of the left sidebar) where <code>n</code> followed by "go one row/stream up" does the desired thing</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>