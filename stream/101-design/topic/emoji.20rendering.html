<html>
<head><meta charset="utf-8"><title>emoji rendering · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html">emoji rendering</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="403209"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403209" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403209">(Dec 22 2017 at 01:34)</a>:</h4>
<p><span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> <span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span> <span class="user-mention" data-user-email="brock@zulipchat.com" data-user-id="136">@Brock Whittaker</span> Have we considered other ways of rendering the emojis? I find the current one to have big drawbacks:</p>
<ul>
<li>3mb+ sprite sheet to download</li>
<li>very blurry on high dpi displays (retina macs, any mobile device)</li>
</ul>



<a name="403252"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403252" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403252">(Dec 22 2017 at 03:13)</a>:</h4>
<p>is the proposal to use svg's instead? <span class="user-mention" data-user-email="harshitbansal2015@gmail.com" data-user-id="907">@Harshit Bansal</span> has the most context on this.</p>



<a name="403476"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403476" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403476">(Dec 22 2017 at 05:58)</a>:</h4>
<p>I am mostly concerned with the non-optimal approach. Let's not forget that we can just use the font to display the default emojis. We will lose consistency between OSes, but to me this is a far better compromise, than blurry and large emojis.</p>



<a name="403478"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403478" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403478">(Dec 22 2017 at 06:02)</a>:</h4>
<p>font only really works on Mac I think; on other OSes it'll just show up black and white</p>



<a name="403479"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403479" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403479">(Dec 22 2017 at 06:02)</a>:</h4>
<p>I'm also a bit confused about what you're seeing, maybe. Could you send a screenshot?</p>



<a name="403480"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403480" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403480">(Dec 22 2017 at 06:02)</a>:</h4>
<p>Hmmmm, you might be right, which means we need to rethink how we will render the emojis in the web app</p>



<a name="403488"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403488" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403488">(Dec 22 2017 at 06:06)</a>:</h4>
<p>I am seeing soft emojis. That is easily explainable, as the size shown is 25x25 pixels and we are using a 32px size sheet. For standard 'retina' (old iPhones, most laptops) we need twice the pixels, so 50 pixel width, and for modern mobile devices 3x to 4x.</p>



<a name="403492"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403492" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403492">(Dec 22 2017 at 06:08)</a>:</h4>
<p>I see. On mobile we should be able to use a sprite sheet with more pixels I think, since we won't be downloading it (i.e. it'll be downloaded at the time we install the app?)</p>



<a name="403495"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403495" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403495">(Dec 22 2017 at 06:10)</a>:</h4>
<p>I am definitely talking in general right now.</p>



<a name="403496"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403496" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403496">(Dec 22 2017 at 06:11)</a>:</h4>
<p>We need at least 2x for web.</p>



<a name="403497"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403497" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403497">(Dec 22 2017 at 06:11)</a>:</h4>
<p>Also I am not sure at this point a sprite sheet is better than individual emojis.</p>



<a name="403498"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403498" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403498">(Dec 22 2017 at 06:13)</a>:</h4>
<p>This requires all emojis loaded for even a single emoji. If we support HTTP/2 or SPDY the fact that it is multiple files should be irrelevant.</p>



<a name="403502"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403502" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403502">(Dec 22 2017 at 06:16)</a>:</h4>
<p>I think we switched from using individual emoji to a sprite sheet a few months ago. We need all the emoji anyway for the emoji pickers</p>



<a name="403507"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403507" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403507">(Dec 22 2017 at 06:23)</a>:</h4>
<p>Sure, but even the emoji picker does not need to load all the emojis.</p>



<a name="403508"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403508" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403508">(Dec 22 2017 at 06:23)</a>:</h4>
<p>And people don't use the emoji picker every single time.</p>



<a name="403510"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403510" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403510">(Dec 22 2017 at 06:24)</a>:</h4>
<p>While reading a message with a single emoji loads the whole emoji sheet.</p>



<a name="403511"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403511" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403511">(Dec 22 2017 at 06:25)</a>:</h4>
<p>I'm pretty sure it only loads it once, when you first load the page</p>



<a name="403512"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403512" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403512">(Dec 22 2017 at 06:27)</a>:</h4>
<p>Yeah, of course. But needs to load it...</p>



<a name="403513"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403513" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403513">(Dec 22 2017 at 06:27)</a>:</h4>
<p>OK, Slack seem to do the same though, but they do it better.</p>



<a name="403514"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403514" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403514">(Dec 22 2017 at 06:27)</a>:</h4>
<div class="message_inline_image"><a href="https://a.slack-edge.com/bfaba/img/emoji_2016_06_08/sheet_apple_64_indexed_256colors.png" target="_blank" title="https://a.slack-edge.com/bfaba/img/emoji_2016_06_08/sheet_apple_64_indexed_256colors.png"><img src="https://a.slack-edge.com/bfaba/img/emoji_2016_06_08/sheet_apple_64_indexed_256colors.png"></a></div>



<a name="403515"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403515" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403515">(Dec 22 2017 at 06:27)</a>:</h4>
<p>They actually do 64x64 images</p>



<a name="403516"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403516" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403516">(Dec 22 2017 at 06:28)</a>:</h4>
<p>But they are 256 color indexed. Their sprite file is 1.6MB</p>



<a name="403517"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403517" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403517">(Dec 22 2017 at 06:28)</a>:</h4>
<p>oh interesting. Are we using more colors but fewer pixels?</p>



<a name="403518"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403518" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403518">(Dec 22 2017 at 06:29)</a>:</h4>
<p>Yep</p>



<a name="403522"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403522" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403522">(Dec 22 2017 at 06:31)</a>:</h4>
<p>do you think they might be using <a href="https://github.com/iamcal/emoji-data/tree/master/sheets-indexed-256" target="_blank" title="https://github.com/iamcal/emoji-data/tree/master/sheets-indexed-256">https://github.com/iamcal/emoji-data/tree/master/sheets-indexed-256</a>?</p>



<a name="403523"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403523" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403523">(Dec 22 2017 at 06:32)</a>:</h4>
<p>they also have 128 colors, which is smaller, e.g. <a href="https://github.com/iamcal/emoji-data/blob/master/sheets-indexed-128/sheet_google_64_indexed_128.png" target="_blank" title="https://github.com/iamcal/emoji-data/blob/master/sheets-indexed-128/sheet_google_64_indexed_128.png">https://github.com/iamcal/emoji-data/blob/master/sheets-indexed-128/sheet_google_64_indexed_128.png</a></p>
<div class="message_inline_image"><a href="https://github.com/iamcal/emoji-data/blob/master/sheets-indexed-128/sheet_google_64_indexed_128.png" target="_blank" title="https://github.com/iamcal/emoji-data/blob/master/sheets-indexed-128/sheet_google_64_indexed_128.png"><img src="https://raw.githubusercontent.com/iamcal/emoji-data/master/sheets-indexed-128/sheet_google_64_indexed_128.png"></a></div>



<a name="403527"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403527" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403527">(Dec 22 2017 at 06:34)</a>:</h4>
<p>/me afk, but I'll open an issue for this in zulip/zulip tomorrow if you haven't by then</p>



<a name="403530"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403530" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403530">(Dec 22 2017 at 06:36)</a>:</h4>
<p>opened as <a href="https://github.com/zulip/zulip/pull/7862" target="_blank" title="https://github.com/zulip/zulip/pull/7862">#7862</a> so we don't forget</p>



<a name="403532"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403532" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403532">(Dec 22 2017 at 06:39)</a>:</h4>
<p>Another thing that might be useful for the mobile app and the web app actually:<br>
Slack is using a CDN-like approach where their URL is common for different teams.<br>
Would be good to have a <a href="https://cdn.zulip.org/emoji.png" target="_blank" title="https://cdn.zulip.org/emoji.png">https://cdn.zulip.org/emoji.png</a> type of url</p>
<div class="message_inline_image"><a href="https://cdn.zulip.org/emoji.png" target="_blank" title="https://cdn.zulip.org/emoji.png"><img src="https://cdn.zulip.org/emoji.png"></a></div>



<a name="403534"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403534" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vishnu KS <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403534">(Dec 22 2017 at 06:40)</a>:</h4>
<p>I think we have an issue open for that. <a href="https://github.com/zulip/zulip/pull/7205" target="_blank" title="https://github.com/zulip/zulip/pull/7205">#7205</a></p>



<a name="403535"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403535" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vishnu KS <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403535">(Dec 22 2017 at 06:41)</a>:</h4>
<p>But would work only for teams in one server though.</p>



<a name="403537"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403537" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vishnu KS <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403537">(Dec 22 2017 at 06:44)</a>:</h4>
<p><span class="user-mention" data-user-email="borisyankov@gmail.com" data-user-id="284">@Boris Yankov</span> Can we solve the sprite sheet downloading each time issue by just heavily caching it?</p>



<a name="403539"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403539" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403539">(Dec 22 2017 at 06:44)</a>:</h4>
<p>It could be as an option 'use CDN' or something. There is no reason why other deployments can't point to <a href="http://cdn.zulip.org" target="_blank" title="http://cdn.zulip.org">cdn.zulip.org</a></p>



<a name="403541"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403541" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403541">(Dec 22 2017 at 06:45)</a>:</h4>
<p>Caching is unreliable. It depends on the browser, on the machine's storage and memory etc.</p>



<a name="403543"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20rendering/near/403543" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20rendering.html#403543">(Dec 22 2017 at 06:45)</a>:</h4>
<p>Browsers invalidate their caches all the time</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>