<html>
<head><meta charset="utf-8"><title>mark as unread · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html">mark as unread</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="300923"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300923" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300923">(Oct 19 2017 at 16:59)</a>:</h4>
<p>Interesting conversation on <a class="stream" data-stream-id="48" href="/#narrow/stream/mobile">#mobile</a>: <a href="https://chat.zulip.org/#narrow/stream/mobile/subject/Mark.20as.20Unread/near/300608" target="_blank" title="https://chat.zulip.org/#narrow/stream/mobile/subject/Mark.20as.20Unread/near/300608">https://chat.zulip.org/#narrow/stream/mobile/subject/Mark.20as.20Unread/near/300608</a></p>



<a name="300926"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300926" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300926">(Oct 19 2017 at 17:06)</a>:</h4>
<p>Out lack of mark-as-unread feature is not a huge problem for me, because I just star the messages that I need to come back to.  But I don't really like to do that; I would much rather have true mark-as-unread.  This is a problem for me in two situations:</p>
<ul>
<li>If I'm on mobile web, I don't have a good mechanism for adding todos.  I can use the iPhone notes feature, but typing's a pain on the phone, and I still need to remember to check the notes.</li>
<li>Even if I'm on a laptop, if I'm super busy and five things are happening at once, I need a way to pop stuff off my stack, and mark-as-unread is designed for that.</li>
</ul>
<p>I'm also sympathetic to the argument that email has gotten this right for at least a couple decades, so the no-brainer approach to me here is to follow email.  (But the <a class="stream" data-stream-id="48" href="/#narrow/stream/mobile">#mobile</a> thread has some good ideas as well.)</p>



<a name="300931"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300931" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300931">(Oct 19 2017 at 17:34)</a>:</h4>
<p>There are two good examples of how mark as read/unread can work: Google GMail/Inbox and Feedly.</p>



<a name="300933"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300933" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300933">(Oct 19 2017 at 17:36)</a>:</h4>
<p>GMail shows subject plus some short message preview, so you have a basic idea what the message is about before viewing it. When opening it, then it is read, and you can mark as unread.</p>



<a name="300934"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300934" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300934">(Oct 19 2017 at 17:37)</a>:</h4>
<p>Feedly marks as read as you move away, so in our case - when you leave the current narrow.</p>



<a name="300937"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300937" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300937">(Oct 19 2017 at 17:37)</a>:</h4>
<p>Actually, Inbox is a third option and one we should definitely consider too: there is no mark as unread, and the organization itself is a replacement for unread.</p>



<a name="300938"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300938" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300938">(Oct 19 2017 at 17:38)</a>:</h4>
<p>I definitely 'pin' messages if I want to get back to them and haven't found the need to mark as unread up till now.</p>



<a name="300940"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300940" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300940">(Oct 19 2017 at 17:39)</a>:</h4>
<p>Maybe a good option is to enhance our 'star' system by first renaming it 'pin' which is, I think, a bit more logical, as usually I don't want to 'favor' a message, but to save it for later reference.</p>



<a name="300942"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300942" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300942">(Oct 19 2017 at 17:39)</a>:</h4>
<p>Then we can, in addition to what we do now, show pinned messages on top of the respective narrow, actually pinned.</p>



<a name="300945"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300945" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300945">(Oct 19 2017 at 17:41)</a>:</h4>
<p>I don't think Feedly actually solves my main use case, since it's exactly when I get pulled away from a narrow to deal with something more urgent that I <strong>don't</strong> want messages to be assumed to be read.</p>



<a name="300948"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300948" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300948">(Oct 19 2017 at 17:45)</a>:</h4>
<p>For me the most natural mechanism to mark messages unread is "scroll up".</p>



<a name="300964"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/300964" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#300964">(Oct 19 2017 at 17:53)</a>:</h4>
<p>Hmmmm, that is definitely a better idea in a log of cases, I like it a lot. I can see some cases where it isn't.</p>



<a name="301007"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/301007" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#301007">(Oct 19 2017 at 18:07)</a>:</h4>
<p>Yeah, probably the main problem with scroll-up-marks-as-unread is when you're going back to find an old message, but you still consider yourself caught up.  I don't view that as a dealbreaker, though.</p>



<a name="301010"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/301010" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#301010">(Oct 19 2017 at 18:09)</a>:</h4>
<p>I think we could potentially do something with swiping for "mark as unread" as well.</p>



<a name="301515"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/301515" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#301515">(Oct 20 2017 at 00:03)</a>:</h4>
<p>Yeah, the Feedly solution works great for Feedly partly because, as an RSS reader, the app is one that is never itself a source of interrupts -- so if I navigate elsewhere within the app, that's virtually never because of an interrupt. (There's also an explicit "mark as unread" that I can use when I do want to navigate elsewhere within the app for some reason and come back later.)</p>



<a name="301519"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/301519" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#301519">(Oct 20 2017 at 00:04)</a>:</h4>
<p>I think the same behavior would still be quite helpful for Zulip, because I get plenty of interrupts on my phone from elsewhere (like Facebook Messenger), or interrupts from elsewhere that I handle on my phone outside Zulip. But it won't be as near-complete a solution.</p>



<a name="301526"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/301526" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#301526">(Oct 20 2017 at 00:09)</a>:</h4>
<p>For me I think it would still be like a 95% solution now, because I use Zulip only for discussing/developing Zulip, and I rarely get interrupts on that while not at my laptop. Might be a 75% solution in a world where I used Zulip like a lot of people in the SF tech industry use Slack now, with an org for every friend group, hobby, and professional interest.</p>



<a name="1204133"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204133" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204133">(Jun 08 2021 at 18:56)</a>:</h4>
<p>Bumping this topic in light of <a class="stream-topic" data-stream-id="6" href="/#narrow/stream/6-frontend/topic/mark-as-unread">#frontend &gt; mark-as-unread</a> and <a href="#narrow/stream/65-checkins/topic/wesleyac/near/1204080">starting to work on this on mobile</a>.</p>
<p>The big question that I have is whether we should offer the ability to mark individual messages as unread, or if marking a message unread should also mark all later messages unread.</p>
<p>I'm leaning towards the latter (at the very least, in stream narrows), but I'm open to discussion :)</p>



<a name="1204135"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204135" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204135">(Jun 08 2021 at 18:57)</a>:</h4>
<p>I think from an API perspective, we absolutely want to support marking a set of messages as unread.</p>



<a name="1204137"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204137" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204137">(Jun 08 2021 at 18:57)</a>:</h4>
<p>But from a UI standpoint, I think "Mark unread from here" is what we're most likely to expose to users.</p>



<a name="1204139"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204139" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204139">(Jun 08 2021 at 18:58)</a>:</h4>
<p>Which might also navigate you away from the view to the default view, e.g. in the webapp, moving you to "Recent topics", so as to avoid your marking the messages as read soon after through scrolling or whatnot.</p>



<a name="1204153"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204153" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204153">(Jun 08 2021 at 18:59)</a>:</h4>
<p>I think it could be better to just set a flag that stops marking messages in that narrow as read until you navigate away and back, since that seems less confusing than just dropping the user somewhere else.</p>



<a name="1204156"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204156" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204156">(Jun 08 2021 at 19:00)</a>:</h4>
<p>I think the main use cases for "mark as unread" would be handled well by that:</p>
<ul>
<li>You clicked into a topic/PM view and realize you want to come back to it later.</li>
<li>You accidentally marked everything as read in an interleaved view, and want to scroll to where that happened and mark everything in that interleaved view as unread so that you can browser normally.</li>
</ul>



<a name="1204157"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204157" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204157">(Jun 08 2021 at 19:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17945">Wesley Aptekar-Cassels</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1204153">said</a>:</p>
<blockquote>
<p>I think it could be better to just set a flag that stops marking messages in that narrow as read until you navigate away and back, since that seems less confusing than just dropping the user somewhere else.</p>
</blockquote>
<p>Yeah, that is probably the direction we'll go as a near-term v2, which will probably end up being the same flag we use when you're looking at a search or "Copy link to message" <code>near:</code> view, with corresponding UI to turn the flag off if desired.</p>



<a name="1204158"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204158" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204158">(Jun 08 2021 at 19:01)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/18743">#18743</a> is worth playing around with now.  I find the jumping-to-recent-topics approach kind of jarring at first.</p>



<a name="1204160"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204160" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204160">(Jun 08 2021 at 19:02)</a>:</h4>
<p>It's possible we should consider better support for "Views with marking unread disabled" to be structurally part of this feature.</p>



<a name="1204161"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204161" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204161">(Jun 08 2021 at 19:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1204160">said</a>:</p>
<blockquote>
<p>It's possible we should consider better support for "Views with marking unread disabled" to be structurally part of this feature.</p>
</blockquote>
<p>That's where I am leaning.</p>



<a name="1204168"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204168" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204168">(Jun 08 2021 at 19:06)</a>:</h4>
<p>meta: It would help to have a short, cute term for a view that's essentially "frozen" in terms of unread status.  I'll use "frozen" till somebody suggest something better.</p>



<a name="1204171"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204171" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204171">(Jun 08 2021 at 19:08)</a>:</h4>
<p>If we want to freeze a view, it's conceptually just a simple boolean on <code>MessageListData</code>, correct?  And we just need to make sure all of our scroll handlers respect it.</p>



<a name="1204175"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204175" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204175">(Jun 08 2021 at 19:10)</a>:</h4>
<p><span class="user-mention" data-user-id="58">@Steve Howell (showell)</span> we actually have <code>filter.can_mark_messages_read</code> as a property that controls this behavior for search narrows today (without the UI to tell you about the state).</p>



<a name="1204176"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204176" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204176">(Jun 08 2021 at 19:11)</a>:</h4>
<p>Which is already exposed on <code>message_list.current.can_mark_messages_read</code> in some form.</p>



<a name="1204179"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204179" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204179">(Jun 08 2021 at 19:12)</a>:</h4>
<p>I think we'd want the togglable boolean property to live on <code>MessageListView</code> or <code>MessageList</code> -- in that the <code>MessageListData</code> data structures are intended to be something we can preserve when leaving a view in a long-term cache.</p>
<p>(And rename the <code>filter</code> property to <code>can_mark_messages_read_default</code> or something, to make clear one shouldn't use it directly)</p>



<a name="1204201"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204201" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204201">(Jun 08 2021 at 19:21)</a>:</h4>
<p>Ok, I'll play around with that approach.  (It's pretty easy to stack on top of the go-back-to-RT approach so we can compare/contrast.)</p>



<a name="1204225"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204225" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204225">(Jun 08 2021 at 19:30)</a>:</h4>
<p>While this latter part of discussion has I think focused on the "what happens when marking unread" (eg. single or here-onwards as unread), I think it's worth addressing that "I accidentally marked this read by visiting this narrow" behavior. While we may work around messages being marked read in certain situations, can we track the "reading" process, so that we can simply undo that - on the latest narrow basis, at least, perhaps on a per-message or group-of-messages basis?</p>



<a name="1204267"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204267" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204267">(Jun 08 2021 at 19:49)</a>:</h4>
<p>Yeah, we're definitely going to do <a href="https://github.com/zulip/zulip/pull/10886">#10886</a> in addition to this.</p>



<a name="1204462"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204462" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204462">(Jun 08 2021 at 23:12)</a>:</h4>
<p>Hmmm, one thought here is that the label in the UI should probably be "Mark unread" (rather than "Mark as unread"), as is the convention in other apps (Slack, Discord, etc).</p>



<a name="1204507"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204507" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204507">(Jun 08 2021 at 23:44)</a>:</h4>
<p>Sure, or possibly "Mark unread from here" if needed to clarify that it's not just this message being marked as read.</p>



<a name="1204510"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204510" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204510">(Jun 08 2021 at 23:46)</a>:</h4>
<p>We can sweat those details later.  BTW it won’t be quite at the top of the actions menu permanently.  But maybe second, if it hits a chord during test deployments?</p>



<a name="1204513"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204513" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204513">(Jun 08 2021 at 23:49)</a>:</h4>
<p>I was thinking Third (and we should move Collapse to second-to-last, since that's probably the worst position).</p>



<a name="1204548"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204548" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204548">(Jun 09 2021 at 00:15)</a>:</h4>
<p>I would definitely put the collapse feature in the category of “infrequently used but still important”.</p>



<a name="1204923"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204923" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204923">(Jun 09 2021 at 12:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1204160">said</a>:</p>
<blockquote>
<p>It's possible we should consider better support for "Views with marking unread disabled" to be structurally part of this feature.</p>
</blockquote>
<p><a href="https://github.com/zulip/zulip/pull/18743">#18743</a> now keeps you in the same view, which is much less jarring.  To add polish, I think we just need a banner that above the view with a button that lets you go back into read mode.  <span class="user-mention" data-user-id="19257">@Alya Abbott</span> Do we have somebody working on making reading-prevented views more obvious?</p>



<a name="1204967"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1204967" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1204967">(Jun 09 2021 at 13:25)</a>:</h4>
<p>For testing you can type "N" to resume reading.</p>



<a name="1205067"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205067" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205067">(Jun 09 2021 at 14:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="58">Steve Howell (showell)</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1204158">said</a>:</p>
<blockquote>
<p><a href="https://github.com/zulip/zulip/pull/18743">#18743</a> is worth playing around with now.  I find the jumping-to-recent-topics approach kind of jarring at first.</p>
</blockquote>
<p>I'm making an executive decision that jumping-to-recent-topics is definitely not the way to go here, so I squashed out any relic of that experiment.</p>



<a name="1205074"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205074" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205074">(Jun 09 2021 at 15:06)</a>:</h4>
<p><span class="user-mention" data-user-id="19257">@Alya Abbott</span> <a href="https://github.com/zulip/zulip/pull/18743">#18743</a> is an early prototype for mark-as-unread.  It's still pretty raw, but it's functional at this point for a single client, if you want to play around with it a bit. You can use "m" to mark-as-unread-from-here and "N" to resume reading.  There's also an option in the message actions menu.</p>



<a name="1205099"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205099" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205099">(Jun 09 2021 at 15:23)</a>:</h4>
<p>Cool, I'll play around with it!</p>



<a name="1205102"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205102" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205102">(Jun 09 2021 at 15:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="58">Steve Howell (showell)</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1204923">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1204160">said</a>:</p>
<blockquote>
<p>It's possible we should consider better support for "Views with marking unread disabled" to be structurally part of this feature.</p>
</blockquote>
<p><a href="https://github.com/zulip/zulip/pull/18743">#18743</a> now keeps you in the same view, which is much less jarring.  To add polish, I think we just need a banner that above the view with a button that lets you go back into read mode.  <span class="user-mention silent" data-user-id="19257">Alya Abbott</span> Do we have somebody working on making reading-prevented views more obvious?</p>
</blockquote>
<p>Not yet; I'll write up an issue to cover this and <a href="#narrow/stream/9-issues/topic/Unread.20message.20count.20stuck/near/1203379">the search situation</a>.</p>



<a name="1205140"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205140" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205140">(Jun 09 2021 at 15:50)</a>:</h4>
<p>Hm, looks like I can get weird behavior when marking as unread and then using "N". If I mark a bunch of messages as unread, scroll down, press "N", and then scroll down some more, messages above (which I can't see) get marked as read again.</p>



<a name="1205143"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205143" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205143">(Jun 09 2021 at 15:52)</a>:</h4>
<p>Also, more of a question: is there a reason the selected message jumps down one when I press "N"?</p>



<a name="1205155"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205155" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205155">(Jun 09 2021 at 16:01)</a>:</h4>
<p>Did you mean to say “marking as unread”?</p>



<a name="1205156"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205156" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205156">(Jun 09 2021 at 16:03)</a>:</h4>
<p>Yeah, sorry! Fixed above.</p>



<a name="1205167"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205167" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205167">(Jun 09 2021 at 16:05)</a>:</h4>
<p>The jump-down-one is just feedback that you have implicitly read the current message.  We can turn that off once we have a better way to indicate a message view is locked for reading.</p>



<a name="1205178"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205178" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205178">(Jun 09 2021 at 16:06)</a>:</h4>
<p>How are you observing that the messages you can’t see are becoming “read” again?</p>



<a name="1205181"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205181" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205181">(Jun 09 2021 at 16:09)</a>:</h4>
<p>By looking at the unread count in the left sidebar.</p>



<a name="1205182"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205182" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205182">(Jun 09 2021 at 16:10)</a>:</h4>
<p>I think this might be the normal behavior.</p>



<a name="1205183"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205183" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205183">(Jun 09 2021 at 16:11)</a>:</h4>
<p>All the N key really does is flip a Boolean to let the normal code work again.</p>



<a name="1205184"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205184" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205184">(Jun 09 2021 at 16:12)</a>:</h4>
<p>The glitch might be in the transition, I suppose.</p>



<a name="1205186"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205186" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205186">(Jun 09 2021 at 16:14)</a>:</h4>
<p>It might be a funky behavior unrelated to this feature that normally doesn't come up. I'm not sure how to end up in the appropriate state to test it.</p>



<a name="1205188"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205188" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205188">(Jun 09 2021 at 16:16)</a>:</h4>
<p>I think the trickiest things here are gonna be related to the selected message…</p>



<a name="1205189"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205189" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205189">(Jun 09 2021 at 16:17)</a>:</h4>
<p>When we mark it as unread, I currently move the selection up one (if possible), so you can clearly see that it’s now “unread”.</p>



<a name="1205191"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205191" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205191">(Jun 09 2021 at 16:18)</a>:</h4>
<p>Our current UI doesn’t really have a good way to show that a message is selected, yet still unread….</p>



<a name="1205192"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205192" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205192">(Jun 09 2021 at 16:19)</a>:</h4>
<p>…because that combo is impossible and nonsensical in our current UI.</p>



<a name="1205193"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205193" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205193">(Jun 09 2021 at 16:20)</a>:</h4>
<p>…and I am not sure it should ever be allowed, except in the edge case of a single-message narrow or when you are at top message</p>



<a name="1205196"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205196" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205196">(Jun 09 2021 at 16:22)</a>:</h4>
<p>I also think there may be some logic that when we hit “m”, instead of making the current message be the first unread, make it instead be the last read.</p>



<a name="1205198"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205198" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205198">(Jun 09 2021 at 16:23)</a>:</h4>
<p>(And likewise for the action menu)</p>



<a name="1205201"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205201" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205201">(Jun 09 2021 at 16:26)</a>:</h4>
<p>Another thought process would just be to embrace the notion of an unread selected message as a possibility and figure out how to render it.  But I think I prefer the previous line of thinking.</p>



<a name="1205203"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205203" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205203">(Jun 09 2021 at 16:32)</a>:</h4>
<p>clearly zulip should incorporate eye-tracking technology ;)</p>



<a name="1205217"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205217" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205217">(Jun 09 2021 at 16:54)</a>:</h4>
<p>So the reason it's ugly if a message is both selected and unread is that we show selection by the entire border and we show unreadness with the left border, and it looks like this ugliness if both are true:</p>
<p><a href="/user_uploads/2/21/MpeO6xOQc4H9E_53LqDN2bC7/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/21/MpeO6xOQc4H9E_53LqDN2bC7/image.png" title="image.png"><img src="/user_uploads/2/21/MpeO6xOQc4H9E_53LqDN2bC7/image.png"></a></div>



<a name="1205218"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205218" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205218">(Jun 09 2021 at 16:56)</a>:</h4>
<p>...but I think an easy solution to this is if a message goes into the newly-possible selected-but-unread state, we can just eliminate the left border effect, and then change the entire selection border to be the green color that we use for unreadness.  I would want to see it in practice, of course, but I suspect the visual cue will kinda make sense in the mark-as-unread context.</p>



<a name="1205222"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205222" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205222">(Jun 09 2021 at 17:05)</a>:</h4>
<p>Also, after thinking about it more, the go-one-up-when-you-hit-m and go-down-one-when-you-hit-N paradigm is just gonna feel too janky, and the so-called edge case of being at the top of the narrow is actually gonna be fairly common.</p>



<a name="1205224"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205224" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205224">(Jun 09 2021 at 17:08)</a>:</h4>
<p>Another thing that I'd like feedback from <span class="user-mention silent" data-user-id="19257">Alya Abbott</span> on (and others):</p>
<p>When we go into the cannot-read mode after hitting "m", I wanted some way to show that the view is in that mode.  I decided that a subtle but effective way to show that was to change the left-border-color for unread messages.  But I don't want the current red color I prototyped, which is literally HTML "red".  If you like this approach, then we need a better color here.  I think the red family is good, but a nicer shade of red.</p>
<p>It's also possible that we should indicate the view's cannot-read-ness in some other way too.  If we can put some banner on the top, that will also allow us to go back into can-actually-read mode without knowing about the "N" key.  The banner could say something like "Click to begin marking messages as read again" (but better wording).</p>



<a name="1205227"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205227" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205227">(Jun 09 2021 at 17:11)</a>:</h4>
<p><del>It's also possible that we should just let any motion key from the keyboard put you back into read mode.  And then maybe allow scrolling to also put you into read mode, after a few hundred milliseconds or something.</del></p>



<a name="1205232"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205232" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205232">(Jun 09 2021 at 17:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="58">Steve Howell (showell)</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1205227">said</a>:</p>
<blockquote>
<p>It's also possible that we should just let any motion key from the keyboard put you back into read mode.  And then maybe allow scrolling to also put you into read mode, after a few hundred milliseconds or something.</p>
</blockquote>
<p>I'm kinda not crazy about this idea, since you may actually want to keep reading down the feed while still keeping the messages unread.</p>



<a name="1205234"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205234" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205234">(Jun 09 2021 at 17:16)</a>:</h4>
<p>Here are my design goals.  After I hit "m"...</p>
<ul>
<li>I should see pretty clearly that the desired messages have become unread.</li>
<li>I should be able to know that I'm now in a mode where I can read messages without updating the read-ness of messages.</li>
<li>I should be able to get back into a normal mode easily.</li>
</ul>



<a name="1205239"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205239" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205239">(Jun 09 2021 at 17:22)</a>:</h4>
<blockquote>
<p>…because that combo is impossible and nonsensical in our current UI.</p>
</blockquote>
<p>Doesn't this happen already in a search narrow?</p>



<a name="1205247"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205247" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205247">(Jun 09 2021 at 17:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17945">Wesley Aptekar-Cassels</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1205239">said</a>:</p>
<blockquote>
<blockquote>
<p>…because that combo is impossible and nonsensical in our current UI.</p>
</blockquote>
<p>Doesn't this happen already in a search narrow?</p>
</blockquote>
<p>Hrm, probably.  And it probably looks ugly.</p>



<a name="1205660"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205660" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205660">(Jun 10 2021 at 00:02)</a>:</h4>
<p>Yeah, it happens in a search narrow today and is a bit ugly.</p>



<a name="1205663"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205663" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205663">(Jun 10 2021 at 00:07)</a>:</h4>
<p>I am gonna try to fix that tomorrow.  Both as prep for the upcoming feature and for the current views.</p>



<a name="1205669"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205669" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205669">(Jun 10 2021 at 00:18)</a>:</h4>
<p>The red color didn't connect to a special property about the view for me... Perhaps it's train-able, but I think we may need a more explicit (banner) approach.</p>



<a name="1205671"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205671" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205671">(Jun 10 2021 at 00:24)</a>:</h4>
<p>Yup</p>



<a name="1205681"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1205681" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1205681">(Jun 10 2021 at 00:39)</a>:</h4>
<p>I filed <a href="https://github.com/zulip/zulip/pull/18768">#18768</a> for the banner. I'm not sure about the wording either; happy to take suggestions. The draft wording in the issue is:  <code>Switch to marking viewed messages as read?</code>, with a <code>Yes</code> button.</p>



<a name="1206034"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1206034" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1206034">(Jun 10 2021 at 16:51)</a>:</h4>
<p><span class="user-mention" data-user-id="19257">@Alya Abbott</span> Do you have time to give <a href="https://github.com/zulip/zulip/pull/18743">#18743</a> another look? (I've made a few changes.)</p>



<a name="1206060"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1206060" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1206060">(Jun 10 2021 at 17:01)</a>:</h4>
<p>I have a meeting starting now, but I can take a look in a couple of hours -- thanks!</p>



<a name="1206536"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1206536" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1206536">(Jun 10 2021 at 21:26)</a>:</h4>
<p>I like not having the message selection move around. What else should I pay attention to?</p>



<a name="1328925"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328925" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328925">(Feb 15 2022 at 12:26)</a>:</h4>
<p>FYI <span class="user-mention" data-user-id="58">@Steve Howell (showell)</span> I just got back to <a href="https://github.com/zulip/zulip-mobile/pull/4790">#M4790</a>, which adds support for the mark as unread API to mobile — I'm curious how much work you think it'd be to pick back up <a href="https://github.com/zulip/zulip/pull/19307">#19307</a> / <a href="https://github.com/zulip/zulip/pull/18743">#18743</a></p>



<a name="1328948"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328948" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328948">(Feb 15 2022 at 13:41)</a>:</h4>
<p><span class="user-mention" data-user-id="17945">@Wesley Aptekar-Cassels</span> I am not gonna have any time to focus on mark-as-unread this week, but I can try to answer quick questions.  It seems that <a href="https://github.com/zulip/zulip/pull/19307">#19307</a>, which is the backend piece for mark-as-unread, is in reasonably good shape as far as mobile testing goes.  I think if you apply that to your server, you should be able to mostly pick up where you left off earlier.  (The APIs may change in some ways once I get back into it, but I don't think any of the remaining  changes should be super disruptive.)</p>



<a name="1328950"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328950" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328950">(Feb 15 2022 at 13:43)</a>:</h4>
<p>The other PR is  <a href="https://github.com/zulip/zulip/pull/18743">#18743</a>, which is the webapp UI piece.  I suppose that piece can be helpful for mobile development, but is it an actual blocker for you?</p>



<a name="1328953"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328953" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328953">(Feb 15 2022 at 13:45)</a>:</h4>
<p>Yeah, I tested <a href="https://github.com/zulip/zulip-mobile/pull/4790">#M4790</a> by spinning up a server running <a href="https://github.com/zulip/zulip/pull/18743">#18743</a>, which seemed to work fine — I'm not blocked on anything, I just wanted to let you know that I'd picked up the mobile work again, so we can coordinate about when we want to try to get the server side of things merged.</p>



<a name="1328956"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328956" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328956">(Feb 15 2022 at 13:48)</a>:</h4>
<p>Our plans around that are also relevant to whether I should start working on the mark as unread UI on mobile once <a href="https://github.com/zulip/zulip-mobile/pull/4790">#M4790</a> is merged (which I expect should happen soon), or whether it'll make more sense to put that on hold for the moment.</p>



<a name="1328960"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328960" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328960">(Feb 15 2022 at 13:50)</a>:</h4>
<p>(I guess it's likely that this will be a post-5.0 thing — I haven't caught up on the planning for the release cycle yet, so I'm missing some context there)</p>



<a name="1328981"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328981" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328981">(Feb 15 2022 at 14:04)</a>:</h4>
<p>I'm glad you're not blocked.  I am definitely kinda tied up until we release 5.0, and I think it's 99% decided that mark-as-unread won't make it into that release, but I am definitely hoping to turn my attention back to it as soon as I can, especially if you're also active on it.</p>
<p>Feel free to ping me weekly or so.</p>



<a name="1328982"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328982" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328982">(Feb 15 2022 at 14:07)</a>:</h4>
<p>Some of the things that was holding up mark-as-unread last summer were UI details related to the blue box and green left borders in the message feed, and we didn't have a full-time designer then.  Now we're making more progress on that, which is good.</p>



<a name="1328991"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1328991" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1328991">(Feb 15 2022 at 14:16)</a>:</h4>
<p>That's reasonable, sounds good <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
<p>One thing to consider — if the API + just the part of the JS that handle receiving "mark as unread" messages is easy to merge, getting that into 5.0 would mean that selfhosters would have mark-as-unread in mobile on 5.0, which could be nice. But it also seems totally fine not to do that, I understand that you're quite busy :)</p>



<a name="1333135"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1333135" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1333135">(Feb 23 2022 at 00:52)</a>:</h4>
<p>I think the main thing this needs attention on is the details of how we encode the new information in the API; <span class="user-mention" data-user-id="17945">@Wesley Aptekar-Cassels</span> want to bump and summarize the <a class="stream" data-stream-id="378" href="/#narrow/stream/378-api-design">#api design</a> thread related to that?</p>



<a name="1355596"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1355596" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1355596">(Mar 29 2022 at 22:12)</a>:</h4>
<p>There is a design question about the "mark as an unread" feature that would be great to get some feedback on.</p>
<p>The question is how the feature should interact with the <code>n</code> navigation key. In particular, if we do nothing special, you can have the following experience:</p>
<ol>
<li>Go to a topic and mark messages in it as unread.</li>
<li>Use <code>n</code> to navigate to the next unread topic in the same stream.</li>
<li>Use <code>n</code> again.  Since <code>n</code> cycles through topics, if you were on the last unread topic, you're now back to the topic in step (1). The messages you just marked as unread are now read again <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></li>
</ol>



<a name="1355600"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1355600" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1355600">(Mar 29 2022 at 22:14)</a>:</h4>
<p>Here's a possible proposal:</p>
<ol>
<li><code>n</code> should skip over topics that had any messages in them marked as unread until you navigate away from the stream. This would apply in you mark as unread from a stream or topic view.</li>
<li><code>p</code> would work just like <code>n</code>.</li>
<li>We wouldn't do anything special if you mark as unread from <code>All messages</code>.</li>
</ol>
<p>Thoughts?</p>
<p>CC <span class="user-mention" data-user-id="58">@Steve Howell (showell)</span></p>



<a name="1355609"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1355609" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1355609">(Mar 29 2022 at 22:18)</a>:</h4>
<p>It's probably as simple as that.</p>



<a name="1355619"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1355619" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1355619">(Mar 29 2022 at 22:25)</a>:</h4>
<blockquote>
<p><code>p</code> would work just like <code>n</code>.</p>
</blockquote>
<p>Hm, I just realized that we should be more explicit with this one, since it's not totally obvious what it means (i.e. what's the equivalent of a stream?). I guess we should keep track of what's being skipped until you navigate away from PMs?</p>



<a name="1355624"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1355624" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1355624">(Mar 29 2022 at 22:29)</a>:</h4>
<p>I think it's that simple, but I might have questions when I get more into the weeds of it.</p>



<a name="1355627"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1355627" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1355627">(Mar 29 2022 at 22:30)</a>:</h4>
<p>Sounds good!</p>



<a name="1424098"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424098" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424098">(Aug 24 2022 at 06:49)</a>:</h4>
<p>Replacing the blue box with a <a href="/user_uploads/2/7a/JcY2g1hMa8cGFJ_0lkM5_O39/green-box.gif">green box</a> for unread messages is pretty jarring, both when this temporarily occurs while Zulip loads with at least one new message, and when browsing a view that doesn’t mark messages read.</p>
<div class="message_inline_image"><a href="/user_uploads/2/7a/JcY2g1hMa8cGFJ_0lkM5_O39/green-box.gif" title="green box"><img src="/user_uploads/2/7a/JcY2g1hMa8cGFJ_0lkM5_O39/green-box.gif"></a></div>



<a name="1424215"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424215" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424215">(Aug 24 2022 at 15:48)</a>:</h4>
<p>Hmm, yeah, that's kind of weird. I guess we already have this situation when looking at a search view that has a mix of read and unread messages, but "mark as unread" makes it more prominent.</p>



<a name="1424299"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424299" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424299">(Aug 24 2022 at 18:13)</a>:</h4>
<p>The green box matches the green bar on the left, but I don't think it's particularly obvious what it means. It's possible we'd be OK not having any indication that messages aren't being marked as read until you get to the bottom and see the banner.</p>



<a name="1424300"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424300" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424300">(Aug 24 2022 at 18:14)</a>:</h4>
<p>But CC  <span class="user-mention" data-user-id="22433">@Vlad Korobov</span> for thinking about if/how we should represent the "messages are not being marked as read" state in the new design</p>



<a name="1424405"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424405" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424405">(Aug 24 2022 at 19:21)</a>:</h4>
<p>This is not being used to indicate “messages are not being marked as read”. It’s indicating “<em>this</em> message is unread”.</p>



<a name="1424407"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424407" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424407">(Aug 24 2022 at 19:22)</a>:</h4>
<p>I don’t see why we need that to be a different indicator than the one we already have to indicate that any other message is unread.</p>



<a name="1424412"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424412" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424412">(Aug 24 2022 at 19:23)</a>:</h4>
<p>Oh, I see. Yeah, OK, I agree with that.</p>



<a name="1424423"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424423" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424423">(Aug 24 2022 at 19:30)</a>:</h4>
<p>It’s even more jarring when a <a href="/user_uploads/2/5b/sHa9JWNeIThShJ2Syy9VbqlF/date-divider.gif">date divider</a> is involved.</p>
<div class="message_inline_image"><a href="/user_uploads/2/5b/sHa9JWNeIThShJ2Syy9VbqlF/date-divider.gif" title="date divider"><img src="/user_uploads/2/5b/sHa9JWNeIThShJ2Syy9VbqlF/date-divider.gif"></a></div>



<a name="1424461"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424461" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424461">(Aug 24 2022 at 19:50)</a>:</h4>
<p>I filed <strong>Remove special coloring for message selection box on unread messages</strong> <a href="https://github.com/zulip/zulip/pull/22783">#22783</a>.</p>



<a name="1424500"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424500" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424500">(Aug 24 2022 at 20:09)</a>:</h4>
<p>This is not an issue in <code>main</code>. It’s part of <a href="https://github.com/zulip/zulip/pull/21477">#21477</a>, which is currently deployed here as a <a href="#narrow/stream/415-chat.2Ezulip.2Eorg/topic/experiments/near/1423302">chat.zulip.org experiment</a>.</p>



<a name="1424616"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424616" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424616">(Aug 24 2022 at 22:08)</a>:</h4>
<p>Yeah I was not convinced by that commit; we can just drop it from the pull request when we're next updating it.</p>



<a name="1424617"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424617" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424617">(Aug 24 2022 at 22:09)</a>:</h4>
<p>Any other thoughts on "mark as unread"? One thing on my mind is that we haven't really discussed the choice of icon:</p>
<p><a href="/user_uploads/2/23/Ltbr1M9xnqqrOLmDltMYRBKZ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/23/Ltbr1M9xnqqrOLmDltMYRBKZ/image.png" title="image.png"><img src="/user_uploads/2/23/Ltbr1M9xnqqrOLmDltMYRBKZ/image.png"></a></div>



<a name="1424618"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424618" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424618">(Aug 24 2022 at 22:09)</a>:</h4>
<p>I don't think an envelope is either intuitive or consistent with the icon choices we use elsewhere; usually envelope means private message right now.</p>



<a name="1424619"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424619" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424619">(Aug 24 2022 at 22:12)</a>:</h4>
<p>The <code>m</code> shortcut key doesn’t seem to do anything.</p>



<a name="1424623"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424623" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424623">(Aug 24 2022 at 22:14)</a>:</h4>
<p>(Also why <code>m</code>? I’d expect the operative word to be <strong>u</strong>nread.)</p>



<a name="1424624"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424624" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424624">(Aug 24 2022 at 22:17)</a>:</h4>
<p>Ok, trying it on CZO, it seem that the shortcut is actually <code>SHIFT+U</code> in the current implementation, so that <code>(m)</code> is just incorrect.</p>



<a name="1424625"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424625" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424625">(Aug 24 2022 at 22:19)</a>:</h4>
<p>The envelope matches Gmail (<a href="https://support.google.com/mail/answer/12516?hl=en&amp;co=GENIE.Platform%3DAndroid">https://support.google.com/mail/answer/12516?hl=en&amp;co=GENIE.Platform%3DAndroid</a>), but I agree that we cannot use it both here and for PMs.</p>



<a name="1424631"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424631" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424631">(Aug 24 2022 at 22:24)</a>:</h4>
<p>A chat bubble with an unread dot in the upper right seems to be common as a "mark as unread" icon:</p>
<p><a href="/user_uploads/2/13/p5hHlNtylpSO5J3kr87ni4Xm/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/13/p5hHlNtylpSO5J3kr87ni4Xm/image.png" title="image.png"><img src="/user_uploads/2/13/p5hHlNtylpSO5J3kr87ni4Xm/image.png"></a></div>



<a name="1424632"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424632" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424632">(Aug 24 2022 at 22:25)</a>:</h4>
<p><a href="/user_uploads/2/b1/MdO06gtg2FuzWDpBD9Ux473D/Screen-Shot-2022-08-24-at-3.25.08-PM.png">Screen-Shot-2022-08-24-at-3.25.08-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b1/MdO06gtg2FuzWDpBD9Ux473D/Screen-Shot-2022-08-24-at-3.25.08-PM.png" title="Screen-Shot-2022-08-24-at-3.25.08-PM.png"><img src="/user_uploads/2/b1/MdO06gtg2FuzWDpBD9Ux473D/Screen-Shot-2022-08-24-at-3.25.08-PM.png"></a></div>



<a name="1424636"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424636" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424636">(Aug 24 2022 at 22:27)</a>:</h4>
<p>Marking any message as unread seems to put me into a permanent “To preserve your reading state, this view does not mark messages as read” state. Although clicking “Mark as read” hides that banner, new messages that show up later remain unread and the banner comes back.</p>



<a name="1424639"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424639" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424639">(Aug 24 2022 at 22:32)</a>:</h4>
<p>Yeah, <span class="user-mention silent" data-user-id="7">Tim Abbott</span> and I were chatting about that behavior yesterday... It's also how search views work, though it may come up less often in that context.</p>
<p>Arguably, clicking "Mark as read" should remove the special "not marking messages as read" state.</p>



<a name="1424642"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424642" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424642">(Aug 24 2022 at 22:35)</a>:</h4>
<p>Yeah, I wanted to see how folks feel about it -- having that behavior persist past clicking "Mark as read" seemed wrong to me.</p>



<a name="1424643"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424643" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424643">(Aug 24 2022 at 22:36)</a>:</h4>
<p>It makes sense that it would persist when it’s a property of the view, but not when it’s a result of an action.</p>



<a name="1424645"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424645" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424645">(Aug 24 2022 at 22:36)</a>:</h4>
<p>The concern with "mark as unread" not putting your view into that state is that it's pretty likely you'll accidentally mark it as read again, at least if the bottom whitespace is in view (where scrolling will do that).</p>



<a name="1424858"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1424858" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1424858">(Aug 25 2022 at 01:53)</a>:</h4>
<p>I'm confused by all that sorry.<br>
If we are starting to have ability to mark messages individually as read and unread the "scroll to mark as read" makes it not that great. So I guess  how scroll behaves if it still mark messages as read is a question.<br>
I don't think that manual switch on a message should put it in a some special category to be excluded from the general rule of marking messages as read.</p>



<a name="1425035"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1425035" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1425035">(Aug 25 2022 at 18:58)</a>:</h4>
<p>Let me summarize my understanding of views that do not mark messages as read:</p>
<h2>How they work</h2>
<p>- In some views, messages don't get marked as read.<br>
   - At the bottom of such a view, if there are any unread messages, the user sees a banner that allows them to mark all messages in the current view as read:<br>
<a href="/user_uploads/2/b3/IA8Hwvgirx-G1Ye4xpZLhCik/Screen-Shot-2022-08-25-at-11.29.12-AM.png">Screen-Shot-2022-08-25-at-11.29.12-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b3/IA8Hwvgirx-G1Ye4xpZLhCik/Screen-Shot-2022-08-25-at-11.29.12-AM.png" title="Screen-Shot-2022-08-25-at-11.29.12-AM.png"><img src="/user_uploads/2/b3/IA8Hwvgirx-G1Ye4xpZLhCik/Screen-Shot-2022-08-25-at-11.29.12-AM.png"></a></div><p>- Clicking "Mark as read" does not change the nature of your view. So, if new messages come in, it still does not get marked as read, and the banner reappears.</p>
<h2>Where we use them</h2>
<ul>
<li><strong>Search views</strong> that aren't equivalent to a stream or topic view.  Used because you may be seeing just a subset of messages in some thread, which makes it not a good way to catch up on the conversation (as opposed to finding some targeted information).</li>
<li>Views where the user has just <strong>marked messages as unread</strong>, to avoid those messages immediately getting marked as read again.</li>
<li><strong>"Near" message views</strong>. </li>
</ul>
<h2>UX questions</h2>
<p>A few questions that are on my mind; there may be others.</p>
<ol>
<li>
<p>As came up earlier in this thread, should clicking "Mark as read" take you out of the "messages are not being marked as read" state in some or all of the contexts above?</p>
</li>
<li>
<p>Should there be any kind of visual indicator that messages are not currently being marked as read? Currently, it's not explicitly indicated until you get to the bottom and see the banner.</p>
</li>
<li>
<p>Unlike the other two circumstances, it's not clear to me that "near" views not mark messages as read is the right approach. Chatting with <span class="user-mention silent" data-user-id="7">Tim Abbott</span> , the motivation is that otherwise you might accidentally mark higher messages as read without seeing them, by scrolling to the bottom of the message view, which marked all messages in your view as read. But Perhaps a better solution would be to modify that behavior, so that only messages you scrolled past get marked as read? This part also ties into the conversation in <a class="stream-topic" data-stream-id="101" href="/#narrow/stream/101-design/topic/navigate.20to.20search.20result">#design &gt; navigate to search result</a> .</p>
</li>
</ol>



<a name="1425153"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1425153" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1425153">(Aug 25 2022 at 22:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1424631">said</a>:</p>
<blockquote>
<p>A chat bubble with an unread dot in the upper right seems to be common as a "mark as unread" icon:</p>
<p><a href="/user_uploads/2/13/p5hHlNtylpSO5J3kr87ni4Xm/image.png">image.png</a></p>
</blockquote>
<p>Thinking in that direction, our indication for unreads is an unread count pill. We could consider having the icon be an unread count pill. Theoretically it could show the actual number of messages that'd be marked unread, though that may be somewhat awkward it's more than 2 digits for visual space reasons.</p>



<a name="1425158"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1425158" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1425158">(Aug 25 2022 at 22:34)</a>:</h4>
<p>Generated that in a super hacky way to make this screenshot:</p>
<p><a href="/user_uploads/2/15/2XcmdDTdyjtZQPgyUl_BxEzo/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/15/2XcmdDTdyjtZQPgyUl_BxEzo/image.png" title="image.png"><img src="/user_uploads/2/15/2XcmdDTdyjtZQPgyUl_BxEzo/image.png"></a></div>



<a name="1425159"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1425159" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1425159">(Aug 25 2022 at 22:35)</a>:</h4>
<p>Hmm, the color mismatch seems problematic, but if we were using grey symbols in that row it could be not crazy.</p>



<a name="1425160"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1425160" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1425160">(Aug 25 2022 at 22:38)</a>:</h4>
<p>I suppose one could instead do an unread count pill in blue? Idunno.</p>



<a name="1425163"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1425163" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1425163">(Aug 25 2022 at 22:39)</a>:</h4>
<p>Yeah, I would try a blue unread pill if we're going in that direction.</p>



<a name="1427851"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1427851" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1427851">(Aug 30 2022 at 18:01)</a>:</h4>
<p>To summarize, I think we need to make the following set of changes before "Mark as unread" can be merged:</p>
<ol>
<li>Update the icon. Let's try just a blue unread pill that always shows a <code>1</code> (to avoid issues with large numbers not fitting).</li>
<li>Correct the keyboard shortcut to <code>U</code>.</li>
<li>Clicking "Mark as read" when the banner is only there because you marked messages as unread should put you in a regular view, where new incoming messages will be marked as read. Other views where we don't mark messages as read should remain as they are; we can keep thinking about those separately.</li>
</ol>
<p><span class="user-mention" data-user-id="5140">@Aman (amanagr)</span> would you be up for taking this on?</p>



<a name="1427861"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1427861" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1427861">(Aug 30 2022 at 18:06)</a>:</h4>
<p>Also, I just noticed:</p>
<ol start="4">
<li>Add "Mark as unread from selected message" to the <strong>Message actions</strong> section of the <code>?</code> menu. Maybe just below "React to selected message with <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span>"?</li>
<li>Make the same addition on <a href="https://zulip.com/help/keyboard-shortcuts#for-a-selected-message-outlined-in-blue">https://zulip.com/help/keyboard-shortcuts#for-a-selected-message-outlined-in-blue</a>.</li>
</ol>



<a name="1427968"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1427968" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1427968">(Aug 30 2022 at 19:43)</a>:</h4>
<ol start="6">
<li>We can drop the commits other than <code>mark-unread: Provide basic functionality</code> from the "mark as unread" pull request; at least that's the only commit we're testing right now, and I think we removed the others because they didn't work.</li>
</ol>



<a name="1427971"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1427971" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1427971">(Aug 30 2022 at 19:44)</a>:</h4>
<p>Aman, feel free to do a new PR starting from that one commit to leave the existing work there if you'd prefer.</p>



<a name="1428055"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1428055" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1428055">(Aug 30 2022 at 20:55)</a>:</h4>
<p>Just caught up reading this, and excited to see it partially deployed and being worked on!</p>
<p>Also interesting to see more discussion around 'not marking unread' narrows in light of my recent thoughts in <a class="stream-topic" data-stream-id="2" href="/#narrow/stream/2-general/topic/s.2FS.2Fz.20hotkeys">#general &gt; s/S/z hotkeys</a> and related topics.</p>
<p>I've not seen discussion across the topics on this exactly, but in particular it appears that the banner UI and hotkey <span class="user-mention silent" data-user-id="58">Steve Howell (showell)</span> introduced above as a way to get from the not-marking-unread narrow state to regular state would resolve problems czo users didn't like in the test deployment of <a class="stream-topic" data-stream-id="101" href="/#narrow/stream/101-design/topic/navigate.20to.20search.20result">#design &gt; navigate to search result</a>. That is, if the action (and text) for the banner and hotkey was more along the lines of 'go to first unread in this narrow and start marking unread again', one could go from eg. mentions to a near view of a conversation, and use the key/banner to read any unreads there. Is the 'mark as read' in the banner above supposed to represent this action, or just the toggle from not-marking-unread to marking-unread view of the narrow?</p>



<a name="1428056"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1428056" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1428056">(Aug 30 2022 at 21:06)</a>:</h4>
<p>The "Mark as read" banner is the same one we currently use in "near" message views and search views; it's only visible if you are already scrolled to the bottom of the view.</p>



<a name="1431146"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1431146" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1431146">(Sep 06 2022 at 23:50)</a>:</h4>
<p>What's the behavior of this feature when the user is looking at an interleaved view -- a whole stream, or All Messages, or search results, etc.?</p>
<p>Does it act on the subsequent messages within the given message's conversation, or the subsequent messages in the current view/narrow, or do something else?</p>



<a name="1431147"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1431147" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1431147">(Sep 06 2022 at 23:51)</a>:</h4>
<p>(I'm working on the mobile side of this feature: <a href="https://github.com/zulip/zulip-mobile/pull/5364">#M5364</a>. We already have the mobile app handling when messages get marked unread through some other client, but the next step is for mobile to offer the UI to mark messages as unread.)</p>



<a name="1431148"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1431148" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1431148">(Sep 06 2022 at 23:51)</a>:</h4>
<p>It works on all subsequent messages matching the view. I think that's the correct behavior for cases like "Oops I accidentally marked this interleaved view as read, can I undo?", and I think that's probably the only case I'd expect someone to intentionally use this feature in an interleaved view.</p>



<a name="1431149"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1431149" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1431149">(Sep 06 2022 at 23:52)</a>:</h4>
<p>Sounds sensible.</p>



<a name="1431150"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1431150" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1431150">(Sep 06 2022 at 23:52)</a>:</h4>
<p>Do we offer the feature in views like search results where "I accidentally marked this view as read" can't happen?</p>



<a name="1431496"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1431496" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1431496">(Sep 07 2022 at 18:13)</a>:</h4>
<p>Huh, playing around with it, I see it in a "near" view but not in a search view. Is that intentional?</p>
<p>But someone familiar with the code would need to answer <span class="user-mention silent" data-user-id="2187">Greg Price</span> 's question. :)</p>



<a name="1436958"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1436958" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1436958">(Sep 16 2022 at 22:10)</a>:</h4>
<p><a href="/user_uploads/2/9c/DDL2mkbrlQ9-W4dKLjuRZVKz/image.png">image.png</a> <br>
<a href="/user_uploads/2/34/yRa-dwCtFFvii-yd8Y6qe341/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/9c/DDL2mkbrlQ9-W4dKLjuRZVKz/image.png" title="image.png"><img src="/user_uploads/2/9c/DDL2mkbrlQ9-W4dKLjuRZVKz/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/34/yRa-dwCtFFvii-yd8Y6qe341/image.png" title="image.png"><img src="/user_uploads/2/34/yRa-dwCtFFvii-yd8Y6qe341/image.png"></a></div><p>Narrow windows:<br>
<a href="/user_uploads/2/60/uzdqc7u06sfQruXA9TFs9BqW/image.png">image.png</a> <br>
<a href="/user_uploads/2/7a/2rlWAmR_BtmCnpyn1le20o99/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/60/uzdqc7u06sfQruXA9TFs9BqW/image.png" title="image.png"><img src="/user_uploads/2/60/uzdqc7u06sfQruXA9TFs9BqW/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/7a/2rlWAmR_BtmCnpyn1le20o99/image.png" title="image.png"><img src="/user_uploads/2/7a/2rlWAmR_BtmCnpyn1le20o99/image.png"></a></div>



<a name="1436960"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1436960" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1436960">(Sep 16 2022 at 22:10)</a>:</h4>
<p>Do we want to display <code>U</code> or <code>Shift+u</code> as keyboard shortcut?</p>



<a name="1437013"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437013" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437013">(Sep 16 2022 at 22:44)</a>:</h4>
<p>In this setting, it'd be just a capital <code>U</code>. We're migrating the UI towards hinting hotkeys with key icons that are always capital letters with explicit shift keys, but this context isn't one of them and wouldn't be straightforward to change.</p>



<a name="1437014"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437014" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437014">(Sep 16 2022 at 22:44)</a>:</h4>
<p><span class="user-mention" data-user-id="5140">@Aman (amanagr)</span> I think we wanted to color the unread pills in the same blue as the other icons, rather than having the grey background?</p>



<a name="1437015"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437015" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437015">(Sep 16 2022 at 22:44)</a>:</h4>
<p>Yep, the color needs to match the rest of the options.</p>



<a name="1437017"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437017" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437017">(Sep 16 2022 at 22:46)</a>:</h4>
<blockquote>
<p>but this context isn't one of them and wouldn't be straightforward to change.</p>
</blockquote>
<p>Sorry, what do you mean by that?</p>



<a name="1437018"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437018" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437018">(Sep 16 2022 at 22:46)</a>:</h4>
<p>I agree that for now we should stick with <code>U</code> for consistency.</p>



<a name="1437061"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437061" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437061">(Sep 16 2022 at 23:27)</a>:</h4>
<p>Oh, I just mean redesigning that popover to display keyboard shortcuts differently with <code>shift</code> <code>u</code> as an option would require widening the popover, which might look bad and up being nontrivial; so we shouldn't try to do that in isolation given we have plans to do a more full redesign of the component.</p>



<a name="1437424"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437424" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437424">(Sep 18 2022 at 07:30)</a>:</h4>
<p>Updated the PR(<a href="https://github.com/zulip/zulip/pull/21477">#21477</a>)</p>
<p>Some screenshots: <a href="/user_uploads/2/59/rw16nPRNtE2mk88QaTp3WY8K/Screenshot-2022-09-18-at-12.51.48-PM.png">Screenshot-2022-09-18-at-12.51.48-PM.png</a> <a href="/user_uploads/2/8c/eBJ_0JrP_4Cg4AEKXbp8tXUK/Screenshot-2022-09-18-at-12.51.30-PM.png">Screenshot-2022-09-18-at-12.51.30-PM.png</a> <a href="/user_uploads/2/2d/_7lgCVlJB_HIWA3Ia56wDF8R/Screenshot-2022-09-18-at-12.51.16-PM.png">Screenshot-2022-09-18-at-12.51.16-PM.png</a> <a href="/user_uploads/2/dc/qCwoqxezOuzU-JMqFGYxAm5_/Screenshot-2022-09-18-at-12.50.58-PM.png">Screenshot-2022-09-18-at-12.50.58-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/59/rw16nPRNtE2mk88QaTp3WY8K/Screenshot-2022-09-18-at-12.51.48-PM.png" title="Screenshot-2022-09-18-at-12.51.48-PM.png"><img src="/user_uploads/2/59/rw16nPRNtE2mk88QaTp3WY8K/Screenshot-2022-09-18-at-12.51.48-PM.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/8c/eBJ_0JrP_4Cg4AEKXbp8tXUK/Screenshot-2022-09-18-at-12.51.30-PM.png" title="Screenshot-2022-09-18-at-12.51.30-PM.png"><img src="/user_uploads/2/8c/eBJ_0JrP_4Cg4AEKXbp8tXUK/Screenshot-2022-09-18-at-12.51.30-PM.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/2d/_7lgCVlJB_HIWA3Ia56wDF8R/Screenshot-2022-09-18-at-12.51.16-PM.png" title="Screenshot-2022-09-18-at-12.51.16-PM.png"><img src="/user_uploads/2/2d/_7lgCVlJB_HIWA3Ia56wDF8R/Screenshot-2022-09-18-at-12.51.16-PM.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/dc/qCwoqxezOuzU-JMqFGYxAm5_/Screenshot-2022-09-18-at-12.50.58-PM.png" title="Screenshot-2022-09-18-at-12.50.58-PM.png"><img src="/user_uploads/2/dc/qCwoqxezOuzU-JMqFGYxAm5_/Screenshot-2022-09-18-at-12.50.58-PM.png"></a></div>



<a name="1437425"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437425" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437425">(Sep 18 2022 at 07:35)</a>:</h4>
<p>Addressed the 5 points <a href="#narrow/stream/101-design/topic/mark.20as.20unread/near/1427851">here</a>, thanks Alya!</p>



<a name="1437547"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437547" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437547">(Sep 19 2022 at 04:47)</a>:</h4>
<p>Nice, thanks <span class="user-mention silent" data-user-id="5140">Aman (amanagr)</span> !</p>
<p>I retested the PR, and the only problem I see is the half-blue shadow on the <code>1</code> in the icon in light mode. (I'm seeing it in the PR itself, not just the above screenshot.)</p>



<a name="1437643"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1437643" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1437643">(Sep 19 2022 at 10:44)</a>:</h4>
<p>Ok, fixed, somehow it met the criteria for a bootstrap style and applied a <code>text-shadown</code> on it.</p>



<a name="1438468"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1438468" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1438468">(Sep 21 2022 at 00:42)</a>:</h4>
<p>I just deployed the updated version of this from the pull request here.</p>



<a name="1440363"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1440363" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1440363">(Sep 23 2022 at 23:26)</a>:</h4>
<p>This has now been merged to <code>main</code>! There's still some documentation updates and the like to complete, but I'm really excited that we finally have this as part of the product. (There's also a subtle corner case where you're scrolled up where we can't offer the option right now, but we expect to remove that limitation in the next week or so).</p>



<a name="1445796"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1445796" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1445796">(Oct 06 2022 at 22:16)</a>:</h4>
<p>"Mark as unread" has been deployed to Zulip Cloud!</p>
<p>Words of appreciation from the Rust community:</p>
<p>@_<strong>tmandry|116883</strong> <a href="https://rust-lang.zulipchat.com/#narrow/stream/122653-zulip/topic/Mark.20as.20unread.20from.20here/near/302698718">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> I just want to express my excitement and gratitude for this feature to the team :) I've been wanting it for a long time!</p>
</blockquote>



<a name="1446043"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1446043" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cyphase <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1446043">(Oct 07 2022 at 06:22)</a>:</h4>
<p>Went to the link while currently not signed in to the Rust org, and clicked on the message actions menu. Should mark as unread be there when signed out? Trying to use it prompts to sign up / login, but all the other actions in the menu that would require being logged in aren't shown.</p>



<a name="1446046"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1446046" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1446046">(Oct 07 2022 at 07:16)</a>:</h4>
<p>Ah, good catch! It should not be shown to logged out users. <span class="user-mention" data-user-id="5140">@Aman (amanagr)</span> would you have a chance to fix this one?</p>



<a name="1446060"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1446060" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1446060">(Oct 07 2022 at 08:28)</a>:</h4>
<p>Opened <a href="https://github.com/zulip/zulip/pull/23165">#23165</a></p>



<a name="1446130"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/mark%20as%20unread/near/1446130" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/mark.20as.20unread.html#1446130">(Oct 07 2022 at 16:53)</a>:</h4>
<p>Merged, thanks for the quick fix!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>