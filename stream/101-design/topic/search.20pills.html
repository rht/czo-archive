<html>
<head><meta charset="utf-8"><title>search pills · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html">search pills</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="600055"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600055" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Padia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600055">(Jun 16 2018 at 10:10)</a>:</h4>
<p>Hi everyone ! Below is the design currently implemented for search pills <a href="https://github.com/zulip/zulip/pull/9716" target="_blank" title="https://github.com/zulip/zulip/pull/9716">#9716</a>.<br>
It'd be great to have some feedback about it :)<br>
<a href="/user_uploads/2/35/qZwqpbt58l9miuoBV4tkf3ya/Peek-2018-06-16-15-26.gif" target="_blank" title="Peek-2018-06-16-15-26.gif">Peek-2018-06-16-15-26.gif</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/35/qZwqpbt58l9miuoBV4tkf3ya/Peek-2018-06-16-15-26.gif" target="_blank" title="Peek-2018-06-16-15-26.gif"><img src="/user_uploads/2/35/qZwqpbt58l9miuoBV4tkf3ya/Peek-2018-06-16-15-26.gif"></a></div><ul>
<li>There is an increase in the size of the pills (compared to the composebox ones).</li>
<li>The tab_bar  i.e the tile with stream/topic name on it to the left to the search bar when you narrow a stream/topic name on it, has been removed.</li>
</ul>
<p>One thing I'm not sure right now is what to do when the pills overflow, I don't think multiple rows of pills is an option here (or is it?).</p>



<a name="600075"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600075" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600075">(Jun 16 2018 at 12:16)</a>:</h4>
<p>Yeah, multiple rows doesn't really make sense.  We could try making it a scrollable area?</p>



<a name="600076"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600076" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600076">(Jun 16 2018 at 12:17)</a>:</h4>
<p>we may want to think a bit about the labels in the pills; I think we might want it to say <code>starred</code> or <code>is:starred</code> instead of "starred messages", just to avoid duplication in the labels.</p>



<a name="600080"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600080" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Padia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600080">(Jun 16 2018 at 12:25)</a>:</h4>
<p>Cool, scroll-able area makes sense. </p>
<blockquote>
<p>I think we might want it to say starred or is:starred instead of "starred messages"</p>
</blockquote>
<p>Okay, how about we start with <code>is:starred</code> i.e the search string for now ?</p>



<a name="600082"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600082" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Padia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600082">(Jun 16 2018 at 12:28)</a>:</h4>
<p>Also FYI, another behavioural change in the TODO list is taking account of the existing pills for the next suggestion. The current search takes care of that. (e.g if you have a stream filter applied, it will suggest that stream's topic)</p>



<a name="600093"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600093" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600093">(Jun 16 2018 at 14:47)</a>:</h4>
<p>I think <code>is:starred</code> is fine for now.  We can then have the full text available as a hover text sort of thing as a follow-up feature (no need to work on that now)</p>



<a name="600095"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600095" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600095">(Jun 16 2018 at 14:48)</a>:</h4>
<p>Are there parts of this that are ready for review?</p>



<a name="600107"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600107" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Padia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600107">(Jun 16 2018 at 14:59)</a>:</h4>
<p>Yes, except making the div scrollable and 'is:starred' description change, the UI shown in the gif are ready for review. (I'm going out of town right now till monday morning, so wouldn't be able to make the description changes)</p>



<a name="600777"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/600777" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Padia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#600777">(Jun 18 2018 at 22:44)</a>:</h4>
<p>Update: I decided not to make the scrollbar change in <a href="https://github.com/zulip/zulip/pull/9716" target="_blank" title="https://github.com/zulip/zulip/pull/9716">#9716</a>. <br>
Scrolling + arrow key navigation works fine right now, a visual scrollbar to click on is not present.  The space for the scrollbar is very limited, I think it'd be best to figure that out in a follow up issue. <br>
Ideally instead of a scrollbar I'd have two small arrow icons in the UI for navigating through the search pills.</p>



<a name="909663"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909663" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909663">(Jun 19 2020 at 23:33)</a>:</h4>
<p>I've deployed here the new "search pills" UI for search in the top navbar.  If we can polish this feature enough to be better than the legacy search system, I'd love to turn it on for Zulip 2.2.  So I'd love folks doing a bunch of QA on it.</p>



<a name="909721"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909721" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cyphase <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909721">(Jun 20 2020 at 01:09)</a>:</h4>
<p>My first search was natural, not a test, though I did notice that pills had been enabled. <code>/</code>, typed a word after the already existing stream pill, and <code>Enter</code>. It took me a moment to realize that the search hadn't been done yet — only the creation of a pill for my search term. I had to hit <code>Enter</code> again to perform the search.</p>
<p>At least for me, searching for a non-operator search term in an already existing narrow might be a common enough case that it would be good to special case it to not require hitting <code>Enter</code> twice. I also usually put the non-operator terms at the end, so for my usage that would be an extra reason to special case it.</p>
<p>In cases where that solution ends up searching "too soon", someone could always go back to the search bar by clicking or with <code>/</code> to add more. But that could be annoying as well. I had a thought; especially now that search pills are a thing, has there been any consideration of having the search results update every time a pill is added/removed? This would solve the "I expected it to search" problem. Pressing <code>Enter</code> again could be the way to "finalize" the search and go to the results. Maybe the up/down arrow keys could also immediately take you to the results and move the focus box?</p>
<p>And there are other UX questions to answer.</p>



<a name="909723"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909723" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909723">(Jun 20 2020 at 01:09)</a>:</h4>
<p>Yeah, I think that's a bug -- I expect enter to renarrow there as well.</p>



<a name="909725"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909725" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909725">(Jun 20 2020 at 01:09)</a>:</h4>
<p>We just needs to keep the focus/cursor in the search bar so that you can add another operator / otherwise keep editing.</p>



<a name="909726"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909726" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909726">(Jun 20 2020 at 01:10)</a>:</h4>
<p>Note that if you click the option, rather than hitting enter, it'll do that.</p>



<a name="909737"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909737" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cyphase <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909737">(Jun 20 2020 at 01:30)</a>:</h4>
<p>Also, when attempting a fresh search, deleting the last pill takes you to "All messages", where you then have to initiate a search again.</p>



<a name="909745"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909745" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909745">(Jun 20 2020 at 01:47)</a>:</h4>
<p>Oh, and I should <span class="user-mention" data-user-id="13033">@Ryan Rehman</span> who's been driving this work, and <span class="user-mention" data-user-id="5263">@Shubham Padia</span> who did the original prototype a few years ago <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="909750"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909750" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Rehman <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909750">(Jun 20 2020 at 02:06)</a>:</h4>
<blockquote>
<p>has there been any consideration of having the search results update every time a pill is added/removed? </p>
</blockquote>
<p>This is how the initial version was prototyped. I made this change as it felt a bit laggy and can be a bit annoying for users mainly using the mouse.<br>
But I agree that we can consider the pill as a sort of a confirmed query that we can narrow based on.</p>



<a name="909755"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909755" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909755">(Jun 20 2020 at 02:48)</a>:</h4>
<p>What's the source of the lag?  In theory we could change the view without interrupting continued typing.</p>



<a name="909757"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909757" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Rehman <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909757">(Jun 20 2020 at 03:14)</a>:</h4>
<p>I guess because the pills data is updated but the UI is not updated.<br>
Also maybe we could have a loading indicator instead of the left search icon, every time we activate narrow by search.<br>
In the gif the tab get updated from <code>home</code> to <code>Verona</code> just after pressing enter and much before the rest of the page.<br>
<a href="/user_uploads/2/7d/NlEN0njsyKcDBczLuP3v4IFv/pills_lag.gif">pills_lag.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/7d/NlEN0njsyKcDBczLuP3v4IFv/pills_lag.gif" title="pills_lag.gif"><img src="/user_uploads/2/7d/NlEN0njsyKcDBczLuP3v4IFv/pills_lag.gif"></a></div>



<a name="909762"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909762" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909762">(Jun 20 2020 at 03:19)</a>:</h4>
<p>Yeah, that could work.</p>



<a name="909801"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909801" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gittenburg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909801">(Jun 20 2020 at 07:14)</a>:</h4>
<p>In my Firefox the search pills are misaligned, I reported it in <a href="https://github.com/zulip/zulip/pull/15480">#15480</a>.</p>



<a name="909948"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909948" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909948">(Jun 20 2020 at 10:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="16219">Gittenburg</span> <a href="#narrow/stream/101-design/topic/search.20pills/near/909801">said</a>:</p>
<blockquote>
<p>In my Firefox the search pills are misaligned, I reported it in <a href="https://github.com/zulip/zulip/pull/15480">#15480</a>.</p>
</blockquote>
<p>Same for me.<br>
<a href="/user_uploads/2/c6/2oHtjHTxBW51NAtAoCHB42W6/Screenshot_1.png">Screenshot_1.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/c6/2oHtjHTxBW51NAtAoCHB42W6/Screenshot_1.png" title="Screenshot_1.png"><img src="/user_uploads/2/c6/2oHtjHTxBW51NAtAoCHB42W6/Screenshot_1.png"></a></div>



<a name="909955"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909955" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909955">(Jun 20 2020 at 10:31)</a>:</h4>
<p>likewise for me (in day mode)</p>



<a name="909969"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909969" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Siddharth <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909969">(Jun 20 2020 at 10:52)</a>:</h4>
<p>Another thing I notice is if I change my app when the search is still open, it gets automatically close without clicking anywhere<br>
<a href="/user_uploads/2/2f/oU_c3imzCxMYdbnXs_IdP5Ns/Peek-2020-06-20-16-19.gif">Peek-2020-06-20-16-19.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/2f/oU_c3imzCxMYdbnXs_IdP5Ns/Peek-2020-06-20-16-19.gif" title="Peek-2020-06-20-16-19.gif"><img src="/user_uploads/2/2f/oU_c3imzCxMYdbnXs_IdP5Ns/Peek-2020-06-20-16-19.gif"></a></div>



<a name="909970"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/909970" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Siddharth <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#909970">(Jun 20 2020 at 10:53)</a>:</h4>
<p>This is I guess is more related to the navbar functionality</p>



<a name="910027"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910027" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Rehman <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910027">(Jun 20 2020 at 13:31)</a>:</h4>
<p>I opened <a href="https://github.com/zulip/zulip/pull/15484">#15484</a> for the misalignment bug, could someone have a look.</p>



<a name="910028"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910028" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Rehman <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910028">(Jun 20 2020 at 13:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="11296">Siddharth</span> <a href="#narrow/stream/101-design/topic/search.20pills/near/909969">said</a>:</p>
<blockquote>
<p>Another thing I notice is if I change my app when the search is still open, it gets automatically close without clicking anywhere</p>
</blockquote>
<p>Oh this was done on purpose, both for the pills and legacy version.<br>
Since the user has to refocus anyway, now the navbar gets displayed every time the searchbox loses focus.</p>



<a name="910029"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910029" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Siddharth <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910029">(Jun 20 2020 at 13:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="13033">Ryan Rehman</span> <a href="#narrow/stream/101-design/topic/search.20pills/near/910027">said</a>:</p>
<blockquote>
<p>I opened <a href="https://github.com/zulip/zulip/pull/15484">#15484</a> for the misalignment bug, could someone have a look.</p>
</blockquote>
<p>Do I have to enable some settings?<br>
I am testing this locally but the search bar is old one without pills</p>



<a name="910030"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910030" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Rehman <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910030">(Jun 20 2020 at 13:43)</a>:</h4>
<p>Yes using: <code>env SEARCH_PILLS_ENABLED=1 tools/run-dev.py</code></p>



<a name="910031"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910031" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Siddharth <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910031">(Jun 20 2020 at 13:49)</a>:</h4>
<p>I tested it on FF and it looks good to me</p>



<a name="910032"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910032" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910032">(Jun 20 2020 at 13:49)</a>:</h4>
<p>Looks good to me as well.</p>



<a name="910033"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910033" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910033">(Jun 20 2020 at 13:51)</a>:</h4>
<p>This happens on smaller screens<br>
<a href="/user_uploads/2/45/oKl-74jmegD40BRTKqvOL7xo/Screenshot_2.png">Screenshot_2.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/45/oKl-74jmegD40BRTKqvOL7xo/Screenshot_2.png" title="Screenshot_2.png"><img src="/user_uploads/2/45/oKl-74jmegD40BRTKqvOL7xo/Screenshot_2.png"></a></div>



<a name="910034"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910034" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910034">(Jun 20 2020 at 13:51)</a>:</h4>
<p><a href="/user_uploads/2/8c/fj3zaAMu34HKq_CV2ImWtPIf/Screenshot_3.png">Screenshot_3.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/8c/fj3zaAMu34HKq_CV2ImWtPIf/Screenshot_3.png" title="Screenshot_3.png"><img src="/user_uploads/2/8c/fj3zaAMu34HKq_CV2ImWtPIf/Screenshot_3.png"></a></div>



<a name="910035"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910035" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Rehman <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910035">(Jun 20 2020 at 13:55)</a>:</h4>
<p>Thanks for checking this <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>
<p><span class="user-mention silent" data-user-id="11190">Vinit Singh</span> <a href="#narrow/stream/101-design/topic/search.20pills/near/910033">said</a>:</p>
<blockquote>
<p>This happens on smaller screens</p>
</blockquote>
<p>Ah yes, there are problems when pills overflow, I'm looking into it. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span><br>
There are the 2 bugs that I noticed and am tracking: <a href="https://github.com/zulip/zulip/pull/15172#issue-426397615">link</a>.</p>



<a name="910142"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910142" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yash RE <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910142">(Jun 20 2020 at 16:38)</a>:</h4>
<p>The interaction between tab key + typeahead + "close on losing focus" feels a little buggy to me</p>



<a name="910150"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910150" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yash RE <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910150">(Jun 20 2020 at 16:48)</a>:</h4>
<div class="message_inline_image"><a href="/user_uploads/2/8a/hUkA0ynQYaPoPn-mGMZcItjF/pills.gif"><img src="/user_uploads/2/8a/hUkA0ynQYaPoPn-mGMZcItjF/pills.gif"></a></div>



<a name="910156"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910156" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yash RE <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910156">(Jun 20 2020 at 16:56)</a>:</h4>
<p>To clarify what's happening in the GIF:</p>
<ol>
<li>The typeahead can close (eg after selecting a suggestion) in which case, using tab will select the "x" and cause the search to close (?).</li>
<li>Pressing the left arrow key and then right arrow key will bring up the typeahead again... (after which the left arrow key won't work).</li>
</ol>



<a name="910249"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910249" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Rehman <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910249">(Jun 20 2020 at 18:19)</a>:</h4>
<p>I assume this will be resolved when we change the logic to narrow based on pill updation, as discussed <a href="#narrow/stream/101-design/topic/search.20pills/near/909723">above</a>.</p>
<blockquote>
<p>after which the left arrow key won't work</p>
</blockquote>
<p>Yeah, the left and right arrow keys don't interact well with pills (just the text input) when the typeahead is open. I'll look into this. <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> <br>
(Looks like this is related to the 2nd point in the <a href="https://github.com/zulip/zulip/pull/15172#issue-426397615">link</a>)</p>



<a name="910608"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910608" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910608">(Jun 21 2020 at 05:16)</a>:</h4>
<p>This is a good initial version, we can clean it up to show <code>sender: Sender Name</code> instead of sender email and show <code>topic: search pills</code> instead of url encoding it.</p>



<a name="910642"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910642" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910642">(Jun 21 2020 at 06:22)</a>:</h4>
<p>Yeah, I'd also like us to encode searches as <code>search: Foo bar baz</code> in the pill display, etc.</p>



<a name="910643"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/910643" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#910643">(Jun 21 2020 at 06:22)</a>:</h4>
<p>Also, I expect <code>backspace</code> to let me delete pills in this situation, but it does nothing:<br>
<a href="/user_uploads/2/21/BZYAt8-OpsRsjDX-fntg1vg4/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/21/BZYAt8-OpsRsjDX-fntg1vg4/image.png" title="image.png"><img src="/user_uploads/2/21/BZYAt8-OpsRsjDX-fntg1vg4/image.png"></a></div>



<a name="911441"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/911441" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#911441">(Jun 22 2020 at 21:52)</a>:</h4>
<p>This design makes it hard to edit a query with a typo. You have to delete the whole phrase and start over.</p>



<a name="911444"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/911444" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#911444">(Jun 22 2020 at 21:54)</a>:</h4>
<p>Splitting multi-keyword queries into multiple pills (when not quoted) would make this a little better, and would also make more sense conceptually.</p>



<a name="911445"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/911445" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yash RE <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#911445">(Jun 22 2020 at 21:56)</a>:</h4>
<p><a href="/user_uploads/2/5a/kreCKqF0gOK2F1ZMws9HNk-x/image.png">/user_uploads/2/5a/kreCKqF0gOK2F1ZMws9HNk-x/image.png</a><br>
Maybe we want to do more with this select state?</p>
<div class="message_inline_image"><a href="/user_uploads/2/5a/kreCKqF0gOK2F1ZMws9HNk-x/image.png"><img src="/user_uploads/2/5a/kreCKqF0gOK2F1ZMws9HNk-x/image.png"></a></div>



<a name="911454"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/911454" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#911454">(Jun 22 2020 at 22:03)</a>:</h4>
<p>Yeah, I'm pretty unhappy with the editing experience right now.  It's also annoying to do a global search starting from a stream narrow (which is a super common use case).</p>



<a name="911456"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/911456" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#911456">(Jun 22 2020 at 22:04)</a>:</h4>
<p>We'll see how this progresses with the next few revisions, but my current feeling is that we may have to punt on turning on this feature for 2.2.  We'll see.</p>



<a name="911676"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/911676" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yash RE <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#911676">(Jun 23 2020 at 01:04)</a>:</h4>
<p>Uh! If we don't end up turning this on, we should make sure that the way we're automatically closing the search bar doesn't feel annoying. Because that's something we've changed on search legacy.</p>



<a name="911680"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/911680" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#911680">(Jun 23 2020 at 01:06)</a>:</h4>
<p>Yeah, I think we should revert that change for legacy search in any case.</p>



<a name="911681"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/911681" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#911681">(Jun 23 2020 at 01:07)</a>:</h4>
<p>Again, it depends how we do with fixing the issues with this -- it's possible we'll be able to ship it.  I'm just much more confident about the other stuff.</p>



<a name="1646080"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646080" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646080">(Sep 23 2023 at 22:39)</a>:</h4>
<p>I'm starting work on adding search pills! Here's a screen capture of a current prototype. Don't pay too much attention to the details, since it's not meant to be anywhere close to the final product.</p>
<p><a href="/user_uploads/2/93/jUpsghTbTgZcPGG2RlEIPxnf/Kapture-2023-09-23-at-18.37.15.gif">Kapture-2023-09-23-at-18.37.15.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/93/jUpsghTbTgZcPGG2RlEIPxnf/Kapture-2023-09-23-at-18.37.15.gif" title="Kapture-2023-09-23-at-18.37.15.gif"><img src="/user_uploads/2/93/jUpsghTbTgZcPGG2RlEIPxnf/Kapture-2023-09-23-at-18.37.15.gif"></a></div>



<a name="1646084"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646084" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646084">(Sep 23 2023 at 22:45)</a>:</h4>
<p>I'm here to mostly ask about what we want to do for <strong>the display text of search pills</strong>. I'm going to suggest the sort of thing I've been thinking about to start, and I'm curious what others (and especially <span class="user-mention" data-user-id="22433">@Vlad Korobov</span>) would like to do.</p>



<a name="1646085"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646085" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646085">(Sep 23 2023 at 22:46)</a>:</h4>
<p>I think using plain text strings like <code>starred</code> instead of <code>is:starred</code> would be more user-friendly, especially if we use icons to make it clear they're special pills. </p>
<p>But also this could be harder to differentiate from plain text string inputs, like looking for the string "starred" vs looking for starred messages. I'm hoping we can visually differentiate those in the typeahead and searchbar pills, but not sure yet what we'd want to do.</p>



<a name="1646086"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646086" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646086">(Sep 23 2023 at 22:47)</a>:</h4>
<p>I think we should use translated strings for the display (e.g. "starred" would be translated). We can also translate if we keep <code>is:starred</code>. I'm specifically suggesting we translate it for what we display on the pill, and not for any value we're using for e.g. the URL or the search filter logic behind the scenes, which we can keep in English and not show to the user (outside of in the URL).</p>



<a name="1646087"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646087" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646087">(Sep 23 2023 at 22:49)</a>:</h4>
<p>Some examples of what we could display on pills:</p>
<ul>
<li><code>is:starred</code> =&gt; <code>★ starred</code> (with the same icon we use in the left sidebar)</li>
<li><code>is:mentioned</code> =&gt; <code>@ mentions</code></li>
<li><code>is:resolved</code> =&gt; <code>✔ resolved</code></li>
<li><code>sender:email@zulip.com</code> =&gt; <code>from [user's name]</code> (we probably want a photo in this pill somewhere too, but I'm not sure how to do that)</li>
<li><code>stream:foo</code> =&gt; <code>#foo</code> (in the color of the recipient header for that stream)</li>
<li>The user is able to type a stream and topic combination together, using the typeahead, and I think that should be turned into its own <code>#stream &gt; topic_name</code> pill</li>
</ul>



<a name="1646088"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646088" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646088">(Sep 23 2023 at 22:53)</a>:</h4>
<p>Tim also earlier said in another stream:</p>
<blockquote>
<p>I feel like we'll need to think hard about i18n with stringification; the nice thing about using the operators is they're more limited in length ... but of course they're also not in your language. But probably best to get the other details working happily first.</p>
</blockquote>
<p>and Vlad said:</p>
<blockquote>
<p>If we render a pill key:value  we can localize key, but if people input the key directly it could be english.<br>
So there is a key value and key label<br>
And we could start from label is the same as key for now</p>
</blockquote>



<a name="1646386"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646386" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646386">(Sep 25 2023 at 04:20)</a>:</h4>
<p>Hmm, I feel like if we start doing icons, we're kind of committing to using them across the board for consistency. (<code>#</code> might be an exception to that).</p>



<a name="1646387"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646387" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646387">(Sep 25 2023 at 04:20)</a>:</h4>
<p>For reference from other apps:</p>
<ul>
<li>
<p>Keeping the <code>is: X</code> syntax: <br>
<a href="/user_uploads/2/fb/5fBSZ5rQmaQGBZRrAnUAo_YD/Screenshot-2023-09-24-at-9.20.14-PM.png">Screenshot-2023-09-24-at-9.20.14-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/fb/5fBSZ5rQmaQGBZRrAnUAo_YD/Screenshot-2023-09-24-at-9.20.14-PM.png" title="Screenshot-2023-09-24-at-9.20.14-PM.png"><img src="/user_uploads/2/fb/5fBSZ5rQmaQGBZRrAnUAo_YD/Screenshot-2023-09-24-at-9.20.14-PM.png"></a></div></li>
<li>
<p>Transforming into a more natural phrase:<br>
<a href="/user_uploads/2/54/5tQOnRgJqW7QvTvhYQUZEWAb/Screenshot-2023-09-24-at-9.07.16-PM.png">Screenshot-2023-09-24-at-9.07.16-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/54/5tQOnRgJqW7QvTvhYQUZEWAb/Screenshot-2023-09-24-at-9.07.16-PM.png" title="Screenshot-2023-09-24-at-9.07.16-PM.png"><img src="/user_uploads/2/54/5tQOnRgJqW7QvTvhYQUZEWAb/Screenshot-2023-09-24-at-9.07.16-PM.png"></a></div></li>
</ul>



<a name="1646388"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646388" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646388">(Sep 25 2023 at 04:23)</a>:</h4>
<p>Translation is a bit tricky, in that we don't want to hint that you could type a query in another language if that won't, in fact, work. Displaying a phrase on a pill, rather than <code>is:X</code> syntax, seems better in that regard -- it's more clear that the pill isn't literally showing something you'd type into the search box.</p>



<a name="1646933"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646933" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646933">(Sep 25 2023 at 21:53)</a>:</h4>
<p>I like showing the operators because they hint what you need to type in order to do that search.</p>



<a name="1646934"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1646934" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1646934">(Sep 25 2023 at 21:53)</a>:</h4>
<p>But maybe we can do that via tooltips or something if we don't have them shown always.</p>



<a name="1647098"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647098" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647098">(Sep 26 2023 at 02:35)</a>:</h4>
<p>I think as intermediate step having operators is appropriate.<br>
We have a hard task here in search input. I don't know a product which merges functionality of search and jump at the same time.<br>
Zulip could do that I think.</p>
<p>Imagine we in search mode and just keep adding conditions, in this case repeating the whole query at the bottom doesn't feel as a right thing:<br>
<a href="/user_uploads/2/1e/dAgYr0uvN3JkJoDmAhzaDbwB/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/1e/dAgYr0uvN3JkJoDmAhzaDbwB/image.png" title="image.png"><img src="/user_uploads/2/1e/dAgYr0uvN3JkJoDmAhzaDbwB/image.png"></a></div><p>But in the majority of cases people just want to jump:<br>
<a href="/user_uploads/2/8c/6Eo2mkNzN89oFwQN3iKdN01M/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/8c/6Eo2mkNzN89oFwQN3iKdN01M/image.png" title="image.png"><img src="/user_uploads/2/8c/6Eo2mkNzN89oFwQN3iKdN01M/image.png"></a></div><p>So how can I tell that I want to search inside Design stream? Do I have to jump to design stream first? Is it only available from the keyboard or I can click my pills?<br>
<a href="/user_uploads/2/5a/mYCkW6lul_J_XSL11nj9f5M5/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/5a/mYCkW6lul_J_XSL11nj9f5M5/image.png" title="image.png"><img src="/user_uploads/2/5a/mYCkW6lul_J_XSL11nj9f5M5/image.png"></a></div><p>And after we add those pills, do we need X buttons on every pill? Wny? Can't we select the pill as a whole end just delete it? How do we go inside the pill to edit a pill value?</p>
<p>I don't have all the answers now. I wish we can make it nice and clear for the users without having another Jump dialog.</p>
<p>We could use left side icons to distinguish between actions Search the string match / Add a pill / Jump to something<br>
<a href="/user_uploads/2/9/IVqFHXKfF5n-mVHBQ1NAehI8/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/9/IVqFHXKfF5n-mVHBQ1NAehI8/image.png" title="image.png"><img src="/user_uploads/2/9/IVqFHXKfF5n-mVHBQ1NAehI8/image.png"></a></div><p>We could use stream icons in case of a jump and we could use key:value pills in case you want to add them to the search query:<br>
<a href="/user_uploads/2/75/kjL4YgtELjRpWGbPhkXaAaYl/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/75/kjL4YgtELjRpWGbPhkXaAaYl/image.png" title="image.png"><img src="/user_uploads/2/75/kjL4YgtELjRpWGbPhkXaAaYl/image.png"></a></div>



<a name="1647135"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647135" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647135">(Sep 26 2023 at 06:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="21453">Evy</span> <a href="#narrow/stream/101-design/topic/search.20pills/near/1646080">said</a>:</p>
<blockquote>
<p>I'm starting work on adding search pills! Here's a screen capture of a current prototype. Don't pay too much attention to the details, since it's not meant to be anywhere close to the final product.</p>
<p><a href="/user_uploads/2/93/jUpsghTbTgZcPGG2RlEIPxnf/Kapture-2023-09-23-at-18.37.15.gif">Kapture-2023-09-23-at-18.37.15.gif</a></p>
</blockquote>
<p>looking good, I can't wait for it to be operational because now it's a real mess looking for messages</p>



<a name="1647271"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647271" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647271">(Sep 26 2023 at 15:35)</a>:</h4>
<blockquote>
<p>We could use left side icons to distinguish between actions Search the string match / Add a pill / Jump to something</p>
</blockquote>
<p>I like that idea.</p>



<a name="1647306"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647306" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647306">(Sep 26 2023 at 16:27)</a>:</h4>
<p>Is the proposal here that we duplicate every partially matched topic with both add-pill and jump options? That seems unnecessarily verbose if there are several matches.</p>



<a name="1647351"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647351" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647351">(Sep 26 2023 at 17:31)</a>:</h4>
<p>Yeah, I think having semi-duplicate options (in terms of the thing you're completing) feels pretty bad; e.g. we have this already and I definitely don't like it:</p>
<p><a href="/user_uploads/2/f0/FR1nIYfsdjQCzuihHDaUc_d2/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/f0/FR1nIYfsdjQCzuihHDaUc_d2/image.png" title="image.png"><img src="/user_uploads/2/f0/FR1nIYfsdjQCzuihHDaUc_d2/image.png"></a></div>



<a name="1647354"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647354" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647354">(Sep 26 2023 at 17:32)</a>:</h4>
<p>I think within the search UI, the "Jump to X" option is just type <code>#des&lt;Enter&gt;&lt;Enter&gt;</code> -- the first enter completes a "#design" pill and the second does the immediate jump to the view you've selected.</p>



<a name="1647359"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647359" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647359">(Sep 26 2023 at 17:35)</a>:</h4>
<p>If we want a thing that's even more dedicated to jumping that that, we probably want it to be a separate thing than the search UI. You can already jump to a stream using <code>wdes&lt;Enter&gt;</code> if we're looking for a fewer-keys way of doing that. (<code>w</code> is the keyboard shortcut to jump to the stream filtering widget in the left sidebar). Or we could do a separate <code>Ctrl+K</code> modal widget if we feel we want something more front and center.</p>
<p>I don't know, there's probably a few other ways to do this, but I think we should try to do a minimal transition to a pills UI here and avoid entangling new complexity in terms of the options to the extent possible -- a lot of ideas will be way easier once we've completed the pills transition.</p>



<a name="1647365"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647365" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647365">(Sep 26 2023 at 17:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/search.20pills/near/1647354">said</a>:</p>
<blockquote>
<p>I think within the search UI, the "Jump to X" option is just type <code>#des&lt;Enter&gt;&lt;Enter&gt;</code> -- the first enter completes a "#design" pill and the second does the immediate jump to the view you've selected.</p>
</blockquote>
<p>This is what I've implemented so far, and feel good about that.</p>



<a name="1647366"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647366" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647366">(Sep 26 2023 at 17:43)</a>:</h4>
<p>After thinking about it more, I feel good about keeping the keywords as well as the English text for now and adding internationalization after we finish the basic implementation of pills.</p>



<a name="1647367"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647367" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647367">(Sep 26 2023 at 17:44)</a>:</h4>
<p>With maybe the exception of <code>#stream</code> and for streams (with colors) and <code>#stream&gt;topic</code> for selecting that at the same time, but even that can be an addition afterwards.</p>



<a name="1647370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647370">(Sep 26 2023 at 17:45)</a>:</h4>
<blockquote>
<p>And after we add those pills, do we need X buttons on every pill? Wny? Can't we select the pill as a whole end just delete it? </p>
</blockquote>
<p>In my current implementation, you can delete pills with any of: Click the X button, click to highlight then backspace, backspace when the cursor position is in front of the pill</p>



<a name="1647371"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647371" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647371">(Sep 26 2023 at 17:46)</a>:</h4>
<blockquote>
<p>How do we go inside the pill to edit a pill value?</p>
</blockquote>
<p>I think this is important for some pills, especially longer ones and ones that are just plain text searches. I'm not sure yet what a good UX for that is. Maybe double click would break the pill and leave the input for editing (the easiest version of that moves the text to the end of the input field where it would usually go)</p>



<a name="1647388"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647388" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647388">(Sep 26 2023 at 18:00)</a>:</h4>
<p>Yeah that double-click option is I think the traditional way to make that work and I think is pretty reasonable UI.</p>



<a name="1647394"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647394" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647394">(Sep 26 2023 at 18:04)</a>:</h4>
<p>I’m confused about enter enter to jump. We write des… hit arrow down to select a pill, confirm the pill selection… dont start search and wait for confirmation of input or continuation via second Enter?</p>



<a name="1647395"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647395" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647395">(Sep 26 2023 at 18:04)</a>:</h4>
<p>If this case if the search is marching exactly the view we can navigate to we do that?</p>



<a name="1647396"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647396" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647396">(Sep 26 2023 at 18:05)</a>:</h4>
<p>I guess we can always support Alt Enter or Ctrl Enter to jump right away</p>



<a name="1647397"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647397" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647397">(Sep 26 2023 at 18:06)</a>:</h4>
<p>In general I like that proposal: jump is a result of a executed search which consists only from pills</p>



<a name="1647398"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647398" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647398">(Sep 26 2023 at 18:06)</a>:</h4>
<p>Oh, you're right, without arrowing down, <code>des</code> would complete the "keyword search for des" option. I think that's basically the reason I think we want a separate "jump" interface -- the search bar wants the default completion if you don't first do <code>stream:</code> to be keyword search, and that makes it pretty unsuitable for fast jumping.</p>



<a name="1647400"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647400" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647400">(Sep 26 2023 at 18:06)</a>:</h4>
<p>The idea is -- if the user is in the middle of typing input that hasn't been turned into a pill, enter creates a pill. Enter without in-progress input starts a search.</p>



<a name="1647402"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647402" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647402">(Sep 26 2023 at 18:07)</a>:</h4>
<p>This also lets us do pill validation if we wanted (i.e. not allowing certain kinds of input to result in search).</p>



<a name="1647404"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647404" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647404">(Sep 26 2023 at 18:09)</a>:</h4>
<p>Hmm Tim, are you saying that the need to hit at least one down arrow and double Enter to jump via search isn’t great for jumping and because of that we might have dedicated jump UI?</p>



<a name="1647412"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647412" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647412">(Sep 26 2023 at 18:12)</a>:</h4>
<p>Yeah I guess &lt;Down&gt;&lt;Enter&gt;&lt;Enter&gt; might be good enough; that's what we have today and I do use it. But if we want a thing that's just <code>&lt;Enter&gt;</code> at the end -- which we have in the left sidebar stream filtering UI -- then search may not be the place for that. </p>
<p>(Or maybe it could be -- but we'd have to make it kinda annoying to search for anything that also appears in a stream name)</p>



<a name="1647512"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/search%20pills/near/1647512" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/search.20pills.html#1647512">(Sep 26 2023 at 19:39)</a>:</h4>
<p>The thing now is that click on the autosuggested item performa the jump without letting me to extend the search. I suggest we fix that for consistency</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>