<html>
<head><meta charset="utf-8"><title>error handling for forms in portico pages · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html">error handling for forms in portico pages</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1572738"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1572738" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sahil Batra <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1572738">(May 19 2023 at 16:20)</a>:</h4>
<p>There is some inconsistency in showing errors after client side validation in a couple of forms.</p>
<p>A couple of forms probably show error in a popover like UI and it depends on browsers.<br>
<a href="/user_uploads/2/ac/pw6rsjE1JNrYBpJH0a01AEd-/html-default-errors.gif">html-default-errors.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/ac/pw6rsjE1JNrYBpJH0a01AEd-/html-default-errors.gif" title="html-default-errors.gif"><img src="/user_uploads/2/ac/pw6rsjE1JNrYBpJH0a01AEd-/html-default-errors.gif"></a></div><p>And for many forms we show the error below (or above in some cases) the input field and these are handled by <code>jquery-validation</code> plugin and we can customise where we want to show the error.<br>
<a href="/user_uploads/2/2a/AMFWl87zs7-NPteIXQudyJGE/Peek-2023-05-19-20-21.gif">Peek-2023-05-19-20-21.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/2a/AMFWl87zs7-NPteIXQudyJGE/Peek-2023-05-19-20-21.gif" title="Peek-2023-05-19-20-21.gif"><img src="/user_uploads/2/2a/AMFWl87zs7-NPteIXQudyJGE/Peek-2023-05-19-20-21.gif"></a></div>



<a name="1572844"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1572844" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1572844">(May 19 2023 at 17:47)</a>:</h4>
<p>The second approach probably generalized better for forms that have multiple fields?</p>



<a name="1573319"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1573319" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1573319">(May 20 2023 at 00:35)</a>:</h4>
<p>I've not been particularly satisfied with the user experience of the native browser feature used in that top form, and so probably would lean in the direction of doing more things the second way. Though we probably should find a more modern library to replace jquery-validation.</p>



<a name="1573332"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1573332" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1573332">(May 20 2023 at 00:57)</a>:</h4>
<p>The native approach is customizable with <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity"><code>setCustomValidity</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:invalid"><code>:invalid</code></a>, etc.; it’s also naturally <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-required#description">accessible</a> and involves orders of magnitude less code to maintain.</p>



<a name="1573617"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1573617" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1573617">(May 21 2023 at 04:59)</a>:</h4>
<p>I don't have particularly strong feelings on this. If we decide to try converting to the native browser feature, I'd want to play with some forms to get a feel for it before we do a ton of work (on a PR, or even some non-Zulip examples might be helpful, if that's easier).</p>



<a name="1573849"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1573849" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1573849">(May 21 2023 at 22:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> <a href="#narrow/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages/near/1573332">said</a>:</p>
<blockquote>
<p>The native approach is customizable with <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity"><code>setCustomValidity</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:invalid"><code>:invalid</code></a>, etc.; it’s also naturally <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-required#description">accessible</a> and involves orders of magnitude less code to maintain.</p>
</blockquote>
<p>I agree with this a lot, and l linked to this conversation from <a href="#narrow/stream/6-frontend/topic/aria-hidden/near/1573846">https://chat.zulip.org/#narrow/stream/6-frontend/topic/aria-hidden/near/1573846</a></p>



<a name="1575419"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1575419" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1575419">(May 23 2023 at 23:47)</a>:</h4>
<p>For context, AFAIK we currently only use the jQuery validation library via these selector registrations:</p>
<div class="codehilite"><pre><span></span><code>web/src/portico/signup.js:    $(&quot;#registration, #password_reset, #create_realm&quot;).validate({
web/src/portico/signup.js:    $(&quot;#send_confirm&quot;).validate({
web/src/portico/signup.js:    $(&quot;#login_form&quot;).validate({
</code></pre></div>
<p>And that currently entails a pretty large third-party dependency:</p>
<div class="codehilite"><pre><span></span><code>$ wc node_modules/jquery-validation/dist/jquery.validate.js
 1660  6856 51171 node_modules/jquery-validation/dist/jquery.validate.js
</code></pre></div>



<a name="1575422"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1575422" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1575422">(May 23 2023 at 23:51)</a>:</h4>
<p>I don't have good intuition as to whether it's more effort to write our own thing using the browser native features, or to use a modern library that sits on top of those and provides a more ergonomic interface, but I'd be very glad to see someone propose a specific concept to migrate our handful of portico forms to.</p>



<a name="1575437"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1575437" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1575437">(May 24 2023 at 00:07)</a>:</h4>
<p>My intuition is to just build something on top of browser native features.  There's nothing super tricky about validation.  A modern library could plausibly add some value on top of the browser native features, but the modern library would inevitably have to deal with a bunch of use cases that are irrelevant to Zulip, and then you have to put a more ergonomic interface on top of that, and then you just have an extra moving part.</p>



<a name="1575451"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1575451" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1575451">(May 24 2023 at 00:15)</a>:</h4>
<p>To be precise, I should say that there isn't anything super tricky about validation that the browser vendors and committees haven't already figured out.  I mean it's been a couple decades of doing form validation.  Form validation precedes even CSS and JS if memory serves correctly.</p>



<a name="1575457"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1575457" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1575457">(May 24 2023 at 00:24)</a>:</h4>
<p>Just for context, I have recently undertaken a project to build the left-sidebar-navigation-area using native browser APIs.  I can definitely compare the experience to building with the Zulip stack.  It's just so much more straightforward to just use the native APIs.  The only modern tool I use is TypeScript.  Everything else would basically have worked in 2005 on the most crappy IE browser.</p>



<a name="1575460"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/error%20handling%20for%20forms%20in%20portico%20pages/near/1575460" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/error.20handling.20for.20forms.20in.20portico.20pages.html#1575460">(May 24 2023 at 00:25)</a>:</h4>
<p>And, of course, browser technology has greatly evolved since then for slightly more tricky issues.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>