<html>
<head><meta charset="utf-8"><title>Menu for quote&amp;reply and copying when selecting text · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html">Menu for quote&amp;reply and copying when selecting text</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="720606"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720606" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720606">(Mar 18 2019 at 18:05)</a>:</h4>
<p>I have been working on <a href="https://github.com/zulip/zulip/pull/11915" target="_blank" title="https://github.com/zulip/zulip/pull/11915">#11915</a> for a couple of days now and have somewhat completed the bulk of the issue.<br>
This is what the menu looks like right now:<br>
<a href="/user_uploads/2/87/sqh9xZUMXzYDIt-sQcFwk_D3/text_option_popover_general.gif" target="_blank" title="text_option_popover_general.gif">text_option_popover_general.gif</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/87/sqh9xZUMXzYDIt-sQcFwk_D3/text_option_popover_general.gif" target="_blank" title="text_option_popover_general.gif"><img src="/user_uploads/2/87/sqh9xZUMXzYDIt-sQcFwk_D3/text_option_popover_general.gif"></a></div><p>The quoting option:<br>
<a href="/user_uploads/2/31/utTGWJPC1ydnnzIW_GfvImZZ/text_option_popover_quote.gif" target="_blank" title="text_option_popover_quote.gif">text_option_popover_quote.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/31/utTGWJPC1ydnnzIW_GfvImZZ/text_option_popover_quote.gif" target="_blank" title="text_option_popover_quote.gif"><img src="/user_uploads/2/31/utTGWJPC1ydnnzIW_GfvImZZ/text_option_popover_quote.gif"></a></div><p>The copy option:<br>
<a href="/user_uploads/2/3/X6ccf3tDHlHY7ZKtT4Ag5FEc/text_option_popover_copy.gif" target="_blank" title="text_option_popover_copy.gif">text_option_popover_copy.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/3/X6ccf3tDHlHY7ZKtT4Ag5FEc/text_option_popover_copy.gif" target="_blank" title="text_option_popover_copy.gif"><img src="/user_uploads/2/3/X6ccf3tDHlHY7ZKtT4Ag5FEc/text_option_popover_copy.gif"></a></div>



<a name="720608"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720608" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720608">(Mar 18 2019 at 18:06)</a>:</h4>
<p><span class="user-mention" data-user-id="131">@Rishi Gupta</span>  Please let me know if any changes are needed.</p>



<a name="720643"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720643" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720643">(Mar 18 2019 at 18:38)</a>:</h4>
<p>looks great! Could you show examples of quoting and pasting when the selection spans more than one message?</p>



<a name="720662"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720662" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720662">(Mar 18 2019 at 18:54)</a>:</h4>
<p>I just realized that selecting text on Firefox (which I used for testing) and Chrome (which I use for these gifs) is different. <br>
On firefox, it doesn't select user names when selecting text from several messages. On chrome, the user names do get selected. This is a weird behavior that I didn't account for.</p>



<a name="720663"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720663" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720663">(Mar 18 2019 at 18:55)</a>:</h4>
<p>I'll fix this and post the example</p>



<a name="720678"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720678" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720678">(Mar 18 2019 at 19:21)</a>:</h4>
<p><span class="user-mention" data-user-id="131">@Rishi Gupta</span> where do we handle the normal ctrl+c behavior?</p>



<a name="720681"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720681" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720681">(Mar 18 2019 at 19:30)</a>:</h4>
<p>good question. I actually don't know, but maybe someone else will.</p>



<a name="720682"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720682" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720682">(Mar 18 2019 at 19:32)</a>:</h4>
<p>Okay, no worries. I'll look around and see if I can find it while I wait for an answer.</p>



<a name="720683"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720683" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720683">(Mar 18 2019 at 19:33)</a>:</h4>
<p>Could you please review <a href="https://github.com/zulip/zulip/pull/11882" target="_blank" title="https://github.com/zulip/zulip/pull/11882">#11882</a> btw? It has been done for a while now and I guess Tim and Steve have been busy with other things.</p>



<a name="720684"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720684" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harshit Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720684">(Mar 18 2019 at 19:36)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> Is <code>static/js/copy_paste.js</code> what you are looking for?</p>



<a name="720685"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720685" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720685">(Mar 18 2019 at 19:38)</a>:</h4>
<p><span class="user-mention" data-user-id="907">@Harshit Bansal</span> Yes, that is what I was looking for. Thank you!</p>



<a name="720686"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720686" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720686">(Mar 18 2019 at 19:39)</a>:</h4>
<p>For <a href="https://github.com/zulip/zulip/pull/11882" target="_blank" title="https://github.com/zulip/zulip/pull/11882">#11882</a>, Tim or Steve will have to review, but one thing I noticed is that we probably want the text to be left justified.</p>



<a name="720687"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/720687" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#720687">(Mar 18 2019 at 19:40)</a>:</h4>
<blockquote>
<p>For <a href="https://github.com/zulip/zulip/pull/11882" target="_blank" title="https://github.com/zulip/zulip/pull/11882">#11882</a>, Tim or Steve will have to review, but one thing I noticed is that we probably want the text to be left justified.</p>
</blockquote>
<p>Okay, I'll make that change. Thanks <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="721611"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721611" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721611">(Mar 20 2019 at 11:54)</a>:</h4>
<p><span class="user-mention" data-user-id="131">@Rishi Gupta</span>  I made a WIP PR <a href="https://github.com/zulip/zulip/pull/11949" target="_blank" title="https://github.com/zulip/zulip/pull/11949">#11949</a> for this issue.<br>
There are a few small issues that I need to fix with this. This overall look, tolltips, etc are all done though. Please let me know if anything needs to be changes. Especially the hover text and the button icons.</p>



<a name="721640"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721640" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721640">(Mar 20 2019 at 16:15)</a>:</h4>
<p>Thanks! Is there any way for the popup to appear at the end of the text selection, i.e. where the mouse is?</p>
<p>Also I think we can just remove the down triangle from the popup, though if we keep it it'd be ideal if there were no line between it and the icons above (not sure if that makes sense).</p>



<a name="721746"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721746" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721746">(Mar 20 2019 at 18:23)</a>:</h4>
<blockquote>
<p>Thanks! Is there any way for the popup to appear at the end of the text selection, i.e. where the mouse is?</p>
</blockquote>
<p>That is what I was actually aiming for. The only way this can be done though  (from my research so far) is by adding some css via that specific javascript function.  I can do this if you want.<br>
(Though I could be wrong here, I'll check again and see if I can dig up something).</p>



<a name="721752"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721752" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721752">(Mar 20 2019 at 18:26)</a>:</h4>
<blockquote>
<p>Also I think we can just remove the down triangle from the popup, though if we keep it it'd be ideal if there were no line between it and the icons above (not sure if that makes sense).</p>
</blockquote>
<p>Do you mean this line ?<br>
<a href="/user_uploads/2/7f/VXgi2J6nEha53_6cPUflkxhg/popover-line.jpg" target="_blank" title="popover-line.jpg">popover-line.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/7f/VXgi2J6nEha53_6cPUflkxhg/popover-line.jpg" target="_blank" title="popover-line.jpg"><img src="/user_uploads/2/7f/VXgi2J6nEha53_6cPUflkxhg/popover-line.jpg"></a></div>



<a name="721756"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721756" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721756">(Mar 20 2019 at 18:29)</a>:</h4>
<p>yeah</p>



<a name="721758"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721758" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721758">(Mar 20 2019 at 18:31)</a>:</h4>
<p>I think it looks good, i.e., more directional. I think I should be able to remove that line.</p>



<a name="721760"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721760" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721760">(Mar 20 2019 at 18:32)</a>:</h4>
<blockquote>
<p>The only way this can be done though (from my research so far) is by adding some css via that specific javascript function</p>
</blockquote>
<p>Is this acceptable? I did find a few places in the code that added styling this way but this one would be relatively bigger.</p>



<a name="721762"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721762" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721762">(Mar 20 2019 at 18:33)</a>:</h4>
<p>btw, the reason to remove it is that it reduces the travel distance from the mouse. You can see how dropbox paper does this, which I think is pretty nice</p>



<a name="721763"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721763" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721763">(Mar 20 2019 at 18:34)</a>:</h4>
<p>Also, are the js tooltips fine? I had a little trouble with the html titles, plus we are moving away from them anyways so I thought I'd just go with this.</p>



<a name="721765"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721765" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721765">(Mar 20 2019 at 18:35)</a>:</h4>
<p>definitely js tooltips.</p>
<p>I guess medium does have the arrow, but solves the mouse travel distance by overlapping the text:<br>
<a href="/user_uploads/2/52/xiy2WkO8O1CNnBQFTrgsHHTA/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/52/xiy2WkO8O1CNnBQFTrgsHHTA/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/52/xiy2WkO8O1CNnBQFTrgsHHTA/pasted_image.png"></a></div>



<a name="721766"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721766" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721766">(Mar 20 2019 at 18:35)</a>:</h4>
<blockquote>
<p>btw, the reason to remove it is that it reduces the travel distance from the mouse. You can see how dropbox paper does this, which I think is pretty nice</p>
</blockquote>
<p>Yeah, it intuitively felt like the ideal design to me but I guess I was preoccupied with the functionality. I'll try my best to fix this as well.</p>



<a name="721767"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721767" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721767">(Mar 20 2019 at 18:36)</a>:</h4>
<p>Are the 3 options fine, btw? I tried to figure out the most useful ones (things that I usually need the most while using Zulip).</p>



<a name="721769"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721769" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721769">(Mar 20 2019 at 18:37)</a>:</h4>
<blockquote>
<p>I guess medium does have the arrow, but solves the mouse travel distance by overlapping the text:</p>
</blockquote>
<p>I think I have an idea how to do this. I'll get to work.</p>



<a name="721773"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721773" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721773">(Mar 20 2019 at 18:39)</a>:</h4>
<p>yeah, the three are quote and reply, copy text, and copy messages, right?</p>



<a name="721774"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721774" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721774">(Mar 20 2019 at 18:42)</a>:</h4>
<p>The options are: </p>
<ul>
<li>Quote selected text</li>
<li>Quote Entire Message</li>
<li>Copy Selected Text/Copy all Messages Selected (This works the same as Ctrl + C)</li>
</ul>
<p>I felt like having both quote options was a good idea.<br>
I held back on the "copy text" option because of two things:<br>
 1. The current copy options the same thing if 1 message is selected<br>
 2. If more than 1 message is selected, the browser's default copying looks relatively ugly.</p>



<a name="721775"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721775" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721775">(Mar 20 2019 at 18:43)</a>:</h4>
<blockquote>
<p>12:07 AM   <br>
I guess medium does have the arrow, but solves the mouse travel distance by overlapping the text:<br>
I think I have an idea how to do this. I'll get to work.</p>
<p>12:09 AM   <br>
yeah, the three are quote and reply, copy text, and copy messages, right?</p>
</blockquote>
<p>Somthing like this but more whitespace</p>



<a name="721776"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721776" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721776">(Mar 20 2019 at 18:44)</a>:</h4>
<p>The "quote selected text" option handles this by also quoting the same text making it a little more presentable with the quoting.</p>



<a name="721777"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721777" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721777">(Mar 20 2019 at 18:45)</a>:</h4>
<p>We can either</p>
<ul>
<li>Replace the <code>Quote selected text</code> option with <code>Copy Selected Text</code></li>
<li>Keep the quoting and add a 4th button.</li>
</ul>



<a name="721780"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721780" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721780">(Mar 20 2019 at 18:57)</a>:</h4>
<p>Interesting. We already have a Quote and Reply in the message actions menu, so I'm tempted to go with my original suggestion. Would be interested in other opinions though. </p>
<p>(and the broken copy text we should just fix)</p>



<a name="721781"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721781" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721781">(Mar 20 2019 at 18:58)</a>:</h4>
<blockquote>
<p>1. The current copy options the same thing if 1 message is selected</p>
</blockquote>
<p>hm, it shouldn't be. One should copy just the text, and the other should copy the name, timestamp, etc.</p>



<a name="721784"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721784" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721784">(Mar 20 2019 at 19:01)</a>:</h4>
<p>I am not sure I clearly understand what we want the buttons to do here.<br>
I tested Ctrl + C here and replicated the same (basically triggering ctrl+c when the copy button is clicked).</p>



<a name="721785"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721785" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721785">(Mar 20 2019 at 19:01)</a>:</h4>
<p>Is the idea to make it easier for the user to quote, copy text or to mostly have new options when directly selecting text?</p>



<a name="721786"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721786" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721786">(Mar 20 2019 at 19:02)</a>:</h4>
<p>This shouldn't change a lot of the code, but if you could give examples for what you want the buttons to do it'd clear the confusion.</p>



<a name="721788"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721788" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721788">(Mar 20 2019 at 19:08)</a>:</h4>
<p>sure. I'll use the following selection as an example: <a href="/user_uploads/2/35/E6Z1dEnFNCaZ_b40f5q1giaz/pasted_image.png" target="_blank" title="pasted_image.png"></a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/35/E6Z1dEnFNCaZ_b40f5q1giaz/pasted_image.png" target="_blank" title=""><img src="/user_uploads/2/35/E6Z1dEnFNCaZ_b40f5q1giaz/pasted_image.png"></a></div><ul>
<li>Quote and reply should add </li>
</ul>
<div class="codehilite"><pre><span></span>```quote
ing text?

This shouldn&#39;t change a lot of the code, but if
```
</pre></div>


<p>to the compose box.</p>
<ul>
<li>Copy text should copy</li>
</ul>
<div class="codehilite"><pre><span></span>ing text?

This shouldn&#39;t change a lot of the code, but if
</pre></div>


<p>to the clipboard.</p>
<ul>
<li>Copy messages should copy</li>
</ul>
<div class="codehilite"><pre><span></span>Vinit Singh: Is the idea to make it easier for the user to quote, copy text or to mostly have new options when directly selecting text?

Vinit Singh: This shouldn&#39;t change a lot of the code, but if you could give examples for what you want the buttons to do it&#39;d clear the confusion.
</pre></div>


<p>to the clipboard.<br>
(I didn't realize we currently don't include timestamps with Ctrl+c but eventually we may want to add timestamps here as well)</p>



<a name="721789"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721789" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721789">(Mar 20 2019 at 19:10)</a>:</h4>
<p>one confusion that I think I missed earlier is that Ctrl+c currently has the "Copy text" behavior when you select within 1 message, and the "Copy messages" behavior when you select over multiple messages. So I guess neither of the new buttons will match the current Ctrl+c behavior exactly.</p>
<p>(And probably as followup we should change the Ctrl+c behavior to match the new "copy text" button, since we've gotten a few complaints about the current behavior in the past)</p>



<a name="721806"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721806" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721806">(Mar 20 2019 at 19:14)</a>:</h4>
<p>Ctrl+C's behavior was recently modified actually. Relevant discussion: <a href="#narrow/stream/6-frontend/topic/copy.2Fpaste/near/721333" title="#narrow/stream/6-frontend/topic/copy.2Fpaste/near/721333">https://chat.zulip.org/#narrow/stream/6-frontend/topic/copy.2Fpaste/near/721333</a></p>



<a name="721809"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721809" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721809">(Mar 20 2019 at 19:16)</a>:</h4>
<p>I'll fix the options in the meantime.</p>



<a name="721888"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721888" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721888">(Mar 20 2019 at 20:07)</a>:</h4>
<blockquote>
<p>(And probably as followup we should change the Ctrl+c behavior to match the new "copy text" button, since we've gotten a few complaints about the current behavior in the past)</p>
</blockquote>
<p>I think the alternative behavior is a lot more annoying -- you're trying to select all of a block of messages and it becomes super important that you actually catch the start/end of the them to do so.</p>



<a name="721943"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721943" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721943">(Mar 20 2019 at 20:54)</a>:</h4>
<p>hm. I guess one anecdotal counterpoint is that I haven't yet wanted to do that since we introduced this feature, whereas several times I've copy, pasted, and then manually deleted a bunch of stuff. We've also had at least 1 (maybe 2?) people complain about our current behavior.</p>



<a name="721944"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721944" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721944">(Mar 20 2019 at 20:55)</a>:</h4>
<p>I think if we were to offer this feature, the way I would want it to work is that if you select all but the first few (or last few) letters of a paragraph, we snap to selecting the whole paragraph</p>



<a name="721945"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721945" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721945">(Mar 20 2019 at 21:00)</a>:</h4>
<p>I'll also note though that the Zulip UI already makes it pretty easy to select all of a message. <br>
The times where it's been a problem on other websites for me is when moving the mouse 10px past the end of the last letter of the paragraph selects the whole page or something funny like that.<br>
(e.g. if we didn't have a noselect on the avatar I could imagine trying to select a message being frustrating)</p>



<a name="721962"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721962" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721962">(Mar 20 2019 at 21:25)</a>:</h4>
<p><span class="user-mention" data-user-id="131">@Rishi Gupta</span> the main use case for copy-paste of a group of messages is for teams that want to export a log of a conversation for postmortems, sharing, etc., and you rarely want cut-off messages for that.  I could imagine changing our model to only switch modes at 3 messages rather than 2.</p>



<a name="721963"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721963" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721963">(Mar 20 2019 at 21:26)</a>:</h4>
<p>But for that we're now providing a "Copy messages" button (which I agree should copy all of each message)</p>



<a name="721966"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721966" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721966">(Mar 20 2019 at 21:29)</a>:</h4>
<p>(I think a lot of people chat by putting one sentence in each message, for N messages in a row. So I don't think copying content from several messages for "within zulip" copy and paste use is that uncommon.)</p>



<a name="721975"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/721975" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#721975">(Mar 20 2019 at 21:35)</a>:</h4>
<p>I think we should probably table this until we have the menu, because that's going to materially impact how this feels.</p>



<a name="722174"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722174" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722174">(Mar 21 2019 at 09:52)</a>:</h4>
<p>I made some positioning changes and a little change to the css to remove the gap/line between the arrow and the actual popover.<br>
<a href="/user_uploads/2/c5/w4QvSsKXlugIto-X6mSAYTH0/popover_positioning.gif" target="_blank" title="popover_positioning.gif">popover_positioning.gif</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/c5/w4QvSsKXlugIto-X6mSAYTH0/popover_positioning.gif" target="_blank" title="popover_positioning.gif"><img src="/user_uploads/2/c5/w4QvSsKXlugIto-X6mSAYTH0/popover_positioning.gif"></a></div><ul>
<li>The popover is positioned at the location of the mouseup event after text selection.</li>
<li>The removal of the line/gap is done with just changing the arrow's <code>bottom: -10px</code> to <code>bottom: -9.7px</code>. There is choice to be made with this though. I could add it to that specific event in JS or to the <code>popovers.scss</code> file. Doing the latter affects and can affect other popovers a tiny bit. Please let me know which one we want to go with.</li>
</ul>



<a name="722175"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722175" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhinav Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722175">(Mar 21 2019 at 09:54)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> I liked the styling <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="722176"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722176" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722176">(Mar 21 2019 at 09:55)</a>:</h4>
<p>Any thoughts on the exact positioning of the popover? (A little higher/lower, etc)</p>



<a name="722178"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722178" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhinav Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722178">(Mar 21 2019 at 10:00)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> I observed that the gap between the popover tip and the text selected is not constant.</p>



<a name="722179"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722179" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722179">(Mar 21 2019 at 10:05)</a>:</h4>
<p><span class="user-mention" data-user-id="9753">@Abhinav Singh</span> It is, yes. This is because the position of the popover is based off of the point at which the <code>mouseup</code> event occurs. <br>
The popover would be relatively higher if you were to release your mouse towards the top end of the selected text. <br>
Similarly, it'd be relatively lower if you released it towards the bottom end of the selected text.</p>



<a name="722180"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722180" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722180">(Mar 21 2019 at 10:06)</a>:</h4>
<p>I can actually push this up to my WIP PR if you'd like to try it out on your own.</p>



<a name="722181"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722181" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722181">(Mar 21 2019 at 10:06)</a>:</h4>
<p>Zooming into the browser actually makes this easier to understand</p>



<a name="722182"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722182" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhinav Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722182">(Mar 21 2019 at 10:06)</a>:</h4>
<blockquote>
<p>I can actually push this up to my WIP PR if you'd like to try it out on your own.</p>
<p><span class="user-mention silent" data-user-id="9753">Abhinav Singh</span> It is, yes. This is because the position of the popover is based off of the point at which the <code>mouseup</code> event occurs. <br>
The popover would be relatively higher if you were to release your mouse towards the top end of the selected text. <br>
Similarly, it'd be relatively lower if you released it towards the bottom end of the selected text.</p>
</blockquote>
<p>Okay, now I understand.</p>



<a name="722183"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722183" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhinav Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722183">(Mar 21 2019 at 10:06)</a>:</h4>
<blockquote>
<p>I can actually push this up to my WIP PR if you'd like to try it out on your own.</p>
</blockquote>
<p>Sure I would love to try</p>



<a name="722185"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722185" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722185">(Mar 21 2019 at 10:15)</a>:</h4>
<p>Which browser do you use?  There are a <em>few</em> kinks on chrome that I need to fix. FF works great for this though</p>



<a name="722187"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722187" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722187">(Mar 21 2019 at 10:19)</a>:</h4>
<p>PR <a href="https://github.com/zulip/zulip/pull/11949" target="_blank" title="https://github.com/zulip/zulip/pull/11949">#11949</a> for anyone willing to test this out. <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="722188"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722188" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhinav Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722188">(Mar 21 2019 at 10:23)</a>:</h4>
<p>I will use FF to test it :)</p>



<a name="722457"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722457" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722457">(Mar 21 2019 at 19:21)</a>:</h4>
<p>Cool, this is looking promising!</p>



<a name="722998"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/722998" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#722998">(Mar 22 2019 at 18:26)</a>:</h4>
<p>This should be done soon hopefully. I am using js tooltips here though that share some code with <a href="https://github.com/zulip/zulip/pull/11882" target="_blank" title="https://github.com/zulip/zulip/pull/11882">#11882</a> which is yet to be reviewed.<br>
It'd be great if someone could review that. It would help avoid some duplication that can be avoided easily.</p>



<a name="748322"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/748322" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#748322">(Jun 01 2019 at 00:32)</a>:</h4>
<p>Continuing the discussion from <a href="https://github.com/zulip/zulip/pull/11949#discussion_r285863378" target="_blank" title="https://github.com/zulip/zulip/pull/11949#discussion_r285863378">here</a>.</p>
<p>The current options in the menu are:</p>
<ul>
<li>Quote selected text</li>
<li>Copy selected text</li>
<li>Copy all Messages Selected</li>
</ul>
<p>The Ctrl+C behavior with this is to copy complete messages regardless of how much text is selected. (Sender's name is not copied if all selected messages are from a single sender)</p>
<p>Proposal in the comment linked above: </p>
<ul>
<li>Selection selects name and text. It does not select timestamp, anything in the recipient bar, or date changes</li>
<li>"Copy text" copies just the text</li>
<li>"Copy messages" does a "full" copy</li>
<li>"Quote and reply" I could go either way on, though my instinct is to include just the text.</li>
<li>Ctrl+C is not that important anymore, but I guess it would copy name and text</li>
</ul>
<p><span class="user-mention" data-user-id="131">@Rishi Gupta</span>  Can you please give an example of what we want each button to do (like you did before in this topic)? <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>
<p>Thanks!</p>



<a name="750420"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/750420" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#750420">(Jun 06 2019 at 02:40)</a>:</h4>
<p>Sorry for the delay here. As per the rest of the discussion on that thread I think lets change it so that stream and topic names on recipient bars are also selected. In that case, for the following: <a href="/user_uploads/2/64/gq4M31z6rS0YZ0hmMcO6Ozl1/pasted_image.png" target="_blank" title="pasted_image.png"></a></p>
<div class="message_inline_image"><a href="/user_uploads/2/64/gq4M31z6rS0YZ0hmMcO6Ozl1/pasted_image.png" target="_blank" title=""><img src="/user_uploads/2/64/gq4M31z6rS0YZ0hmMcO6Ozl1/pasted_image.png"></a></div><ul>
<li>Selection looks like the above</li>
<li>Copy text would give</li>
</ul>
<div class="codehilite"><pre><span></span>ssage 2

message 3 line 1
message 3 line 2

messa
</pre></div>


<ul>
<li>Copy messages would give</li>
</ul>
<div class="codehilite"><pre><span></span>#test here &gt; topic A
Rishi Gupta (6:42 pm): message 2

#test here &gt; topic B
Rishi Gupta (6:42 pm): message 3 line 1
message 3 line 2

Rishi Gupta (6:43 pm): message 4
</pre></div>


<ul>
<li>
<p>Quote and reply would just quote what "Copy text" copies</p>
</li>
<li>
<p>Ctrl+C would give</p>
</li>
</ul>
<div class="codehilite"><pre><span></span>ssage 2

#test here &gt; topic B
Rishi Gupta: message 3 line 1
message 3 line 2

messa
</pre></div>



<a name="750901"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/750901" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#750901">(Jun 06 2019 at 22:50)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> FYI</p>



<a name="751047"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751047" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751047">(Jun 07 2019 at 04:52)</a>:</h4>
<p>Thanks, I'll get back to this as well. <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="751108"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751108" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751108">(Jun 07 2019 at 07:20)</a>:</h4>
<ul>
<li>Copy text would give</li>
</ul>
<div class="codehilite"><pre><span></span>ssage 2

message 3 line 1
message 3 line 2

messa
</pre></div>


<p>This can, as per my experience with this, can only be achieved if the Names, headers, etc are set to <code>no-select</code>. Otherwise all of the highlighted text gets copied to clipboard in each instance unless we use a regex to get rid of the unwanted parts (which is highly unreliable).</p>



<a name="751109"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751109" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751109">(Jun 07 2019 at 07:21)</a>:</h4>
<p>The result of this would be the same as what you want for Ctrl+C.</p>



<a name="751111"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751111" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751111">(Jun 07 2019 at 07:28)</a>:</h4>
<p>If we want partial text anywhere, then we need to work with the highlighted text as is. That means a sort of uniformity has to be there in what the functions of the buttons do with the selected text.</p>



<a name="751113"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751113" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751113">(Jun 07 2019 at 07:30)</a>:</h4>
<p>Could we maybe implement this feature on czo and see if people are happy with the options that are currently pushed to <a href="https://github.com/zulip/zulip/pull/11949" target="_blank" title="https://github.com/zulip/zulip/pull/11949">#11949</a>?</p>



<a name="751219"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751219" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751219">(Jun 07 2019 at 14:13)</a>:</h4>
<p>hm. We need the separation into stream/topic, name, and text anyway to format something like Ctrl+C, right?</p>



<a name="751278"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751278" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751278">(Jun 07 2019 at 16:55)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> couldn't we use the same type of algorithm we use for "copy messages"?  I think the intent is that this would be "copy message body text", not "copy selected text"</p>



<a name="751293"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751293" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751293">(Jun 07 2019 at 17:13)</a>:</h4>
<p>The option that I quoted selects and quotes only a part of the message (1st and last message are not complete). <br>
While, the 2nd button in the PR, is very close to what Rishi shared and, does use the existing ctrl+c algorithm to copy fully messages and user names (only).</p>
<p>Doing the 2nd option in Rishi's example, i.e., select full message, is easy since all we would have to do there is simply append the data that is already attached to that message id.</p>
<p>The problem though, would be with Ctrl+C, I think. It partially copies messages, but also copies elements that a user selection highlights (<span class="user-mention" data-user-id="131">@Rishi Gupta</span> please correct me if you were going with something else with this one).<br>
These elements like the names, dates, topics, etc need to be set to <code>no-select</code> for the 1st <code>Copy text</code> button to work accurately. Thus, they won't be highlighted/selected no matter what the user tries.</p>



<a name="751298"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751298" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751298">(Jun 07 2019 at 17:22)</a>:</h4>
<p>Could we do something sneaky like temporarily switching elements to <code>no-select</code> just before doing the copy?  Not sure if this is a good idea, but curious if it works.</p>



<a name="751300"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751300" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751300">(Jun 07 2019 at 17:23)</a>:</h4>
<p>There's the problem that we do want to allow users to select and copy-paste someone's name.</p>



<a name="751301"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751301" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751301">(Jun 07 2019 at 17:24)</a>:</h4>
<p>Back to this PR -- I feel like there's 3 things that this PR is doing, and only one of them involves tweaking this no-select stuff.  Can we get the other pieces (like the menu) ready for merge and merge them with this extra option not added yet?</p>



<a name="751303"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751303" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751303">(Jun 07 2019 at 17:25)</a>:</h4>
<blockquote>
<p>There's the problem that we do want to allow users to select and copy-paste someone's name.</p>
</blockquote>
<p>Yeah, that is mostly what I was talking about in my initial message after I read your comments on the PR again. It would be almost impossible to remove names from selected text for a number of reasons.</p>



<a name="751304"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751304" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751304">(Jun 07 2019 at 17:26)</a>:</h4>
<p>OK, let's table "copy text" for the moment and try to get the other pieces of this PR clean and merged, and then we can spend some more time trying to figure out a good way to do "copy text".</p>



<a name="751305"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751305" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751305">(Jun 07 2019 at 17:26)</a>:</h4>
<p>I suspect there will be something we can figure out for that, but I'm not excited about trying a series of experiments stacked on top of the UI change to add a copy menu from a review perspective.</p>



<a name="751306"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751306" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751306">(Jun 07 2019 at 17:27)</a>:</h4>
<blockquote>
<p>Back to this PR -- I feel like there's 3 things that this PR is doing, and only one of them involves tweaking this no-select stuff.  Can we get the other pieces (like the menu) ready for merge and merge them with this extra option not added yet?</p>
</blockquote>
<p>2 of the options use it actually. The <code>quote&amp;reply</code> option has the same partial text as shown in Rishi's first example.</p>



<a name="751307"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751307" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751307">(Jun 07 2019 at 17:28)</a>:</h4>
<p>There is only one option that can be added without the <code>no-select</code> changes. I already broke the PR into smaller commits a while ago so getting it ready for merging won't take long.</p>



<a name="751308"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751308" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751308">(Jun 07 2019 at 17:29)</a>:</h4>
<p>Do both of those options require adding no-select to sender names specifically?</p>



<a name="751309"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751309" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751309">(Jun 07 2019 at 17:29)</a>:</h4>
<p>(Or other changes to what is selectable)</p>



<a name="751311"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751311" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751311">(Jun 07 2019 at 17:29)</a>:</h4>
<p>Yeah. To be able to get the message text we need to set every other element in the message view to no-select</p>



<a name="751313"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751313" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751313">(Jun 07 2019 at 17:31)</a>:</h4>
<p>I could add another option which could do the same thing as the Quote&amp;reply in the actions popover (i.e., for whole messages). That way we can have two options for this that can be merged without these problematic changes.</p>



<a name="751314"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751314" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751314">(Jun 07 2019 at 17:31)</a>:</h4>
<p>What if we tried using <code>user-select: contain</code> on the sender names?<br>
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/user-select" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/CSS/user-select">https://developer.mozilla.org/en-US/docs/Web/CSS/user-select</a></p>



<a name="751315"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751315" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751315">(Jun 07 2019 at 17:32)</a>:</h4>
<p>(That would mean you can only select within names, not across them)</p>



<a name="751316"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751316" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751316">(Jun 07 2019 at 17:32)</a>:</h4>
<p>Hmm, I guess that isn't available in all browsers, sigh.</p>



<a name="751317"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751317" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751317">(Jun 07 2019 at 17:33)</a>:</h4>
<p><code>Supported only in Internet Explorer.</code></p>



<a name="751318"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751318" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751318">(Jun 07 2019 at 17:33)</a>:</h4>
<p>Yeah.</p>



<a name="751322"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751322" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751322">(Jun 07 2019 at 17:34)</a>:</h4>
<p>But I think that's the feature we actually want here.</p>



<a name="751323"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751323" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751323">(Jun 07 2019 at 17:34)</a>:</h4>
<p>On a side note: Although a little more work, a user could select names by clicking on names and copying from the profile. (personally I haven't copied names either way since it's just easier to use the @ feature with the autocomplete.)</p>



<a name="751324"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751324" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751324">(Jun 07 2019 at 17:34)</a>:</h4>
<p>I suppose we can try just not allowing selecting users' names and just have the only way to access it be through the profile.</p>



<a name="751325"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751325" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751325">(Jun 07 2019 at 17:35)</a>:</h4>
<blockquote>
<p>But I think that's the feature we actually want here.</p>
</blockquote>
<p>Yeah. that is exactly what the request was in the issue</p>



<a name="751326"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751326" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751326">(Jun 07 2019 at 17:36)</a>:</h4>
<p>My guess is that we'll get complains from folks about being unable to select sender names (in part because I think that will look broken), but given there is a reasonable workaround (click the name and then select), I'm fine with doing the experiment.  It seems plausible that having the right copy/paste options is more important than being able to select sender names.</p>



<a name="751327"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751327" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751327">(Jun 07 2019 at 17:36)</a>:</h4>
<p>So at the very least we should do a <a href="http://chat.zulip.org" target="_blank" title="http://chat.zulip.org">chat.zulip.org</a> deploy test of this with the sender names non-selectable.</p>



<a name="751328"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751328" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751328">(Jun 07 2019 at 17:37)</a>:</h4>
<p>That would be great. It would help us get feedback on all the "what-if" scenarios.</p>



<a name="751329"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751329" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751329">(Jun 07 2019 at 17:37)</a>:</h4>
<p>If we are okay with this, I only have to make a few changes to the no-select commit and it can be merged for testing on czo</p>



<a name="751330"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751330" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751330">(Jun 07 2019 at 17:39)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> yeah, go ahead and do that and ping me when done.</p>



<a name="751331"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751331" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751331">(Jun 07 2019 at 17:39)</a>:</h4>
<p>Okay, will do.</p>



<a name="751332"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751332" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751332">(Jun 07 2019 at 17:40)</a>:</h4>
<p>I guess the other thing which is potentially non-ideal about this is that we're removing the ability to directly copy the timestamp from a message, for the same reason.</p>



<a name="751333"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751333" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751333">(Jun 07 2019 at 17:40)</a>:</h4>
<p>And that information we don't have duplicated anywhere else, so folks will have to use "copy selected messages" to copy timestamps.</p>



<a name="751335"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751335" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751335">(Jun 07 2019 at 17:42)</a>:</h4>
<blockquote>
<p>And that information we don't have duplicated anywhere else, so folks will have to use "copy selected messages" to copy timestamps.</p>
</blockquote>
<p>The current version of this does not include time stamps though, only names. Just like out Ctrl+C and the quote and reply option work right now</p>



<a name="751340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751340">(Jun 07 2019 at 17:55)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> There is another thing that is very problematic. I mentioned it a while ago but then we got caught up in this discussion. <code>no-select</code> doesn't work in Chrome when copying to clipboard. <br>
The elements aren't visually selected (as expected), but they do end up getting copied.</p>



<a name="751343"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751343" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751343">(Jun 07 2019 at 17:58)</a>:</h4>
<p>On Firefox:<br>
<a href="/user_uploads/2/d0/iiKeeqvjViUezYiLknlEJPgK/mozilla-text-options-no-select.gif" target="_blank" title="mozilla-text-options-no-select.gif">mozilla-text-options-no-select.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/d0/iiKeeqvjViUezYiLknlEJPgK/mozilla-text-options-no-select.gif" target="_blank" title="mozilla-text-options-no-select.gif"><img src="/user_uploads/2/d0/iiKeeqvjViUezYiLknlEJPgK/mozilla-text-options-no-select.gif"></a></div>



<a name="751346"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751346" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751346">(Jun 07 2019 at 18:00)</a>:</h4>
<p>On chrome:<br>
<a href="/user_uploads/2/c9/GBnNQWhQRhPShsZqd2KoL68b/chome-text-options-no-select.gif" target="_blank" title="chome-text-options-no-select.gif">chome-text-options-no-select.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/c9/GBnNQWhQRhPShsZqd2KoL68b/chome-text-options-no-select.gif" target="_blank" title="chome-text-options-no-select.gif"><img src="/user_uploads/2/c9/GBnNQWhQRhPShsZqd2KoL68b/chome-text-options-no-select.gif"></a></div>



<a name="751351"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751351" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751351">(Jun 07 2019 at 18:02)</a>:</h4>
<p>I think we definitely want one of the options to include timestamps; it's a very important use case for folks writing postmortems to be able to get a block of messages complete with timestamps.  I think "copy selected messages" is the version that's intended to include them, if I recall correctly, since it's the most expansive.</p>



<a name="751353"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751353" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751353">(Jun 07 2019 at 18:02)</a>:</h4>
<p>(Though I suppose we could add an additional option "copy selected messages with timestamps" if we really needed to if we thought that was clutter for most people?)</p>



<a name="751356"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751356" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751356">(Jun 07 2019 at 18:05)</a>:</h4>
<p>We should make sure it's not just our no-select CSS that's the problem with Chrome.</p>



<a name="751360"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751360" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751360">(Jun 07 2019 at 18:11)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> oh, one thing to be careful about; you should disable the Zulip paste handler when testing:<br>
<code>static/js/copy_and_paste.js:        if (paste_html &amp;&amp; page_params.development_environment) {</code></p>
<p>to make sure you're not getting the <code>text/html</code> version of the copy turned into text using <code>to-markdown</code>.</p>



<a name="751364"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751364" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751364">(Jun 07 2019 at 18:21)</a>:</h4>
<p>A few other notes from testing this PR:</p>
<ul>
<li>One downside of the aggressive use of <code>no-select</code> is that you can't start dragging to select when your cursor is over the recipient bar because that area is unselectable; this is actually pretty annoying.</li>
<li>This is the Chrome bug for <code>user-select: none</code> not working: <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=850685" target="_blank" title="https://bugs.chromium.org/p/chromium/issues/detail?id=850685">https://bugs.chromium.org/p/chromium/issues/detail?id=850685</a></li>
</ul>



<a name="751365"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751365" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751365">(Jun 07 2019 at 18:24)</a>:</h4>
<p>What should we do here then? Try a different approach, if any, to get the same functionalities?</p>



<a name="751367"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751367" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751367">(Jun 07 2019 at 18:24)</a>:</h4>
<p>Electron uses Chromium as well if I'm not wrong. So this could very much become an issue in the desktop app as well.</p>



<a name="751368"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751368" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751368">(Jun 07 2019 at 18:25)</a>:</h4>
<p><span class="user-mention" data-user-id="131">@Rishi Gupta</span> you should catch up on this thread.  It seems like what we actually want may be impossible with current browsers:</p>
<ul>
<li>We can't support both (1) you can manually select the sender name or timestamp to copy just that and (2) the "copy selected text" feature not including sender names.</li>
<li>Chrome <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=850685" target="_blank" title="https://bugs.chromium.org/p/chromium/issues/detail?id=850685">doesn't respect</a> the standard CSS rule that should cause things covered by your mouse selection to not be included in the selection.  Or more correctly, it lets you not select them, but it includes them in "copy" anyway.  So in Chrome, we possibly just can't implement (2) in the last bullet in a way based on the actual selection.  (We can do much more when ignoring the selection and just processing messages, since then we're just doing selection)</li>
</ul>



<a name="751369"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751369" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751369">(Jun 07 2019 at 18:29)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> we should investigate if there's anything clever we can do to work around these issues.  I think there are a few things we can look into:</p>
<ul>
<li>We should look into whether we can do anything sneaky to work around the Chrome issue like temporarily doing a <code>.hide()</code> on all sender names in the selection just before having the browser process the copy, and then re-<code>show()</code>ing them.  My guess is that won't work because the <code>.hide()</code> will break the selection (it seems likely to at least lead to an awkward flash), but it's worth a try if it'll allow "copy selected text" to work.  If it does work, the advantage is we wouldn't need to do the <code>no-select</code> hacks that regress the actual selection experience and copying things like timestamps.</li>
<li>We can try having the browser copy the HTML from the selection and then processing that HTML to remove e.g. <code>.message_sender</code> elements as a workaround.</li>
</ul>



<a name="751370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751370">(Jun 07 2019 at 18:29)</a>:</h4>
<p>I think if either of those options end up working, they could be attractive; I probably prefer the first one just because the HTML-editing thing is likely going to have some pain involved.</p>



<a name="751376"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751376" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751376">(Jun 07 2019 at 18:33)</a>:</h4>
<p>The 2nd option may also break the feature if changes are made to the message view HTML. I'll work on the 1st option after I've wrapped up the issues I am working on right now, and see if that gives us the expected result.</p>



<a name="751381"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751381" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751381">(Jun 07 2019 at 18:42)</a>:</h4>
<p>hm, I read this but I guess I still don't have quite the right model for how this feature works technically. I'm not worried about <code>Ctrl+C</code>; if it's badly formatted or has different behaviors on different browsers that's fine.</p>
<p>For the other options, I thought the way it worked is the js would be able to extract a list of message ids + the selected text, and then could send whatever it wanted to the clipboard. Is that correct?</p>



<a name="751386"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751386" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751386">(Jun 07 2019 at 18:46)</a>:</h4>
<p>Somewhat, yes. The selected text though isn't just parts of/entire selected messages, it also includes other text like user names and time stamps. <br>
The <code>no-select</code> property helped with disabling the selection of these elements on Firefox, but it doesn't work the same way on Chrome.<br>
This means no matter what (while using no select), achieving Option 1 (select text) from your list won't be possible on Chrome.</p>



<a name="751390"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751390" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751390">(Jun 07 2019 at 18:50)</a>:</h4>
<p>But it would be possible to have a button that does the following, right?</p>
<div class="codehilite"><pre><span></span>message 2

message 3 line 1
message 3 line 2

message 4
</pre></div>



<a name="751391"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751391" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751391">(Jun 07 2019 at 18:52)</a>:</h4>
<p>That would just be the current CTRL+C functionality, i.e., complete messages without the names, right?</p>



<a name="751392"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751392" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751392">(Jun 07 2019 at 18:52)</a>:</h4>
<p>right. Maybe one question is how does that work :)</p>



<a name="751393"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751393" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751393">(Jun 07 2019 at 18:53)</a>:</h4>
<p>Copying complete messages is very easy since we also have the message IDs. That is what the last button in the current PR does, so I'd just have to tweak it a little bit</p>



<a name="751395"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751395" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751395">(Jun 07 2019 at 18:55)</a>:</h4>
<p>do we know where messages begin and end in the selected text?</p>



<a name="751397"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751397" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751397">(Jun 07 2019 at 18:56)</a>:</h4>
<p>No.</p>



<a name="751399"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751399" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751399">(Jun 07 2019 at 18:56)</a>:</h4>
<blockquote>
<p>right. Maybe one question is how does that work <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>
</blockquote>
<p>That uses the CTRL+C algorithm. It is a bit hacky(?) I guess.</p>



<a name="751400"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751400" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751400">(Jun 07 2019 at 18:57)</a>:</h4>
<p>would it be practical to do some sort of string matching to find where in the message the selection begins?</p>



<a name="751402"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751402" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751402">(Jun 07 2019 at 18:59)</a>:</h4>
<p>That was the method I thought of trying. But there are too many things that could mess it up. Maybe some writes a message with a phrase repeated in multiple places, or just words repeated or something like that.</p>



<a name="751403"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751403" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751403">(Jun 07 2019 at 18:59)</a>:</h4>
<p>There is no sure shot way to get it to work the way we want every single time.</p>



<a name="751408"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751408" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751408">(Jun 07 2019 at 19:04)</a>:</h4>
<p>I think if we could get something that works ~99% of the time that could still be worth it.</p>



<a name="751409"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751409" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751409">(Jun 07 2019 at 19:06)</a>:</h4>
<p>do you have some samples for what the javascript gets?</p>



<a name="751411"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751411" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751411">(Jun 07 2019 at 19:10)</a>:</h4>
<p>I'll find and share that in just a moment.</p>



<a name="751422"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751422" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751422">(Jun 07 2019 at 19:19)</a>:</h4>
<div class="codehilite"><pre><span></span>onvallis at erat ac vestibulum. Sed in gravida est. Cras suscipit eu tellus quis scelerisque. Phasellus viverra magna a tortor mollis, eu feugiat purus venenatis.

aaron 11:18 PM (EDITED)
Curabitur condimentum ultricies orci, vel molestie diam vestibulum at. Nulla in libero id nibh volutpat dignissim. Nulla efficitur metus eget egestas tristique. Sed gravida in ex a hendrerit. Morbi volutpat ac elit suscipit vestibulum.

devel &gt; Topic 2
Iago 11:19 PM (EDITED)
Mauris mollis magna arcu, eget malesuada erat pharetra ac. Ut scelerisque lectus magna, sit amet blandit lorem consequat bibendum..
</pre></div>



<a name="751423"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751423" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751423">(Jun 07 2019 at 19:19)</a>:</h4>
<p>For:<br>
<a href="/user_uploads/2/55/8OFjH7n84PAXozb9z8YKpisc/Screenshot-from-2019-06-08-00-49-15.png" target="_blank" title="Screenshot-from-2019-06-08-00-49-15.png">Screenshot-from-2019-06-08-00-49-15.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/55/8OFjH7n84PAXozb9z8YKpisc/Screenshot-from-2019-06-08-00-49-15.png" target="_blank" title="Screenshot-from-2019-06-08-00-49-15.png"><img src="/user_uploads/2/55/8OFjH7n84PAXozb9z8YKpisc/Screenshot-from-2019-06-08-00-49-15.png"></a></div>



<a name="751428"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751428" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751428">(Jun 07 2019 at 19:26)</a>:</h4>
<p>it seems like the message content always starts/end on a newline boundary?</p>



<a name="751453"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751453" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751453">(Jun 07 2019 at 19:56)</a>:</h4>
<p>Hi, sorry I took a small break. <br>
Yeah, it does.</p>



<a name="751458"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751458" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751458">(Jun 07 2019 at 20:04)</a>:</h4>
<p>no worries, it must also be pretty late in India, so feel free to go to bed :).</p>
<p>This does seem like we mainly need to solve the problem of figuring out how many of the lines at the beginning and end of the selection correspond to the first and last message respectively, which seems doable?</p>



<a name="751470"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751470" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751470">(Jun 07 2019 at 20:15)</a>:</h4>
<p>I'm not sure if that is exactly what you want, but we do something like this in <code>copy_and_paste.js</code>. <br>
What do you suggest we do with this? Maybe I can try to make some changes today/tomorrow as per your plan, and see if that can be done and/or what challenges we'll face.</p>



<a name="751474"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751474" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751474">(Jun 07 2019 at 20:19)</a>:</h4>
<p><span class="user-mention" data-user-id="11190">@Vinit Singh</span> I think you should investigate the two ideas I proposed earlier, and in addition the idea of using the selection to try to extract just the subset of messages that's selected for the "copy selected text" feature.</p>



<a name="751475"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751475" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751475">(Jun 07 2019 at 20:19)</a>:</h4>
<p>We'll probably end up wanting to test all 3 approaches, and then run with the one that works the best.</p>



<a name="751479"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Menu%20for%20quote%26reply%20and%20copying%20when%20selecting%20text/near/751479" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vinit Singh <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Menu.20for.20quote.26reply.20and.20copying.20when.20selecting.20text.html#751479">(Jun 07 2019 at 20:20)</a>:</h4>
<p>Okay, will do. <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>