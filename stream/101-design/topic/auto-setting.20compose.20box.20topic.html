<html>
<head><meta charset="utf-8"><title>auto-setting compose box topic · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html">auto-setting compose box topic</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1441217"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1441217" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1441217">(Sep 26 2022 at 18:53)</a>:</h4>
<p>Splitting this off into a separate topic from <a class="stream-topic" data-stream-id="101" href="/#narrow/stream/101-design/topic/Closing.20compose.20box">#design &gt; Closing compose box</a> :</p>
<p>When the compose box is open but empty, we change the topic you are sending to if you navigate to a different topic. As <span class="user-mention" data-user-id="22433">@Vlad Korobov</span> reported, this feels buggy when you've already edited the topic, and there's a question of whether this behavior is useful at all.</p>



<a name="1441223"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1441223" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1441223">(Sep 26 2022 at 19:03)</a>:</h4>
<p><a href="#narrow/stream/101-design/topic/Closing.20compose.20box/near/1441218">This message</a> has a bunch of context on this detail and why it's useful in the case that the compose box was opened automatically to send to the (previously) current topic.</p>



<a name="1441224"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1441224" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1441224">(Sep 26 2022 at 19:04)</a>:</h4>
<p>I think we could potentially enhance this by keeping track of whether the user has manually edited the compose box topic or not, and using "edited the topic field" as equivalent to "has typed content in the compose box" for the purpose of deciding whether the user has intent to send to that particular topic (vs. just had the compose box opened automatically in the various situations that it does, like clicking on a message).</p>



<a name="1441229"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1441229" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1441229">(Sep 26 2022 at 19:09)</a>:</h4>
<p>maybe consider "clicked on 'new topic'" to be equivalent to "edited the topic"?</p>



<a name="1441322"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1441322" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1441322">(Sep 26 2022 at 21:04)</a>:</h4>
<p>I filed <strong>Editing recipient should count as starting a message</strong> <a href="https://github.com/zulip/zulip/pull/23064">#23064</a> for the targeted fix of the buggy-feeling behavior. <span class="user-mention" data-user-id="7">@Tim Abbott</span> perhaps you want to add a quick note on the technical approach?</p>



<a name="1441921"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1441921" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1441921">(Sep 28 2022 at 00:00)</a>:</h4>
<p>I added some technical notes including copying the code in question, which has a bunch of comments, and might be worth reading for folks curious as to how this algorithm works precisely.</p>



<a name="1488006"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1488006" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1488006">(Jan 09 2023 at 15:58)</a>:</h4>
<p>Just opened a PR for this: <a href="https://github.com/zulip/zulip/pull/24018">#24018</a>. It can probably be tested more extensively, but I hope it's at least a good start!</p>



<a name="1488007"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1488007" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nehal Sharma <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1488007">(Jan 09 2023 at 15:59)</a>:</h4>
<p>Would have added a demo video, but my recording software seems to be having some trouble right now <span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span></p>



<a name="1493764"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/auto-setting%20compose%20box%20topic/near/1493764" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/auto-setting.20compose.20box.20topic.html#1493764">(Jan 20 2023 at 20:57)</a>:</h4>
<p>This tweak is now merged! Thanks for all the discussion on this detail, folks.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>