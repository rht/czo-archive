<html>
<head><meta charset="utf-8"><title>summary counts with filters · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html">summary counts with filters</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1641239"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/summary%20counts%20with%20filters/near/1641239" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html#1641239">(Sep 15 2023 at 16:41)</a>:</h4>
<p>When playing with the Inbox view, I noticed that it can be a bit confusing when your search results are inside collapsed streams.</p>
<p><a href="/user_uploads/2/35/F_iubhJuBiQJWMBKjzwiWdfR/Screen-Shot-2023-09-14-at-12.38.10-PM.png">Screen-Shot-2023-09-14-at-12.38.10-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/35/F_iubhJuBiQJWMBKjzwiWdfR/Screen-Shot-2023-09-14-at-12.38.10-PM.png" title="Screen-Shot-2023-09-14-at-12.38.10-PM.png"><img src="/user_uploads/2/35/F_iubhJuBiQJWMBKjzwiWdfR/Screen-Shot-2023-09-14-at-12.38.10-PM.png"></a></div><p>I think keeping streams with search results in them collapsed is <em>probably</em> good. But I was thinking that it would be helpful if the stream unread counts only included unreads from the conversations your search results (e.g., <code>8</code> for <a class="stream" data-stream-id="2" href="/#narrow/stream/2-general">#general</a> in the screenshot above). This would apply to both collapsed and uncollapsed streams.</p>
<p>Does that sound right? Should this rule apply in the left sidebar as well (e.g., <code>10</code> for <a class="stream" data-stream-id="101" href="/#narrow/stream/101-design">#design</a> in the screenshot below)?</p>
<p><a href="/user_uploads/2/b/9aWwnmUVwQn4DJnkl76FQVxC/Screen-Shot-2023-09-15-at-9.37.17-AM.png">Screen-Shot-2023-09-15-at-9.37.17-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b/9aWwnmUVwQn4DJnkl76FQVxC/Screen-Shot-2023-09-15-at-9.37.17-AM.png" title="Screen-Shot-2023-09-15-at-9.37.17-AM.png"><img src="/user_uploads/2/b/9aWwnmUVwQn4DJnkl76FQVxC/Screen-Shot-2023-09-15-at-9.37.17-AM.png"></a></div>



<a name="1641240"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/summary%20counts%20with%20filters/near/1641240" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html#1641240">(Sep 15 2023 at 16:44)</a>:</h4>
<p>If we had a design for showing unread <em>topic</em> counts rather than unread <em>message</em> counts, I could also see that being helpful in the search results context. (I know <span class="user-mention silent" data-user-id="22433">Vlad Korobov</span> did some brainstorming around that idea for the left sidebar.)</p>



<a name="1641269"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/summary%20counts%20with%20filters/near/1641269" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html#1641269">(Sep 15 2023 at 17:07)</a>:</h4>
<p>I feel the left sidebar doesn't have the same issue, since the search box is below the total?</p>



<a name="1641275"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/summary%20counts%20with%20filters/near/1641275" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html#1641275">(Sep 15 2023 at 17:12)</a>:</h4>
<p>For the Inbox, only including counts from the filter would be useful, but also could be confusing if reducing the totals and it not being clear that a filter is being used?</p>
<p>There could be a toggle which hides those which don't match, like you say. Possibly if toggled the other way, it could also show a column with the full unread total for that narrow, as an illustration akin to <code>matches / total</code>.</p>



<a name="1641322"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/summary%20counts%20with%20filters/near/1641322" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html#1641322">(Sep 15 2023 at 18:06)</a>:</h4>
<p>Yeah I like this proposed change for inbox but think it doesn't feel right for the left sidebar; in part because the main top-level filtering in the left sidebar that is above stream rows exclusively targets stream names -- it doesn't look at topics at all.</p>



<a name="1641683"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/summary%20counts%20with%20filters/near/1641683" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html#1641683">(Sep 16 2023 at 00:41)</a>:</h4>
<p>Ah, just to clarify -- the screenshot/proposal was for filtering <em>topics</em> in the "more topics' view. I don't think this question arises for filtering stream names, since there's no overall counter in that area.</p>



<a name="1642236"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/summary%20counts%20with%20filters/near/1642236" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html#1642236">(Sep 18 2023 at 15:34)</a>:</h4>
<p>I suppose a similar summary may come up if/when we add stream groups in the left sidebar, but let's leave that aside for now.</p>
<p>The key difference here is that the inbox filtering feature filters topic names, i.e. the second-level objects.</p>
<p>We have the capability to do that in the left sidebar if we really wanted to -- we do know the topic name for every unread count in the sidebar when doing the calculations.</p>
<p>Anyway my proposal is that we do nothing in the left sidebar for now and get the inbox view experience working how we want it, and then see if anyone asks for the left sidebar to work like the inbox does with filters. If nobody asks to change that, I think that's a pretty good case for preserving the current behavior.</p>



<a name="1642426"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/summary%20counts%20with%20filters/near/1642426" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/summary.20counts.20with.20filters.html#1642426">(Sep 18 2023 at 19:27)</a>:</h4>
<p>OK, I filed <strong>Filter stream unread counts in Inbox view</strong> <a href="https://github.com/zulip/zulip/pull/26773">#26773</a> just for the Inbox part of this.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>