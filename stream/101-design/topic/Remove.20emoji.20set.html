<html>
<head><meta charset="utf-8"><title>Remove emoji set · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html">Remove emoji set</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1045894"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045894" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert (ro-i) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045894">(Oct 23 2020 at 14:20)</a>:</h4>
<p>Hi :-)<br>
Is there any possibility to <strong>remove</strong> some of the 4 <a href="https://zulip.readthedocs.io/en/latest/subsystems/emoji.html">default emoji sets</a>?</p>



<a name="1045916"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045916" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045916">(Oct 23 2020 at 14:35)</a>:</h4>
<p>Can you provide some context?  Are you self-hosting?  Are your users confused by having too many options?</p>



<a name="1045969"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045969" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert (ro-i) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045969">(Oct 23 2020 at 14:55)</a>:</h4>
<p>Yes, self-hosting (university). No, the users are not confused by the choice ;-)<br>
But we defined some fix reactions on certain questions / answers and it would be confusing for the students if those reactions look different from our pdf-Manual because they changed the emoji set.</p>



<a name="1045973"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045973" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert (ro-i) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045973">(Oct 23 2020 at 14:57)</a>:</h4>
<p>But if removing an emoji set is not really intended, we simply mention the problem in our instructions. That wouldn't be too bad....</p>



<a name="1045974"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045974" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert (ro-i) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045974">(Oct 23 2020 at 14:58)</a>:</h4>
<p>I'm just asking <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1045984"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045984" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045984">(Oct 23 2020 at 15:02)</a>:</h4>
<p><span class="user-mention" data-user-id="17322">@Robert</span> Thanks for explaining the use case, which does make sense.  I don't think we have any feature planned to let admins restrict the number of choices here, so you should probably just work around it.  Since you're self-hosting, if you were really motivated, it's probably a fairly simple patch to just provide just one choice.</p>



<a name="1045995"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045995" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert (ro-i) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045995">(Oct 23 2020 at 15:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="58">Steve Howell</span> <a href="#narrow/stream/101-design/topic/Remove.20emoji.20set/near/1045984">said</a>:</p>
<blockquote>
<p>Since you're self-hosting, if you were really motivated, it's probably a fairly simple patch to just provide just one choice.</p>
</blockquote>
<p>Ok, thank you. So if I would like to do this, I think I need to</p>
<ul>
<li>delete something in <code>./prod-static/serve/generated/emoji</code></li>
<li>execute <code>./scripts/lib/clean_emoji_cache.py</code><br>
?</li>
</ul>



<a name="1045997"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045997" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045997">(Oct 23 2020 at 16:21)</a>:</h4>
<p><span class="user-mention" data-user-id="17322">@Robert</span> I think you can avoid changing how you generate the emojis, and instead just focus on making all your users use the same value from <code>UserProfile</code>:</p>
<div class="codehilite"><pre><span></span><code>1082     # Emojisets
1083     GOOGLE_EMOJISET         = &#39;google&#39;
1084     GOOGLE_BLOB_EMOJISET    = &#39;google-blob&#39;
1085     TEXT_EMOJISET           = &#39;text&#39;
1086     TWITTER_EMOJISET        = &#39;twitter&#39;
1087     EMOJISET_CHOICES        = ((GOOGLE_EMOJISET, &quot;Google modern&quot;),
1088                                (GOOGLE_BLOB_EMOJISET, &quot;Google classic&quot;),
1089                                (TWITTER_EMOJISET, &quot;Twitter&quot;),
1090                                (TEXT_EMOJISET, &quot;Plain text&quot;))
1091     emojiset: str = models.CharField(default=GOOGLE_BLOB_EMOJISET, choices=EMOJISET_CHOICES, max_length=20)
1092
</code></pre></div>



<a name="1045998"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045998" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045998">(Oct 23 2020 at 16:22)</a>:</h4>
<p>And then figure out how to hide it in the settings.</p>



<a name="1045999"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1045999" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1045999">(Oct 23 2020 at 16:23)</a>:</h4>
<p>I believe you can just remove stuff in <code>static/templates/settings/display_settings.hbs</code> once you've switched everybody over to the new model.</p>



<a name="1046000"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1046000" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1046000">(Oct 23 2020 at 16:26)</a>:</h4>
<p>And you probably want to update this one line of code so that the view locks it down (just in case people try to update via the API):</p>
<div class="codehilite"><pre><span></span><code>emojiset_choices = {emojiset[&#39;key&#39;] for emojiset in UserProfile.emojiset_choices()}
</code></pre></div>



<a name="1046401"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1046401" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1046401">(Oct 23 2020 at 20:04)</a>:</h4>
<p>Yeah, the simplest way is definitely to just edit EMOJISET_CHOICES.</p>



<a name="1046562"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Remove%20emoji%20set/near/1046562" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert (ro-i) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Remove.20emoji.20set.html#1046562">(Oct 23 2020 at 21:23)</a>:</h4>
<p>Ok, thank you very much!</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>