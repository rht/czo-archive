<html>
<head><meta charset="utf-8"><title>avatar for unknown users · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html">avatar for unknown users</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1644747"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1644747" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sahil Batra <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1644747">(Sep 21 2023 at 17:01)</a>:</h4>
<p>When we implement <a href="https://github.com/zulip/zulip/pull/10970">#10970</a> (<a class="stream-topic" data-stream-id="101" href="/#narrow/stream/101-design/topic/access.20to.20all.20users.20in.20realm.20.2310970">#design &gt; access to all users in realm #10970</a> ), organizations can be configured to not allow guests to access all users in the realm, but they might be able to see messages from those users as per the current design.</p>
<p>So, there has been some discussion around showing those users with a name like "Unknown user" and a special avatar. I am starting this topic to discuss about what should be the avatar for such users.</p>
<p>We had some discussion in <a class="stream-topic" data-stream-id="378" href="/#narrow/stream/378-api-design/topic/unknown.20user.20IDs">#api design &gt; unknown user IDs</a> about how to handle avatar for such users. One of ths suggestion there was -</p>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/378-api-design/topic/unknown.20user.20IDs/near/1638323">said</a>:</p>
<blockquote>
<p>I think that'd be ideal. Could be something like a gray silhouette of a head, or a question mark, or the latter superimposed on the former.</p>
</blockquote>



<a name="1644855"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1644855" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1644855">(Sep 21 2023 at 18:50)</a>:</h4>
<p><span class="user-mention" data-user-id="22433">@Vlad Korobov</span> perhaps you could propose something?</p>



<a name="1644856"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1644856" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1644856">(Sep 21 2023 at 18:50)</a>:</h4>
<p>(<a href="https://github.com/zulip/zulip/pull/10970">#10970</a> is a high-priority project.)</p>



<a name="1646045"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646045" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646045">(Sep 23 2023 at 19:56)</a>:</h4>
<p>We could show userpic compressed to 16x16 and blurred, something like this: <br>
<a href="/user_uploads/2/a9/TsW2rehFE82AYJfLBGpqKB5q/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/a9/TsW2rehFE82AYJfLBGpqKB5q/image.png" title="image.png"><img src="/user_uploads/2/a9/TsW2rehFE82AYJfLBGpqKB5q/image.png"></a></div>



<a name="1646052"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646052" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646052">(Sep 23 2023 at 20:41)</a>:</h4>
<p>another alternative is to assign skin color out of name and user id: <br>
<a href="/user_uploads/2/3c/SVqcG4lpaJKhQnrM5spQiDJp/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/3c/SVqcG4lpaJKhQnrM5spQiDJp/image.png" title="image.png"><img src="/user_uploads/2/3c/SVqcG4lpaJKhQnrM5spQiDJp/image.png"></a></div>



<a name="1646053"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646053" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646053">(Sep 23 2023 at 20:46)</a>:</h4>
<p>In addition to that we could show 50% transparent white icon of a user: <br>
<a href="/user_uploads/2/79/iRwDjq7k_jgvFtAjVqyEjX8N/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/79/iRwDjq7k_jgvFtAjVqyEjX8N/image.png" title="image.png"><img src="/user_uploads/2/79/iRwDjq7k_jgvFtAjVqyEjX8N/image.png"></a></div>



<a name="1646362"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646362" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646362">(Sep 25 2023 at 01:02)</a>:</h4>
<p>The last one seems best to me, except for the part where we need an algorithm to pick the color to use given a user ID.</p>
<p>The user picture blurred options don't make sense because this is for the case where we see a user ID that the client doesn't know anything about.</p>



<a name="1646378"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646378" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646378">(Sep 25 2023 at 03:55)</a>:</h4>
<p>Having different user IDs be visually distinct is a nice idea! I don't know the simplest way in a code to make an ID -&gt; colors mapping, but seems potentially worthwhile. It would probably be fine to have a fixed set of, e.g., 20 colors, if that helps.</p>



<a name="1646606"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646606" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646606">(Sep 25 2023 at 15:41)</a>:</h4>
<p>I will prepare the samples or some code to do that</p>



<a name="1646607"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646607" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vlad Korobov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646607">(Sep 25 2023 at 15:42)</a>:</h4>
<p>Just to illustrate the logic</p>



<a name="1646727"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646727" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646727">(Sep 25 2023 at 18:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/avatar.20for.20unknown.20users/near/1646378">said</a>:</p>
<blockquote>
<p>Having different user IDs be visually distinct is a nice idea! I don't know the simplest way in a code to make an ID -&gt; colors mapping, but seems potentially worthwhile. It would probably be fine to have a fixed set of, e.g., 20 colors, if that helps.</p>
</blockquote>
<p>Simplest to implement would be to just pick the <code>user_id%20</code>th color from the set of 20 hardcoded stream colors that we pick from when subscribing to a new stream.</p>



<a name="1646728"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646728" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646728">(Sep 25 2023 at 18:57)</a>:</h4>
<p>But we can probably do something a bit nicer than that.</p>



<a name="1646729"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646729" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646729">(Sep 25 2023 at 18:58)</a>:</h4>
<p>I should mention that we also can just make procedurally generated avatars, and we likely want to migrate away from Gravatar towards doing that for our default avatars.</p>



<a name="1646730"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646730" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646730">(Sep 25 2023 at 18:59)</a>:</h4>
<p>This "unknown users" case we're imagining here is to do a much lower-effort project because it only comes up for guest users who see a message from a user who for some reason they are do not have data about -- say if a member of the organization mentions a user who is not subscribed to any of the guest's streams and thus the guest's app doesn't have any data on.</p>



<a name="1646731"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1646731" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1646731">(Sep 25 2023 at 19:00)</a>:</h4>
<p>So we should either do something very easy here or invest in procedurally generated avatars that we can use to replace gravatar everywhere; it doesn't make sense to put a lot of effort into this special case because it's intended as just a stopgap measure to allow us to integrate support for limited guests.</p>



<a name="1647027"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1647027" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1647027">(Sep 26 2023 at 00:25)</a>:</h4>
<p>I'd say more specifically that we should do something very easy here. I think it'd be best to keep the limited-guests project decoupled from a project to have nice procedurally-generated avatars.</p>
<p>For the scenario this is aimed at, it's going to be rare to use these avatars for the senders of messages in a conversation. Those will ordinarily be other subscribers to the stream, which means the limited guest will know about them and have their real avatars. So I think there isn't actually much benefit, for this use case, of having more than one of these placeholder avatars at all.</p>



<a name="1647029"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1647029" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1647029">(Sep 26 2023 at 00:26)</a>:</h4>
<p>Then in a future where we have a procedural avatar generator that we're happily shipping to replace our use of Gravatar, we can of course use that for unknown users too.</p>



<a name="1647034"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/avatar%20for%20unknown%20users/near/1647034" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/avatar.20for.20unknown.20users.html#1647034">(Sep 26 2023 at 00:30)</a>:</h4>
<p>Yeah so maybe we should just pick one of the colors for that last version that seems nice on both light and dark themes and use that asset for this problem.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>