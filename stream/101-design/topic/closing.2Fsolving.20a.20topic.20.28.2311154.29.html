<html>
<head><meta charset="utf-8"><title>closing/solving a topic (#11154) · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html">closing/solving a topic (#11154)</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1203125"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203125" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203125">(Jun 07 2021 at 20:45)</a>:</h4>
<p>There's a long-standing request from users (with 23 upvotes in GitHub) for a way to "close/solve" a topic. I was thinking a relatively simple initial implementation of this could be adding an option to prepend a checkmark to the topic name. It would then look like this in the list of topics:</p>
<p><a href="/user_uploads/2/e2/dkl0buZpWKjKXc05A5n-9zZc/Screen-Shot-2021-06-07-at-1.35.40-PM.png">Screen-Shot-2021-06-07-at-1.35.40-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/e2/dkl0buZpWKjKXc05A5n-9zZc/Screen-Shot-2021-06-07-at-1.35.40-PM.png" title="Screen-Shot-2021-06-07-at-1.35.40-PM.png"><img src="/user_uploads/2/e2/dkl0buZpWKjKXc05A5n-9zZc/Screen-Shot-2021-06-07-at-1.35.40-PM.png"></a></div><p>Specifically, anyone who has permission to edit the name of a topic (admins/moderators) would also have an option in the three-dot menu for topics (in the left sidebar) to:</p>
<ol>
<li>If a topic is open, <strong>Mark topic as closed</strong>, which prepends a checkmark to the name of the topic.</li>
<li>If a topic is closed, <strong>Reopen topic</strong>, which removes the checkmark.</li>
</ol>
<p>It's somewhat more complicated than just changing the name of the topic, since the checkmark should not be part of the <em>name</em> of the topic for things like typeahead and search.</p>
<p>Making closing/reopening a topic change its location in the list of topics or its read status would be outside of the scope of this initial implementation.</p>
<p>Thoughts?</p>



<a name="1203127"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203127" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203127">(Jun 07 2021 at 20:46)</a>:</h4>
<p>would it possible to designate a topic as not closable? (or, more likely, a topic being closable requires some pre-designation as "in need of an answer")</p>



<a name="1203128"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203128" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203128">(Jun 07 2021 at 20:48)</a>:</h4>
<p>I'm envisioning some org finding a feature like this and requiring (as org policy) that topics be closed when they are "done" and said policy annoying the hell out of people using topics for ongoing discussions</p>



<a name="1203130"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203130" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203130">(Jun 07 2021 at 20:48)</a>:</h4>
<p>I kinda like the idea of being able to associate a emoji with a topic in general (sort of like Dropbox Paper favicons). Could also use the same codepath to make pinned topics have a <span aria-label="push pin" class="emoji emoji-1f4cc" role="img" title="push pin">:push_pin:</span>, for instance.</p>



<a name="1203132"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203132" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203132">(Jun 07 2021 at 20:49)</a>:</h4>
<p>I was imagining that, at least for the initial implementation, the admins/moderators would be responsible for closing topics when appropriate and not otherwise. Also, maybe "closed" is a bad term, since it wouldn't actually prevent anyone from continuing to post on it.</p>



<a name="1203133"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203133" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203133">(Jun 07 2021 at 20:49)</a>:</h4>
<p>Pehaps "resolved" is better.</p>



<a name="1203134"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203134" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203134">(Jun 07 2021 at 20:50)</a>:</h4>
<p>Interesting idea! I like a prefixed emoji partly for being so short -- it doesn't much reduce the space for the rest of the topic.</p>
<p>Also for being language-independent.</p>



<a name="1203137"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203137" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203137">(Jun 07 2021 at 20:53)</a>:</h4>
<p>I'd be inclined to try to make the guts of this just be that the topic gets edited -- exactly the same as if an admin/moderator used the normal edit-topic UI to add that emoji (and a space) at the start. That would simplify the work a lot -- among other things it'd provide answers for how it behaves in edge cases, and it'd ensure it works smoothly (or at least degrades smoothly) for clients that don't know about the feature.</p>



<a name="1203141"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203141" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203141">(Jun 07 2021 at 20:57)</a>:</h4>
<p>presumably, the emoji doesn't actually show in the topic name (when composing)? and "<span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> thingo" is the same topic as "thingo" as far as threading is concerned?</p>



<a name="1203142"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203142" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203142">(Jun 07 2021 at 20:57)</a>:</h4>
<p>That'd mean that this:</p>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203125">said</a>:</p>
<blockquote>
<p>It's somewhat more complicated than just changing the name of the topic, since the checkmark should not be part of the <em>name</em> of the topic for things like typeahead and search.</p>
</blockquote>
<p>becomes a matter of having typeahead and search be aware of the concept of an emoji prefix. I think mostly it just means that in places where we use the notion of "matching at the start of the topic", the query "completed" should be treated as matching "at the start of" the topic "<span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> completed task".</p>



<a name="1203143"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203143" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203143">(Jun 07 2021 at 20:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19444">Ken Clary</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203141">said</a>:</p>
<blockquote>
<p>presumably, the emoji doesn't actually show in the topic name (when composing)?</p>
</blockquote>
<p>I think it's probably actually better if it does show up there, for a couple of reasons:</p>
<ul>
<li>It helps keep the model simple to understand: it's just part of the topic name.</li>
<li>It means when you're writing to that topic, you're aware that you're writing to a topic that's already resolved -- which seems helpful for the goals of this feature.</li>
</ul>



<a name="1203144"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203144" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203144">(Jun 07 2021 at 20:59)</a>:</h4>
<p>Mm, yeah maybe I'm overthinking it -- playing a bit with typeahead/search for "<span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> completed task ", it actually seems to work OK.</p>



<a name="1203145"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203145" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert (ro-i) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203145">(Jun 07 2021 at 20:59)</a>:</h4>
<p>Just fyi: This feature (mark something as "solved") is something we use, too. My bot has an own implementation of such a feature: <a href="https://github.com/ro-i/tumcsbot/blob/main/src/tumcsbot/plugins/solved.py">tumcsbot -&gt; plugins -&gt; solved.py</a> The Workflow is as follows:</p>
<ul>
<li>A user can react on any message in a topic with <span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> </li>
<li>The bot listens to those reactions and adds a message to the topic:</li>
</ul>
<blockquote>
<p><a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203134">This answer ↑1203134</a> has been marked as solution by <span class="user-mention silent" data-user-id="17322">Robert (ro-i)</span> </p>
</blockquote>
<ul>
<li>If other users add <span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> to the same message as the first person, the bot adds their names to the list in the message.</li>
</ul>
<blockquote>
<p><a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203134">This answer ↑1203134</a> has been marked as solution by <span class="user-mention silent" data-user-id="17322">Robert (ro-i)</span>, <span class="user-mention silent" data-user-id="2187">Greg Price</span>, <span class="user-mention silent" data-user-id="19257">Alya Abbott</span> </p>
</blockquote>
<p>Of course, this does not prevent the topic from being continued. Additionally, multiple messages can be marked as "solutions".</p>



<a name="1203146"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203146" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203146">(Jun 07 2021 at 21:00)</a>:</h4>
<p>ok, but are "completed task" and "<span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> completed task" the same topic?</p>



<a name="1203147"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203147" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203147">(Jun 07 2021 at 21:00)</a>:</h4>
<blockquote>
<p>and "<span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> thingo" is the same topic as "thingo" as far as threading is concerned?</p>
</blockquote>
<p>On the "it's just part of the topic name" plan, these would be different. That'd be a bit annoying if/when it comes up. But I'd expect that to be uncommon -- after all, generally people just reply, so they're sending to the same topic as the previous messages.</p>



<a name="1203148"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203148" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203148">(Jun 07 2021 at 21:00)</a>:</h4>
<p>In particular I think we rarely to never experience this issue with ordinary topic renames like we have today.</p>



<a name="1203150"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203150" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203150">(Jun 07 2021 at 21:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17322">Robert (ro-i)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203145">said</a>:</p>
<blockquote>
<p>Just fyi: This feature (mark something as "solved") is something we use, too. My bot has an own implementation of such a feature: <a href="https://github.com/ro-i/tumcsbot/blob/main/src/tumcsbot/plugins/solved.py">tumcsbot -&gt; plugins -&gt; solved.py</a> The Workflow is as follows:</p>
</blockquote>
<p>Interesting, thanks for that experience report!</p>



<a name="1203315"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203315" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203315">(Jun 07 2021 at 23:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203148">said</a>:</p>
<blockquote>
<p>In particular I think we rarely to never experience this issue with ordinary topic renames like we have today.</p>
</blockquote>
<p>I think this is because we've thoughtfully implemented it so that compose box and current narrowed view state live-updates when the topic you're looking at or sending to gets renamed, so it's essentially invisible.</p>



<a name="1203319"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203319" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203319">(Jun 07 2021 at 23:35)</a>:</h4>
<p>If we implement this feature as a simple renaming, we'd still get the same benefits, right?</p>



<a name="1203321"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203321" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203321">(Jun 07 2021 at 23:35)</a>:</h4>
<p>The main downside of this implementation approach will be that any "Copy link to message" links to the topic may break once it gets marked as resolved this way.  I think we had a plan for how to <a href="https://github.com/zulip/zulip/issues/15290">address that general problem</a> with modest effort, though, so I don't think we should block this idea on that.  But if we implement this design, I'm sure there will be strong demand for <a href="https://github.com/zulip/zulip/pull/15290">#15290</a> from folks using the new feature.</p>



<a name="1203322"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203322" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203322">(Jun 07 2021 at 23:36)</a>:</h4>
<p>my concern isn't with topic renames, it's with topic re-use.<br>
Say you start a "questions about thing" topic, that later gets marked as resolved, turning into "<span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> questions about thing"<br>
you later have more questions about thing, so you now (re)start the original topic, which becomes a distinct topic. but when it (also) later gets marked as resolved, it re-merges with the original, since now it matches, checkbox and all.</p>



<a name="1203323"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203323" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203323">(Jun 07 2021 at 23:36)</a>:</h4>
<p>Oh, the other thing that's problematic with actually renaming the topic is that if the topic was started by a bot (and the bot might send additional messages), you could end up with any follow-up messages from the bot going to the pre-resolution topic.</p>



<a name="1203326"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203326" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203326">(Jun 07 2021 at 23:37)</a>:</h4>
<p>(So for example, if you were to try to use this for threads in your "Sentry alerts" stream, you'd be kinda sad)</p>



<a name="1203329"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203329" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203329">(Jun 07 2021 at 23:38)</a>:</h4>
<p>basically, if "status" is something special, it probably shouldn't be actually folded into the topic name, since status changes and name changes are, perhaps, different kinds of actions, with different consequences.</p>



<a name="1203330"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203330" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203330">(Jun 07 2021 at 23:38)</a>:</h4>
<p>(I think we could still consider the same "leading check" visual design for metadata that's in its own independent database table.  And we could also still consider the "topic rename" approach as a prototype implementation even if it's not what we want to do longer-term)</p>



<a name="1203333"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203333" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203333">(Jun 07 2021 at 23:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203321">said</a>:</p>
<blockquote>
<p>The main downside of this implementation approach will be that any "Copy link to message" links to the topic may break once it gets marked as resolved this way.  I think we had a plan for how to <a href="https://github.com/zulip/zulip/issues/15290">address that general problem</a> with modest effort, though, so I don't think we should block this idea on that.  But if we implement this design, I'm sure there will be strong demand for <a href="https://github.com/zulip/zulip/pull/15290">#15290</a> from folks using the new feature.</p>
</blockquote>
<p>This is certainly something I've wanted already for normal topic renames <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> </p>
<p>(For example, <a class="stream-topic" data-stream-id="137" href="/#narrow/stream/137-feedback/topic/Status.20Evidence">#feedback &gt; Status Evidence</a> confuses me almost every time I see it, and I've held back from giving it a reasonable name only because it's been running for a while and there are probably links to it in various places.)</p>



<a name="1203334"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203334" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203334">(Jun 07 2021 at 23:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203323">said</a>:</p>
<blockquote>
<p>Oh, the other thing that's problematic with actually renaming the topic is that if the topic was started by a bot (and the bot might send additional messages), you could end up with any follow-up messages from the bot going to the pre-resolution topic.</p>
</blockquote>
<p>Hmm, true!</p>



<a name="1203338"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203338" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203338">(Jun 07 2021 at 23:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19444">Ken Clary</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203322">said</a>:</p>
<blockquote>
<p>my concern isn't with topic renames, it's with topic re-use.<br>
Say you start a "questions about thing" topic, that later gets marked as resolved, turning into "<span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> questions about thing"<br>
you later have more questions about thing, so you now (re)start the original topic, which becomes a distinct topic. but when it (also) later gets marked as resolved, it re-merges with the original, since now it matches, checkbox and all.</p>
</blockquote>
<p>That is a bit awkward… but I think it'd actually be <em>more</em> awkward under the alternative. That would mean that when you/someone comes later and starts sending messages to "questions about thing", their question is automatically treated as pre-resolved because they sent it to a resolved topic.</p>



<a name="1203342"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203342" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203342">(Jun 07 2021 at 23:43)</a>:</h4>
<p>I think there are some topics that never want a resolution. like, I expect there are many topics that get used without any expectation of such. (as in, they're topics, not tickets)</p>



<a name="1203347"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203347" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203347">(Jun 07 2021 at 23:43)</a>:</h4>
<p>Of course; I wouldn't expect this to be the natural conclusion for every topic or anything.</p>



<a name="1203348"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203348" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203348">(Jun 07 2021 at 23:44)</a>:</h4>
<p>But folks have requested this feature for, e.g., customer support streams.</p>



<a name="1203350"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203350" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203350">(Jun 07 2021 at 23:45)</a>:</h4>
<p>so, could it be added as an optional feature? as in, when you create a new topic (or perhaps edit an old one), you can add a "can be resolved" state or something, which might visually look like an unchecked box.</p>



<a name="1203352"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203352" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203352">(Jun 07 2021 at 23:45)</a>:</h4>
<p>(this would not change the topic name at all)</p>



<a name="1203353"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203353" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203353">(Jun 07 2021 at 23:45)</a>:</h4>
<p>(even if editing it required a similar UX)</p>



<a name="1203354"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203354" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Clary <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203354">(Jun 07 2021 at 23:47)</a>:</h4>
<p>I can already anticipate the eventual request for "can we have a full suite of ticket statuses/resolutions, with custom workflows" ;)  (in effect treating a stream topic like the comment thread on a jira ticket)</p>



<a name="1203359"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203359" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203359">(Jun 07 2021 at 23:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203323">said</a>:</p>
<blockquote>
<p>Oh, the other thing that's problematic with actually renaming the topic is that if the topic was started by a bot (and the bot might send additional messages), you could end up with any follow-up messages from the bot going to the pre-resolution topic.</p>
</blockquote>
<p>Are you thinking of a situation where the issue is actually resolved, or it's not resolved after all? Could you move one of the topics to the other as needed?</p>



<a name="1203361"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1203361" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1203361">(Jun 07 2021 at 23:52)</a>:</h4>
<p>I was thinking that if a topic doesn't need to be resolved, the admins/moderators just wouldn't resolve it. I don't think we need to specifically make it a permissions thing. After all, those same admins/moderators would be the ones who'd be able to change those permissions.</p>



<a name="1204045"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1204045" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1204045">(Jun 08 2021 at 18:20)</a>:</h4>
<p>Another usecase for emoji as topic prefixes, if we do it well, is <a class="stream-topic" data-stream-id="6" href="/#narrow/stream/6-frontend/topic/per-stream.20AV.20links">#frontend &gt; per-stream AV links</a> (and integrations more generally)</p>



<a name="1204077"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1204077" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1204077">(Jun 08 2021 at 18:34)</a>:</h4>
<p>If we go that route, I suppose we should think about making the implementation robust to having multiple emoji. E.g. a resolved pinned topic, etc.</p>



<a name="1204412"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1204412" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1204412">(Jun 08 2021 at 22:18)</a>:</h4>
<p>Chatting with <span class="user-mention silent" data-user-id="7">Tim Abbott</span> a bit more offline, it sounds like a renaming implementation + fixing <a href="https://github.com/zulip/zulip/pull/15290">#15290</a> should be a fine starting point for imlementing this. It won't be too much wasted effort to rework the backend if we decide it's not good enough after playing with it, or if we want to make it more robust down the line. I'll write up an issue.</p>



<a name="1204443"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1204443" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1204443">(Jun 08 2021 at 23:00)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/18751">#18751</a>. <span class="user-mention silent" data-user-id="7">Tim Abbott</span> please add technical details as needed.</p>



<a name="1204494"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1204494" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1204494">(Jun 08 2021 at 23:34)</a>:</h4>
<p>This is an excellent writeup. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>. I have to admit that I have always blown off this use case even though it is obviously plausible.</p>



<a name="1204506"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1204506" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1204506">(Jun 08 2021 at 23:43)</a>:</h4>
<p>Yeah, this is great; added some quick comments on implementation details.  <span class="user-mention" data-user-id="5140">@Aman Agrawal (amanagr)</span> <span class="user-mention" data-user-id="16839">@Abhijeet Bodas</span> do one of you want to take this one?  I think it'll definitely benefit from someone who has read the message edit plumbing.</p>



<a name="1204799"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1204799" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1204799">(Jun 09 2021 at 08:43)</a>:</h4>
<p>wow finally</p>



<a name="1204801"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1204801" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1204801">(Jun 09 2021 at 08:43)</a>:</h4>
<p>I had lost hope</p>



<a name="1205696"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1205696" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1205696">(Jun 10 2021 at 00:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203315">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1203148">said</a>:</p>
<blockquote>
<p>In particular I think we rarely to never experience this issue with ordinary topic renames like we have today.</p>
</blockquote>
<p>I think this is because we've thoughtfully implemented it so that compose box and current narrowed view state live-updates when the topic you're looking at or sending to gets renamed, so it's essentially invisible.</p>
</blockquote>
<p>This is a slick bit of polish that I think we don't currently do in the mobile app, and the importance of it will grow with this resolving-a-topic feature.</p>
<p>How is that behavior's semantics defined? Is it something like, when the one/last remaining message in the view gets edited so it would no longer appear there, follow it to where it went?</p>



<a name="1205819"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1205819" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1205819">(Jun 10 2021 at 10:56)</a>:</h4>
<p>this is the old discussion <a href="#narrow/stream/137-feedback/topic/Solved.2Fclosed.20topic">https://chat.zulip.org/#narrow/stream/137-feedback/topic/Solved.2Fclosed.20topic</a></p>



<a name="1205820"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1205820" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1205820">(Jun 10 2021 at 10:56)</a>:</h4>
<p>and this was my IDEA</p>



<a name="1205821"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1205821" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1205821">(Jun 10 2021 at 10:56)</a>:</h4>
<p>Topics are used for a variety of things but could be summarized in these types:</p>
<p>Issue (with status: Open and Closed / resolved)<br>
Task (with status: Open with percentage indication of status, Closed)<br>
Discussion (with state Open and Closed / resolved) or only the function of closed so no one can write to us anymore and a little order is made to the real discussions that maybe repeat.</p>



<a name="1206511"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1206511" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1206511">(Jun 10 2021 at 20:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1205696">said</a>:</p>
<blockquote>
<p>This is a slick bit of polish that I think we don't currently do in the mobile app, and the importance of it will grow with this resolving-a-topic feature.</p>
<p>How is that behavior's semantics defined? Is it something like, when the one/last remaining message in the view gets edited so it would no longer appear there, follow it to where it went?</p>
</blockquote>
<p><span class="user-mention" data-user-id="2187">@Greg Price</span> it's documented in <a href="https://zulip.com/api/get-events">https://zulip.com/api/get-events</a>; search for <code>propagate_mode</code>.</p>



<a name="1206512"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1206512" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1206512">(Jun 10 2021 at 20:56)</a>:</h4>
<p>Basically, this corresponds to whether the person who was doing the edit selected one of "Change later messages" or "Change all messages".</p>



<a name="1206514"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1206514" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1206514">(Jun 10 2021 at 20:56)</a>:</h4>
<p>mix?</p>



<a name="1206516"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1206516" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1206516">(Jun 10 2021 at 20:57)</a>:</h4>
<blockquote>
<p>mix? </p>
</blockquote>
<p>No, this is replying to Greg's last message here.  Let me edit to make more clear.</p>



<a name="1207851"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1207851" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1207851">(Jun 12 2021 at 15:22)</a>:</h4>
<p>Yesterday, I prototyped this in <a href="https://github.com/zulip/zulip/pull/18808">#18808</a> and have test-deployed it here so folks can play with it.</p>



<a name="1207861"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1207861" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1207861">(Jun 12 2021 at 15:25)</a>:</h4>
<p><a href="#narrow/stream/7-test-here/topic/.E2.9C.94.EF.B8.8F.20test.20resolve.20topic/near/1207853">Here's an example thread</a> to see what it looks like as currently prototyped.</p>



<a name="1207863"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1207863" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1207863">(Jun 12 2021 at 15:25)</a>:</h4>
<p>We can of course do fancier visuals styling in clients that choose to by parsing the topic and displaying something special where desired.</p>



<a name="1207867"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1207867" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1207867">(Jun 12 2021 at 15:27)</a>:</h4>
<p>How do we use it?</p>



<a name="1207870"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1207870" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Purushottam Tiwari <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1207870">(Jun 12 2021 at 15:30)</a>:</h4>
<p>Would it be better to keep color(of icon) to green. Icon is barely visible if topic in dark mode and almost goes unnoticed if stream/topic is muted.</p>



<a name="1207906"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1207906" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1207906">(Jun 12 2021 at 16:50)</a>:</h4>
<p>Back/forward navigation doesn't work so well with this?</p>



<a name="1207919"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1207919" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1207919">(Jun 12 2021 at 16:57)</a>:</h4>
<p>With my ZT hat on I'd prefer a more "basic" unicode codepoint to avoid output issues, but we can always substitute that manually.<br>
In general though, for a topic that <em>might</em> be marked as resolved I'd prefer a placeholder box, like I've trialled in <a class="stream" data-stream-id="7" href="/#narrow/stream/7-test-here">#test here</a> in nearby topics.</p>



<a name="1208528"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208528" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208528">(Jun 14 2021 at 14:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17546">Purushottam Tiwari</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1207870">said</a>:</p>
<blockquote>
<p>Would it be better to keep color(of icon) to green. Icon is barely visible if topic in dark mode and almost goes unnoticed if stream/topic is muted.</p>
</blockquote>
<p>agree with you</p>



<a name="1208529"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208529" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208529">(Jun 14 2021 at 14:41)</a>:</h4>
<p><span aria-label="locked" class="emoji emoji-1f512" role="img" title="locked">:locked:</span>  red</p>



<a name="1208530"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208530" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208530">(Jun 14 2021 at 14:41)</a>:</h4>
<p>for close topic</p>



<a name="1208721"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208721" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208721">(Jun 14 2021 at 16:49)</a>:</h4>
<blockquote>
<p>Tim Abbott: We can of course do fancier visuals styling in clients that choose to by parsing the topic and displaying something special where desired.</p>
</blockquote>
<p>Yeah, I agree that we want a more visible icon for the left sidebar. Are folks happy with the checkmark in other places where it shows up (e.g. topic bar in the main window, topic name in the compose box)?</p>



<a name="1208723"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208723" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208723">(Jun 14 2021 at 16:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="58">Steve Howell (showell)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1207867">said</a>:</p>
<blockquote>
<p>How do we use it?</p>
</blockquote>
<p>You can resolve/unresolve a topic via the three-dot topic menu in the left sidebar.</p>



<a name="1208725"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208725" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208725">(Jun 14 2021 at 16:50)</a>:</h4>
<p>If you have permission to rename topics.</p>



<a name="1208733"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208733" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208733">(Jun 14 2021 at 16:54)</a>:</h4>
<p>Since not everyone can resolve/unresolve, let's keep at least one topic resolved for demo purposes (<a class="stream-topic" data-stream-id="7" href="/#narrow/stream/7-test-here/topic/.E2.9C.94.EF.B8.8F.20resolved.20topic">#test here &gt; ✔️ resolved topic</a> ).</p>



<a name="1208922"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208922" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208922">(Jun 14 2021 at 19:23)</a>:</h4>
<p>Any thoughts on placeholder boxes?</p>



<a name="1208925"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208925" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208925">(Jun 14 2021 at 19:29)</a>:</h4>
<p>Hm, it's interesting, but I think we wouldn't want to clutter <em>all</em> topics with placeholder boxes, and I'm not sure there's a coherent way to only display them sometimes. In the current design, any topic could potentially be resolved.</p>



<a name="1208947"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1208947" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1208947">(Jun 14 2021 at 19:58)</a>:</h4>
<p>I agree about it being challenging, but the alignment differences between resolved and other topics are not great.</p>



<a name="1209175"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1209175" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1209175">(Jun 14 2021 at 21:48)</a>:</h4>
<p>Do folks think it would look better to have the "resolved" icon aligned to the left of where topic names start? We should be able to play with the alignment rather than adding an icon to all the unresolved topics.</p>



<a name="1212131"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1212131" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1212131">(Jun 17 2021 at 07:05)</a>:</h4>
<p>yes on the left</p>



<a name="1212401"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1212401" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1212401">(Jun 17 2021 at 16:38)</a>:</h4>
<p>Yeah, so to back up a bit, my theory for this is that we'd encode resolved topics in the topic name starting with the checkmark, but clients that wanted to be fancy could strip the checkmark and display a fancier indication in the gutter to the left of the topic name instead.  (And I imagine the webapp would do so).  The nice thing about this encoding is that it works nicely for contexts where we just have plain-text, like the placeholder and input box here:</p>
<p><a href="/user_uploads/2/b8/HQ_zeeejcAITcbSumfaVkOTa/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b8/HQ_zeeejcAITcbSumfaVkOTa/image.png" title="image.png"><img src="/user_uploads/2/b8/HQ_zeeejcAITcbSumfaVkOTa/image.png"></a></div>



<a name="1212402"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1212402" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1212402">(Jun 17 2021 at 16:44)</a>:</h4>
<p>And then full-featured clients can do <code>topic.startswith(RESOLVED_PREFIX)</code> checks to determine whether to do custom logic that would result in nicer formatting (e.g. putting the checkmark in its own column), while still having simple clients (or just older versions of clients that predate this feature) able to display resolved topics in a way that will be perfectly intelligible to humans, if a bit imperfectly designed.</p>



<a name="1212403"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1212403" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1212403">(Jun 17 2021 at 16:46)</a>:</h4>
<p>Thoughts on merging this implementation as written and then opening follow-up issues for each of the clients to do fancier formatting for the "resolved topic" feature in the left sidebar equivalents, narrow support for an <code>is:resolved</code> keyword, etc.?  </p>
<p>The other nice thing about this architecture is that it's very cheap to undo if we decide it's wrong; the only backend code is the logic for sending the "has marked this topic as resolved" notifications, so the rest is just the convention of <code>unicode checkmark, space</code> at the start of a message's topic.  So if we removed the feature or replaced its design, there wouldn't be any messy database migrations required.</p>



<a name="1213878"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1213878" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1213878">(Jun 18 2021 at 18:05)</a>:</h4>
<p>That plan makes a lot of sense to me.</p>



<a name="1213880"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1213880" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1213880">(Jun 18 2021 at 18:09)</a>:</h4>
<p>One thing we should discuss at least briefly here and decide explicitly, because it'll be effectively part of the API, is <em>which</em> Unicode check mark we're using. There are at least four of them:</p>
<div class="codehilite"><pre><span></span><code>$ unicode --brief -r &#39;check mark&#39;
✅ U+2705 WHITE HEAVY CHECK MARK
✓ U+2713 CHECK MARK
✔ U+2714 HEAVY CHECK MARK
🗸 U+1F5F8 LIGHT CHECK MARK
…
</code></pre></div>



<a name="1213909"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1213909" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1213909">(Jun 18 2021 at 18:35)</a>:</h4>
<p>In the ZT UI we currently use <code>CHECK_MARK = "✓"</code> which I assume is the 2nd of those. The 3rd looks good, but if it's the current one in the prototype then it's not ideal as it breaks our rendering.<br>
(the other two cause rendering issues too, and the last one doesn't show for me)</p>



<a name="1214045"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214045" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214045">(Jun 18 2021 at 19:40)</a>:</h4>
<p>I think the third one (<code>✔</code> U+2714 HEAVY CHECK MARK) is indeed the one the current prototype is using.</p>



<a name="1214048"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214048" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214048">(Jun 18 2021 at 19:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1213909">said</a>:</p>
<blockquote>
<p>the last one doesn't show for me</p>
</blockquote>
<p>Sorry, my message may have been ambiguous -- there's only four of them, and the last line is an ellipsis. (The actual command I quoted has some other output, like <code>⍻</code> U+237B NOT CHECK MARK, which wouldn't be helpful <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span> and I edited out.)</p>
<p>Did you mean the ellipsis, or the fourth check mark <code>🗸</code> U+1F5F8 LIGHT CHECK MARK?</p>



<a name="1214060"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214060" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214060">(Jun 18 2021 at 19:45)</a>:</h4>
<p>A few more:</p>
<div class="codehilite"><pre><span></span><code>☑ U+2611 BALLOT BOX WITH CHECK
🗹 U+1F5F9 BALLOT BOX WITH BOLD CHECK
</code></pre></div>



<a name="1214094"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214094" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214094">(Jun 18 2021 at 19:53)</a>:</h4>
<p>Yeah. I filtered those out initially, because the "ballot box" thing doesn't seem apropos. But their glyphs do come with those nice square boxes, which suggest a checked-off item on a todo list.</p>



<a name="1214139"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214139" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214139">(Jun 18 2021 at 20:07)</a>:</h4>
<p>We might consider having the web app use a non-unicode icon for this, to make it seem a little more like a "native" feature (along with alignment tweaks, etc). We'll still need to choose which codepoint to use, and that'll show up in clients that don't have explicit support for the feature, but we shouldn't feel too boxed in by the exact set of icons available, IMO.</p>



<a name="1214184"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214184" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214184">(Jun 18 2021 at 20:08)</a>:</h4>
<p><a href="/user_uploads/2/16/lAHBmJi0L0y9XEqZCsRKGw-4/0000-recent.png">definitely this icon should be something more in line with the other stuff in that UI</a> (although that's sort of orthogonal)</p>
<div class="message_inline_image"><a href="/user_uploads/2/16/lAHBmJi0L0y9XEqZCsRKGw-4/0000-recent.png" title="definitely this icon should be something more in line with the other stuff in that UI"><img src="/user_uploads/2/16/lAHBmJi0L0y9XEqZCsRKGw-4/0000-recent.png"></a></div>



<a name="1214217"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214217" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214217">(Jun 18 2021 at 20:52)</a>:</h4>
<p><span class="user-mention" data-user-id="17945">@Wesley Aptekar-Cassels</span> that icon is already changed in master, let me deploy <a href="http://chat.zulip.org">chat.zulip.org</a>.</p>



<a name="1214219"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214219" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214219">(Jun 18 2021 at 20:53)</a>:</h4>
<p>I think we should exclude the ballot box versions from further consideration, because I think they'll not look great in the full range of additional contexts for this feature (E.g. in an email notification, compose box placeholders, etc.)</p>



<a name="1214221"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214221" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214221">(Jun 18 2021 at 20:54)</a>:</h4>
<p>And also they're suggestive of the idea that there'd be a box sans-checkmark somewhere, and that's not currently envisioned.</p>



<a name="1214222"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214222" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214222">(Jun 18 2021 at 20:58)</a>:</h4>
<ul>
<li>I seem to recall "WHITE HEAVY CHECK MARK" isn't a good choice because it has a color encoded, and thus does the wrong thing on the day theme?</li>
</ul>



<a name="1214224"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214224" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214224">(Jun 18 2021 at 21:00)</a>:</h4>
<ul>
<li>And the fourth checkmark doesn't render for me, which makes me worry that it's a less implemented character:</li>
</ul>
<p><a href="/user_uploads/2/b0/XDsvXP6YZQXXI6gyCkaIRcnU/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b0/XDsvXP6YZQXXI6gyCkaIRcnU/image.png" title="image.png"><img src="/user_uploads/2/b0/XDsvXP6YZQXXI6gyCkaIRcnU/image.png"></a></div>



<a name="1214225"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214225" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214225">(Jun 18 2021 at 21:01)</a>:</h4>
<p>So I think the main question is whether we want U+2713 CHECK MARK or U+2714 HEAVY CHECK MARK?</p>



<a name="1214230"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214230" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214230">(Jun 18 2021 at 21:08)</a>:</h4>
<p>I think I originally tried ✓ CHECK MARK, and found it didn't seem visible enough, which is why I originally picked ✔ HEAVY CHECK MARK.  I guess I'm not sure if that will vary by OS, so it may be worth folks on various platforms posting screenshots of this messge.</p>



<a name="1214234"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214234" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214234">(Jun 18 2021 at 21:08)</a>:</h4>
<p>(The screenshot I took above is from Greg's code block and thus in our code block font, which isn't where this will normally appear, so should be ignored for thinking about the visuals).</p>



<a name="1214237"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214237" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214237">(Jun 18 2021 at 21:09)</a>:</h4>
<p>Here's my Linux screenshot:<br>
<a href="/user_uploads/2/19/-dVoThnBb_hP6bNRD_LcIZz_/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/19/-dVoThnBb_hP6bNRD_LcIZz_/image.png" title="image.png"><img src="/user_uploads/2/19/-dVoThnBb_hP6bNRD_LcIZz_/image.png"></a></div>



<a name="1214238"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214238" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214238">(Jun 18 2021 at 21:11)</a>:</h4>
<p>[Mentioning ✓ to intentionally trigger a Zulip rendering bug to make the following characters display how I intended.] The current prototype is using U+2714 HEAVY CHECK MARK with U+FE0F VARIATION SELECTOR-16 (✔️). The variation selector causes it to render as an emoji that varies by OS. A plain U+2714 HEAVY CHECK MARK (✔) would be displayed from our Source Sans 3 web font.</p>



<a name="1214243"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214243" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214243">(Jun 18 2021 at 21:13)</a>:</h4>
<p>On my system the emoji variant actually displays in a dark grey that’s hard to make out in night mode.</p>



<a name="1214336"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214336" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214336">(Jun 18 2021 at 23:27)</a>:</h4>
<p><span class="user-mention" data-user-id="699">@Anders Kaseorg</span> ahh, I see, I think I agree we should remove that selector and just use U+2714.</p>



<a name="1214337"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214337" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214337">(Jun 18 2021 at 23:28)</a>:</h4>
<p>We can change that now and then do a little hand-migration on <a href="http://chat.zulip.org">chat.zulip.org</a> to remove the <code>U+FE0F</code> from topics we've already marked as resolved in this server (I don't think it likely anyone else has done so yet, unless they upgraded from Git in the last 24 hours).</p>



<a name="1214405"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214405" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214405">(Jun 19 2021 at 00:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1214234">said</a>:</p>
<blockquote>
<p>(The screenshot I took above is from Greg's code block and thus in our code block font, which isn't where this will normally appear, so should be ignored for thinking about the visuals).</p>
</blockquote>
<p>Ah, the reason I used a code block there is to prevent Zulip from taking the characters and re-interpreting them as Zulip emoji. I'm not sure how to write a Zulip message that renders such a character as the plain character but in the non-code font.</p>
<p>I think in the current design that's basically intended to be impossible -- which is inconvenient for discussions <em>about</em> emoji like this one -- though there are bugs like <a href="https://github.com/zulip/zulip/pull/11767">#11767</a>, and I guess the bug that Anders used in his message. (I think I may not know about that one.)</p>



<a name="1214407"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214407" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214407">(Jun 19 2021 at 00:42)</a>:</h4>
<p>Any objection to my changing the character to remove the <code>VARIATION SELECTOR</code>?</p>



<a name="1214409"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214409" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214409">(Jun 19 2021 at 00:43)</a>:</h4>
<p>For thinking about the visuals, I think it's actually about equally important to see how the emoji look in a font designed for code as in one designed for prose. The code-style fonts are the ones that appear in a terminal. If the web/desktop app and the mobile app end up with some fancier indication for resolved topics in the most common places they appear, then uses in a terminal (perhaps ZT, but also where someone's interacting over the API, or looking in the database, etc.) will likely be a large fraction of the remaining places the character itself appears.</p>



<a name="1214410"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214410" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214410">(Jun 19 2021 at 00:44)</a>:</h4>
<p>Removing the variation selector is probably good. In contexts where we know we can make the fancier emoji show up well, we're likely to do something fancier than that anyway.</p>



<a name="1214411"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214411" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214411">(Jun 19 2021 at 00:44)</a>:</h4>
<p>I think it's potentially pretty hard for us to do something fancier in places like the compose box placeholder and in the subject lines of missed-message emails.</p>



<a name="1214412"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214412" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214412">(Jun 19 2021 at 00:45)</a>:</h4>
<p>Those contexts, as well as tools like zulip-archive, are likely much more common than terminal clients.</p>



<a name="1214414"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214414" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214414">(Jun 19 2021 at 00:46)</a>:</h4>
<p>True, the missed-message subject lines are pretty far out of our control for how they're displayed.</p>



<a name="1214415"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214415" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214415">(Jun 19 2021 at 00:46)</a>:</h4>
<p>zulip-archive I'd include in the category where we can control the styling however we want. It's just HTML and CSS, generated by some code.</p>



<a name="1214416"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214416" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214416">(Jun 19 2021 at 00:47)</a>:</h4>
<p>Yeah, that's fair.  There's probably also a bunch of other API contexts that we can control but might not be excited to.</p>



<a name="1214418"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214418" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214418">(Jun 19 2021 at 00:48)</a>:</h4>
<p>OK, merged the two commits ending with <a href="https://github.com/zulip/zulip/commit/10dcc4ac98277b505ca3ddbcd4feed6b8b1af261">10dcc4ac98277b505ca3ddbcd4feed6b8b1af261</a>.</p>



<a name="1214421"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214421" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214421">(Jun 19 2021 at 00:49)</a>:</h4>
<p>(I had not intended to have that extra character there, so given nobody arguing for it, we should remove it quickly to avoid creating more data with the incorrect style)</p>



<a name="1214422"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214422" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214422">(Jun 19 2021 at 00:50)</a>:</h4>
<p>I'm doing a <a href="http://chat.zulip.org">chat.zulip.org</a> deployment now, and also updating the database for existing topics that have been resolved, so that "unresolve" works correctly here.</p>



<a name="1214434"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214434" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214434">(Jun 19 2021 at 01:01)</a>:</h4>
<p>This looks fine on ZT now <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="1214436"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214436" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214436">(Jun 19 2021 at 01:03)</a>:</h4>
<p>Thanks for flagging this!</p>



<a name="1214851"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214851" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sai Rohitth Chiluka <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214851">(Jun 20 2021 at 14:43)</a>:</h4>
<p>Bug with resolved topics?<br>
I was in <a class="stream-topic" data-stream-id="7" href="/#narrow/stream/7-test-here/topic/html.20elements.20in.20code.20blocks">#test here &gt; html elements in code blocks</a>  and was in ZT testing something. When I was trying to edit a previous message not knowing I had crossed the edit time, I got the "marked as  unresolved" message from Notification Bot (when I sent the message). Is this due to ZT or the server?</p>



<a name="1214891"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1214891" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1214891">(Jun 20 2021 at 17:58)</a>:</h4>
<p>I can confirm that I had this behavior without obviously touching the resolution menus - see <a class="stream-topic" data-stream-id="7" href="/#narrow/stream/7-test-here/topic/ZT.2065">#test here &gt; ZT 65</a></p>



<a name="1215030"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215030" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215030">(Jun 21 2021 at 07:04)</a>:</h4>
<p>Perhaps unrelated, but it should be noted that renaming a resolved topic to remove the checkmark unresolves it; you don't have to go through the resolution menu, specifically.</p>



<a name="1215032"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215032" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215032">(Jun 21 2021 at 07:14)</a>:</h4>
<p>Do those topics have a resolved state? I've not checked and currently on mobile so not sure if I can.</p>



<a name="1215033"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215033" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sai Rohitth Chiluka <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215033">(Jun 21 2021 at 07:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1215030">said</a>:</p>
<blockquote>
<p>Perhaps unrelated, but it should be noted that renaming a resolved topic to remove the checkmark unresolves it; you don't have to go through the resolution menu, specifically.</p>
</blockquote>
<p>It might be related to this, maybe ZT has to do some checks before a name change?</p>



<a name="1215038"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215038" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215038">(Jun 21 2021 at 07:26)</a>:</h4>
<p>The names of these topics don't start with checkmarks, so they are currently not resolved. There is no database record of the state -- it's just about the name. So what you see on mobile is accurate.</p>



<a name="1215042"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215042" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hari Prashant <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215042">(Jun 21 2021 at 07:50)</a>:</h4>
<blockquote>
<p>Perhaps unrelated, but it should be noted that renaming a resolved topic to remove the checkmark unresolves it; you don't have to go through the resolution menu, specifically.</p>
</blockquote>
<p>It seems that a no-op topic edit (with a topic that does not have a check-mark) also triggers a "marked as unresolved" notification, is this behavior intended?</p>



<a name="1215044"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215044" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sai Rohitth Chiluka <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215044">(Jun 21 2021 at 07:56)</a>:</h4>
<p>Even if the topic was marked as resolved, this doesn't seem to unresolve the topic ( remove the check mark ) but shows the bot message.<br>
See <a class="stream-topic" data-stream-id="7" href="/#narrow/stream/7-test-here/topic/.E2.9C.94.20resolved.20topic">#test here &gt; ✔ resolved topic</a></p>



<a name="1215051"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215051" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hari Prashant <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215051">(Jun 21 2021 at 08:14)</a>:</h4>
<blockquote>
<p>Even if the topic was marked as resolved, this doesn't seem to unresolve the topic ( remove the check mark ) but show the bot message.</p>
</blockquote>
<p>I don't believe a no-op topic edit is meant to change the state to resolved/unresolved. The possible bug here is notifications being triggered on no-op topic edits without a change of state.</p>



<a name="1215265"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215265" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215265">(Jun 21 2021 at 19:00)</a>:</h4>
<p>Hmm, here's the logic, maybe someone can spot the bug:</p>
<div class="codehilite"><pre><span></span><code>    if (
        topic_name is not None
        and new_stream is None
        and content is None
        and len(changed_messages) &gt; 0
    ):
        assert stream_being_edited is not None
        maybe_send_resolve_topic_notifications(
            user_profile=user_profile,
            stream=stream_being_edited,
            old_topic=orig_topic_name,
            new_topic=topic_name,
        )
</code></pre></div>
<div class="codehilite"><pre><span></span><code>RESOLVED_TOPIC_PREFIX = &quot;✔ &quot;

def maybe_send_resolve_topic_notifications(
    *,
    user_profile: UserProfile,
    stream: Stream,
    old_topic: str,
    new_topic: str,
) -&gt; None:
    if old_topic.lstrip(RESOLVED_TOPIC_PREFIX) != new_topic.lstrip(RESOLVED_TOPIC_PREFIX):
        return
     ... # Will send the notification if we didn&#39;t return above
</code></pre></div>



<a name="1215268"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215268" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215268">(Jun 21 2021 at 19:00)</a>:</h4>
<p>Yeah, this is buggy.</p>



<a name="1215269"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215269" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215269">(Jun 21 2021 at 19:01)</a>:</h4>
<p>We would need a situation where we requested a topic-only edit of the server, and the topics only differ in having a prefix of <code>check space</code> added or removed.</p>



<a name="1215270"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215270" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215270">(Jun 21 2021 at 19:01)</a>:</h4>
<p>I suspect (but have not checked) that we strip leading whitespace before getting here -- we should confirm that theory.</p>



<a name="1215272"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215272" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215272">(Jun 21 2021 at 19:03)</a>:</h4>
<p>But even with that, I think if you send an API request to the server to change topic <code>foo</code> to <code>foo</code>, this logic at least will treat that as an "unresolve topic" request.  (I would have expected such situations to have been determined to be a noop earlier, so that may be the bug in fact)</p>



<a name="1215274"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215274" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215274">(Jun 21 2021 at 19:04)</a>:</h4>
<p><span class="user-mention" data-user-id="16383">@Hari Prashant</span> <span class="user-mention" data-user-id="19275">@Sai Rohitth Chiluka</span> I assume there is also a client bug, that Zulip Terminal is incorrectly sending a "topic edit" request to the server that would be a noop.</p>



<a name="1215275"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215275" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215275">(Jun 21 2021 at 19:04)</a>:</h4>
<p>I don't think I can get the webapp to actually send such a request to the server without deleting code <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1215276"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215276" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215276">(Jun 21 2021 at 19:05)</a>:</h4>
<p>OK, I've confirmed that topics have <code>.strip()</code> called on them before being passed to this logic.</p>



<a name="1215278"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215278" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215278">(Jun 21 2021 at 19:08)</a>:</h4>
<p>I suspect this is the right fix for the server.  Needs testing.</p>
<div class="codehilite"><pre><span></span><code>diff --git a/zerver/lib/actions.py b/zerver/lib/actions.py
index fed1e2073f..c29b163768 100644
--- a/zerver/lib/actions.py
+++ b/zerver/lib/actions.py
@@ -2852,6 +2852,9 @@ def check_update_message(
     # use REQ_topic as well (or otherwise are guaranteed to strip input).
     if topic_name is not None:
         topic_name = topic_name.strip()
+        if topic_name == message.topic_name():
+            topic_name = None
+
     validate_message_edit_payload(message, stream_id, topic_name, propagate_mode, content)

     is_no_topic_msg = message.topic_name() == &quot;(no topic)&quot;
</code></pre></div>
<p>Would one of the terminal folks be up for confirming this fixes your issue?</p>



<a name="1215279"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215279" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215279">(Jun 21 2021 at 19:08)</a>:</h4>
<p>As a sidenote, we should probably extend the API documentation to cover "resolve topic", in addition to writing a /help/ article for it.</p>



<a name="1215282"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215282" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215282">(Jun 21 2021 at 19:15)</a>:</h4>
<p>ZT doesn't make that distinction right now, and we should make that change. However, at some level I'd consider that's an optimization, and we were influenced by the presence and intent of <span class="user-mention" data-user-id="4976">@Cyphase</span>'s PRs (<a href="https://github.com/zulip/zulip/pull/16317">#16317</a> for one) which I understand would clean things up at the server end instead.</p>



<a name="1215283"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215283" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215283">(Jun 21 2021 at 19:16)</a>:</h4>
<p>It would be really nice to see that rebased and merged; I think I may have just fixed on of the bugs it addressed in response to this report.</p>



<a name="1215284"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215284" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215284">(Jun 21 2021 at 19:18)</a>:</h4>
<p>It's possible someone else should pick that up, since <span class="user-mention" data-user-id="4976">@Cyphase</span> seems to have been busy for some time.  Anyone interested in addressing the comments on it and resubmitting it?</p>



<a name="1215285"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215285" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215285">(Jun 21 2021 at 19:20)</a>:</h4>
<p>This is <a href="https://github.com/zulip/zulip-terminal/pull/1014">#T1014</a>, if anyone from <span class="user-group-mention" data-user-group-id="105">@terminal</span> wants to take this up.</p>



<a name="1215286"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215286" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215286">(Jun 21 2021 at 19:20)</a>:</h4>
<p>In any case, with this change it will now be a client error to send a noop topic edit, so you'll need to fix it client side.</p>



<a name="1215295"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215295" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215295">(Jun 21 2021 at 19:24)</a>:</h4>
<p>You mean there'll be a non-success response? That kind of response should actually be handled at a lower level already in ZT, so that shouldn't break the client.</p>



<a name="1215297"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215297" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215297">(Jun 21 2021 at 19:25)</a>:</h4>
<p>Correct.  (And sounds good)</p>



<a name="1215305"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215305" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215305">(Jun 21 2021 at 19:45)</a>:</h4>
<p>I merged <a href="https://github.com/zulip/zulip/commit/e231a03eff6cce62243284ebcf7f06f798715a78">e231a03eff6cce62243284ebcf7f06f798715a78</a> and its parent to cover these issues.</p>



<a name="1215306"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215306" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215306">(Jun 21 2021 at 19:47)</a>:</h4>
<p>One corner case worth highlighting: We currently never trigger resolve/unresolve notifications when changing a topic in any way other than adding/remove <code>RESOLVED_TOPIC_PREFIX</code>.  I think that's probably reasonable because your intent is kinda unclear when you change <code>foo</code> to <code>{RESOLVED_TOPIC_PREFIX} bar</code>, e.g. you could be trying to merge topics or something after having resolved one copy of a set of duplicates?  Hard to say, so seems best not to do anything special.</p>



<a name="1215336"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215336" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215336">(Jun 21 2021 at 20:13)</a>:</h4>
<p>Will validate this on next deploy <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="1215337"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215337" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215337">(Jun 21 2021 at 20:14)</a>:</h4>
<p>I sort of appreciate the resolving messages, but it's a little spammy - hopefully less so now :)</p>



<a name="1215340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215340">(Jun 21 2021 at 20:18)</a>:</h4>
<p>Ah, I remember how I felt it was spammy - not necessarily the extra messages, but that they are considered as extra unreads, so if a number of topics are marked as resolved then there's a set of older topics with just one unread from the resolution.</p>



<a name="1215356"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215356" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cyphase <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215356">(Jun 21 2021 at 20:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1215282">said</a>:</p>
<blockquote>
<p>ZT doesn't make that distinction right now, and we should make that change. However, at some level I'd consider that's an optimization, and we were influenced by the presence and intent of <span class="user-mention silent" data-user-id="4976">Cyphase</span>'s PRs (<a href="https://github.com/zulip/zulip/pull/16317">#16317</a> for one) which I understand would clean things up at the server end instead.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1215284">said</a>:</p>
<blockquote>
<p>It's possible someone else should pick that up, since <span class="user-mention silent" data-user-id="4976">Cyphase</span> seems to have been busy for some time.  Anyone interested in addressing the comments on it and resubmitting it?</p>
</blockquote>
<p>I just saw a bunch of emails. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> Sorry for my absence. I have some unpushed changes for those two PRs, including the Black migration, so let me at least push those by tomorrow, and then we can see about moving forward.</p>



<a name="1215577"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215577" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215577">(Jun 21 2021 at 23:42)</a>:</h4>
<p><span class="user-mention" data-user-id="4976">@Cyphase</span> sounds great!</p>



<a name="1215579"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215579" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215579">(Jun 21 2021 at 23:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1215340">said</a>:</p>
<blockquote>
<p>Ah, I remember how I felt it was spammy - not necessarily the extra messages, but that they are considered as extra unreads, so if a number of topics are marked as resolved then there's a set of older topics with just one unread from the resolution.</p>
</blockquote>
<p>Yeah, I think this is a problem that comes with marking topics as resolved some time after the last actual message to the topic.</p>



<a name="1215580"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215580" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215580">(Jun 21 2021 at 23:43)</a>:</h4>
<p>We could certainly consider an option to allow having a "marked as resolved" messages be automatically marked as unread for everyone, but it'd be extra UI, could be somewhat confusing to folks who don't know about that option, etc.</p>



<a name="1215626"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215626" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215626">(Jun 22 2021 at 01:12)</a>:</h4>
<p>One option might be akin to issue-tracking systems which have a "comment and close" option, so we'd have a "send this message [X] also mark resolved" or similar.</p>



<a name="1215627"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215627" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215627">(Jun 22 2021 at 01:14)</a>:</h4>
<p>That would make it easier to ensure the "closing" message occurs with a notification too.</p>



<a name="1215707"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215707" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215707">(Jun 22 2021 at 04:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1215627">said</a>:</p>
<blockquote>
<p>That would make it easier to ensure the "closing" message occurs with a notification too.</p>
</blockquote>
<p>Sorry, what do you mean by "with a notification"?</p>



<a name="1215708"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215708" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215708">(Jun 22 2021 at 04:42)</a>:</h4>
<p>But yeah, I think one of the handful of UI extensions we may want to consider is a "Send and mark resolved" option.</p>



<a name="1215744"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1215744" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1215744">(Jun 22 2021 at 06:35)</a>:</h4>
<p>Yeah, though I think with some frequency one wants to close the topic after whoever asked the question confirms that their issue is resolved.</p>



<a name="1216024"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1216024" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1216024">(Jun 22 2021 at 17:13)</a>:</h4>
<p>Yeah, it kinda depends on the situation what you want; the same being true for ticket tracker tools in general.</p>



<a name="1216217"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1216217" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1216217">(Jun 22 2021 at 19:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1215707">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1215627">said</a>:</p>
<blockquote>
<p>That would make it easier to ensure the "closing" message occurs with a notification too.</p>
</blockquote>
<p>Sorry, what do you mean by "with a notification"?</p>
</blockquote>
<p>Basically what you inferred I think - there's a message and you mark it resolved at the same time (which causes an extra message from... notification bot? I'm not on web right now).</p>



<a name="1216238"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1216238" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1216238">(Jun 22 2021 at 19:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1215336">said</a>:</p>
<blockquote>
<p>Will validate this on next deploy <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>
</blockquote>
<p>It seems this is not so simple, as based on ZT behavior the server now rejects not just <code>old_topic==new_topic</code>, but also <code>old_topic==new_topic and old_content!=new_content</code> (due to the first part). There's no harm from the first case, since we didn't change the topic :) However, the second case feels like maybe what we'd ideally have, but is too strict compared to the previous implementation, and not backwards-compatible.<br>
Possibly <span class="user-mention silent" data-user-id="4976">Cyphase</span>'s PR(s) were more forgiving?<br>
We can fixup ZT to make the optimization, but right now editing appears broken - unless I edit the topic every time ;)</p>



<a name="1217122"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217122" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217122">(Jun 23 2021 at 19:15)</a>:</h4>
<p><span class="user-mention" data-user-id="2406">@Neil Pilgrim (neiljp)</span> hmm, what is the error you get for that case?  I would not expect that based on the server change I made.</p>



<a name="1217124"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217124" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217124">(Jun 23 2021 at 19:15)</a>:</h4>
<p>(I believe what I did is repace <code>old_topic=new_topic</code> with <code>new_topic=None</code> i.e. no topic change requested, and that combining with the existing "new_topic=None, new_content=None, new_stream=None =&gt; error" logic)</p>



<a name="1217184"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217184" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217184">(Jun 23 2021 at 20:47)</a>:</h4>
<p>I'll need to check, but I believe the ZT code always sends the topic when updating, not necessarily always the content.</p>



<a name="1217188"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217188" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217188">(Jun 23 2021 at 20:50)</a>:</h4>
<p>The message is ~"Invalid propagate mode without topic edit" when I send a messge content update but happen to send a topic no-op update too (as we do right now).<br>
(approximate error since we have a message timeout)</p>



<a name="1217199"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217199" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217199">(Jun 23 2021 at 21:05)</a>:</h4>
<p><span class="user-mention" data-user-id="2406">@Neil Pilgrim (neiljp)</span> that sounds to me like you sent <code>propagate_mode</code> incorrectly as <code>change_all</code>, when it should be <code>change_one</code> if you're only editing one message.</p>



<a name="1217208"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217208" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217208">(Jun 23 2021 at 21:11)</a>:</h4>
<p>I suspect we have it set to <code>change_later</code> by default, which I expect could trigger a similar issue. That said, shouldn't <code>propagate_mode</code> be tied to the topic-change decision? So if it is determined that it's unchanged then the mode is not relevant?</p>



<a name="1217213"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217213" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217213">(Jun 23 2021 at 21:15)</a>:</h4>
<p>It's perhaps just how it's presented in the UI, but <code>change_one</code> &lt;=&gt; "change only this message topic", so that's confusing too - ie. it's topic-related, not "I'm not making a topic change".</p>



<a name="1217270"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217270" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217270">(Jun 23 2021 at 21:53)</a>:</h4>
<p>Here's the check in the codebase:</p>
<div class="codehilite"><pre><span></span><code>    if propagate_mode != &quot;change_one&quot; and topic_name is None and stream_id is None:
        raise JsonableError(_(&quot;Invalid propagate_mode without topic edit&quot;))
</code></pre></div>
<p>I stand by that as being reasonable -- the client is specifying detailed configuration for how to do a topic/stream edit, when not requesting one, and that suggests a client bug.</p>



<a name="1217289"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217289" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217289">(Jun 23 2021 at 22:37)</a>:</h4>
<p>I'm happy to consider it a client bug; I suppose it depends how lenient the server wants to be with interpreting the endpoint, and how users have interpreted the docs to date wrt <code>propagate_mode</code>, eg</p>
<ul>
<li><a href="https://zulip.com/api/update-message#parameter-propagate_mode">https://zulip.com/api/update-message#parameter-propagate_mode</a> - ambiguous; could indicate that <code>change_one</code> is required (if supplied, since optional) for just content edits (<code>Which message(s) should be edited;...</code>), but also suggests it's only related to topic changes (<code>This parameter determines both which messages get moved and also...</code>)</li>
<li><a href="https://zulip.com/api/get-events#update_message">https://zulip.com/api/get-events#update_message</a> - strongly indicates it's topics only (<code>The choice the editing user made about which messages should be affected by a stream/topic edit:...</code>)</li>
</ul>
<p>Ultimately, what does it mean to have <code>change_later</code> or <code>change_all</code> when the topic is unchanged?</p>
<p>Given the complex multi-faceted nature of this endpoint (update one message content and/or a set of message topics) I can both understand the desire to be strict (simpler cleaner server implementation), but also to be lenient (cue Postel's law?).</p>



<a name="1217326"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217326" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217326">(Jun 24 2021 at 00:33)</a>:</h4>
<p>I think the intent is that <code>propagate_mode</code> is required when changing the topic or stream, and otherwise optional (but the only valid value is the only valid value for a content-only edit, <code>propagate_one</code>).</p>



<a name="1217340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217340">(Jun 24 2021 at 00:43)</a>:</h4>
<p>The intent seems very clear now with your notes and the stricter code; I'm mainly querying whether this was previously sufficiently clear and the server might benefit from being more lenient on input for existing client code - plus that the API docs also need synchronizing (between the two above) and improving to reflect the intent to avoid future confusion :)<br>
(I plan to investigate a ZT update in any case, but the point is independent of that)</p>



<a name="1217862"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217862" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217862">(Jun 24 2021 at 16:52)</a>:</h4>
<p>I think it's worth clarifying the API docs, certainly.  Let me take a pass at that.</p>



<a name="1217868"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1217868" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1217868">(Jun 24 2021 at 16:57)</a>:</h4>
<p>Merged <a href="https://github.com/zulip/zulip/commit/6b67b18c4bee0f5253906cd25b46247a8a8d626e">6b67b18c4bee0f5253906cd25b46247a8a8d626e</a> to address that.</p>



<a name="1218049"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218049" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218049">(Jun 24 2021 at 20:09)</a>:</h4>
<p>I've opened issues for the various follow-ups that have been discussed for completing this feature:</p>
<ul>
<li><a href="https://github.com/zulip/zulip/pull/18988">#18988</a> (UI for resolving topics in recipient bars).</li>
<li><a href="https://github.com/zulip/zulip/pull/18989">#18989</a> (fancier left sidebar display).</li>
<li><a href="https://github.com/zulip/zulip/pull/18990">#18990</a> (search support for <code>is:resolved</code> keyword)</li>
</ul>



<a name="1218083"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218083" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218083">(Jun 24 2021 at 20:58)</a>:</h4>
<p>We also need to document the feature.  I added a first pass at this here: <a href="https://github.com/zulip/zulip/commit/8aa05620d23db3acd517fff8797a1d9942157e6d">8aa05620d23db3acd517fff8797a1d9942157e6d</a>.</p>
<p>I think we should also advertise it in places like /features and a guide on "Support workflows in Zulip", but have not thought about where and how to do so.  <span class="user-mention" data-user-id="19257">@Alya Abbott</span> can I assume you'll track that less well-specified work?</p>



<a name="1218209"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218209" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218209">(Jun 24 2021 at 22:41)</a>:</h4>
<p>I'll take an edit pass on the documentation.</p>



<a name="1218215"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218215" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akshat <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218215">(Jun 24 2021 at 22:50)</a>:</h4>
<p>Want some feedback about which icon to choose (issue <a href="https://github.com/zulip/zulip/pull/18988">#18988</a>):<br>
<a href="/user_uploads/2/dd/lk87_yWNJ0G5x-Ivw-_2nigd/Screenshot-from-2021-06-25-04-09-35.png">fa-check</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/dd/lk87_yWNJ0G5x-Ivw-_2nigd/Screenshot-from-2021-06-25-04-09-35.png" title="fa-check"><img src="/user_uploads/2/dd/lk87_yWNJ0G5x-Ivw-_2nigd/Screenshot-from-2021-06-25-04-09-35.png"></a></div><p>OR</p>
<p><a href="/user_uploads/2/68/W8gUsb9su0cRs4Tz_3VnyPbh/Screenshot-from-2021-06-25-04-10-07.png">fa-check-circle</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/68/W8gUsb9su0cRs4Tz_3VnyPbh/Screenshot-from-2021-06-25-04-10-07.png" title="fa-check-circle"><img src="/user_uploads/2/68/W8gUsb9su0cRs4Tz_3VnyPbh/Screenshot-from-2021-06-25-04-10-07.png"></a></div><p>For consistency, I believe <code>fa-check</code>?</p>
<hr>
<p>I've just skimmed this topic and want to ask why don't we just prepend the topic name with the "resolved icon"? (i.e. the icon should not be part of the topic name)</p>



<a name="1218259"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218259" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218259">(Jun 24 2021 at 23:08)</a>:</h4>
<p>Yeah, <code>fa-check</code> seems right to me.</p>



<a name="1218285"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218285" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218285">(Jun 24 2021 at 23:39)</a>:</h4>
<blockquote>
<p>I've just skimmed this topic and want to ask why don't we just prepend the topic name with the "resolved icon"? (i.e. the icon should not be part of the topic name)</p>
</blockquote>
<p>We want the checkmark to show up everywhere, e.g. the name of the topic when you're sending to it.</p>



<a name="1218288"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218288" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218288">(Jun 24 2021 at 23:40)</a>:</h4>
<p>Can we have a story for not breaking topic links before we release this widely? Even if it's just a hack like redirecting to the resolved/unresolved version if the topic you got linked to doesn't exist.</p>



<a name="1218325"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218325" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218325">(Jun 25 2021 at 00:24)</a>:</h4>
<p>I think basically the plan is that we'll do the proposal I described in <a href="https://github.com/zulip/zulip/issues/15290">https://github.com/zulip/zulip/issues/15290</a>, which will address permanent links to a message in context.</p>
<p>I'm not sure if we want to use that exact plan for links to resolved topics, but something like it should work.</p>



<a name="1218326"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218326" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218326">(Jun 25 2021 at 00:26)</a>:</h4>
<p>I do not at present consider that to be a blocker for having "Resolve topic" available in Zulip Cloud, since I don't think any options under discussion for addressing that involve changing the data model.</p>



<a name="1218327"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218327" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218327">(Jun 25 2021 at 00:26)</a>:</h4>
<p>But I do think <a href="https://github.com/zulip/zulip/pull/15290">#15290</a> (including specifically thinking about "Resolve topic") is a blocker for 5.0.</p>



<a name="1218328"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218328" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218328">(Jun 25 2021 at 00:27)</a>:</h4>
<p>that issue doesn't describe a solution for the usecase of someone copying a topic URL from the URL bar, does it?</p>



<a name="1218329"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218329" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218329">(Jun 25 2021 at 00:28)</a>:</h4>
<p>I just added a reference to that situation; feel free to add a more extended comment. (I'm in a bit of a hurry right now).</p>



<a name="1218333"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218333" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218333">(Jun 25 2021 at 00:35)</a>:</h4>
<p>Basically, I think that it's acceptable (although still pretty bad) to have a link break when someone renames a topic, in a way that it isn't acceptable for a link to break when someone clicks on a "resolve topic" button. How was the person who clicked that button supposed to know that it was going to break the links?</p>
<p>One of the really strong selling points of Zulip is that you can look back through your message history and have chat be an actual knowledge base, since topics let things stay organized. Given that, giving users a easy button to break links to topics seems like a bad plan.</p>



<a name="1218336"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218336" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218336">(Jun 25 2021 at 00:36)</a>:</h4>
<p>Yeah, I agree, and thus we should consider <a href="https://github.com/zulip/zulip/pull/15290">#15290</a> to be a timely priority.</p>



<a name="1218337"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218337" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218337">(Jun 25 2021 at 00:36)</a>:</h4>
<p>I'll see if I can find time to work on it tomorrow.</p>



<a name="1218969"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218969" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218969">(Jun 25 2021 at 06:56)</a>:</h4>
<p><a href="#narrow/stream/137-feedback/topic/Solved.2Fclosed.20topic/near/722253">https://chat.zulip.org/#narrow/stream/137-feedback/topic/Solved.2Fclosed.20topic/near/722253</a></p>



<a name="1218970"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1218970" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1218970">(Jun 25 2021 at 06:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17026">Akshat (akshatdalton)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1218215">said</a>:</p>
<blockquote>
<p>Want some feedback about which icon to choose (issue <a href="https://github.com/zulip/zulip/pull/18988">#18988</a>):<br>
<a href="/user_uploads/2/dd/lk87_yWNJ0G5x-Ivw-_2nigd/Screenshot-from-2021-06-25-04-09-35.png">fa-check</a> </p>
<p>OR</p>
<p><a href="/user_uploads/2/68/W8gUsb9su0cRs4Tz_3VnyPbh/Screenshot-from-2021-06-25-04-10-07.png">fa-check-circle</a> </p>
<p>For consistency, I believe <code>fa-check</code>?</p>
<hr>
<p>I've just skimmed this topic and want to ask why don't we just prepend the topic name with the "resolved icon"? (i.e. the icon should not be part of the topic name)</p>
</blockquote>
<p>like my idea <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> <a href="#narrow/stream/137-feedback/topic/Solved.2Fclosed.20topic/near/722253">https://chat.zulip.org/#narrow/stream/137-feedback/topic/Solved.2Fclosed.20topic/near/722253</a></p>



<a name="1220899"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1220899" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1220899">(Jun 28 2021 at 21:34)</a>:</h4>
<p>I think this message and the next few after it are the answer to your question:</p>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1212401">said</a>:</p>
<blockquote>
<p>Yeah, so to back up a bit, my theory for this is that we'd encode resolved topics in the topic name starting with the checkmark, but clients that wanted to be fancy could strip the checkmark and display a fancier indication in the gutter to the left of the topic name instead.  (And I imagine the webapp would do so).  The nice thing about this encoding is that it works nicely for contexts where we just have plain-text, like the placeholder and input box here:</p>
<p><a href="/user_uploads/2/b8/HQ_zeeejcAITcbSumfaVkOTa/image.png">image.png</a></p>
</blockquote>



<a name="1220901"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1220901" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1220901">(Jun 28 2021 at 21:35)</a>:</h4>
<p>(There has been quite a lot of discussion on this thread -- so, perfectly reasonable to have missed that when scanning through)</p>



<a name="1222504"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1222504" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1222504">(Jun 29 2021 at 18:55)</a>:</h4>
<p>Yeah, <a href="https://github.com/zulip/zulip/pull/18988">#18988</a> and <a href="https://github.com/zulip/zulip/pull/18989">#18989</a> cover those items <span class="user-mention" data-user-id="10544">@Andrea Soc 🏂</span> and are being worked on.</p>



<a name="1222505"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1222505" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1222505">(Jun 29 2021 at 18:55)</a>:</h4>
<p>I'd be surprised if we did a major release without both of them included.</p>



<a name="1222699"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1222699" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan van Clute <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1222699">(Jun 29 2021 at 20:50)</a>:</h4>
<p>I didn't read the entire thread here but am I right in assuming that this would include/provide the ability to "lock" topics?  We occasionally have topics that begin to get heated or inappropriate and while I could just delete them, as an admin/moderator I would generally prefer to lock them where needed so that people can see how others behave.  Is locking topics coming soon?</p>



<a name="1222706"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1222706" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1222706">(Jun 29 2021 at 20:55)</a>:</h4>
<p>No, I don't think that's in the current design for this feature.</p>
<p>I think the implementation of that feature idea would be fairly separate from this one. Want to start a new thread to discuss your use case there?</p>



<a name="1222726"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1222726" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1222726">(Jun 29 2021 at 21:16)</a>:</h4>
<p><span class="user-mention" data-user-id="18203">@Jonathan van Clute</span> this feature will not prevent posting, but we do plan to have a warning before posting to a topic marked as resolved.  I suspect that, combined with a post from a moderator, may work for many situations one would want to lock a thread in practice.</p>
<p>But I agree with Greg that locking a topic would need to be a separate feature.</p>



<a name="1222745"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1222745" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1222745">(Jun 29 2021 at 21:35)</a>:</h4>
<p>We have an issue in our tracker for locking topics: <a href="https://github.com/zulip/zulip/pull/8041">#8041</a>. Please feel free to comment there as well.</p>



<a name="1223274"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223274" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223274">(Jun 30 2021 at 18:04)</a>:</h4>
<p>Regarding <a href="https://github.com/zulip/zulip/pull/18989">#18989</a>, I have some work but it has some issues with long topic name which I am trying to resolve. I have used fa-check icon just for trying things out.<br>
<a href="/user_uploads/2/f2/8iCKQu3KNNHEsE4vT2tPruJZ/Peek-2021-06-30-23-30.gif">Peek-2021-06-30-23-30.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/f2/8iCKQu3KNNHEsE4vT2tPruJZ/Peek-2021-06-30-23-30.gif" title="Peek-2021-06-30-23-30.gif"><img src="/user_uploads/2/f2/8iCKQu3KNNHEsE4vT2tPruJZ/Peek-2021-06-30-23-30.gif"></a></div>



<a name="1223279"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223279" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223279">(Jun 30 2021 at 18:14)</a>:</h4>
<p>it also seems like it subtly adjusts the vertical spacing, which looks like a bug</p>



<a name="1223281"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223281" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223281">(Jun 30 2021 at 18:21)</a>:</h4>
<p>Yeah, I guess it maybe due to the excess height of the icon which we will replace with a check character anyways.</p>



<a name="1223573"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223573" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223573">(Jul 01 2021 at 08:22)</a>:</h4>
<p>Here's an updated GIF:<br>
<a href="/user_uploads/2/14/dexn2CDaMaVIINO0jq8D-LM7/Peek-2021-07-01-13-49.gif">Peek-2021-07-01-13-49.gif</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/14/dexn2CDaMaVIINO0jq8D-LM7/Peek-2021-07-01-13-49.gif" title="Peek-2021-07-01-13-49.gif"><img src="/user_uploads/2/14/dexn2CDaMaVIINO0jq8D-LM7/Peek-2021-07-01-13-49.gif"></a></div><p>I'll open a PR if it looks good.</p>



<a name="1223584"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223584" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223584">(Jul 01 2021 at 09:35)</a>:</h4>
<p>Created <a href="https://github.com/zulip/zulip/pull/19080">#19080</a> if anybody wants to test :)</p>



<a name="1223625"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223625" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223625">(Jul 01 2021 at 15:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17516">Gaurav Pandey (ligmitz)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1223584">said</a>:</p>
<blockquote>
<p>Created <a href="https://github.com/zulip/zulip/pull/19080">#19080</a> if anybody wants to test <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>
</blockquote>
<p>how to for test it?? <span class="user-mention" data-user-id="17516">@Gaurav Pandey (ligmitz)</span></p>



<a name="1223626"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223626" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Purushottam Tiwari <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223626">(Jul 01 2021 at 15:05)</a>:</h4>
<p>This can be done by checking out pull request locally in dev environment. Steps are described at <a href="https://zulip.readthedocs.io/en/latest/git/collaborate.html?highlight=pull%20request%20locally#check-out-a-pull-request-locally">https://zulip.readthedocs.io/en/latest/git/collaborate.html?highlight=pull%20request%20locally#check-out-a-pull-request-locally</a></p>



<a name="1223645"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223645" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223645">(Jul 01 2021 at 16:34)</a>:</h4>
<p>I don't think this is the right approach — the width will depend on the font, right?</p>



<a name="1223654"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223654" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223654">(Jul 01 2021 at 16:51)</a>:</h4>
<p>The width is set so that the topic name starts at the same vertical margin as before.</p>



<a name="1223656"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223656" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223656">(Jul 01 2021 at 16:53)</a>:</h4>
<p>Yes, but does that work on all fonts? Not everyone will be using the same font as you.</p>



<a name="1223670"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223670" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223670">(Jul 01 2021 at 17:06)</a>:</h4>
<p>Yeah, but we are using a min-width property. So if font-size does increase the width, it will affect all the characters by equal amount and we should be able to retain the vertical alignment. The font thing was mentioned in the issue by Tim so I have added that property specifically.</p>



<a name="1223706"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223706" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223706">(Jul 01 2021 at 18:44)</a>:</h4>
<p>It looks good when I play with the PR with <code>CTRL-+</code>.</p>



<a name="1223717"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223717" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223717">(Jul 01 2021 at 19:04)</a>:</h4>
<p>I think we should align the checkmarks higher:</p>
<p><a href="/user_uploads/2/1e/dxTueLWNer8j89hdTsaGcymM/Screen-Shot-2021-07-01-at-12.03.49-PM.png">Screen-Shot-2021-07-01-at-12.03.49-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/1e/dxTueLWNer8j89hdTsaGcymM/Screen-Shot-2021-07-01-at-12.03.49-PM.png" title="Screen-Shot-2021-07-01-at-12.03.49-PM.png"><img src="/user_uploads/2/1e/dxTueLWNer8j89hdTsaGcymM/Screen-Shot-2021-07-01-at-12.03.49-PM.png"></a></div>



<a name="1223723"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223723" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223723">(Jul 01 2021 at 19:21)</a>:</h4>
<p>Agreed on vertical alignment; I think that character just happens to by vertically structured kinda like a <code>g</code> where it naturally sits below the center.</p>



<a name="1223725"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223725" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223725">(Jul 01 2021 at 19:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17516">Gaurav Pandey (ligmitz)</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1223670">said</a>:</p>
<blockquote>
<p>Yeah, but we are using a min-width property. So if font-size does increase the width, it will affect all the characters by equal amount and we should be able to retain the vertical alignment. The font thing was mentioned in the issue by Tim so I have added that property specifically.</p>
</blockquote>
<p>Even if this CSS works, it's not obvious from reading it that it works.  While we could address that with a comment, I think we'd be better off with something that declared what we mean (E.g. a <code>float: right</code> element positioned to the left of the topic name field).</p>



<a name="1223954"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1223954" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1223954">(Jul 02 2021 at 01:07)</a>:</h4>
<blockquote>
<p>Agreed on vertical alignment; I think that character just happens to by vertically structured kinda like a <code>g</code> where it naturally sits below the center.</p>
</blockquote>
<p>No, the character is aligned very close to the baseline, as you can see on CZO today. The CSS in this PR just declares the wrong baseline.</p>



<a name="1224586"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1224586" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1224586">(Jul 03 2021 at 16:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1223725">said</a>:</p>
<blockquote>
<p>a <code>float: right</code> element positioned to the left of the topic name field</p>
</blockquote>
<p>Can you expain this a bit more? Addressed the rest of the feedback for <a href="https://github.com/zulip/zulip/pull/19080">#19080</a>.</p>



<a name="1225576"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1225576" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1225576">(Jul 06 2021 at 00:41)</a>:</h4>
<p><span class="user-mention" data-user-id="17516">@Gaurav Pandey (ligmitz)</span> it's the same way we position the <code>.unread_count</code> class.</p>



<a name="1225897"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1225897" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1225897">(Jul 06 2021 at 17:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> said:</p>
<blockquote>
<p>Though having thought about this a bit more, I think the logic of .replace() is still wrong, because it'll replace all copies. I think what you want is just to remove the first len(RESOLVED_TOPIC_PREFIX) characters. Can you fix that and add a test for a weird topic that contains RESOLVED_TOPIC_PREFIX twice?</p>
</blockquote>
<p>Yeah, so the current behaviour doesn't respect the fact that the rest of the prefixes are a part of the topic name during unresolving:<br>
<a href="/user_uploads/2/20/ASLugKkesHS7ff_ejj6IACM9/Peek-2021-07-06-22-51.gif">Peek-2021-07-06-22-51.gif</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/20/ASLugKkesHS7ff_ejj6IACM9/Peek-2021-07-06-22-51.gif" title="Peek-2021-07-06-22-51.gif"><img src="/user_uploads/2/20/ASLugKkesHS7ff_ejj6IACM9/Peek-2021-07-06-22-51.gif"></a></div><p>Though I am not sure how a person would end up with multiple prefixes if they start with the prefix in the name in the first place (since the topic starts as resolved) other than renaming again.</p>



<a name="1225904"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1225904" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1225904">(Jul 06 2021 at 17:53)</a>:</h4>
<p>Also, <code>.replace()</code> only replaces the first instance of the character while <code>.replaceAll()</code> replaces all the instances.</p>



<a name="1226073"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1226073" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1226073">(Jul 06 2021 at 21:23)</a>:</h4>
<p>Oh, OK, <code>.replace</code> is correct then.</p>



<a name="1226074"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1226074" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1226074">(Jul 06 2021 at 21:24)</a>:</h4>
<p><span class="user-mention" data-user-id="17516">@Gaurav Pandey (ligmitz)</span> you can get into weird situations of any sort with manual topic editing; so we're just thinking about error handling here.</p>



<a name="1226583"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1226583" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1226583">(Jul 07 2021 at 05:03)</a>:</h4>
<p>I think the current situation with all the prefixes being removed while marking as unresolved is the use of <code>_.trimStart</code> in the logic.</p>



<a name="1226788"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1226788" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhijeet Bodas <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1226788">(Jul 07 2021 at 16:21)</a>:</h4>
<p>I think it would be a nice addition to show a confirmation popup when resolving a topic, because:</p>
<ul>
<li>Resolving a topic leads to some irreversible consequences (the notification bot message)</li>
<li>It is not too difficult to resolve a topic accidentally, especially through the recipient bar (for example, accidentally clicking on the <span aria-label="check mark" class="emoji emoji-2714" role="img" title="check mark">:check_mark:</span> when one instead wanted to click on a topic link. Those buttons are pretty close)<br>
<a href="/user_uploads/2/64/nPxruSz5RyXeL44bVg4fxk5E/image.png">image.png</a><div class="message_inline_image"><a href="/user_uploads/2/64/nPxruSz5RyXeL44bVg4fxk5E/image.png" title="image.png"><img src="/user_uploads/2/64/nPxruSz5RyXeL44bVg4fxk5E/image.png"></a></div></li>
</ul>



<a name="1226810"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1226810" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1226810">(Jul 07 2021 at 16:43)</a>:</h4>
<p>We could move the checkmark to the right of the other icons, to avoid misclicks more effectively.</p>



<a name="1226966"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1226966" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1226966">(Jul 07 2021 at 18:54)</a>:</h4>
<p>Well, currently it sits next to the "edit message" icon, which is similar in being an administrative action; whareas the "mute topic" icon is not.</p>



<a name="1226967"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1226967" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1226967">(Jul 07 2021 at 18:55)</a>:</h4>
<p>So I think semantically it's a bit weird to move it.  I think I'd be pretty OK with having a confirm_dialog; that way it'd be 2 clicks to do either via the left sidebar or via that widget, which is consistent with our other message editing features.</p>



<a name="1226986"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1226986" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1226986">(Jul 07 2021 at 19:02)</a>:</h4>
<p>Hmm, I kind of like having resolving a topic feel lightweight (no confirmation), and it's not <em>so</em> bad to immediately unresolve it if you misclick.</p>



<a name="1227049"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227049" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227049">(Jul 07 2021 at 20:15)</a>:</h4>
<p><span class="user-mention" data-user-id="16839">@Abhijeet Bodas</span> did you bring this up because you actually misclicked?</p>



<a name="1227050"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227050" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227050">(Jul 07 2021 at 20:15)</a>:</h4>
<p>(That seems like useful context for whether this is likely to be common)</p>



<a name="1227308"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227308" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhijeet Bodas <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227308">(Jul 08 2021 at 03:26)</a>:</h4>
<p>I didn't actually misclick, but found myself to be super conscious when hovering over the recipient bar before clicking the topic link.</p>



<a name="1227311"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227311" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227311">(Jul 08 2021 at 03:27)</a>:</h4>
<p>We could also have the notification bot just delete the message if it's resolved and then unresolved within some number of seconds/minutes (and with no messages in between).</p>



<a name="1227312"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227312" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227312">(Jul 08 2021 at 03:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1226986">said</a>:</p>
<blockquote>
<p>Hmm, I kind of like having resolving a topic feel lightweight (no confirmation), and it's not <em>so</em> bad to immediately unresolve it if you misclick.</p>
</blockquote>
<p>This feels right to me.</p>
<p>One point of comparison, in a UI I use all the time: if you misclick and close an issue when you only meant to leave a comment, that's irreversible in basically the same way as here. But it's basically fine -- you reopen it, and maybe add a comment saying "oops, misclicked".</p>
<p>(And live with the fact that the issue thread has the big red "closed" line and then the big green "reopened" line, with your name on them.)</p>



<a name="1227313"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227313" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227313">(Jul 08 2021 at 03:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17945">Wesley Aptekar-Cassels</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1227311">said</a>:</p>
<blockquote>
<p>We could also have the notification bot just delete the message if it's resolved and then unresolved within some number of seconds/minutes (and with no messages in between).</p>
</blockquote>
<p>This wouldn't completely reverse things, because some people may have gotten email notifications (or even mobile push notifications, if they love getting lots of notifications / if it's a super low-traffic stream.)</p>



<a name="1227316"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227316" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227316">(Jul 08 2021 at 03:32)</a>:</h4>
<p>Definitely it's good to be conscious of how easy it is to misclick when thinking about the design of the buttons. It'd feel annoying if one found oneself misclicking on it all the time.</p>
<p>But I think having a confirmation dialog each time would be more annoying on net, for anyone who actually uses this feature.</p>



<a name="1227319"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227319" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227319">(Jul 08 2021 at 03:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="16839">Abhijeet Bodas</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1226788">said</a>:</p>
<blockquote>
<ul>
<li>It is not too difficult to resolve a topic accidentally, especially through the recipient bar (for example, accidentally clicking on the <span aria-label="check mark" class="emoji emoji-2714" role="img" title="check mark">:check_mark:</span> when one instead wanted to click on a topic link. Those buttons are pretty close)<br>
<a href="/user_uploads/2/64/nPxruSz5RyXeL44bVg4fxk5E/image.png">image.png</a></li>
</ul>
</blockquote>
<p>One thing I see looking at this screenshot is that the spacing between the link and the next button is awfully close. That could probably use a few more pixels of space -- like at least to make that space equally wide as we currently have between the "resolve" and "mute" icons.</p>



<a name="1227895"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227895" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227895">(Jul 08 2021 at 18:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1227312">said</a>:</p>
<blockquote>
<p>One point of comparison, in a UI I use all the time: if you misclick and close an issue when you only meant to leave a comment, that's irreversible in basically the same way as here. But it's basically fine -- you reopen it, and maybe add a comment saying "oops, misclicked".</p>
<p>(And live with the fact that the issue thread has the big red "closed" line and then the big green "reopened" line, with your name on them.)</p>
</blockquote>
<p>I think this is a little different, in that it's much clearer what closing an issue will do on GitHub, whereas I could see someone clicking on the checkmark on a random topic just because they were curious what it did. "Close issue" in GitHub is a much more common action than I expect resolving a topic to be in Zulip (for most orgs), and I think our button is less clear.</p>



<a name="1227897"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227897" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227897">(Jul 08 2021 at 18:22)</a>:</h4>
<p>Given that, I think it'd be worth having a grace period where the bot deletes the message, instead of adding a new one.</p>



<a name="1227898"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227898" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227898">(Jul 08 2021 at 18:22)</a>:</h4>
<p>I do agree that resolving should feel lightweight, and that a confirmation modal is not the right thing here.</p>



<a name="1227920"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227920" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227920">(Jul 08 2021 at 18:40)</a>:</h4>
<p>Thinking about the design for a grace period feature: </p>
<ul>
<li>If the last message is a notification bot "marked as resolved" message (so there's no conversation that might be made confusing).</li>
<li>And that message's timestamp is within the last minute, say.</li>
</ul>
<p>Then we'd delete the "marked as resolved" notice rather than adding a new one that says the opposite?</p>
<p>(And presumably the opposite for if you accidentally toggled in the other direction).</p>



<a name="1227921"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227921" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227921">(Jul 08 2021 at 18:43)</a>:</h4>
<p>I think that'd be a very reasonable feature, and would avoid our having to make compromises in the UI here.</p>



<a name="1227922"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227922" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227922">(Jul 08 2021 at 18:43)</a>:</h4>
<p>I think 1 minute balances the "chance that a bunch of people read it" vs "how long could it take to try to undo, if there's some network lag or whatever".</p>



<a name="1227923"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227923" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227923">(Jul 08 2021 at 18:44)</a>:</h4>
<p>While still being less than the 2 minute mark at which email notifications (which we can't revoke) get sent.</p>



<a name="1227930"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227930" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227930">(Jul 08 2021 at 18:49)</a>:</h4>
<p>Opened <a href="https://github.com/zulip/zulip/issues/19181">https://github.com/zulip/zulip/issues/19181</a> with this design.  </p>
<p>I proposed that we make the grace period 5 seconds in <code>zproject/dev_settings.py</code>, so that it's convenient to get resolved topics in the development environment.  </p>
<p><span class="user-mention" data-user-id="17516">@Gaurav Pandey (ligmitz)</span> want to take this one?</p>



<a name="1227931"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227931" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227931">(Jul 08 2021 at 18:50)</a>:</h4>
<p>Thinking about the development UX side of things, maybe we should also change <code>populate_db</code> to make 90% of messages in Denmark that it generates have <code>RESOLVED_TOPIC_PREFIX</code> in their name, so that one sees these in a development environment?</p>



<a name="1227951"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1227951" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1227951">(Jul 08 2021 at 18:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1227930">said</a>:</p>
<blockquote>
<p>Opened <a href="https://github.com/zulip/zulip/issues/19181">https://github.com/zulip/zulip/issues/19181</a> with this design.  </p>
<p>I proposed that we make the grace period 5 seconds in <code>zproject/dev_settings.py</code>, so that it's convenient to get resolved topics in the development environment.  </p>
<p><span class="user-mention silent" data-user-id="17516">Gaurav Pandey (ligmitz)</span> want to take this one?</p>
</blockquote>
<p>Okay, sure.</p>



<a name="1228861"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1228861" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaurav Pandey (ligmitz) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1228861">(Jul 09 2021 at 19:50)</a>:</h4>
<p>Created <a href="https://github.com/zulip/zulip/pull/19199">#19199</a>.</p>



<a name="1228906"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1228906" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1228906">(Jul 09 2021 at 20:58)</a>:</h4>
<p>This looks a little odd to me:</p>
<p><a href="/user_uploads/2/80/J5-4JDiSWe46AbU4B4imHDMJ/0000-recent.png">.</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/80/J5-4JDiSWe46AbU4B4imHDMJ/0000-recent.png" title="."><img src="/user_uploads/2/80/J5-4JDiSWe46AbU4B4imHDMJ/0000-recent.png"></a></div><p>The checkmark on the right is very visually distinct, but I'm actually less likely to want to unresolve a topic than to want to resolve it.</p>
<p>IMO, this button should look the same whether or not the topic is resolved.</p>



<a name="1228908"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1228908" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1228908">(Jul 09 2021 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="17945">@Wesley Aptekar-Cassels</span> hmm, yeah, I think I agree with that; I think we copied the logic from the "muted topics" bell next to it, but that is likely the wrong design.</p>



<a name="1228909"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1228909" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1228909">(Jul 09 2021 at 21:02)</a>:</h4>
<p><span class="user-mention" data-user-id="17026">@Akshat (akshatdalton)</span> want to do that change?</p>



<a name="1228925"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1228925" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akshat <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1228925">(Jul 09 2021 at 21:49)</a>:</h4>
<p><span class="user-mention" data-user-id="17945">@Wesley Aptekar-Cassels</span> <a href="#narrow/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29/near/1228906">said</a>:</p>
<blockquote>
<p>This looks a little odd to me:</p>
<p><a href="/user_uploads/2/80/J5-4JDiSWe46AbU4B4imHDMJ/0000-recent.png">.</a> </p>
<p>The checkmark on the right is very visually distinct, but I'm actually less likely to want to unresolve a topic than to want to resolve it.</p>
<p>IMO, this button should look the same whether or not the topic is resolved.</p>
</blockquote>
<p>In your message, I can see two images, and both are the same. One is the smaller, and the other is the larger version of the same image. Did you put 2 images in your message?</p>



<a name="1228926"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1228926" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akshat <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1228926">(Jul 09 2021 at 21:52)</a>:</h4>
<p>Ah, my bad. The other one is just a period.</p>



<a name="1228927"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/closing/solving%20a%20topic%20%28%2311154%29/near/1228927" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akshat <a href="https://rht.github.io/czo-archive/stream/101-design/topic/closing.2Fsolving.20a.20topic.20.28.2311154.29.html#1228927">(Jul 09 2021 at 21:53)</a>:</h4>
<p>On inspecting it, I found two urls, and that's why I was confused.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>