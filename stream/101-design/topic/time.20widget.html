<html>
<head><meta charset="utf-8"><title>time widget · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html">time widget</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="481551"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481551" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481551">(Feb 04 2018 at 18:42)</a>:</h4>
<p>There was some work on a time widget at some point, where you could say <code>meet me at **time:5pm**</code> (I don't remember the syntax, it wasn't that) and it would show up in the users' timezone. I can't find the PR for it; does anyone know the status of it? <br>
If it's fast, will be useful once we have <code>/remind</code>.</p>



<a name="481561"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481561" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481561">(Feb 04 2018 at 18:54)</a>:</h4>
<p>Issue: <a href="https://github.com/zulip/zulip/pull/5176" target="_blank" title="https://github.com/zulip/zulip/pull/5176">#5176</a> <span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span></p>



<a name="481562"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481562" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481562">(Feb 04 2018 at 18:56)</a>:</h4>
<p>awesome, thanks!</p>



<a name="481758"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481758" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481758">(Feb 04 2018 at 23:37)</a>:</h4>
<p>I was working on this issue but I hit some problems with parsing timezones so all input is assumed to be in GMT. That's perhaps the only major thing holding this back from being merged.</p>



<a name="481769"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481769" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481769">(Feb 04 2018 at 23:46)</a>:</h4>
<p><span class="user-mention" data-user-email="adi.bansal241996@gmail.com" data-user-id="1113">@Aditya Bansal</span> I was actually meaning to ask you to take a look at this one if you're free. You worked with timezones recently, right? I'll rebase and clean up some of the commit history in the PR <a href="https://github.com/zulip/zulip/pull/5253" target="_blank" title="https://github.com/zulip/zulip/pull/5253">#5253</a>.</p>



<a name="481843"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481843" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481843">(Feb 05 2018 at 02:02)</a>:</h4>
<p>Nevermind that. I fixed it to some extent. You can test it at: <a href="https://nightly.zulipdev.org/#narrow/stream/testing/topic/timestamp" target="_blank" title="https://nightly.zulipdev.org/#narrow/stream/testing/topic/timestamp">https://nightly.zulipdev.org/#narrow/stream/testing/topic/timestamp</a></p>



<a name="481845"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481845" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481845">(Feb 05 2018 at 02:05)</a>:</h4>
<p><a href="/user_uploads/2/27/8fid10UMlRYB7uwJwvV1Kf96/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/27/8fid10UMlRYB7uwJwvV1Kf96/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/27/8fid10UMlRYB7uwJwvV1Kf96/pasted_image.png"></a></div><p>The syntax is <code>!time(6 Feb 2018, 10:30 am IST)</code> and other similar date formats.</p>



<a name="481916"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481916" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481916">(Feb 05 2018 at 05:24)</a>:</h4>
<p>can we use the parser we use for /remind? I forget what it is, but it allows things like "tomorrow at 9am" (similar to dateutil.parser)</p>



<a name="481958"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481958" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481958">(Feb 05 2018 at 06:38)</a>:</h4>
<p><span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> so I have not yet incorporated the dateparser from scrappinghub because it was heavy to load. It increased our app's startup time. So we can't do things like "tomorrow at 9am"</p>



<a name="481959"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481959" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481959">(Feb 05 2018 at 06:39)</a>:</h4>
<p>Mostly its heavy because it loads all the language files into memory (it supports dates and text in multiple languages) and at the moment has no way to disable loading languages to memory</p>



<a name="481961"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481961" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481961">(Feb 05 2018 at 06:41)</a>:</h4>
<p>are we talking loading on the backend or the frontend?</p>



<a name="481963"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481963" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481963">(Feb 05 2018 at 06:41)</a>:</h4>
<p>also there is always dateutil.parser if the scrappinghub one doesn't work out</p>



<a name="481964"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481964" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481964">(Feb 05 2018 at 06:43)</a>:</h4>
<p>we are talking for the backend</p>



<a name="481965"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481965" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481965">(Feb 05 2018 at 06:43)</a>:</h4>
<p>yeah I am using <code>dateutil.parser</code></p>



<a name="481966"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481966" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481966">(Feb 05 2018 at 06:43)</a>:</h4>
<p>Though it isn't as flexible as dateparser.</p>



<a name="481967"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481967" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481967">(Feb 05 2018 at 06:46)</a>:</h4>
<p>interesting. possibly we could eventually fork the scrappinghub one, but dateutil.parser isn't bad; it'll definitely handle "tomorrow at 9am"</p>



<a name="481970"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481970" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481970">(Feb 05 2018 at 06:47)</a>:</h4>
<p>Nope it doesn't</p>



<a name="481971"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481971" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481971">(Feb 05 2018 at 06:47)</a>:</h4>
<div class="codehilite"><pre><span></span>from dateutil.parser import parse
&gt;&gt;&gt; parse(&#39;tomorrow at 9am&#39;)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;/srv/zulip-py3-venv/lib/python3.4/site-packages/dateutil/parser.py&quot;, line 1182, in parse
    return DEFAULTPARSER.parse(timestr, **kwargs)
  File &quot;/srv/zulip-py3-venv/lib/python3.4/site-packages/dateutil/parser.py&quot;, line 559, in parse
    raise ValueError(&quot;Unknown string format&quot;)
ValueError: Unknown string format
&gt;&gt;&gt;
</pre></div>



<a name="481974"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481974" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481974">(Feb 05 2018 at 06:49)</a>:</h4>
<p>:/. Does it do just "tomorrow"?</p>



<a name="481975"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/481975" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#481975">(Feb 05 2018 at 06:49)</a>:</h4>
<p>nope</p>



<a name="482295"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482295" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482295">(Feb 05 2018 at 11:55)</a>:</h4>
<p>I'm also using dateutil.parser for this code and added timezone support using pytz.</p>



<a name="482890"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482890" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482890">(Feb 05 2018 at 18:15)</a>:</h4>
<p><span class="user-mention" data-user-email="adi.bansal241996@gmail.com" data-user-id="1113">@Aditya Bansal</span> How much did that library increase startup time by? I wonder if we could pull it in lazily, like only when the user starts doing <code>/remind</code>.</p>



<a name="482930"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482930" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482930">(Feb 05 2018 at 18:31)</a>:</h4>
<p><span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span> I think it was around 800 ms to load the library but actually it started to break production tests in Travis. On investigation I found out that a sleep of around 20 sec was required before line 68 in <code>tools/travis/production-helper</code> so as to make that test pass. So I guess we can say a 20 sec increase in starting time.<br>
But this is for production only, worries were that it will not be nice development for a person who needs to re start dev again and again.</p>



<a name="482961"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482961" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482961">(Feb 05 2018 at 18:39)</a>:</h4>
<p>Wow, yeah, 20s would not be acceptable. <span class="emoji emoji-1f61b" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="482966"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482966" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482966">(Feb 05 2018 at 18:39)</a>:</h4>
<p>But that seems like it's got to be a bug somewhere, not a fundamental issue with using the library</p>



<a name="482971"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482971" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482971">(Feb 05 2018 at 18:40)</a>:</h4>
<p>not actually it takes time to load all those calender's and multi language corpus into the memory</p>



<a name="482974"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482974" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482974">(Feb 05 2018 at 18:41)</a>:</h4>
<p>currently it doesn't provide with an option to pre select a language and load relevant stuff.</p>



<a name="482979"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482979" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482979">(Feb 05 2018 at 18:43)</a>:</h4>
<p>I see - so it's 800ms to load the code of the library, but then the library goes off and loads a ton of data and that takes 20s?</p>



<a name="482981"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482981" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482981">(Feb 05 2018 at 18:44)</a>:</h4>
<p>It'd also be fine to turn it off in the production test suite, if that's specifically an issue (though it should be in a test somewhere, maybe a Casper test)</p>



<a name="482984"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482984" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482984">(Feb 05 2018 at 18:44)</a>:</h4>
<p>But also if it takes 20s for real users that is not acceptable <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>



<a name="482988"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482988" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482988">(Feb 05 2018 at 18:47)</a>:</h4>
<p>that part wasn't much clear to me either. Like I use this script to find out the times </p>
<div class="codehilite"><pre><span></span>import time
t = time.time()
import dateparser
print(time.time() - t)
</pre></div>


<p>and the output was 0.7900817394256592'</p>



<a name="482999"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/482999" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#482999">(Feb 05 2018 at 18:50)</a>:</h4>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; import time
&gt;&gt;&gt; t = time.time()
&gt;&gt;&gt; from dateparser import parse
&gt;&gt;&gt; parse(&#39;tomorrow at 10 am&#39;)
datetime.datetime(2018, 2, 6, 10, 0)
&gt;&gt;&gt; print(time.time() - t)
0.8362033367156982
&gt;&gt;&gt;
</pre></div>



<a name="483007"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/483007" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#483007">(Feb 05 2018 at 18:51)</a>:</h4>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; import time
&gt;&gt;&gt; t = time.time()
&gt;&gt;&gt; from dateparser import parse
&gt;&gt;&gt; parse(&#39;tomorrow at 10 am&#39;)
datetime.datetime(2018, 2, 6, 10, 0)
&gt;&gt;&gt; parse(&#39;tomorrow at 2 pm&#39;)
datetime.datetime(2018, 2, 6, 14, 0)
&gt;&gt;&gt; print(time.time() - t)
0.8110189437866211
&gt;&gt;&gt;
</pre></div>



<a name="483010"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/483010" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#483010">(Feb 05 2018 at 18:52)</a>:</h4>
<p>so it doesn't matter if you use parse 2 times or once if once the library is imported, total time is around 800 ms</p>



<a name="483015"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/483015" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#483015">(Feb 05 2018 at 18:52)</a>:</h4>
<p>the 20 sec time I told you about is at server startup and not at every time a message is sent.</p>



<a name="483017"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/483017" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#483017">(Feb 05 2018 at 18:54)</a>:</h4>
<p>I don't think files are re imported every time requests hit an endpoint?</p>



<a name="483630"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/483630" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#483630">(Feb 06 2018 at 00:57)</a>:</h4>
<p>Wow, that's a really slow library.</p>



<a name="483632"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/483632" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#483632">(Feb 06 2018 at 00:57)</a>:</h4>
<p>I guess they probably compile regular expressions at startup needed to handle everything?</p>



<a name="483773"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/483773" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#483773">(Feb 06 2018 at 03:10)</a>:</h4>
<p>I don't really know how it works but yeah regular expressions are definitely a part of the process.</p>



<a name="490915"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/490915" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#490915">(Feb 09 2018 at 20:18)</a>:</h4>
<p><span class="user-mention" data-user-email="adi.bansal241996@gmail.com" data-user-id="1113">@Aditya Bansal</span></p>



<a name="490917"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/490917" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#490917">(Feb 09 2018 at 20:20)</a>:</h4>
<p><span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span> I would like to discuss this feature with you once.</p>
<p>There are two time widget using features that are almost complete:</p>



<a name="490919"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/490919" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#490919">(Feb 09 2018 at 20:20)</a>:</h4>
<p>1. Adtiya's reminders<br>
2. !time() syntax</p>



<a name="490922"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/490922" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#490922">(Feb 09 2018 at 20:21)</a>:</h4>
<p>Aditya included a widget that is active on <a href="https://nightly.zulipdev.org/#narrow/stream/testing" target="_blank" title="https://nightly.zulipdev.org/#narrow/stream/testing">https://nightly.zulipdev.org/#narrow/stream/testing</a> right now, but we intend to have a way to have it show up as a typeahead.</p>



<a name="490926"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/490926" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#490926">(Feb 09 2018 at 20:23)</a>:</h4>
<p>yeah, basically the idea is we want to render the time picker in places where one needs to type in time and date manually</p>



<a name="490929"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/490929" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rohitt Vashishtha <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#490929">(Feb 09 2018 at 20:23)</a>:</h4>
<p>I was digging though our typeahead code and realised that our implementation would have to be mostly different. Typeaheads work by passing a list of matching options to show for the typed string, and we need to bypass all that work and render our component separately.</p>
<p>What approach would you suggest? I was thinking of showing the widget by looking for a matching syntax and open brace (<code>!time(</code>) and close the widget using our recently merged list of closing characters. Basically, reuse that bit of code from typeahead.js but not the actual working of it.</p>



<a name="490943"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/490943" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#490943">(Feb 09 2018 at 20:30)</a>:</h4>
<p>yeah, I imagine we would probably be able to decouple positioning code from typeaheads if it isn't already and use that.</p>



<a name="490965"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/time%20widget/near/490965" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/time.20widget.html#490965">(Feb 09 2018 at 20:36)</a>:</h4>
<p>Hmm, yeah, it sounds like we might need to do something tricky like that...</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>