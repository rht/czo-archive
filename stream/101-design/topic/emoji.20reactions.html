<html>
<head><meta charset="utf-8"><title>emoji reactions · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html">emoji reactions</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="188421"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188421" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188421">(Apr 14 2017 at 22:20)</a>:</h4>
<p>What do folks think about showing the name of the person who reacted, rather than a count of 1, if only one person has reacted to a give message.  E.g. "<img alt=":laughing:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f606.png" title=":laughing:">: Tim Abbott"  instead of "<img alt=":laughing:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f606.png" title=":laughing:">: 1"</p>



<a name="188422"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188422" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188422">(Apr 14 2017 at 22:21)</a>:</h4>
<p>The space is there for it, and I feel like 50% of the time when exactly one person has reacted to something, I mouse over it to see who it was</p>



<a name="188426"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188426" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188426">(Apr 14 2017 at 22:25)</a>:</h4>
<p>That would be useful and should be pretty straightforward fix.</p>



<a name="188427"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188427" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188427">(Apr 14 2017 at 22:25)</a>:</h4>
<p><a href="/user_uploads/2/4b/K96oKcfay_i3a3-rnUcj01Ld/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/4b/K96oKcfay_i3a3-rnUcj01Ld/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/4b/K96oKcfay_i3a3-rnUcj01Ld/pasted_image.png"></a></div>



<a name="188428"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188428" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188428">(Apr 14 2017 at 22:26)</a>:</h4>
<p>I think it looks pretty good</p>



<a name="188433"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188433" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188433">(Apr 14 2017 at 22:28)</a>:</h4>
<p>Cool, someone want to take this up?</p>



<a name="188434"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188434" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188434">(Apr 14 2017 at 22:29)</a>:</h4>
<p>I think <span class="user-mention" data-user-email="robhoenig@gmail.com" data-user-id="801">@Robert Hönig</span> already coded it up? Or was it inspect element</p>



<a name="188437"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188437" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Hönig <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188437">(Apr 14 2017 at 22:30)</a>:</h4>
<p>The latter <img alt=":smirk:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f60f.png" title=":smirk:"></p>



<a name="188438"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188438" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188438">(Apr 14 2017 at 22:30)</a>:</h4>
<p>Ahahaha, I'll take it up then</p>



<a name="188439"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188439" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188439">(Apr 14 2017 at 22:30)</a>:</h4>
<p>PR probably by tonight</p>



<a name="188443"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188443" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188443">(Apr 14 2017 at 22:49)</a>:</h4>
<p>Do we limit this to the case where there's only one reaction overall?  Or do we add names to each different emoji that has only 1 person?</p>



<a name="188444"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188444" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Dehnert <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188444">(Apr 14 2017 at 22:53)</a>:</h4>
<p>I think I might lean towards one total? Partly because I don't think it's desirable to have people using three slightly different reactjis so that all three names show up. (Actually, it might be nice to do the "Alice, Bob, and three other people" type thing, up to some UI space limitation. But that's obviously harder.)</p>



<a name="188446"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188446" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harshit Bansal <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188446">(Apr 14 2017 at 22:57)</a>:</h4>
<p>Although the new system looks good but I feel that it has a very limited use case and complicates the whole thing unnecessarily.</p>



<a name="188447"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188447" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188447">(Apr 14 2017 at 23:00)</a>:</h4>
<p>My thought is that we should only optimize for the very first reaction, and add the name.  I do the hover all the time for the first reaction.  Once multiple people react, I don't really care who reacted individually, since those messages tend to be <img alt=":tada:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f389.png" title=":tada:"> kind of celebrations.</p>



<a name="188448"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188448" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188448">(Apr 14 2017 at 23:01)</a>:</h4>
<p>So, to double check:</p>
<ul>
<li>first reaction</li>
<li>single person reacts</li>
</ul>
<p>We should show name with the reaction emoji instead of the number.</p>



<a name="188449"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188449" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188449">(Apr 14 2017 at 23:03)</a>:</h4>
<p>I think the reason no other app does that is that it adds a lot of noise.</p>



<a name="188450"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188450" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Dehnert <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188450">(Apr 14 2017 at 23:03)</a>:</h4>
<p>Yup, if there is exactly one {reaction, person} pair, show the name, not the number.</p>



<a name="188451"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188451" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188451">(Apr 14 2017 at 23:03)</a>:</h4>
<p>I think <span class="user-mention" data-user-email="showell@zulipchat.com" data-user-id="58">@Steve Howell</span> is totally right. Though you can make it hover-able - on hover insta-expand to the proposed version.</p>



<a name="188452"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188452" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188452">(Apr 14 2017 at 23:04)</a>:</h4>
<p>Or a custom-made tooltip that does not have the inherent delay of the default tooltips.</p>



<a name="188453"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188453" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188453">(Apr 14 2017 at 23:05)</a>:</h4>
<p>Yea, the delay of the default tooltips is kind of large..</p>



<a name="188457"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188457" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188457">(Apr 14 2017 at 23:20)</a>:</h4>
<p>yeah, agreed we should start with just optimizing the just-a-single-reaction-to-a-messge case here.</p>



<a name="188458"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188458" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188458">(Apr 14 2017 at 23:21)</a>:</h4>
<p>Also agreed that it would be worth replacing the default tooltips for for this to make the display faster.  I think we have a jquery tooltip mechanism that can be used for this</p>



<a name="188463"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188463" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188463">(Apr 14 2017 at 23:23)</a>:</h4>
<p>The reactions display piece should be a small enough change that we can easily undo it if the reaction is generally negative</p>



<a name="188553"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188553" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188553">(Apr 15 2017 at 06:31)</a>:</h4>
<p>I'm able to create the change when a user initially reacts to a message (so frontend only). But when I refresh, my changes are discarded and you just have a regular "1" again. I can't find where reaction counts are rendered so if anyone can point me in the right direction, that'll be awesome.</p>



<a name="188559"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188559" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188559">(Apr 15 2017 at 10:08)</a>:</h4>
<p>There's some code in message_list_view that renders <code>single_message</code>, which in turn renders <code>message_reactions</code> as a partial.  Is that what you're asking about?</p>



<a name="188563"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188563" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188563">(Apr 15 2017 at 14:57)</a>:</h4>
<p>Yeah, there's 2 code paths, both of which use the <code>message_reactions</code> template.  One is the message rendering code path which Steve pointed to, and the other is the "updated reactions" code path, using <code>exports.add_reaction</code>.  You'll need to update both</p>



<a name="188564"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188564" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188564">(Apr 15 2017 at 14:58)</a>:</h4>
<p>I think it's very possible that the existing code should be refactored to have a more declarative structure as part of this process, where one just rerenders the entire HTML for the <code>.message_reactions</code> section of a message and replaces it wholesale in <code>add_reaction</code> and <code>remove_reaction</code>, rather than the incremental updates that are present currently, since this feature will involve even more complexity for the "incremental updates" approach</p>



<a name="188566"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188566" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188566">(Apr 15 2017 at 15:10)</a>:</h4>
<p>Yeah, incremental updates seem like unnecessary complexity given the amount of data to be rendered per message.</p>



<a name="188604"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188604" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188604">(Apr 15 2017 at 19:21)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span> <span class="user-mention" data-user-email="showell@zulipchat.com" data-user-id="58">@Steve Howell</span>. Worked! Just need to deal with the case where there are multiple reactions now.</p>



<a name="188641"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188641" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188641">(Apr 16 2017 at 07:02)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/4520" target="_blank" title="https://github.com/zulip/zulip/pull/4520">#4520</a></p>



<a name="188654"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188654" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188654">(Apr 16 2017 at 11:43)</a>:</h4>
<p>I added a comment to <a href="https://github.com/zulip/zulip/pull/4520" target="_blank" title="https://github.com/zulip/zulip/pull/4520">#4520</a>, <span class="user-mention" data-user-email="joshuapan8@gmail.com" data-user-id="857">@Joshua Pan</span>.  My reading of the code suggests that you are still doing incremental updates there, whereas I think you should first make the code work as Tim suggested a few messages ago--have <code>add_reaction</code> and <code>remove_reaction</code> do <strong>wholesale</strong> replacements of the rendered content.  (emphasis added by me)</p>



<a name="188661"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/188661" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#188661">(Apr 16 2017 at 16:01)</a>:</h4>
<p>Ah, yes. I misunderstood. Will fix it.</p>



<a name="197289"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197289" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197289">(May 08 2017 at 16:00)</a>:</h4>
<p>Currently, we rerender emoji reactions in a hardcoded way (seems like alphabetical) when we refresh the page, losing the original ordering of the emoji reactions. It's brought up in <a href="https://github.com/zulip/zulip/pull/4712" target="_blank" title="https://github.com/zulip/zulip/pull/4712">#4712</a> that we may want to keep the original ordering.</p>



<a name="197290"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197290" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197290">(May 08 2017 at 16:01)</a>:</h4>
<p>It seems like we may want to change some emoji reactions code for this then.</p>



<a name="197291"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197291" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197291">(May 08 2017 at 16:08)</a>:</h4>
<p>We don't currently have a date field on Reaction, so we'd have to add a migration for this if we want the canonical order to be time-based.  Another solution here is to immediately alphabetize them when you add a new one (and slide it in as needed).  It doesn't allow for "fun" reaction orders, though, although you could always just reply with a message for stuff like  "2 cool for school."</p>



<a name="197292"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197292" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197292">(May 08 2017 at 16:10)</a>:</h4>
<p>Yea, I was thinking of just alphabetizing it, but it seems like people want to keep the original ordering.</p>



<a name="197333"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197333" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197333">(May 08 2017 at 17:23)</a>:</h4>
<p>slack keeps the ordering, and I do think it is nice. It gives a sense of timing (e.g. who reacted first in a series of reactions).</p>



<a name="197339"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197339" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197339">(May 08 2017 at 17:27)</a>:</h4>
<p>Fair enough.  I think the thing to do here, then, is to add a timestamp field to the DB.  That might be good to have for archiving purposes eventually, too.  I could see cleaning out reactions that are more than N months old.  There may be other ways to do this, too, like more a sequence field approach, but I think timestamps are ultimately simplest.</p>



<a name="197345"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197345" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197345">(May 08 2017 at 17:40)</a>:</h4>
<p>cool, timestamps seem a good solution to me.</p>



<a name="197484"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197484" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197484">(May 09 2017 at 05:20)</a>:</h4>
<p>Is anyone working on this? I probably should open an issue for this.</p>



<a name="197485"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197485" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197485">(May 09 2017 at 05:22)</a>:</h4>
<p>I don't think anyone's working on this, there's some discussion on <a href="https://github.com/zulip/zulip/pull/4712" target="_blank" title="https://github.com/zulip/zulip/pull/4712">#4712</a>.</p>



<a name="197486"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197486" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197486">(May 09 2017 at 05:22)</a>:</h4>
<p>I'm definitely interested in thoughts on that question :)</p>



<a name="197487"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197487" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197487">(May 09 2017 at 05:27)</a>:</h4>
<p>Hmm, both ways of storing reactions seem to fit what the OP wanted, which is preserving the order.</p>



<a name="197488"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197488" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197488">(May 09 2017 at 05:27)</a>:</h4>
<p>I think I might want to play with this on slack and see how they approach this.</p>



<a name="197489"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197489" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197489">(May 09 2017 at 05:35)</a>:</h4>
<p>Ah interesting! <span class="user-mention" data-user-email="tabbott@zulipchat.com" data-user-id="7">@Tim Abbott</span> the way Slack reactions work is just how you explained the first method with the Person A,B,C example.</p>



<a name="197491"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197491" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197491">(May 09 2017 at 05:36)</a>:</h4>
<ul>
<li>Person A reacts with emoji1</li>
<li>Person B reacts with emoji2</li>
<li>Person C reacts with emoji1</li>
<li>Person A unreacts with emoji1</li>
<li>Person A reloads their browser</li>
</ul>
<p>Ordering: (emoji1, emoji2) <strong>before refresh</strong> and (emoji2, emoji1) <strong>after refresh</strong></p>



<a name="197492"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197492" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197492">(May 09 2017 at 05:36)</a>:</h4>
<p>This also makes the most sense, so I think we should go with this path.</p>



<a name="197493"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197493" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197493">(May 09 2017 at 05:37)</a>:</h4>
<p>hm, Tim's last suggestion ((message, emoji) tuples mapping to a list of users, and then garbage-collecting when the list of users becomes empty) is what I would choose if the implementation work were the same. (But am totally sensitive to the fact that the implementation work is not the same.)</p>



<a name="197494"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197494" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197494">(May 09 2017 at 05:38)</a>:</h4>
<p>Yea, (message, emoji) tuples -&gt; list of users is a little bit more work.</p>



<a name="197495"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197495" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197495">(May 09 2017 at 05:39)</a>:</h4>
<p>But, I found it interesting that Slack worked as Tim's first suggestion</p>



<a name="197538"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/197538" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#197538">(May 09 2017 at 14:05)</a>:</h4>
<p>I suggested on <a href="https://github.com/zulip/zulip/pull/4712" target="_blank" title="https://github.com/zulip/zulip/pull/4712">#4712</a> that we keep the current table as-is to track <strong>who</strong> reacted, and then create a new table to track <strong>when</strong> an emoji  appeared.</p>



<a name="390852"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/390852" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shreyansh Dwivedi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#390852">(Dec 15 2017 at 23:16)</a>:</h4>
<p>I would like to work on this. Can I?</p>



<a name="390854"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/390854" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shreyansh Dwivedi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#390854">(Dec 15 2017 at 23:17)</a>:</h4>
<p><span class="user-mention" data-user-email="joshuapan8@gmail.com" data-user-id="857">@Joshua Pan</span>  ^^</p>



<a name="390863"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/390863" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Pan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#390863">(Dec 15 2017 at 23:20)</a>:</h4>
<p><span class="user-mention" data-user-email="shreyanshdwivedi1997@gmail.com" data-user-id="3958">@Shreyansh Dwivedi</span> you don't need to ask me for each issue :) Just check the issue on GitHub and see if the issue has anyone working on it.</p>



<a name="390867"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/390867" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shreyansh Dwivedi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#390867">(Dec 15 2017 at 23:22)</a>:</h4>
<p>Okk. <span class="emoji emoji-1f605" title="sweat smile">:sweat_smile:</span></p>



<a name="390882"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/390882" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#390882">(Dec 15 2017 at 23:29)</a>:</h4>
<p>haha, agreed, though in this case I think this is going to be a hard issue to work on. I removed the <code>good first issue</code> label :).</p>



<a name="390890"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/390890" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shreyansh Dwivedi <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#390890">(Dec 15 2017 at 23:34)</a>:</h4>
<p>I asked just to be sure abt this. Thanks<span class="emoji emoji-1f604" title="smile">:smile:</span></p>



<a name="1137491"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/1137491" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#1137491">(Mar 20 2021 at 05:14)</a>:</h4>
<p>just bumping <a href="https://github.com/zulip/zulip/pull/4712">#4712</a> (Ordering of emoji reactions are not preserved) in case anyone is interested in taking on this issue (it might be a good GSoC project, if someone wants to write a proposal for it?)</p>
<p>it came up in <a href="#narrow/stream/243-mobile-team/topic/emoji.20list/near/1136509">#mobile-team&gt;emoji list</a>, and i think it'd be really good to have.</p>



<a name="1137492"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/emoji%20reactions/near/1137492" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhishek sharma 05 <a href="https://rht.github.io/czo-archive/stream/101-design/topic/emoji.20reactions.html#1137492">(Mar 20 2021 at 05:21)</a>:</h4>
<p><span class="user-mention" data-user-id="17945">@Wesley Aptekar-Cassels</span> thanks for your suggestion I want to take it for my gsoc proposal</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>