<html>
<head><meta charset="utf-8"><title>collapse · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html">collapse</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="712251"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712251" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712251">(Mar 03 2019 at 17:45)</a>:</h4>
<p><span class="user-mention" data-user-id="131">@Rishi Gupta</span> Do you have a sec to discuss <a href="https://github.com/zulip/zulip/pull/11677" target="_blank" title="https://github.com/zulip/zulip/pull/11677">#11677</a> (condense/collapse)?</p>



<a name="712252"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712252" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712252">(Mar 03 2019 at 17:46)</a>:</h4>
<p>I think Tim wants us to condense tall messages immediately, even if we're the sender.</p>



<a name="712253"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712253" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712253">(Mar 03 2019 at 17:47)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/11677#issuecomment-467228611" target="_blank" title="https://github.com/zulip/zulip/pull/11677#issuecomment-467228611">https://github.com/zulip/zulip/pull/11677#issuecomment-467228611</a></p>



<a name="712254"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712254" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712254">(Mar 03 2019 at 17:47)</a>:</h4>
<p>Some of the PR comments aren't completely rigorous about collapse vs. condense.</p>
<ul>
<li>condense = show some % of message</li>
<li>collapse = basically hide everything</li>
</ul>



<a name="712255"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712255" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712255">(Mar 03 2019 at 17:48)</a>:</h4>
<p>I happen to agree with Tim on this (if I'm interpreting his comment correctly), although I see the argument for not condensing your own messages.</p>



<a name="712256"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712256" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712256">(Mar 03 2019 at 17:48)</a>:</h4>
<p>oh, interesting. I definitely like being able to see the long messages I send</p>



<a name="712257"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712257" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712257">(Mar 03 2019 at 17:49)</a>:</h4>
<p>I think it's also nice to give the fiction that everyone will see your essay as fully presented, rather than immediately collapsed</p>



<a name="712259"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712259" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712259">(Mar 03 2019 at 17:50)</a>:</h4>
<p>not collapse...condensed</p>



<a name="712260"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712260" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712260">(Mar 03 2019 at 17:50)</a>:</h4>
<p>I interpreted Tim's comment to be that we should auto-condense messages on the receiving end</p>



<a name="712262"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712262" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712262">(Mar 03 2019 at 17:51)</a>:</h4>
<p>we can check with Tim when he sees this :)</p>



<a name="712263"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712263" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712263">(Mar 03 2019 at 17:52)</a>:</h4>
<p>Ah, possibly.  The first round of reviews was on a pretty buggy version, so it's possible there was miscommunication there.   It probably shouldn't be too hard to change.  I kinda think that it's better to just be transparent here.  If you're sending long messages, you should know that other people are gonna see them condensed.  But I'm not tied to that opinion.</p>



<a name="712264"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712264" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712264">(Mar 03 2019 at 17:52)</a>:</h4>
<p>The other thing you noticed was heights.</p>



<a name="712265"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712265" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712265">(Mar 03 2019 at 17:53)</a>:</h4>
<p>I actually did tweak the height limit, and I was possibly too aggressive.</p>



<a name="712266"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712266" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712266">(Mar 03 2019 at 17:53)</a>:</h4>
<p>On small screens, I think it's pretty important to aggressively condense, as even a medium-sized message can drown out 3 or 4 more concise messages.</p>



<a name="712267"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712267" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712267">(Mar 03 2019 at 17:54)</a>:</h4>
<p>But on tall screens, I can see the more "liberal" approach.</p>



<a name="712269"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712269" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712269">(Mar 03 2019 at 17:54)</a>:</h4>
<p>Here's the relevant commit:</p>
<p><a href="https://github.com/zulip/zulip/pull/11677/commits/053f45b5047d47f6c03c2be80467286d740dc20c" target="_blank" title="https://github.com/zulip/zulip/pull/11677/commits/053f45b5047d47f6c03c2be80467286d740dc20c">https://github.com/zulip/zulip/pull/11677/commits/053f45b5047d47f6c03c2be80467286d740dc20c</a></p>



<a name="712270"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712270" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712270">(Mar 03 2019 at 17:55)</a>:</h4>
<p>The current value is 65%; I changed it to 30%; I think a good compromise would be 50%.</p>



<a name="712271"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712271" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712271">(Mar 03 2019 at 17:56)</a>:</h4>
<p>The other issue was reactions--I posted a screenshot to verify they still show up for condensed messages.</p>



<a name="712272"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712272" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712272">(Mar 03 2019 at 17:56)</a>:</h4>
<p>Oh, there are actually two parameter here...</p>



<a name="712273"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712273" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712273">(Mar 03 2019 at 17:57)</a>:</h4>
<p>There's the cutoff, which is 65%.</p>
<p>And then there's how much we show, which is only like 120px (pretty small).</p>
<p>I didn't touch the former, but it's possibly in need of tweaking.  (On large screens, we can show more.)</p>



<a name="712274"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712274" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712274">(Mar 03 2019 at 17:57)</a>:</h4>
<blockquote>
<p>There's the cutoff, which is 65%.</p>
<p>And then there's how much we show, which is only like 120px (pretty small).</p>
<p>I didn't touch the former, but it's possibly in need of tweaking.  (On large screens, we can show more.)</p>
</blockquote>
<p>And maybe that's what you were saying.</p>



<a name="712275"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712275" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712275">(Mar 03 2019 at 17:59)</a>:</h4>
<p>yeah, I think "how much we show" (the 120px?) is the thing I was thinking of</p>



<a name="712276"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712276" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712276">(Mar 03 2019 at 18:01)</a>:</h4>
<p>see <a class="stream" data-stream-id="7" href="/#narrow/stream/7-test-here">#test here</a> for a long message</p>



<a name="712277"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712277" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712277">(Mar 03 2019 at 18:02)</a>:</h4>
<p>The current height is 8.5em, which is presumably 8 lines.</p>



<a name="712278"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712278" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712278">(Mar 03 2019 at 18:04)</a>:</h4>
<p>I don't want to bump that up too much, because then it just defeats the purpose of the feature.  But 10em is probably reasonable.  I suppose we could make it a percentage of screen height, too.</p>



<a name="712282"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712282" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712282">(Mar 03 2019 at 18:05)</a>:</h4>
<p><span class="user-mention" data-user-id="7">@Tim Abbott</span> Three questions for you:</p>
<ul>
<li>do we auto-condense messages on the sender side? (or show them full)</li>
<li>how tall are condensed messages (8.5em now, do we move to percentage of screen)?</li>
<li>what's the cutoff to condense (65% now, 30% on my PR, maybe meet in the middle)?</li>
</ul>



<a name="712284"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712284" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712284">(Mar 03 2019 at 18:08)</a>:</h4>
<p>CSS is completely lame, so if we wanted to show condensed messages as X% of the screen, we'd probably move to JS, which is probably fine.</p>
<p><a href="https://stackoverflow.com/questions/632983/css-height-of-textarea-as-a-percentage-of-the-viewport-height" target="_blank" title="https://stackoverflow.com/questions/632983/css-height-of-textarea-as-a-percentage-of-the-viewport-height">https://stackoverflow.com/questions/632983/css-height-of-textarea-as-a-percentage-of-the-viewport-height</a></p>



<a name="712285"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/712285" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#712285">(Mar 03 2019 at 18:10)</a>:</h4>
<blockquote>
<p>CSS is completely lame, so if we wanted to show condensed messages as X% of the screen, we'd probably move to JS, which is probably fine.</p>
<p><a href="https://stackoverflow.com/questions/632983/css-height-of-textarea-as-a-percentage-of-the-viewport-height" target="_blank" title="https://stackoverflow.com/questions/632983/css-height-of-textarea-as-a-percentage-of-the-viewport-height">https://stackoverflow.com/questions/632983/css-height-of-textarea-as-a-percentage-of-the-viewport-height</a></p>
</blockquote>
<p>Although a media query would make it easy to set a couple different values depending on screen height.</p>



<a name="713138"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/713138" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#713138">(Mar 05 2019 at 00:14)</a>:</h4>
<blockquote>
<p>do we auto-condense messages on the sender side? (or show them full)</p>
</blockquote>
<p>I did not intend to suggest we should change behavior here.</p>
<blockquote>
<p>how tall are condensed messages (8.5em now, do we move to percentage of screen)?</p>
</blockquote>
<p>The screen height should perhaps be involved here.  But 8.5em is a fine default, and doing something dynamic on height might get tricky (since we need to think about mobile/widescreen/tall/etc. cases).  We do need to be careful if we make this dymanic to not introduce bugs that only impact windows that have been resized.  </p>
<blockquote>
<p>what's the cutoff to condense (65% now, 30% on my PR, maybe meet in the middle)?</p>
</blockquote>
<p>we're talking about what fraction of the screen causes condensing?  I think 30% is definitely too low; because condensing something is a worse UX than just showing the same thing if the heights will be the same, we definitely want the cutoff to be significantly larger than the height of condensed messages (otherwise, what's the point?).</p>
<p>Is there a significant problem with our current parameters?  I'm not sure it's worth the effort to iterate towards a better value without a screenshot showing the current algorithm produces bad results.</p>



<a name="713545"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/713545" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#713545">(Mar 05 2019 at 14:40)</a>:</h4>
<p>For 65% being too high, you'll notice on a short screen that even moderate sized messages can consume the feed:</p>
<p><a href="/user_uploads/2/92/iklLh0_0E95Wz0kH3ymrvq4H/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/92/iklLh0_0E95Wz0kH3ymrvq4H/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/92/iklLh0_0E95Wz0kH3ymrvq4H/pasted_image.png"></a></div>



<a name="713642"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/713642" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#713642">(Mar 05 2019 at 17:08)</a>:</h4>
<p>hm. fwiw, I do think 65% has been working well for non-short screens.</p>



<a name="713724"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/713724" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#713724">(Mar 05 2019 at 18:29)</a>:</h4>
<p>Ok, I can pull that commit.</p>



<a name="713727"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/collapse/near/713727" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/collapse.html#713727">(Mar 05 2019 at 18:29)</a>:</h4>
<p>I think the bigger use case is short screens, where condensing a message that takes 50% of the screen can be quite helpful.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>