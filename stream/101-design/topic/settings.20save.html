<html>
<head><meta charset="utf-8"><title>settings save · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html">settings save</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="405781"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405781" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405781">(Dec 23 2017 at 18:18)</a>:</h4>
<p>Just a first overview of changing the alerts and errors in Display settings.<br>
<a href="/user_uploads/2/1d/l1btgwvBcWGWi3Eoz8XFwav9/settings_1.gif" target="_blank" title="settings_1.gif">settings_1.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/1d/l1btgwvBcWGWi3Eoz8XFwav9/settings_1.gif" target="_blank" title="settings_1.gif"><img src="/user_uploads/2/1d/l1btgwvBcWGWi3Eoz8XFwav9/settings_1.gif"></a></div>



<a name="405784"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405784" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405784">(Dec 23 2017 at 18:19)</a>:</h4>
<p>Yet to change it to the right of the title.</p>



<a name="405790"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405790" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405790">(Dec 23 2017 at 18:22)</a>:</h4>
<p>cool! Though just to make sure we're on the same page, in the final version almost none of the settings will have any text in the success case</p>



<a name="405803"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405803" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405803">(Dec 23 2017 at 18:28)</a>:</h4>
<p>Also one thing, You can see the reload has a link like an appearance. It's just an anchor tag without any href. If I tried to give any link on href it throw some error. Have to Debug that.</p>



<a name="405809"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405809" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405809">(Dec 23 2017 at 18:30)</a>:</h4>
<p>(deleted)</p>



<a name="405816"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405816" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405816">(Dec 23 2017 at 18:35)</a>:</h4>
<p><a href="/user_uploads/2/6f/S4sfyw6Xr4JXLFaTErHSXT6a/Peek-2017-12-23-10-34.gif" target="_blank" title="Peek-2017-12-23-10-34.gif">Peek-2017-12-23-10-34.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/6f/S4sfyw6Xr4JXLFaTErHSXT6a/Peek-2017-12-23-10-34.gif" target="_blank" title="Peek-2017-12-23-10-34.gif"><img src="/user_uploads/2/6f/S4sfyw6Xr4JXLFaTErHSXT6a/Peek-2017-12-23-10-34.gif"></a></div>



<a name="405817"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405817" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405817">(Dec 23 2017 at 18:36)</a>:</h4>
<p>for a V1 having a very simple animation is fine</p>



<a name="405832"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405832" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405832">(Dec 23 2017 at 18:40)</a>:</h4>
<p>Fine! So No need to show the "Night mode is enabled/disabled" text?</p>



<a name="405838"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/405838" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#405838">(Dec 23 2017 at 18:41)</a>:</h4>
<p>exactly</p>



<a name="409114"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409114" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409114">(Dec 25 2017 at 17:26)</a>:</h4>
<p>I made a simple animation for "saving" first then I figured out that we already have a <code>make_indicator</code> function which does this. So I used that one. Now my doubt is that, to make the animation from "Saving" into "Saved " How can I figure out that we have successfully saved the settings?  I looked into the <code>settings_display.js</code>, <code>loading.js</code>,  and <code>server_events_dispatch.js</code>. But I am not sure what condition to use here. Is this is a correct approach?</p>



<a name="409178"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409178" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409178">(Dec 25 2017 at 18:14)</a>:</h4>
<p>Taking a random setting from settings_org.js.<br>
I think each setting should have something like</p>
<div class="codehilite"><pre><span></span>        channel.post({
            url: &quot;/json/realm/domains&quot;,
            data: data,
            success: function () {
                $(&quot;#add-realm-domain-widget .new-realm-domain&quot;).val(&quot;&quot;);
                $(&quot;#add-realm-domain-widget .new-realm-domain-allow-subdomains&quot;).prop(&quot;checked&quot;, false);
                $(&quot;#id_realm_restricted_to_domain&quot;).prop(&quot;disabled&quot;, false);
                realm_domains_info.removeClass(&quot;text-error&quot;);
                realm_domains_info.addClass(&quot;text-success&quot;);
                realm_domains_info.text(i18n.t(&quot;Added successfully!&quot;));
            },
            error: function (xhr) {
                realm_domains_info.removeClass(&quot;text-success&quot;);
                realm_domains_info.addClass(&quot;text-error&quot;);
                realm_domains_info.text(JSON.parse(xhr.responseText).msg);
            },
        });
</pre></div>


<p>On success or error is where you'd replace the "Saving" with "Saved" or "Saving" with "Failed".</p>
<p>This is also the part of the code that causes things like "Added successfully" to appear in green at the top of the tab.<br>
Let me know if that doesn't make sens.</p>



<a name="409191"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409191" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409191">(Dec 25 2017 at 18:18)</a>:</h4>
<p>Thanks! Yes, I understood that part, that's where I currently made a saving thing. But I just asked how can confirm the setting is applied on the realm so that we can change the "Saving" to "Saved"?</p>



<a name="409203"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409203" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409203">(Dec 25 2017 at 18:20)</a>:</h4>
<p>the <code>success:</code> path means it was applied, and the <code>error:</code> path means it failed</p>



<a name="409204"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409204" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409204">(Dec 25 2017 at 18:20)</a>:</h4>
<p>Now For Hight contrast mode, I changed the code here <a href="https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L91" target="_blank" title="https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L91">https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L91</a>.</p>



<a name="409206"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409206" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409206">(Dec 25 2017 at 18:24)</a>:</h4>
<p>I think the I found the mistake I did, I changed the code inside the success for saving, So that's why it keeps on running the loader.</p>



<a name="409210"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409210" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409210">(Dec 25 2017 at 18:26)</a>:</h4>
<p><span class="user-mention" data-user-email="balaji2198@gmail.com" data-user-id="3910">@Balaji</span> There is one more state <code>beforeSubmit</code> in which you can add <code>Saving..</code> and then on <code>success</code> state you can remove <code>Saving..</code> and add <code>Saved!</code>.  <code>beforeSubmit</code> runs before the AJAX request.</p>



<a name="409220"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409220" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409220">(Dec 25 2017 at 18:33)</a>:</h4>
<p>Thanks! Did you meant this function <a href="https://github.com/zulip/zulip/blob/master/static/js/settings_account.js#L114" target="_blank" title="https://github.com/zulip/zulip/blob/master/static/js/settings_account.js#L114">https://github.com/zulip/zulip/blob/master/static/js/settings_account.js#L114</a>?</p>



<a name="409272"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409272" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409272">(Dec 25 2017 at 18:45)</a>:</h4>
<p>Yup!</p>



<a name="409305"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409305" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409305">(Dec 25 2017 at 18:48)</a>:</h4>
<p>But isn't that for a password? Correct me if I am wrong.</p>



<a name="409331"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409331" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409331">(Dec 25 2017 at 18:53)</a>:</h4>
<p>Yeah, that is for password. But you can add your <code>beforeSubmit</code> function in your AJAX request. <br>
Like you mentioned before <a href="https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L91" target="_blank" title="https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L91">https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L91</a> in this patch you can add <code>beforeSubmit</code> state for that particular patch.</p>



<a name="409347"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409347" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409347">(Dec 25 2017 at 18:57)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> for the information. Now I understood <span class="emoji emoji-1f604" title="smile">:smile:</span>. Will try that.</p>



<a name="409349"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/409349" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Dhama <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#409349">(Dec 25 2017 at 18:57)</a>:</h4>
<p>I think <span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> 's method would work, another way could be simply to update the text  with <code>Saving</code> as soon as <code>$("#high_contrast_mode").change</code>is invoked and update it again with <code>Saved</code> or <code>Failed</code> depending upon path taken (<code>success:</code> or <code>error</code>)</p>



<a name="410885"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410885" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410885">(Dec 26 2017 at 19:54)</a>:</h4>
<p><span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> I came up with this initial design, Let me know how can I improve on this. <a href="/user_uploads/2/55/MWiBfB7vJEHiom60qhmBJmNI/Disp_setting_3.gif" target="_blank" title="Disp_setting_3.gif">Disp_setting_3.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/55/MWiBfB7vJEHiom60qhmBJmNI/Disp_setting_3.gif" target="_blank" title="Disp_setting_3.gif"><img src="/user_uploads/2/55/MWiBfB7vJEHiom60qhmBJmNI/Disp_setting_3.gif"></a></div>



<a name="410886"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410886" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410886">(Dec 26 2017 at 19:54)</a>:</h4>
<p>You can see that the screen is somewhat bouncy, When I investigated on that I came to know that this Line is responsible for the Bouncy behavior <a href="https://github.com/zulip/zulip/blob/master/static/js/loading.js#L49.I" target="_blank" title="https://github.com/zulip/zulip/blob/master/static/js/loading.js#L49.I">https://github.com/zulip/zulip/blob/master/static/js/loading.js#L49.I</a> tried to make it 0 and try again and this the result . But I think it's not a right way to do it since we are using the <code>make_indicator</code> at different places in the code. Let me know your thoughts on this.<a href="/user_uploads/2/f7/KEplM6LVkWqkijI3ECh1xtuy/disp_setting_5.gif" target="_blank" title="disp_setting_5.gif">disp_setting_5.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/f7/KEplM6LVkWqkijI3ECh1xtuy/disp_setting_5.gif" target="_blank" title="disp_setting_5.gif"><img src="/user_uploads/2/f7/KEplM6LVkWqkijI3ECh1xtuy/disp_setting_5.gif"></a></div>



<a name="410887"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410887" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410887">(Dec 26 2017 at 19:55)</a>:</h4>
<p>I think mostly copying slack should be fine here. So no green background (just green text), no loading animation for Saved, Saved should last a while</p>



<a name="410889"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410889" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410889">(Dec 26 2017 at 19:58)</a>:</h4>
<p>I'm not sure how to make the CSS work in terms of the bounciness, but maybe others will have ideas (<a class="stream" data-stream-id="6" href="/#narrow/stream/frontend">#frontend</a> is also a good place to ask such a question)</p>



<a name="410891"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410891" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410891">(Dec 26 2017 at 20:03)</a>:</h4>
<p>No Background with green text <a href="/user_uploads/2/53/3uAfvYs6f_fbwZZgdD93C1vZ/disp_setting_6.gif" target="_blank" title="disp_setting_6.gif">disp_setting_6.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/53/3uAfvYs6f_fbwZZgdD93C1vZ/disp_setting_6.gif" target="_blank" title="disp_setting_6.gif"><img src="/user_uploads/2/53/3uAfvYs6f_fbwZZgdD93C1vZ/disp_setting_6.gif"></a></div>



<a name="410893"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410893" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410893">(Dec 26 2017 at 20:07)</a>:</h4>
<p>One quick question is For the changes that take reload, We have to appear the "Reload window for setting to take effect", For that Shall we display next to the saved text or Shall we display the "Saved" for some time and then display the Reload thing?</p>



<a name="410894"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410894" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akash Nimare <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410894">(Dec 26 2017 at 20:07)</a>:</h4>
<p>You need to align the <code>saving..</code> div properly.</p>



<a name="410900"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410900" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410900">(Dec 26 2017 at 20:10)</a>:</h4>
<p>The text should be <code>Saved. Please reload for the change to take effect.</code>, <br>
where reload is a link (or maybe the whole Please .. effect is a link, depending on what looks better).</p>
<p>While I'm thinking about text: The failure messages should be "Save failed: &lt;error message&gt;". (And as followup we'll go through and remove 90% of the error messages, after which the message will just be "Save failed").</p>
<p>In both the reload case and the failed case, the message should stay there, rather than going away.</p>



<a name="410902"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/410902" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#410902">(Dec 26 2017 at 20:13)</a>:</h4>
<p>Thanks for the clear information! Will work on it.</p>



<a name="411873"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/411873" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#411873">(Dec 27 2017 at 12:28)</a>:</h4>
<p>Is anyone has any idea about how to test the error part in Ajax request? I tried few things to make it failure But unfortunately haven't get that.</p>



<a name="411874"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/411874" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#411874">(Dec 27 2017 at 12:29)</a>:</h4>
<p>Or In which cases the setting will not be updated and throw an error message?</p>



<a name="411877"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/411877" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#411877">(Dec 27 2017 at 12:30)</a>:</h4>
<p>Are you writing tests?</p>



<a name="411878"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/411878" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#411878">(Dec 27 2017 at 12:31)</a>:</h4>
<p>No. I am talking about the success and error thing in Ajax.</p>



<a name="411883"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/411883" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#411883">(Dec 27 2017 at 12:32)</a>:</h4>
<p>You should first find that which function is handling that AJAX request, probably in <code>zerver/views</code> and then check that in which conditions it is raising json error.</p>



<a name="411884"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/411884" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#411884">(Dec 27 2017 at 12:32)</a>:</h4>
<p>This line <a href="https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L95" target="_blank" title="https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L95">https://github.com/zulip/zulip/blob/master/static/js/settings_display.js#L95</a></p>



<a name="411890"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/411890" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#411890">(Dec 27 2017 at 12:34)</a>:</h4>
<p>check out <code>update_display_settings_backend</code> function in  <code>zerver/views/user_settings.py</code></p>



<a name="413115"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413115" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413115">(Dec 28 2017 at 09:33)</a>:</h4>
<p><span class="user-mention" data-user-email="balaji2198@gmail.com" data-user-id="3910">@Balaji</span> Is this(save animation) also apply to organization settings?</p>



<a name="413118"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413118" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413118">(Dec 28 2017 at 09:34)</a>:</h4>
<p>Actually yes, I am doing this as a first phase, Plan is to apply to all the settings.</p>



<a name="413119"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413119" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413119">(Dec 28 2017 at 09:35)</a>:</h4>
<p>Cause in organization settings all fields doesn't update when you changes it's value. We have <code>save change</code> button to save all changes done on properties listed above <code>save change</code></p>



<a name="413121"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413121" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413121">(Dec 28 2017 at 09:37)</a>:</h4>
<p>I am agree to remove strings like<code>Update settings ---</code> in settings which update directly when we change it's value. Do we also removing this notification in settings which update when we click on <code>Save</code> ? <span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> <br>
<a href="/user_uploads/2/c9/ZEfzYxZDl4Ntsl1ZudayXdF_/saveSettings.png" target="_blank" title="saveSettings.png">settings</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/c9/ZEfzYxZDl4Ntsl1ZudayXdF_/saveSettings.png" target="_blank" title="settings"><img src="/user_uploads/2/c9/ZEfzYxZDl4Ntsl1ZudayXdF_/saveSettings.png"></a></div>



<a name="413122"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413122" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413122">(Dec 28 2017 at 09:38)</a>:</h4>
<p>Yes, Just looked at that, In org setting for both <code>Message editing </code> and <code>message feed</code>  we have only one <code>Save changes</code> button.</p>



<a name="413123"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413123" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413123">(Dec 28 2017 at 09:39)</a>:</h4>
<p>We have to make a better design for that, As Rishi suggests.</p>



<a name="413128"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413128" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413128">(Dec 28 2017 at 09:41)</a>:</h4>
<p>Yeah, I agree. But then you can do something like showing <code>Saved</code> to setting which values has changed from all listed settings. In that case user will have exact idea how many settings values are changed and saved.</p>



<a name="413130"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413130" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413130">(Dec 28 2017 at 09:41)</a>:</h4>
<p>I think we can make that notification appears near the <code>Message editing</code> header. What say?</p>



<a name="413134"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413134" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413134">(Dec 28 2017 at 09:43)</a>:</h4>
<p>or another option is to make a <code>Save changes</code> button for Message editing alone. But that leads to increasing in size of the setting page.</p>



<a name="413136"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413136" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413136">(Dec 28 2017 at 09:46)</a>:</h4>
<blockquote>
<p>In that case user will have exact idea how many settings values are changed and saved.</p>
</blockquote>
<p>This seems like a good approach.</p>



<a name="413147"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413147" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413147">(Dec 28 2017 at 09:58)</a>:</h4>
<p>Or, you can show <code>saved</code> with <code>Message edit</code>heading, if any of message edit setting is changed. And similar in <code>Message feed</code></p>



<a name="413153"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413153" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413153">(Dec 28 2017 at 10:11)</a>:</h4>
<p>For org settings we'll first have to convert them to "save on click", and then convert them to use the new styling.</p>



<a name="413154"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413154" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413154">(Dec 28 2017 at 10:11)</a>:</h4>
<p>but we should finish the other work (turning them into dropdowns, etc) first to reduce merge conflicts</p>



<a name="413155"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413155" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413155">(Dec 28 2017 at 10:14)</a>:</h4>
<p>Just to confirm, Is "save on click" here means instant update just like We are doing it in Display settings?</p>



<a name="413173"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413173" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413173">(Dec 28 2017 at 10:20)</a>:</h4>
<p>yup</p>



<a name="413188"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/413188" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#413188">(Dec 28 2017 at 10:21)</a>:</h4>
<p>the original logic was that org settings are more "serious", and so we should have a save button. But all the ones we currently have are easily reversible, and the "Save Changes" buttons take up a lot of vertical space.</p>



<a name="414189"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/414189" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#414189">(Dec 28 2017 at 19:36)</a>:</h4>
<p>Opened PR <a href="https://github.com/zulip/zulip/pull/7924" target="_blank" title="https://github.com/zulip/zulip/pull/7924">#7924</a>.</p>



<a name="433434"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/433434" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#433434">(Jan 08 2018 at 16:30)</a>:</h4>
<p>Can anyone look into this <a href="https://github.com/zulip/zulip/pull/7924" target="_blank" title="https://github.com/zulip/zulip/pull/7924">#7924</a> PR? And suggests any other changes. If it looks good I can work on other settings tab.</p>



<a name="451957"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/451957" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#451957">(Jan 17 2018 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-email="akash@zulipchat.com" data-user-id="53">@Akash Nimare</span>  Is this looks good now?<a href="/user_uploads/2/cf/36Q_S5e6coiecqNDR5e2nBdg/Settings_save_1.gif" target="_blank" title="Settings_save_1.gif">Settings_save_1.gif</a> <a href="/user_uploads/2/92/zDo-48Mgz_5CmaZKuAZsJbaY/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/cf/36Q_S5e6coiecqNDR5e2nBdg/Settings_save_1.gif" target="_blank" title="Settings_save_1.gif"><img src="/user_uploads/2/cf/36Q_S5e6coiecqNDR5e2nBdg/Settings_save_1.gif"></a></div><div class="message_inline_image"><a href="/user_uploads/2/92/zDo-48Mgz_5CmaZKuAZsJbaY/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/92/zDo-48Mgz_5CmaZKuAZsJbaY/pasted_image.png"></a></div>



<a name="451961"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/451961" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akash Nimare <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#451961">(Jan 17 2018 at 13:11)</a>:</h4>
<p>Much better.</p>



<a name="451963"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/451963" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#451963">(Jan 17 2018 at 13:12)</a>:</h4>
<p><a href="/user_uploads/2/97/MxgQl4M4YizeibN_UbVep8UG/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/97/MxgQl4M4YizeibN_UbVep8UG/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/97/MxgQl4M4YizeibN_UbVep8UG/pasted_image.png"></a></div>



<a name="451965"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/451965" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#451965">(Jan 17 2018 at 13:13)</a>:</h4>
<p>I think it is better to have some <span class="emoji emoji-2714" title="heavy check mark">:heavy_check_mark:</span>-like symbol before the text "Saved!" so the text does not move around (and stays at the same place) when changing from "Saving.." to "Saved!".</p>



<a name="451966"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/451966" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shayan Toqraee <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#451966">(Jan 17 2018 at 13:14)</a>:</h4>
<p>Also, why there are two dots in "Saving.." instead of three "Saving..."? Any specific reason?</p>



<a name="451971"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/451971" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#451971">(Jan 17 2018 at 13:16)</a>:</h4>
<p>That was my fault! Will update that to three dots.</p>



<a name="452906"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/452906" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brock Whittaker <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#452906">(Jan 17 2018 at 22:16)</a>:</h4>
<p>The green you used is not the same green we use elsewhere. Look at the button green for reference.</p>



<a name="452907"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/452907" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brock Whittaker <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#452907">(Jan 17 2018 at 22:16)</a>:</h4>
<p>also the text should be closer to the headings. Why is there any gap?</p>



<a name="453141"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/453141" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#453141">(Jan 18 2018 at 04:53)</a>:</h4>
<p><span class="user-mention" data-user-email="brock@zulipchat.com" data-user-id="136">@Brock Whittaker</span>  Updated the color and now the text is closer to the heading.<br>
 Is there anything else I have to address?<br>
<a href="/user_uploads/2/53/tQpHE0j6Y-ly6EqFTKV8vPwL/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/53/tQpHE0j6Y-ly6EqFTKV8vPwL/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/53/tQpHE0j6Y-ly6EqFTKV8vPwL/pasted_image.png"></a></div>



<a name="453169"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/453169" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ShalokShalom <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#453169">(Jan 18 2018 at 07:08)</a>:</h4>
<p>Oh, can I get the new WhatsApp Emojis? ^_^</p>



<a name="453641"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/453641" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sampriti Panda <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#453641">(Jan 18 2018 at 13:06)</a>:</h4>
<p>I don't think it would be too difficult to add it on your installation.</p>



<a name="455222"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/455222" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brock Whittaker <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#455222">(Jan 19 2018 at 06:26)</a>:</h4>
<p>I see adding more emoji sets as a non-important addition that should not be prioritized.</p>



<a name="456905"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/456905" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#456905">(Jan 19 2018 at 22:56)</a>:</h4>
<p><span class="user-mention" data-user-email="shalokshalom@protonmail.ch" data-user-id="4954">@ShalokShalom</span> we use the Iamcal emoji data set (<a href="https://github.com/iamcal/emoji-data" target="_blank" title="https://github.com/iamcal/emoji-data">https://github.com/iamcal/emoji-data</a>), so if you want the WhatsApp emojis, you'll need to get them included there first.</p>



<a name="480361"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/480361" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#480361">(Feb 03 2018 at 07:13)</a>:</h4>
<p><span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span>   Continuing discussion from <a href="https://github.com/zulip/zulip/pull/7924" target="_blank" title="https://github.com/zulip/zulip/pull/7924">#7924</a>. I implemented the checkmark before Saved! Here how it looks like. <a href="/user_uploads/2/d0/d7IOHSSl9AmpZY-dzwmcN9Bm/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
I need your suggestion on "thick spinner" thing. Are we going to make this as a CSS loader or an SVG file?</p>
<div class="message_inline_image"><a href="/user_uploads/2/d0/d7IOHSSl9AmpZY-dzwmcN9Bm/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/d0/d7IOHSSl9AmpZY-dzwmcN9Bm/pasted_image.png"></a></div>



<a name="480362"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/480362" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#480362">(Feb 03 2018 at 07:14)</a>:</h4>
<p>We have a <a href="https://github.com/zulip/zulip/blob/master/static/js/loading.js#L5" target="_blank" title="https://github.com/zulip/zulip/blob/master/static/js/loading.js#L5">make_indicator</a> loader via CSS, I used this as of now.</p>



<a name="480370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/480370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#480370">(Feb 03 2018 at 07:20)</a>:</h4>
<p>cool! <span class="user-mention" data-user-email="brock@zulipchat.com" data-user-id="136">@Brock Whittaker</span>, thoughts on the spinner?</p>



<a name="480373"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/480373" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brock Whittaker <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#480373">(Feb 03 2018 at 07:28)</a>:</h4>
<p>We already have an SVG spinner so we should probably use that for consistency.</p>



<a name="480374"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/480374" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brock Whittaker <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#480374">(Feb 03 2018 at 07:28)</a>:</h4>
<p>Other notes: the text isn’t aligned, and I’m not totally sure that styling is right to me. It also should not have an exclamation mark.</p>



<a name="480377"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/480377" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#480377">(Feb 03 2018 at 07:36)</a>:</h4>
<p>Updated the alignment. <a href="/user_uploads/2/af/V9K9p8hIwlqDHDt0dXYpF0bo/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>   Will look at the spinner.</p>
<div class="message_inline_image"><a href="/user_uploads/2/af/V9K9p8hIwlqDHDt0dXYpF0bo/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/af/V9K9p8hIwlqDHDt0dXYpF0bo/pasted_image.png"></a></div>



<a name="480610"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/480610" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#480610">(Feb 03 2018 at 16:27)</a>:</h4>
<p><span class="user-mention" data-user-email="brock@zulipchat.com" data-user-id="136">@Brock Whittaker</span> I think we'll eventually need two spinners; one when the spinner is large or surrounding the Z-in-a-circle, and one for these small loading elements. We started with the original spinner in this PR, and I'm not sure it looked good.<br>
But we can also go forward with the original spinner for now</p>



<a name="498015"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/498015" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#498015">(Feb 14 2018 at 00:32)</a>:</h4>
<p>I tried to figure out what causes the test failure in <a href="https://github.com/zulip/zulip/pull/7924" target="_blank" title="https://github.com/zulip/zulip/pull/7924">#7924</a>.  The Casper test fails with <a href="/user_uploads/2/a0/sBlCZ7XXT1LwxmHT7llgDJEV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <code>#language-settings-status" never appeared in 5000ms</code>.</p>
<div class="message_inline_image"><a href="/user_uploads/2/a0/sBlCZ7XXT1LwxmHT7llgDJEV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/a0/sBlCZ7XXT1LwxmHT7llgDJEV/pasted_image.png"></a></div><p>But When looking at the Casper-failure image, the <code>#language-settings-status</code> seems to appear there <a href="/user_uploads/2/fd/KxJKLMRFJQv9Y7rF_a63gyl6/casper-failure1.png" target="_blank" title="casper-failure1.png">casper-failure1.png</a> as expected. Can't figure out why the test fails. Can anyone help me debug this?</p>
<div class="message_inline_image"><a href="/user_uploads/2/fd/KxJKLMRFJQv9Y7rF_a63gyl6/casper-failure1.png" target="_blank" title="casper-failure1.png"><img src="/user_uploads/2/fd/KxJKLMRFJQv9Y7rF_a63gyl6/casper-failure1.png"></a></div>



<a name="498462"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/498462" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Dhama <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#498462">(Feb 14 2018 at 06:15)</a>:</h4>
<p><span class="user-mention" data-user-email="balaji2198@gmail.com" data-user-id="3910">@Balaji</span> You are facing something which really annoyed me months ago ( here is <a href="#narrow/stream/development.20help/subject/Casper.20Test.20Failing.20.237214/near/415679" title="#narrow/stream/development.20help/subject/Casper.20Test.20Failing.20.237214/near/415679">link</a> to the conversation) but here are some points you should consider:</p>
<ul>
<li>Make sure you are connected to internet(I was always connected to internet so this never helped me)</li>
<li>Sometimes this passes on CIs.(It happens two or three times but this was not the real solution)</li>
<li>Go through Casper test code for <code>admin.js</code>/<code>settings.js</code>(I guess) and it's possible that you may have opened a modal which you never closed and recheck <code>selectors</code> to see if any selector is selecting the wrong element(most possibly buttons).(This really solved my problem:)</li>
</ul>



<a name="498509"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/498509" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Dhama <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#498509">(Feb 14 2018 at 07:22)</a>:</h4>
<p><span class="user-mention" data-user-email="balaji2198@gmail.com" data-user-id="3910">@Balaji</span> I tested your branch locally and the problem is hidden in how casper tests works, here is simple explaination: if you will go to developer tools and try to select you language status you will found that its not in front of page and hence caseper can't find it, but here is the solution your link <code>reload</code> for reloading is visible(you can select it dev tools) so you can change you can change <code>'#language-settings-status</code> to <code>'#language-settings-status a'</code> as commented in PR or can change its CSS.</p>



<a name="498510"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/498510" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Dhama <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#498510">(Feb 14 2018 at 07:23)</a>:</h4>
<p><a href="/user_uploads/2/92/OQs6Lw6wDJgCzlE52fRYZSi9/casper.png" target="_blank" title="casper.png">casper.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/92/OQs6Lw6wDJgCzlE52fRYZSi9/casper.png" target="_blank" title="casper.png"><img src="/user_uploads/2/92/OQs6Lw6wDJgCzlE52fRYZSi9/casper.png"></a></div>



<a name="500657"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/500657" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Balaji <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#500657">(Feb 14 2018 at 23:31)</a>:</h4>
<p><span class="user-mention" data-user-email="shubhamdhamaofficial@gmail.com" data-user-id="2528">@Shubham Dhama</span> Thanks for the help! Changing it to <code>language-settings-status a</code> worked! Also thanks for the explanation. Now I understood what happened there! All the tests are passing now in <a href="https://github.com/zulip/zulip/pull/7924" target="_blank" title="https://github.com/zulip/zulip/pull/7924">#7924</a>. <span class="emoji emoji-1f389" title="tada">:tada:</span></p>



<a name="501198"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/settings%20save/near/501198" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Dhama <a href="https://rht.github.io/czo-archive/stream/101-design/topic/settings.20save.html#501198">(Feb 15 2018 at 11:41)</a>:</h4>
<p>Great <span class="emoji emoji-1f389" title="tada">:tada:</span> make sure to add a comment why you added <code>a</code>( for the future maintainer).</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>