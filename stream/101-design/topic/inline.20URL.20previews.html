<html>
<head><meta charset="utf-8"><title>inline URL previews · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html">inline URL previews</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="192769"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192769" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192769">(Apr 25 2017 at 20:38)</a>:</h4>
<p>This is probably a good place to discuss the visuals of our inline URL previews feature.  <br>
See <a href="https://chat.zulip.org/#narrow/near/192766/stream/backend/topic/inline.20URL.20preview" target="_blank" title="https://chat.zulip.org/#narrow/near/192766/stream/backend/topic/inline.20URL.20preview">https://chat.zulip.org/#narrow/near/192766/stream/backend/topic/inline.20URL.20preview</a> for notes on it.</p>



<a name="192788"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192788" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tommy Ip <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192788">(Apr 25 2017 at 20:48)</a>:</h4>
<p>Does URL previews have a fixed height?<br>
<a href="/user_uploads/2/5a/aUJUmZNN22RkJ_g4LEyYr60t/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/5a/aUJUmZNN22RkJ_g4LEyYr60t/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/5a/aUJUmZNN22RkJ_g4LEyYr60t/pasted_image.png"></a></div>



<a name="192795"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192795" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192795">(Apr 25 2017 at 20:56)</a>:</h4>
<p>yeah.  It seems like we should definitely change that in the event that there's no image</p>



<a name="192797"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192797" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192797">(Apr 25 2017 at 20:58)</a>:</h4>
<p>I think the <a href="http://youtube.com" target="_blank" title="http://youtube.com">youtube.com</a> example you have is a bug in the code; it seems to only handle absolute URLs (not relative ones starting with <code>/</code>) in the open graph data.</p>



<a name="192800"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192800" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192800">(Apr 25 2017 at 21:02)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/issues/4608" target="_blank" title="https://github.com/zulip/zulip/issues/4608">https://github.com/zulip/zulip/issues/4608</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/zulip/zulip/issues/4608" style="background-image: url(https://avatars1.githubusercontent.com/u/2746074?v=3&amp;s=400)" target="_blank"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/zulip/zulip/issues/4608" target="_blank" title="Inline URL previews don't handle relative URLs in open graph data · Issue #4608 · zulip/zulip">Inline URL previews don't handle relative URLs in open graph data · Issue #4608 · zulip/zulip</a></div><div class="message_embed_description">The youtube image that should be here:

is broken because we're not converting the relatively URL (starting with /) they provide in their open graph data into an absolute URL.
Easy to reproduce, ju...</div></div></div>



<a name="192801"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192801" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192801">(Apr 25 2017 at 21:02)</a>:</h4>
<p>I kinda think we'd want to turn the feature off for <a href="http://github.com" target="_blank" title="http://github.com">github.com</a> in our project</p>
<div class="message_embed"><a class="message_embed_image" href="http://github.com" style="background-image: url(https://assets-cdn.github.com/images/modules/open_graph/github-octocat.png)" target="_blank"></a><div class="data-container"><div class="message_embed_title"><a href="http://github.com" target="_blank" title="Build software better, together">Build software better, together</a></div><div class="message_embed_description">GitHub is where people build software. More than 21 million people use GitHub to discover, fork, and contribute to over 57 million projects.</div></div></div>



<a name="192802"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192802" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tommy Ip <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192802">(Apr 25 2017 at 21:03)</a>:</h4>
<p>(deleted)</p>



<a name="192803"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192803" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192803">(Apr 25 2017 at 21:04)</a>:</h4>
<p>Just because we spend a lot of time talking about GitHub issues, etc.  I guess we should see how people feel about it.  </p>
<p>Testing with auto-linkification: <a href="https://github.com/zulip/zulip/pull/1245" target="_blank" title="https://github.com/zulip/zulip/pull/1245">#1245</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/zulip/zulip/pull/1245" style="background-image: url(https://avatars2.githubusercontent.com/u/842790?v=3&amp;s=400)" target="_blank"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/zulip/zulip/pull/1245" target="_blank" title="polish &quot;Zulip in production&quot; documentation · Issue #1245 · zulip/zulip">polish "Zulip in production" documentation · Issue #1245 · zulip/zulip</a></div><div class="message_embed_description">Following up from #669 and #1219:

 Turn README.prod.md into a new "Zulip in production" top-level index-like page.
 Turn prod-health-check-debug.md into a "troubleshooting" section, either in or l...</div></div></div>



<a name="192804"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192804" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192804">(Apr 25 2017 at 21:06)</a>:</h4>
<p>I guess we can experience it for a few days and see what folks think</p>



<a name="192805"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192805" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tommy Ip <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192805">(Apr 25 2017 at 21:06)</a>:</h4>
<p>yeah</p>



<a name="192893"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/192893" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#192893">(Apr 25 2017 at 22:13)</a>:</h4>
<p>current vote is for turning it off for github, but we can experiment for a few days. If we wanted to do something special for github, I could imagine adding the issue title as alt text for the link.</p>



<a name="193016"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193016" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea  Longo <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193016">(Apr 26 2017 at 03:04)</a>:</h4>
<p>Some things get cut off with my font size, how are the dimensions of the preview calculated? <a href="/user_uploads/2/a2/032LFyy5IP6MB9a4hmT1v3RD/Screen-Shot-2017-04-25-at-20.02.11.png" target="_blank" title="Screen-Shot-2017-04-25-at-20.02.11.png">Screen-Shot-2017-04-25-at-20.02.11.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/a2/032LFyy5IP6MB9a4hmT1v3RD/Screen-Shot-2017-04-25-at-20.02.11.png" target="_blank" title="Screen-Shot-2017-04-25-at-20.02.11.png"><img src="/user_uploads/2/a2/032LFyy5IP6MB9a4hmT1v3RD/Screen-Shot-2017-04-25-at-20.02.11.png"></a></div>



<a name="193044"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193044" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193044">(Apr 26 2017 at 07:00)</a>:</h4>
<p>Hahah yeah, this feature definitely doesn't support your font size thing.  The dimensions are a fixed 100px height, just like our inline images</p>



<a name="193069"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193069" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tomasz Kolek <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193069">(Apr 26 2017 at 07:09)</a>:</h4>
<p>Regarding Home and other buttons:<br>
IMHO Homes buttons look more poorly than others - not sure about increasing font size</p>



<a name="193188"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193188" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193188">(Apr 26 2017 at 16:43)</a>:</h4>
<p>OK I think we've identified a few issues with inline URL previews:</p>
<ul>
<li>We want a realm setting to disable them on a list of domains (which on this server would include <a href="http://github.com" target="_blank" title="http://github.com">github.com</a>)</li>
<li>We probably don't want to display them at all when there's no image in the open graph data (it doesn't look good)</li>
<li>Already opened an issue for this, but it doesn't handle relative URLs in the open graph data correctly.</li>
<li>The fetching code throws an exception when trying to preview itself.</li>
<li>It doesn't look great with enlarged font size (though I'm not totally sure what to do about that one)</li>
<li>We probably want some sort of UI for hiding/disabling a preview in a given message.</li>
<li>We probably want to suppress repeat-appearances of URL previews of the same image in a thread within X time of a previous preview; that probably includes "in the same message"</li>
</ul>
<p>Any other things?</p>



<a name="193189"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193189" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193189">(Apr 26 2017 at 16:49)</a>:</h4>
<p>We may want to allow users to just turn them all off.</p>



<a name="193191"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193191" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193191">(Apr 26 2017 at 16:55)</a>:</h4>
<p>that's already a realm setting</p>



<a name="193192"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193192" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193192">(Apr 26 2017 at 16:56)</a>:</h4>
<p>I mean a per-user setting.</p>



<a name="193193"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193193" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193193">(Apr 26 2017 at 16:57)</a>:</h4>
<p>(and the per-user setting would only apply to messages I read, not that I compose)</p>



<a name="193210"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193210" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boris Yankov <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193210">(Apr 26 2017 at 17:39)</a>:</h4>
<p>Maybe let's wait on per-user setting like this until someone complains?</p>



<a name="193308"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/193308" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#193308">(Apr 26 2017 at 19:14)</a>:</h4>
<p>That was me complaining. <img alt="😀" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f600.png" title="😀"></p>



<a name="194224"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/194224" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yago González <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#194224">(Apr 28 2017 at 22:25)</a>:</h4>
<p>About the UI for hiding/disabling previews, this is what you can see when you type a URL in Telegram:<br>
<a href="/user_uploads/2/54/M12e-DydPcviCo8NkKsB80wT/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/54/M12e-DydPcviCo8NkKsB80wT/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/54/M12e-DydPcviCo8NkKsB80wT/pasted_image.png"></a></div>



<a name="194225"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/194225" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yago González <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#194225">(Apr 28 2017 at 22:26)</a>:</h4>
<p>I think it's a good approach, since by simply clicking the cross you send the message without the preview.</p>



<a name="194228"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/194228" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#194228">(Apr 28 2017 at 22:33)</a>:</h4>
<p>Doing a constantly-visible live preview takes up a lot of space unless your messages are only ever 1 line high</p>



<a name="194229"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/inline%20URL%20previews/near/194229" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yago González <a href="https://rht.github.io/czo-archive/stream/101-design/topic/inline.20URL.20previews.html#194229">(Apr 28 2017 at 22:43)</a>:</h4>
<p>Hmmm nice point. Also Telegram doesn't support multiple previews, so this may need some rework.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>