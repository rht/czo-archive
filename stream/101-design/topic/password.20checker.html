<html>
<head><meta charset="utf-8"><title>password checker · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html">password checker</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="282816"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282816" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282816">(Sep 16 2017 at 02:35)</a>:</h4>
<p>This is in reference to <a href="https://github.com/zulip/zulip/pull/5614" target="_blank" title="https://github.com/zulip/zulip/pull/5614">#5614</a>. There are three pieces of information we can get out of zxcvbn: the crack time, a one sentence warning, and a several sentences suggestion. Screenshot from <span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span>:<br>
<a href="/user_uploads/2/b/ee9vJhmUECQ-e0k-j4_F0MQg/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<p>What should we show to the user?<br>
I'm tempted to show something like </p>
<div class="codehilite"><pre><span></span>Crack time: &lt;crack time&gt;. Try adding an uncommon word or two.
</pre></div>


<p>in red, and not attempting to give the zxcvbn explanations.</p>
<p>The main case to think about here is a user that has a favorite password (like d0nth4acKm3) that has passed every password checker so far, but fails zxcvbn. We saw a few cases of this at pycon, and the current experience is pretty bad; it feels to them that our password checker is broken. Vishnu then put in the current warnings, but zxcvbn only has warnings for a small fraction of weak passwords, so it didn't help as much as we had hoped. The suggestions cover the full range of weak passwords, but at some point I think they become pretty generic (like "Add another word or two. Uncommon words are better"), and no one has given them a pass for being great strings (I don't know of any product that uses zxcvbn as we do; even dropbox allows passwords like "aaaaaa"). So my proposal above is to give a short, fixed piece of advice, along with a bit more concrete information (crack time) than just the colored bar.</p>
<p>Thoughts? Thanks for working on this Yashashvi!</p>
<div class="message_inline_image"><a href="/user_uploads/2/b/ee9vJhmUECQ-e0k-j4_F0MQg/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/2/b/ee9vJhmUECQ-e0k-j4_F0MQg/pasted_image.png"></a></div>



<a name="282817"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282817" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282817">(Sep 16 2017 at 02:40)</a>:</h4>
<p>I'm in favor of just giving general password advice.</p>



<a name="282837"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282837" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282837">(Sep 16 2017 at 03:26)</a>:</h4>
<blockquote>
<p>I don't know of any product that uses zxcvbn as we do; even dropbox allows passwords like "aaaaaa"</p>
</blockquote>
<p>My default reaction to this is that if we don't think anyone else is using it, we shouldn't either. This doesn't seem like the right area for us to attempt to be trailblazers in.</p>



<a name="282838"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282838" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282838">(Sep 16 2017 at 03:27)</a>:</h4>
<p>Whatever Google and Dropbox and Facebook and whoever are doing for their password requirements, I think we'll be best off if we copy as accurately as we can. Users will come with expectations about how passwords work, and trying to be different will be an education challenge and frustrating for many users.</p>



<a name="282839"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282839" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282839">(Sep 16 2017 at 03:30)</a>:</h4>
<p>Changing those expectations is hard work for those products too, but they have teams of full-time security experts with time to devote to trying. What they can accomplish, we should <a href="https://en.wikipedia.org/wiki/Drafting_(aerodynamics)" target="_blank" title="https://en.wikipedia.org/wiki/Drafting_(aerodynamics)">draft on</a> them for, but what they can't or haven't I don't think it'll generally make sense for us to try.</p>



<a name="282841"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282841" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282841">(Sep 16 2017 at 03:51)</a>:</h4>
<p>Yeah, just tested changing my Dropbox password, and it did indeed accept "aaaaaa". There was a tiny little strength meter at the right-hand end of the new-password field; but I didn't even see that the first time. (I did when I looked harder, while changing my password to a new decent random string. <img alt=":stuck_out_tongue:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f61b.png" title="stuck out tongue"> )</p>



<a name="282842"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282842" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282842">(Sep 16 2017 at 03:51)</a>:</h4>
<p>So I think they use zxcvbn in the sense that it powers that tiny strength meter -- but they don't let it get in users' way, at all.</p>



<a name="282843"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282843" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282843">(Sep 16 2017 at 03:56)</a>:</h4>
<p>In more encouraging news for zxcvbn, WordPress apparently uses it, for real, since the 3.7 release a few years ago:<br>
<a href="https://wpengine.com/support/strong-passwords/" target="_blank" title="https://wpengine.com/support/strong-passwords/">https://wpengine.com/support/strong-passwords/</a><br>
Though they do it in a limited compromise -- it's only enforced for more-privileged users, including authors (but not commenters, I guess.)</p>



<a name="282844"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282844" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282844">(Sep 16 2017 at 03:57)</a>:</h4>
<p>And Atlassian products apparently also now include it, with (it sounds like) the option for admins to set a strength requirement. Here's some user reactions:<br>
<a href="https://community.atlassian.com/t5/Jira-questions/What-are-the-requirements-for-a-Very-Strong-password-under-the/qaq-p/93856" target="_blank" title="https://community.atlassian.com/t5/Jira-questions/What-are-the-requirements-for-a-Very-Strong-password-under-the/qaq-p/93856">https://community.atlassian.com/t5/Jira-questions/What-are-the-requirements-for-a-Very-Strong-password-under-the/qaq-p/93856</a><br>
<a href="https://jira.atlassian.com/browse/ID-210" target="_blank" title="https://jira.atlassian.com/browse/ID-210">https://jira.atlassian.com/browse/ID-210</a></p>
<blockquote>
<p>We can set a strength of Very Strong, but there is no indication either in the interface or the documentation as to what will satisfy this level. We have tried to use it but have had to give up as our staff are failing to create passwords that will meet it and we cannot tell them what will.</p>
</blockquote>
<p>--</p>
<blockquote>
<p>I don't have a solution, but this week we delivered some training for some users of Confluence Cloud who didn't have a background in information technology. Quite a few of them couldn't get past the password creation stage. The password policy was set to Good, so we lowered it to Weak. Even then some ran into problems.</p>
</blockquote>



<a name="282846"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282846" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282846">(Sep 16 2017 at 03:58)</a>:</h4>
<p>those quotes match my experience onboarding people at pycon :).</p>



<a name="282848"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282848" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282848">(Sep 16 2017 at 03:59)</a>:</h4>
<p>I think the Dropbox approach is probably best, then. :)</p>



<a name="282849"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282849" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282849">(Sep 16 2017 at 04:00)</a>:</h4>
<p>Worth taking a look at how they present it, too: <a href="https://www.dropbox.com/register" target="_blank" title="https://www.dropbox.com/register">https://www.dropbox.com/register</a> (in an incognito window if necessary)</p>
<p>Dropbox is generally pretty good at making the product look nice and be easy for people to figure out how to use, so a good model to consult in general.</p>



<a name="282850"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282850" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282850">(Sep 16 2017 at 04:01)</a>:</h4>
<p>Optionally we could add in the Atlassian thing of having an organization (and/or server) option to set a minimum strength. With maybe some warning text that the admin should expect to have to educate some users on how to make a strong password -- in fact it may only be a good idea in environments where everyone's expected to be using a password manager, so they can make a random password.</p>



<a name="282851"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282851" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282851">(Sep 16 2017 at 04:02)</a>:</h4>
<p>I generally agree with Greg that this is not an area for us to be innovative in at the moment. <br>
One point though is that Dropbox et al also have tons of support staff on hand to deal with people whose accounts are getting hacked, whereas most zulip installation admins probably don't.</p>



<a name="282853"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282853" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282853">(Sep 16 2017 at 04:04)</a>:</h4>
<p>another idea could be to have a  "suggest a password" button, that gives them 10 random characters or whatever.</p>



<a name="282854"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282854" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282854">(Sep 16 2017 at 04:05)</a>:</h4>
<p>Maybe. Does anyone else do that? I'd worry about e.g. setting users' expectations to get their passwords from a service on the web.</p>



<a name="282858"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282858" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282858">(Sep 16 2017 at 04:08)</a>:</h4>
<p>I don't know anyone else that does it, and I agree it's maybe a bit bad for the ecosystem. <br>
But I do think our situation is not totally comparable to a company that has had tons of time to build tools for dealing with hacked accounts.</p>



<a name="282860"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282860" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282860">(Sep 16 2017 at 04:13)</a>:</h4>
<p>I think we just need slightly better messaging for passwords that don't meet the bar here.</p>



<a name="282889"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282889" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282889">(Sep 16 2017 at 07:36)</a>:</h4>
<p>I don't have much knowledge that I can give any suggestions. But I observe one thing, that sometimes crack time of password is centuries, but password is not accepted. So maybe if we can change quality check method. </p>
<p>And I have also observed that password like "z!X4@S_&amp;", "d0nth4acKm3" has crack time "centuries", but are not accepted.</p>
<p>And one more thing, that zxcvbn provides four type of crack time: online_throttling_100_per_hour, online_no_throttling_10_per_second, offline_slow_hashing_1e4_per_second, offline_fast_hashing_1e10_per_second.</p>
<p>I have included the "online_throttling_100_per_hour" in this. But in quality formula "offline_slow_hashing_1e4_per_second" is used.<br>
I don't have any idea about how this four differ, but if you guys want to change formula or something then I can study this thing, and find some appropriate formula for quality by using more than one(important) crack time. </p>
<p>I am just guessing, and sorry if I misinterpret the problem, as I am very new to this project.</p>



<a name="282905"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282905" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282905">(Sep 16 2017 at 08:44)</a>:</h4>
<p>One thing to keep in mind is that the experience at something like PyCon is actually a bad choice to base our thinking on for password strength, because typing a password quickly on someone else's computer, you're almost certainly not going to use something secure, even if you generally use secure passwords.</p>



<a name="282906"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282906" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282906">(Sep 16 2017 at 08:47)</a>:</h4>
<p>We already have a server-level option to control the required strength, as another sidenote.</p>



<a name="282907"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/282907" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#282907">(Sep 16 2017 at 08:52)</a>:</h4>
<p>I think ultimately our main strategy on this front should be to encourage people to use an Oauth provider like Google auth, since then someone else is dealing with the passwords entirely.  From a messaging perspective, I think we're currently not doing a great job; I think it could be a good idea to have a longer-form page or popup explaining how this works for folks who are getting a "too weak" password error where we can't provide details.  I think it should be pretty easy in a few sentences to convey that the password that they're using has been proven to be easily guessed.  </p>
<p>\I don't think allowing passwords like 'aaaaaa' is a good idea, so we should have some requirement.  Wordpress seems like actually a reasonable guide to follow: users who have real accounts need a real password.  We should look at what parameters they use.</p>



<a name="283298"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/283298" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sampriti Panda <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#283298">(Sep 16 2017 at 22:41)</a>:</h4>
<p>Making a new account showed me how strict our password checker is, passwords like<code>word1word2word3123</code> wouldn't get accepted.</p>



<a name="283303"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/283303" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#283303">(Sep 16 2017 at 22:45)</a>:</h4>
<p>Yeah, just so you know how it works, basically it uses an algorithm to estimate how many guesses it would take a cracking algorithm to guess your password.  And that password fits within a pattern that one could guess with not a ton of tries.</p>



<a name="283304"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/283304" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#283304">(Sep 16 2017 at 22:50)</a>:</h4>
<p>(As a quick reply to <span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span>, we want <code>offline_slow_hashing_1e4_per_second</code>. That'll reduce the "centuries" into a smaller time scale :).)</p>



<a name="283458"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/283458" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#283458">(Sep 17 2017 at 08:48)</a>:</h4>
<p><span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> I have update PR <a href="https://github.com/zulip/zulip/pull/6513" target="_blank" title="https://github.com/zulip/zulip/pull/6513">#6513</a> with all required changes.</p>



<a name="283644"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/283644" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#283644">(Sep 17 2017 at 18:08)</a>:</h4>
<p>Thanks Yashashvi!<br>
At risk of being even more innovative, how about the following compromise?</p>
<ul>
<li>We let the user register with whatever they want (e.g. <code>aaaaaa</code>, or maybe slightly higher bar), with the warning that their password is too weak, and hence will expire after two weeks</li>
<li>After two weeks we make them change their password if it is still too weak</li>
<li>Realm setting to turn this "feature" off</li>
</ul>
<p>That will make registering easy, and setting up a new realm easy, while only moderately compromising security.</p>
<p>The pycon experience was developers setting their laptops up for the sprint. They might have started with a weak password they didn't care about, but by the time they were calling me over I imagine they were trying things closer to <code>word1word2word3123</code> and <code>z!X4@S_&amp;</code>.</p>



<a name="283652"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/283652" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#283652">(Sep 17 2017 at 18:14)</a>:</h4>
<p>Also possibly our default setting is way too pessimistic, and we should just protect against online attacks by default (with a realm setting to increase it to the current level of protection).</p>



<a name="284044"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284044" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284044">(Sep 19 2017 at 00:58)</a>:</h4>
<blockquote>
<p>The pycon experience was developers setting their laptops up for the sprint.</p>
</blockquote>
<p>That sounds pretty representative, then -- if anything these are more sophisticated users than most people, more likely to be using a password manager and more likely to have some idea of what makes a secure password.</p>



<a name="284045"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284045" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284045">(Sep 19 2017 at 00:59)</a>:</h4>
<p>I agree it'd be interesting to see what parameters WordPress uses. I actually don't have a clear idea of what parameters we use -- it's "0.5" but I don't know what that means.</p>



<a name="284046"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284046" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284046">(Sep 19 2017 at 01:00)</a>:</h4>
<p>OK, reading our developer docs, it means it'd take an estimated exp(0.5 * 22) sec to crack at 10^4/s, which comes to 17 hours.</p>



<a name="284049"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284049" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284049">(Sep 19 2017 at 01:07)</a>:</h4>
<p>I think if we're going to enforce a bar that many users will run into and be frustrated by, we'll need to at a minimum write</p>
<ul>
<li>a tooltip explaining, in complete sentences, that we've analyzed the password and it would be easy to crack</li>
<li>a help page like the Wordpress one linked above, that explains in several paragraphs why we have this plus good standard advice on making a strong password.</li>
</ul>



<a name="284052"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284052" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284052">(Sep 19 2017 at 03:07)</a>:</h4>
<p>haha, that was the original motivation for <a href="https://github.com/zulip/zulip/pull/5614" target="_blank" title="https://github.com/zulip/zulip/pull/5614">#5614</a>, but you convinced me out of it on the issue thread. I think having to read a long doc to figure out a password that works is a big barrier to creating an account, especially if you're just casually checking out a community or a potential first-in-realm casually checking out zulip.<br>
So I think I'm still inclined towards something that gets them in the door quickly.</p>



<a name="284127"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284127" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284127">(Sep 19 2017 at 12:18)</a>:</h4>
<p>I have made changes which <span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span>  mentioned in PR <a href="https://github.com/zulip/zulip/pull/6513" target="_blank" title="https://github.com/zulip/zulip/pull/6513">#6513</a>.<br>
Now I am working on WordPress, and their validation to password, how they have implemented zxcvbn. <br>
If have there is any additional functionality which should be added or any more suggestions like WordPress, then let me know.</p>



<a name="284328"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284328" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284328">(Sep 19 2017 at 20:57)</a>:</h4>
<blockquote>
<p>haha, that was the original motivation for <a href="https://github.com/zulip/zulip/pull/5614" target="_blank" title="https://github.com/zulip/zulip/pull/5614">#5614</a>, but you convinced me out of it on the issue thread.</p>
</blockquote>
<p>Ha <img alt=":stuck_out_tongue:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f61b.png" title="stuck out tongue"> . I do agree that if you end up having to read a long doc to find a password that works, that's a big barrier.</p>



<a name="284329"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284329" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284329">(Sep 19 2017 at 21:01)</a>:</h4>
<p>Here's another possible compromise:</p>
<ul>
<li>Have a password meter -- much like we do now, perhaps plus a word like Weak/Medium/Strong.</li>
<li>If the user submits a password below a strong threshold (like our current one), give them a warning that the password isn't good, with a few words of standard advice and maybe a link to more standard advice. But let them click through that warning.</li>
<li>If the user submits a password below a <em>low</em> threshold -- like the top 100k passwords or something, which I think is 0.1 on our scale -- then actually require them to do better. Enforce that on the server, just like we enforce a threshold today.</li>
</ul>



<a name="284335"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284335" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284335">(Sep 19 2017 at 21:06)</a>:</h4>
<p>That low threshold should be enough to forbid passwords like "aaaaaa" and "abc123". But the passwords people are used to making that pass other sites' checks, like "word1term!", will pass.</p>



<a name="284337"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284337" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284337">(Sep 19 2017 at 21:17)</a>:</h4>
<p>In particular, the low threshold can be enough (given some rate-limiting) to defend against online attacks, which is the basic minimum we need of the user's cooperation in helping us prevent their account from being stolen.</p>
<p>They should be making strong passwords that resist offline attacks, because they should be hedging against any given service they use potentially getting compromised and the hashed passwords leaked. But for that to actually happen to a given service is a low-probability event, and it's not worth it to block the user from using Zulip if they aren't ready for that.</p>



<a name="284338"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284338" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284338">(Sep 19 2017 at 21:19)</a>:</h4>
<p>I remain curious what parameters WordPress is using! My guess is that the threshold they're enforcing is lower than the one we have that frustrated multiple software engineers at the PyCon sprint.</p>



<a name="284340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284340">(Sep 19 2017 at 21:24)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> One handy tool for experimenting with zxcvbn thresholds: <a href="https://www.bennish.net/password-strength-checker/" target="_blank" title="https://www.bennish.net/password-strength-checker/">https://www.bennish.net/password-strength-checker/</a> provides a running zxcvbn with lots of detail, telling you how much entropy it finds in a given password you make up. That's how I validated "word1term!" as an example of a password we'd reject today (&lt;29.2 bits, IIUC) but would pass the "low" threshold I suggested (13.3 bits).</p>



<a name="284341"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/284341" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#284341">(Sep 19 2017 at 21:25)</a>:</h4>
<p>Could be handy for trying passwords of different strengths at <a href="http://wordpress.com" target="_blank" title="http://wordpress.com">wordpress.com</a> and seeing what they take. <img alt=":wink:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f609.png" title="wink"></p>



<a name="285641"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/285641" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#285641">(Sep 22 2017 at 06:01)</a>:</h4>
<p><span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span>  <span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span>   I have make some changes.<br>
What are suggestions about this page?<br>
<a href="/user_uploads/2/a0/gRR2-HTDy0HDcuI5i_8xFkg8/passChecker.gif" target="_blank" title="passChecker.gif">passChecker.gif</a> <br>
If you want to add a link to some article, then let me know. Cause I don't know to which article should we direct user for more password advice.<br>
And About WordPress I think, they are allowing low password quality on signup page. But they have high password quality when we change password page. So they have set different password quality for signup and password reset.</p>
<div class="message_inline_image"><a href="/user_uploads/2/a0/gRR2-HTDy0HDcuI5i_8xFkg8/passChecker.gif" target="_blank" title="passChecker.gif"><img src="/user_uploads/2/a0/gRR2-HTDy0HDcuI5i_8xFkg8/passChecker.gif"></a></div>



<a name="286369"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286369" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286369">(Sep 23 2017 at 00:09)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> That is an interesting finding re: WordPress?</p>
<p>Can you work out what specific thresholds they're using? That'd be the key bit of information to be able to reproduce something similar (or to do it differently in a way that's based on their experience.)</p>



<a name="286370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286370">(Sep 23 2017 at 00:17)</a>:</h4>
<p>One quick data point on WordPress's threshold: my example password above which fails our current test, "word1term!", handily passes. In fact, so does just "word1term" or even "word1ter".</p>



<a name="286372"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286372" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286372">(Sep 23 2017 at 00:18)</a>:</h4>
<p>Method: I opened <a href="http://wordpress.com" target="_blank" title="http://wordpress.com">wordpress.com</a> in an incognito window, and went to make an account for a made-up email address.</p>



<a name="286373"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286373" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286373">(Sep 23 2017 at 00:19)</a>:</h4>
<p>... Though testing just now on <a href="http://chat.zulip.org" target="_blank" title="http://chat.zulip.org">chat.zulip.org</a> (again in an incognito window), it actually takes "word1term!", so I apparently still don't quite understand our threshold. But it rejects "word1term".</p>



<a name="286374"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286374" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286374">(Sep 23 2017 at 00:21)</a>:</h4>
<p>(So our threshold is indeed stricter than WordPress's, at least at signup.)</p>



<a name="286375"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286375" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286375">(Sep 23 2017 at 00:25)</a>:</h4>
<p>Some thoughts on the flow in that gif (which is a really handy format! thanks for sending that):</p>
<ul>
<li>I think clicking on a link like that is going to feel clumsy. I like what <a href="http://wordpress.com" target="_blank" title="http://wordpress.com">wordpress.com</a> does, actually -- as soon as you defocus the password field, it validates it and shows any error. (Another thing I think could work well is a tooltip.)</li>
<li>We should present just one message about the password; not one in small red type and a different one below it.</li>
</ul>



<a name="286376"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286376" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286376">(Sep 23 2017 at 00:25)</a>:</h4>
<p>Also, how do you make a screenshot-anigif like that? I'd like to do it to demonstrate the <a href="http://wordpress.com" target="_blank" title="http://wordpress.com">wordpress.com</a> flow :)</p>



<a name="286405"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286405" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286405">(Sep 23 2017 at 02:43)</a>:</h4>
<p>I am working on threshold of WordPress. <br>
 And I am using Peek <a href="https://github.com/phw/peek" target="_blank" title="https://github.com/phw/peek">https://github.com/phw/peek</a> for gif. :)</p>



<a name="286421"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286421" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286421">(Sep 23 2017 at 05:44)</a>:</h4>
<p><span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span>  I have tried some passwords. And this is what I am getting.<br>
PASSWORD--------------ACCEPTED------------- CRACK_TIME ---------- SCORE <br>
"Adf3#!1" --------------------- no  ---------------------  9 days  ------------------  3     <br>
"a!Adfs#" --------------------- yes  --------------------   8 days  ------------------  3       <br>
"word1term!" ---------------  yes --------------------- 12 min ------------------  2<br>
"word1term"----------------- yes  --------------------- 4 min  ------------------  2<br>
"myworld2" ----------------- yes  --------------------- 10 sec ------------------- 1<br>
"stupid23"-------------------  yes ---------------------- 16 sec -------------------1<br>
As you can see, passwords like "Adf3#!1" have much higher crack time than "myworld2", but it is not accepted and "myworld2" is accepted. <br>
What should I do to find it's threshold, should I find pattern in this password or do something else?<br>
This crack_time and score information are from <a href="https://www.bennish.net/password-strength-checker/" target="_blank" title="https://www.bennish.net/password-strength-checker/">https://www.bennish.net/password-strength-checker/</a></p>
<p><a href="https://www.bennish.net/password-strength-checker/" target="_blank" title="https://www.bennish.net/password-strength-checker/">https://www.bennish.net/password-strength-checker/</a> is showing different crack time. So I am trying to directly pass this password to zxcvbn function. And then again analyse, passwords strength. Will give you update, as I will finish.</p>



<a name="286431"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/286431" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#286431">(Sep 23 2017 at 08:13)</a>:</h4>
<p>According to my analysis, WordPress uses approximately 0.3 quality threshold. But maybe it do not accept password only on basis of this zxcvbn quality.<br>
Password like "aaaaaa23" has 0.045 quality, but it is accepted. Actually any string which have more than 6 character and either more than 2 digits ("aaaaaa23") or more than 1 special character(*,@,&amp;..)("aaaaaa@") are accepted, without checking zxcvbn quality.<br>
 And strings which have only characters (no digits or no special character, like "yashashvi") is not accepted, whether they have 0.42 quality.<br>
Let me know, if I am going in wrong direction, :)</p>



<a name="287058"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287058" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287058">(Sep 25 2017 at 19:16)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> Interesting! "aaaaaa23" is a great test example -- I think that conclusively demonstrates that Wordpress is not applying any meaningful zxcvbn threshold :)</p>



<a name="287060"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287060" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287060">(Sep 25 2017 at 19:19)</a>:</h4>
<p>As a small variation on that, even "aaaaaa!" is accepted. That's 8.5 bits of entropy according to zxcvbn (as deployed on the <a href="http://bennish.net" target="_blank" title="http://bennish.net">bennish.net</a> checker), which is essentially nothing -- less than two random letters.</p>



<a name="287065"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287065" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287065">(Sep 25 2017 at 19:22)</a>:</h4>
<blockquote>
<p><a href="https://www.bennish.net/password-strength-checker/" target="_blank" title="https://www.bennish.net/password-strength-checker/">https://www.bennish.net/password-strength-checker/</a> is showing different crack time.</p>
</blockquote>
<p>Oh, yeah, I noticed that and should have mentioned my analysis of it. The measurement that should be most meaningful to compare across different ways of using a tool like zxcvbn is the "entropy" -- the other things like crack time, or "quality" or "strength", are just computed from the entropy plus additional assumptions that might vary.</p>



<a name="287066"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287066" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287066">(Sep 25 2017 at 19:26)</a>:</h4>
<p>A password with N bits of entropy means basically that you'd have to be searching through a pool of 2^N possible passwords to expect to find that one. (The exact meaning isn't super well defined here, but I think different choices in the nuance of the definition should change the result by at most a bit or two.)</p>
<p>So, you might say that'd mean that if you can try R passwords per second, it will take 2^N / R seconds to crack the password.</p>
<p>But of course the attacker may get lucky and the password happens to be among the first ones they try. That's just as likely as that it's among the last ones -- so the average, or expected, time is how long it takes them to get halfway through the pool. Which is 2^N / (2R).</p>



<a name="287067"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287067" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287067">(Sep 25 2017 at 19:29)</a>:</h4>
<p>Taking "aaaaaa23" as an example, the figures on <a href="http://bennish.net" target="_blank" title="http://bennish.net">bennish.net</a> are<br>
N = 16.816 bits entropy<br>
T = 5.767 seconds crack time</p>
<p>So if T = 2^N / (2R), then R = 2^N / (2T), and</p>
<div class="codehilite"><pre><span></span>$ qalc &#39;2**16.816 / 2 / 5.767&#39;
((2^16.816) / 2) / 5.767 = approx. 10003.235
</pre></div>


<p>So they're assuming R = 10k tries per second, and giving the expected crack time.</p>



<a name="287068"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287068" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287068">(Sep 25 2017 at 19:30)</a>:</h4>
<p>In some of my calculations above in this thread, I was just doing 2^N / R, which gives crack times twice as long. That may be the discrepancy you saw.</p>



<a name="287072"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287072" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287072">(Sep 25 2017 at 19:37)</a>:</h4>
<blockquote>
<p>As a small variation on that, even "aaaaaa!" is accepted.</p>
</blockquote>
<p>Oh, in fact you already covered that :), with "aaaaaa@".</p>



<a name="287075"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287075" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287075">(Sep 25 2017 at 19:39)</a>:</h4>
<p>So, I'm not entirely sure what to make of the data we have here. WordPress clearly isn't enforcing any material zxcvbn requirement on trying to create a blog. That despite having a help page updated a few months ago that says they are:<br>
<a href="https://wpengine.com/support/strong-passwords/" target="_blank" title="https://wpengine.com/support/strong-passwords/">https://wpengine.com/support/strong-passwords/</a><br>
as well as a change less than a year ago that updated the version they use:<br>
<a href="https://core.trac.wordpress.org/ticket/31647" target="_blank" title="https://core.trac.wordpress.org/ticket/31647">https://core.trac.wordpress.org/ticket/31647</a></p>



<a name="287076"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287076" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287076">(Sep 25 2017 at 19:41)</a>:</h4>
<p>Maybe they don't enforce it when creating a blog, but then for <em>subsequent</em> users they do? That wouldn't quite live up to what their docs claim -- surely the blog's creator is an Administrator -- but there'd be something there.</p>



<a name="287077"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287077" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287077">(Sep 25 2017 at 19:43)</a>:</h4>
<p>Either way, this sure looks to me like another large, mass-user-facing webapp (after Dropbox) proudly adopting zxcvbn and trumpeting it to the world, then quietly retreating sometime later into not actually enforcing it.</p>



<a name="287080"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287080" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287080">(Sep 25 2017 at 19:47)</a>:</h4>
<p>With that very interesting data about WordPress in hand, I like the compromise design I mentioned the other day:</p>
<blockquote>
<p>Here's another possible compromise:<br>
* Have a password meter -- much like we do now, perhaps plus a word like Weak/Medium/Strong.<br>
* If the user submits a password below a strong threshold (like our current one), give them a warning that the password isn't good, with a few words of standard advice and maybe a link to more standard advice. But let them click through that warning.<br>
* If the user submits a password below a <em>low</em> threshold -- like the top 100k passwords or something, which I think is 0.1 on our scale -- then actually require them to do better. Enforce that on the server, just like we enforce a threshold today.</p>
</blockquote>



<a name="287081"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287081" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287081">(Sep 25 2017 at 19:48)</a>:</h4>
<p>That seems quite reasonable.</p>



<a name="287082"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287082" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287082">(Sep 25 2017 at 19:49)</a>:</h4>
<p>That'd give us the flexibility to bow to the reality of the difficulty many people have in making an actual strong password, just like <a href="http://wordpress.com" target="_blank" title="http://wordpress.com">wordpress.com</a> and Dropbox have before us; while enforcing at least a minimum requirement, and doing our bit to give people a nudge to do better.</p>



<a name="287083"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287083" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287083">(Sep 25 2017 at 19:51)</a>:</h4>
<p>We could also in the future, if even a low zxcvbn threshold proves to be too difficult for many users, switch the enforced rule to something like the "at least two numbers or one punctuation, plus some letters" rule that <a href="http://wordpress.com" target="_blank" title="http://wordpress.com">wordpress.com</a> seems to be using, while continuing to apply a real zxcvbn threshold for avoiding the warning.</p>



<a name="287085"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/287085" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#287085">(Sep 25 2017 at 19:52)</a>:</h4>
<p>Most people will just append letters onto the end anyway.</p>



<a name="288088"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/288088" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#288088">(Sep 27 2017 at 09:02)</a>:</h4>
<p><span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span>  I have updated PR <a href="https://github.com/zulip/zulip/pull/6513" target="_blank" title="https://github.com/zulip/zulip/pull/6513">#6513</a>, but it's throwing this Travis CI error in casper test. Waiting for your suggestions about PR. And about the Travis CI error if you have any solution then let me know.</p>



<a name="289304"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289304" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289304">(Sep 28 2017 at 22:42)</a>:</h4>
<p>What is a reasonable number of guesses/sec for an online attack (should we assume our rate-limiting is working?), and what we want the crack time to be?</p>



<a name="289313"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289313" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289313">(Sep 28 2017 at 22:48)</a>:</h4>
<p><span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> <span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span> and I were talking about this yesterday.</p>



<a name="289314"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289314" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289314">(Sep 28 2017 at 22:48)</a>:</h4>
<p>Good question! I was just thinking about this earlier today. :-)</p>
<p>For an online attack, our rate-limiting is pretty flexible in its ability to put different limits on different periods of time.</p>
<p>I think we can also make successful logins not consume the quota -- we'd have to check the quota <em>first</em>, so if you've had a lot of guesses then it's rejected without even checking if the password is right, so as not to leak the information subtly, but then if authentication succeeds we can "refund" it so that it doesn't get in the way of future logins.</p>



<a name="289317"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289317" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289317">(Sep 28 2017 at 22:49)</a>:</h4>
<p>That then lets us put really tight limits on longer periods like a day or a month, without getting in the way of someone who mistypes their password a couple of times in a row.</p>



<a name="289318"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289318" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289318">(Sep 28 2017 at 22:50)</a>:</h4>
<p>So for the max guesses against a target user, we could set something like</p>
<ul>
<li>&lt;=1 per 1s</li>
<li>&lt;=5 per day (=86.4 ks)</li>
<li>&lt;=20 per month (~=2.5 Ms)</li>
</ul>



<a name="289319"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289319" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289319">(Sep 28 2017 at 22:53)</a>:</h4>
<p>At that point, if your password comes from a space of at least 100k candidates, or has at least 16 bits of entropy, then an attacker trying for a year has well under a 1% chance of cracking it.</p>



<a name="289324"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289324" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289324">(Sep 28 2017 at 22:57)</a>:</h4>
<p>5/day seems pretty harsh.  I would probably aim for more like 10 in an hour, 20 in a day.  Basically to minimize the risk of real people getting hit trying a bunch of passwords while still making brute-forcing hard.</p>



<a name="289328"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289328" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289328">(Sep 28 2017 at 22:58)</a>:</h4>
<p>Sure -- doesn't change the bottom-line answer much.</p>



<a name="289332"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289332" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289332">(Sep 28 2017 at 23:00)</a>:</h4>
<p>I think 1% in a year is probably a fine test for being ~safe from cracking</p>



<a name="289337"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289337" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289337">(Sep 28 2017 at 23:02)</a>:</h4>
<p>If we add 30 bits for (optimistically) 1B users, that brings us to ~50 bits?</p>



<a name="289340"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289340" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289340">(Sep 28 2017 at 23:05)</a>:</h4>
<p>These are per-target-user limits -- the number of users on the system shouldn't matter.</p>



<a name="289342"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289342" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289342">(Sep 28 2017 at 23:06)</a>:</h4>
<p>We'll also want per-source-IP limits, to make it harder for an attacker to try passwords on tons of users in parallel. Even then they'll be trying (user, password) pairs, though, so us having more users won't give them an advantage.</p>



<a name="289343"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289343" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289343">(Sep 28 2017 at 23:06)</a>:</h4>
<p>Well, depends a bit on what sort of attacks you're looking at.  If they're using 10K IPs each attacking a different user, then the'll get 100 accounts after a year if this is per-user.</p>



<a name="289345"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289345" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289345">(Sep 28 2017 at 23:07)</a>:</h4>
<p>Assuming every user they attack is at the very minimum defense, etc.</p>



<a name="289346"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289346" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289346">(Sep 28 2017 at 23:07)</a>:</h4>
<p>10K IPs doing that sort of password guessing attack would probably be noticable, though.</p>



<a name="289347"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289347" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289347">(Sep 28 2017 at 23:08)</a>:</h4>
<p>So I don't see a reason one would need 30 bits.  I could imagine doing 1-10 more bits, but no more than that.</p>



<a name="289348"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289348" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289348">(Sep 28 2017 at 23:08)</a>:</h4>
<p>I see. Yeah, I think we don't want to try to set it based on "probability that an attacker ever guesses any user's password".</p>
<p>Rather, we would if these bits of entropy came from computers so they were cheap, but they come from humans and it's really hard to get humans to make up and remember a lot of entropy.</p>



<a name="289349"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289349" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289349">(Sep 28 2017 at 23:09)</a>:</h4>
<p>yeah, I'm fine with that logic</p>



<a name="289428"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289428" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289428">(Sep 29 2017 at 00:12)</a>:</h4>
<p>Someone should double-check the math, but I think the conversion from entropy (<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03148em;">k</span></span></span></span>) to our funny number is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mi mathvariant="normal">/</mi><mn>3</mn><mn>1</mn><mi mathvariant="normal">.</mi><mn>7</mn><mo>−</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>2</mn></mrow><annotation encoding="application/x-tex">k/31.7 - 0.42</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mord mathrm">/</span><span class="mord mathrm">3</span><span class="mord mathrm">1</span><span class="mord mathrm">.</span><span class="mord mathrm">7</span><span class="mbin">−</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">4</span><span class="mord mathrm">2</span></span></span></span>. <br>
So <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>=</mo><mn>2</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">k=20</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mrel">=</span><span class="mord mathrm">2</span><span class="mord mathrm">0</span></span></span></span> gives 0.21, and add .03 for each additional bit of entropy.</p>



<a name="289430"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289430" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289430">(Sep 29 2017 at 00:13)</a>:</h4>
<p>I think (A) we should change the units to be bits and (B) I would write out the math somewhere in a Paper doc or something.  We'll want to put it in our docs.</p>



<a name="289433"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289433" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289433">(Sep 29 2017 at 00:19)</a>:</h4>
<p>agreed with changing to bits. By math you mean where the 20 (or whatever default we decide in the end) comes from? <br>
All the math is math from our own codebase, that we should just delete; zxcvbn is happy to talk in bits of entropy.</p>



<a name="289441"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289441" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289441">(Sep 29 2017 at 00:50)</a>:</h4>
<p>Yeah, I just studied the history today and realized where our funny number came from -- it was invented to just make a reasonable percentage to fill the bar to, and was never intended to be meaningful. It became the configured quantity basically by accident. :-)</p>



<a name="289442"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289442" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289442">(Sep 29 2017 at 00:51)</a>:</h4>
<p>So we should delete that logic (except maybe keep a version for the bar, but then we can feel free to tweak that at will) and migrate the threshold to be in terms of bits.</p>



<a name="289446"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289446" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289446">(Sep 29 2017 at 01:01)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> So following this discussion, I think I have a good idea of where we want to take this. Let's start by setting a good foundation in the core behavior, now that we better understand how it works today and how we want it to work.</p>



<a name="289447"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289447" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289447">(Sep 29 2017 at 01:06)</a>:</h4>
<p>That means</p>
<ul>
<li>Make a new setting to replace PASSWORD_MIN_ZXCVBN_QUALITY, with a name like PASSWORD_MIN_ENTROPY_BITS. In static/js/common.js, you can use the <code>guesses_log10</code> value from zxcvbn, and just multiply by $$ \log_2 10 $$, i.e. 3.322, to get an entropy in bits to compare to that setting.</li>
</ul>



<a name="289448"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289448" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289448">(Sep 29 2017 at 01:08)</a>:</h4>
<ul>
<li>For compatibility with existing installs with a PASSWORD_MIN_ZXCVBN_QUALITY, we can check for that setting in <code>zproject/settings.py</code>, and convert it to the new form.</li>
</ul>



<a name="289449"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289449" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289449">(Sep 29 2017 at 01:09)</a>:</h4>
<p>how about PASSWORD_MIN_ZXCVBN_ENTROPY?</p>



<a name="289450"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289450" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289450">(Sep 29 2017 at 01:10)</a>:</h4>
<p>Could do PASSWORD_MIN_ZXCVBN_ENTROPY_BITS. I think the units are important -- particularly as zxcvbn itself seems to provide the entropy only in base 10.</p>



<a name="289453"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289453" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289453">(Sep 29 2017 at 01:10)</a>:</h4>
<p>But I'm inclined to leave zxcvbn out of the name of this setting, and instead treat it as an implementation detail (a documented one) of how we estimate the entropy.</p>



<a name="289455"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289455" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289455">(Sep 29 2017 at 01:11)</a>:</h4>
<p>Like if in the future there's some better thing to use instead, we'd want to keep the setting and just swap out the implementation. Or if we had both zxcvbn and the other thing available for some reason, I think we'd want one entropy level and a separate switch to choose between them.</p>



<a name="289456"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289456" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289456">(Sep 29 2017 at 01:11)</a>:</h4>
<p>I think <code>PASSWORD_MIN_ENTROPY_BITS</code> is fine.  Agreed units are important.</p>



<a name="289458"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289458" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289458">(Sep 29 2017 at 01:12)</a>:</h4>
<ul>
<li>I think we should enforce the minimum password strength on the server side, in addition to the client. <a href="https://github.com/dwolfhub/zxcvbn-python" target="_blank" title="https://github.com/dwolfhub/zxcvbn-python">zxcvbn-python</a> hopefully makes that easy to do.</li>
</ul>



<a name="289459"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289459" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289459">(Sep 29 2017 at 01:14)</a>:</h4>
<ul>
<li>Oh, the discussion of password strength in docs/security-model.md will have to change to match the change in config. I'm happy to write the new version of that and just put it on top of a PR that makes the code changes.</li>
</ul>



<a name="289460"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289460" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289460">(Sep 29 2017 at 01:18)</a>:</h4>
<ul>
<li>We should lower the default value to something like <code>PASSWORD_MIN_ENTROPY_BITS = 16</code>. That should be a separate commit from the one that changes the config setup -- this commit will go along with updating docs/security-model.md again to explain the number we choose and why. I think I'll just write this commit myself, since it's basically one line of code and a lot of text :), and once the change in the name and meaning of the config variable is done, this doesn't really interact with any of the other code.</li>
</ul>



<a name="289462"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289462" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289462">(Sep 29 2017 at 01:22)</a>:</h4>
<ul>
<li>
<p>With the lower threshold value, that should take a lot of the pressure off of trying to explain to users why their password isn't being accepted, because we should be much more in line with people's expectations of what it takes to make an acceptable password on the Web.</p>
<p>We should still do a round of making the registration, password-reset, and password-change forms look good and display feedback clearly, but this should help a lot in doing that successfully.</p>
</li>
</ul>



<a name="289463"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289463" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289463">(Sep 29 2017 at 01:24)</a>:</h4>
<p><span class="user-mention" data-user-email="yashashvidave@gmail.com" data-user-id="3244">@Yashashvi Dave</span> If you're up for making these changes, that would be great! I think probably the cleanest thing is to make a new PR for switching to PASSWORD_MIN_ENTROPY_BITS. Then when that's merged, we can take another crack at <a href="https://github.com/zulip/zulip/pull/6513" target="_blank" title="https://github.com/zulip/zulip/pull/6513">#6513</a> on top of those changes.</p>



<a name="289471"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289471" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289471">(Sep 29 2017 at 01:42)</a>:</h4>
<p>I am on it. Will update as I complete.</p>



<a name="289517"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289517" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289517">(Sep 29 2017 at 04:44)</a>:</h4>
<p><span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span> <br>
Here is what I am going to do first, If any changes or any additional tasks please correct me.</p>
<ul>
<li>
<p>Changing<code>PASSWORD_MIN_ZXCVBN_QUALITY</code> to <code>PASSWORD_MIN_ENTROPY_BITS</code> for threshold, changing <code>zproject/setting.py</code>, <code>zproject/dev_setting.py</code></p>
</li>
<li>
<p>Write a function in <code>static/js/common.js</code> which compare <code>PASSWORD_MIN_ENTROPY_BITS</code> to zxcvbn <code>result.guesses_log10</code> (multiply by $$ \log_2 10 $$) and then return whether password is acceptable or not. (just like password_quality function in <code>static/js/common.js</code> is returning)</p>
</li>
<li>
<p>Writing tests for function which is declared in <code>static/js/common.js</code> in <code>frontend_tests/node_tests/password.js</code></p>
</li>
</ul>
<blockquote>
<p>For compatibility with existing installs with a PASSWORD_MIN_ZXCVBN_QUALITY, we can check for that setting in zproject/settings.py, and convert it to the new form.</p>
</blockquote>
<p>I don't get this point, so kindly elaborate it more :)</p>



<a name="289519"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289519" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289519">(Sep 29 2017 at 04:51)</a>:</h4>
<p>I think Greg was just saying that people with current installs already have a PASSWORD_MIN_ZXCVBN_QUALITY that they have set, and we don't want to make them have to edit their configuration.</p>
<p>So, in zproject/settings.py, we can have a bit of code like</p>
<div class="codehilite"><pre><span></span>if PASSWORD_MIN_ZXCVBN_QUALITY is set
    PASSWORD_MIN_ENTROPY_BITS = log_2(e**(22*PASSWORD_MIN_ZXCVBN_QUALITY) * 10000)
</pre></div>


<p>or whatever the crazy formula is. (Also the code above is not quite correct; you may also have to remove PASSWORD_MIN_ZXCVBN_QUALITY from DEFAULT_SETTINGS first.)</p>



<a name="289520"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289520" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289520">(Sep 29 2017 at 04:57)</a>:</h4>
<p>also, not sure if this is helpful, but it might be: <a href="http://zulip.readthedocs.io/en/latest/settings.html" target="_blank" title="http://zulip.readthedocs.io/en/latest/settings.html">http://zulip.readthedocs.io/en/latest/settings.html</a><br>
The settings system is somewhat complicated, so totally par for the course if it still doesn't make sense.</p>



<a name="289521"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289521" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289521">(Sep 29 2017 at 04:59)</a>:</h4>
<p>Thank You <span class="user-mention" data-user-email="rishig@zulipchat.com" data-user-id="131">@Rishi Gupta</span> I get it.</p>



<a name="289585"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289585" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289585">(Sep 29 2017 at 11:32)</a>:</h4>
<p><span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span> I have created PR <a href="https://github.com/zulip/zulip/pull/6768" target="_blank" title="https://github.com/zulip/zulip/pull/6768">#6768</a>, to change PASSWORD_MIN_ZXCVBN_QUALITY to PASSWORD_MIN_ENTROPY_BITS, please check that out.</p>



<a name="289745"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289745" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289745">(Sep 29 2017 at 16:52)</a>:</h4>
<blockquote>
<p>For compatibility with existing installs with a PASSWORD_MIN_ZXCVBN_QUALITY, we can check for that setting in zproject/settings.py, and convert it to the new form.</p>
</blockquote>
<p>I actually would be fine with just documenting the change in the release notes rather than converting the format.</p>



<a name="289775"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/289775" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#289775">(Sep 29 2017 at 17:06)</a>:</h4>
<p>and require people to change it manually as a part of the upgrade process?</p>



<a name="290255"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/290255" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#290255">(Sep 29 2017 at 22:36)</a>:</h4>
<p>The impact of that is that if they don't notice, then their choice of threshold has no effect and it reverts to the default. I don't have a strong preference -- the impact is small.</p>



<a name="290356"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/290356" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#290356">(Sep 30 2017 at 05:41)</a>:</h4>
<p><span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span> Updated PR <a href="https://github.com/zulip/zulip/pull/6768" target="_blank" title="https://github.com/zulip/zulip/pull/6768">#6768</a> with changes mentioned.</p>



<a name="295592"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/295592" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yashashvi Dave <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#295592">(Oct 09 2017 at 11:54)</a>:</h4>
<p><span class="user-mention" data-user-email="greg@zulipchat.com" data-user-id="2187">@Greg Price</span> Hey, just a reminder. PR <a href="https://github.com/zulip/zulip/pull/6832" target="_blank" title="https://github.com/zulip/zulip/pull/6832">#6832</a> is merged. So If you can check out PR <a href="https://github.com/zulip/zulip/pull/6513" target="_blank" title="https://github.com/zulip/zulip/pull/6513">#6513</a> and give me suggestions or changes for format. So I will include them when I update PR with new password_guesses changes.</p>



<a name="319926"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/319926" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#319926">(Nov 11 2017 at 01:18)</a>:</h4>
<p>Slightly off topic, but the US govt (I think? at least the global entry site, for those familiar with it) has a new registration/login flow that is great. In any case, they are using zxcvbn :). <br>
I didn't try to figure out what entropy level they are using, but I imagine they'll be a little more conservative than tech company sites. They also require two factor authentication, and interestingly don't have a password reset if you lose your password (or rather, they give you a 1-time key you can use to reset your password, and if you lose that key you're out of luck / probably have to do some more extreme thing to prove to government who you are.)</p>



<a name="324865"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/password%20checker/near/324865" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/password.20checker.html#324865">(Nov 15 2017 at 00:18)</a>:</h4>
<p>Glad it's seeing more use! There was an announcement about a year ago by 18F (a web/tech consulting shop inside the US federal government) that they were working on it:<br>
<a href="https://twitter.com/18f/status/778637006075154432" target="_blank" title="https://twitter.com/18f/status/778637006075154432">https://twitter.com/18f/status/778637006075154432</a><br>
So maybe this is another government client of 18F being persuaded by them to use it.</p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/18f/status/778637006075154432" target="_blank"><img class="twitter-avatar" src="/external_content/e59a9c835a5371174df837445170697ecc399d99/687474703a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f3838313931313531383035323232393132302f43585271306e63665f6e6f726d616c2e6a7067"></a><p>We're designing a login UI for <a href="https://t.co/b24KP104N0" target="_blank" title="https://t.co/b24KP104N0">https://login.gov</a> built on Dropbox's open source <a href="https://t.co/7ymNnESev3" target="_blank" title="https://t.co/7ymNnESev3">https://github.com/dropbox/zxcvbn</a> to measure password strength: <a href="https://t.co/tUwV59CBgR" target="_blank" title="https://t.co/tUwV59CBgR">https://twitter.com/18F/status/778637006075154432/photo/1</a></p><span>- 18F (@18F)</span></div></div>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>