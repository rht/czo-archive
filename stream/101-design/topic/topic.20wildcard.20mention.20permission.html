<html>
<head><meta charset="utf-8"><title>topic wildcard mention permission · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html">topic wildcard mention permission</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1617818"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1617818" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prakhar Pratyush <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1617818">(Jul 30 2023 at 03:48)</a>:</h4>
<p>We're working on <code>@topic</code> mentions project which mentions all the topic participants.</p>
<p>Topic participants: Users who either sent or reacted to the messages in the topic.</p>



<a name="1617819"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1617819" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prakhar Pratyush <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1617819">(Jul 30 2023 at 03:49)</a>:</h4>
<p>Currently, the stream wildcard mention <a href="https://zulip.com/help/restrict-wildcard-mentions">restrictions</a> also apply for topic mentions.</p>
<ul>
<li>Organization administrators can set a policy for which users are allowed to use wildcard mentions in large streams</li>
<li>Zulip allows anyone to use wildcard mentions in streams with at most 15 subscribers.</li>
<li>The default allows only organization administrators to use wildcard mentions in large streams.</li>
</ul>



<a name="1617820"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1617820" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prakhar Pratyush <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1617820">(Jul 30 2023 at 03:52)</a>:</h4>
<p>Should we make <code>@topic</code> mentions independent of such restrictions?</p>
<p>Topic participants are mostly small number of users.</p>



<a name="1618062"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1618062" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1618062">(Jul 31 2023 at 12:49)</a>:</h4>
<p>Presumably the stream restrictions are to prevent annoyance and abuse. It wouldn’t at all be surprising to see large topics, especially when the topic stretches back a long length of time. But of course such restrictions also potentially reduce the utility of the feature itself, when it would otherwise be used appropriately.</p>



<a name="1618157"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1618157" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1618157">(Jul 31 2023 at 18:21)</a>:</h4>
<p>It's going to be quite rare for an individual topic to have more than 15 participants. For example scrolling back through my "Recent conversations" view here on <a href="http://chat.zulip.org">chat.zulip.org</a>, the latest such topic is <a class="stream-topic" data-stream-id="6" href="/#narrow/stream/6-frontend/topic/typescript.20migration">#frontend &gt; typescript migration</a> — 17 days ago, so there's probably hundreds of other topics I scrolled past before finding that one.</p>



<a name="1618159"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1618159" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1618159">(Jul 31 2023 at 18:23)</a>:</h4>
<p>I think a pretty reasonable approach would be to say that the rules are the same as for stream mentions, in the sense that if there are more than 15 people in the set you'd be trying to notify then the restriction applies.</p>
<p>We would not want it to be the same as for stream mentions in the sense that you can only use <code>@topic</code> in the same streams where you could use <code>@stream</code>. That would defeat a lot of the point of the feature, as <span class="user-mention silent" data-user-id="26369">Karl Stolley</span> says.</p>



<a name="1618198"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1618198" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prakhar Pratyush <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1618198">(Jul 31 2023 at 19:35)</a>:</h4>
<p>To summarize:</p>
<p>For <code>@stream</code> mentions</p>
<ul>
<li>If the stream has less than 15 subscribers, anyone can use <code>@all</code> mentions.</li>
<li>For more than 15, the policy will determine who can use <code>@all</code> mentions.</li>
</ul>
<p>For <code>@topic</code> mentions:</p>
<ul>
<li>If the topic has less than 15 <strong>participants</strong> , anyone can use <code>@topic</code> mentions</li>
<li>For more than 15, the same policy will determine who can use <code>@topic</code> mentions.</li>
</ul>



<a name="1618199"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1618199" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prakhar Pratyush <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1618199">(Jul 31 2023 at 19:36)</a>:</h4>
<p>As <span class="user-mention silent" data-user-id="2187">Greg Price</span> mentioned:</p>
<blockquote>
<p>It's going to be quite rare for an individual topic to have more than 15 participants. For example scrolling back through my "Recent conversations" view here on <a href="http://chat.zulip.org">chat.zulip.org</a>, the latest such topic is #frontend &gt; typescript migration — 17 days ago, so there's probably hundreds of other topics I scrolled past before finding that one.</p>
</blockquote>
<p>I think,<br>
We have restrictions for <code>@all</code>, because it is quite common to have streams with more than 15 subscribers &amp; we want to avoid spamming a lot of users i.e Notifying thousands of users in an active stream.</p>
<p>But since there are very less topics having &gt; 15 participants, is it worth to put such restrictions?<br>
What if a user actually meant to mention more than 15 participants of that topic -- I think it should be fine to allow them. It is still not a spam + we're not notifying 100s of users (so not a lot of work for servers).</p>
<p>Maybe we can just add a warning banner in the case of &gt; 15 participants? (We do it currently for stream mentions)</p>



<a name="1618234"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1618234" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1618234">(Jul 31 2023 at 20:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="22341">Prakhar Pratyush</span> <a href="#narrow/stream/101-design/topic/topic.20wildcard.20mention.20permission/near/1618199">said</a>:</p>
<blockquote>
<p>But since there are very less topics having &gt; 15 participants, is it worth to put such restrictions?<br>
What if a user actually meant to mention more than 15 participants of that topic -- I think it should be fine to allow them. It is still not a spam + we're not notifying 100s of users (so not a lot of work for servers).</p>
</blockquote>
<p>Yeah, because it's probably unusual for a topic to have so many participants, it won't hugely matter whether we apply the rule there or not.</p>
<p>Probably the main downside if we do make the rule apply to <code>@topic</code> is that people may find it confusing or arbitrary — they may have used it previously in the same topic, and then another participant chimes in and now they can't.</p>
<p>And I guess in particular there's less to gain from the rule — less of a downside to going without it — in that although the threshold is 15, the rule is most valuable when there are hundreds or thousands of subscribers. And it's going to be quite rare to have that many <em>participants</em>, particularly in one topic.</p>
<p>Still, though. Consider some community that uses a "general chat" topic in one or more of their high-traffic streams. Over the years, that accumulates hundreds of people who've ever spoken in it. Then someone goes and uses <code>@topic</code> there.</p>
<p>If the mention succeeds, the admins are going to be annoyed, and wonder why the wildcard-mention restrictions didn't work. I feel like there isn't going to be a good answer for them to say why the restrictions didn't work; it's going to seem like clearly just an inconsistency, an incompletely implemented feature.</p>



<a name="1618391"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1618391" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prakhar Pratyush <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1618391">(Aug 01 2023 at 06:20)</a>:</h4>
<p>Makes sense. Thanks <span class="user-mention silent" data-user-id="2187">Greg Price</span> for the explanation.</p>
<p>I think  we should wait for a week for more feedback/views (if any) on this. Otherwise we are good to move forward with the <a href="#narrow/stream/101-design/topic/topic.20wildcard.20mention.20permission/near/1618198">decision above</a>.</p>



<a name="1618410"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1618410" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Howell <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1618410">(Aug 01 2023 at 09:05)</a>:</h4>
<p>Setting the threshold at 15 (for either stream or topic) reminds me of living under the you-can-only-edit-your-message-within-an-hour regime.  I kind of hate arbitrary limits for doing things.  I would try to just make it a warning if somebody tries to do a mention for a topic with lots of participants.</p>



<a name="1625919"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1625919" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1625919">(Aug 15 2023 at 22:44)</a>:</h4>
<p>I don't think a warning suffices for something that would trigger thousands of notifications; the reason the wildcard mention thing exists is that it's in part a permissions restriction.</p>



<a name="1625920"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1625920" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1625920">(Aug 15 2023 at 22:45)</a>:</h4>
<p>So I would argue for going with the rule Greg suggested above if it's easy to do so.</p>



<a name="1646953"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1646953" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1646953">(Sep 25 2023 at 22:32)</a>:</h4>
<p>Just to check, did the restriction for <code>@topic</code> end up getting implemented? If so, we'll need to change the name of the setting that controls the behavior (currently: "Who can use @all/@everyone mentions in large streams"), and update the linked <a href="https://chat.zulip.org/help/restrict-wildcard-mentions">help center page</a>.</p>



<a name="1646954"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1646954" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Prakhar Pratyush <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1646954">(Sep 25 2023 at 22:33)</a>:</h4>
<p>Not implemented yet!</p>



<a name="1646957"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1646957" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1646957">(Sep 25 2023 at 22:35)</a>:</h4>
<p>OK. Anyway, the plan above sounds good to me, but we should rename the setting on the same PR, and update the help center page either there or as a quick follow-up.</p>
<p>For the setting name, something like "Who can notify a large number of users with a wildcard mention"?</p>



<a name="1648758"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/topic%20wildcard%20mention%20permission/near/1648758" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/topic.20wildcard.20mention.20permission.html#1648758">(Sep 28 2023 at 05:48)</a>:</h4>
<p>Oh, and just flagging that <a href="https://zulip.com/help/restrict-wildcard-mentions">https://zulip.com/help/restrict-wildcard-mentions</a> will need to be updated accordingly.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>