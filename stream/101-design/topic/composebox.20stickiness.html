<html>
<head><meta charset="utf-8"><title>composebox stickiness · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html">composebox stickiness</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1201842"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1201842" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1201842">(Jun 05 2021 at 18:47)</a>:</h4>
<p>I think we should make the composebox stickier than it currently is (that is, it should be dismissed in fewer circumstances than it currently is). Here are some situations where the composebox closes, that I think it shouldn't:</p>
<ul>
<li>Click on a user to open info about them, then click elsewhere to get rid of the popover.</li>
<li>View source on a message and copy/paste from it</li>
<li>Click on the "search people" widget</li>
<li>Click on a non-link part of the sidebar (between topics, because you misclicked on topic, for instance)</li>
</ul>
<p>Please put any other similar situations that annoy you in this thread :)</p>
<p>Perhaps a general solution to this is to make it so that if you've started composing a messages, the only conditions that will close it are:</p>
<ul>
<li>You click the "X"</li>
<li>You press "Escape"</li>
<li>You change your narrow to a different stream</li>
<li>You press "Send"</li>
</ul>
<p>What do people think about that?</p>



<a name="1203109"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203109" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203109">(Jun 07 2021 at 20:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17945">Wesley Aptekar-Cassels</span> <a href="#narrow/stream/101-design/topic/composebox.20stickiness/near/1201842">said</a>:</p>
<blockquote>
<ul>
<li>Click on a user to open info about them, then click elsewhere to get rid of the popover.</li>
<li>Click on the "search people" widget</li>
</ul>
</blockquote>
<p>Definitely agreed!</p>
<blockquote>
<ul>
<li>View source on a message and copy/paste from it</li>
</ul>
</blockquote>
<p>Hmm, I don't seem to reproduce this. But I agree it shouldn't.</p>
<blockquote>
<ul>
<li>Click on a non-link part of the sidebar (between topics, because you misclicked on topic, for instance)</li>
</ul>
</blockquote>
<p>Hmm. I think I like in general that "click in a blank space" dismisses the compose box -- it aligns with the general expectation that you can escape out of some modal by clicking elsewhere.</p>
<p>For this particular annoyance, I wonder if what it's really pointing at is that the clickable areas for topics in the left sidebar should be contiguous with each other, without gaps. I hadn't noticed until just now that they aren't, but I probably have misclicked that way sometimes.</p>



<a name="1203123"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203123" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203123">(Jun 07 2021 at 20:44)</a>:</h4>
<blockquote>
<p>For this particular annoyance, I wonder if what it's really pointing at is that the clickable areas for topics in the left sidebar should be contiguous with each other, without gaps. I hadn't noticed until just now that they aren't, but I probably have misclicked that way sometimes.</p>
</blockquote>
<p>Yeah, that seems right.</p>
<blockquote>
<p>Hmm, I don't seem to reproduce this. But I agree it shouldn't.</p>
</blockquote>
<p><a href="/user_uploads/2/39/xBcuFAMkmPmXDUtJJKFxFoKL/Peek-2021-06-07-13-44.gif">Peek-2021-06-07-13-44.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/39/xBcuFAMkmPmXDUtJJKFxFoKL/Peek-2021-06-07-13-44.gif" title="Peek-2021-06-07-13-44.gif"><img src="/user_uploads/2/39/xBcuFAMkmPmXDUtJJKFxFoKL/Peek-2021-06-07-13-44.gif"></a></div>



<a name="1203129"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203129" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203129">(Jun 07 2021 at 20:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17945">Wesley Aptekar-Cassels</span> <a href="#narrow/stream/101-design/topic/composebox.20stickiness/near/1203123">said</a>:</p>
<blockquote>
<blockquote>
<p>Hmm, I don't seem to reproduce this. But I agree it shouldn't.</p>
</blockquote>
<p><a href="/user_uploads/2/39/xBcuFAMkmPmXDUtJJKFxFoKL/Peek-2021-06-07-13-44.gif">Peek-2021-06-07-13-44.gif</a></p>
</blockquote>
<p>Ah, got it. (I was using the little "copy and close" widget at the top right of the source textbox.)</p>
<p>... Huh, but I still don't reproduce. I can select text, then hit Ctrl+C, and the compose box stays open for me to go click into and hit Ctrl+V to paste. Or I can just select text, and middle-click into the compose box, and it stays open throughout.</p>
<p>Is there something in particular you're doing after selecting the text?</p>
<p>I'm using Chrome on Linux.</p>



<a name="1203131"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203131" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203131">(Jun 07 2021 at 20:48)</a>:</h4>
<p>I'm on Firefox on Linux — can you repro there?</p>



<a name="1203139"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203139" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203139">(Jun 07 2021 at 20:55)</a>:</h4>
<p>Huh, it stays open for me (desktop app on a Mac).</p>



<a name="1203156"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203156" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203156">(Jun 07 2021 at 21:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17945">Wesley Aptekar-Cassels</span> <a href="#narrow/stream/101-design/topic/composebox.20stickiness/near/1203131">said</a>:</p>
<blockquote>
<p>I'm on Firefox on Linux — can you repro there?</p>
</blockquote>
<p>Let's see…</p>
<p>Yep! The compose box disappears as soon as I select the text.</p>



<a name="1203157"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203157" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203157">(Jun 07 2021 at 21:05)</a>:</h4>
<p>Cool, I'll open a issue. (<a href="https://github.com/zulip/zulip/pull/18731">#18731</a>)</p>



<a name="1203161"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203161" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203161">(Jun 07 2021 at 21:08)</a>:</h4>
<p>I am curious about folks' thoughts on this as a solution:</p>
<blockquote>
<p>Perhaps a general solution to this is to make it so that if you've started composing a messages, the only conditions that will close it are:</p>
<ul>
<li>You click the "X"</li>
<li>You press "Escape"</li>
<li>You change your narrow to a different stream</li>
<li>You press "Send"</li>
</ul>
<p>What do people think about that?</p>
</blockquote>
<p>(cc <span class="user-mention" data-user-id="12178">@Alex Vandiver</span>, since I think you had some thoughts about UI modality that may be relevant)</p>



<a name="1203239"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203239" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203239">(Jun 07 2021 at 22:07)</a>:</h4>
<p>That seems mostly-reasonable to me -- I think I'd probably try clicking elsewhere (ref <a href="#narrow/stream/101-design/topic/composebox.20stickiness/near/1203109">Greg's message</a>), and determine it was "stickier" than that, and then use <code>Esc</code> as my way out.  But that seems, on the surface, like a more consistent set of rules to operate under.</p>



<a name="1203240"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203240" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203240">(Jun 07 2021 at 22:09)</a>:</h4>
<p>I think specifically what trips me up is that there's the "I'm pressing <code>n</code> skimming through streams" mode, and there's the "typing a response, pressing enter, repeat" mode.  You go from the first to the second by pressing <code>r</code>, and _remain_ in the second mode until you press escape, click to a different stream, or a multitude of other things (currently).  I think your proposal simplifies the list of ways one goes from the second mode to the first, which is good.  I feel like there isn't enough visual cluing as to which mode I'm in besides the box, though.</p>



<a name="1203376"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203376" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203376">(Jun 08 2021 at 00:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17945">Wesley Aptekar-Cassels</span> <a href="#narrow/stream/101-design/topic/composebox.20stickiness/near/1201842">said</a>:</p>
<blockquote>
<p>Perhaps a general solution to this is to make it so that if you've started composing a messages, the only conditions that will close it are:</p>
<ul>
<li>You click the "X"</li>
<li>You press "Escape"</li>
<li>You change your narrow to a different stream</li>
<li>You press "Send"</li>
</ul>
<p>What do people think about that?</p>
</blockquote>
<p>I'm pretty sure I would find this painfully sticky. I suspect a lot of other keyboard-heavy users would feel the same way.</p>
<p>I definitely like the idea of working out an explicit list of what conditions close the compose box, though.</p>
<p>I pretty constantly use:</p>
<ul>
<li>The compose box is empty, and you hit Up or Down.</li>
</ul>
<p>I think we recently added, in response to a user request:</p>
<ul>
<li>The compose box is empty, and you hit PgUp or PgDown.</li>
</ul>
<p>I think I pretty often use:</p>
<ul>
<li>You click in the empty space at the bottom of the message list. (This is the most obvious form of "click elsewhere" to try -- and it's an enormous click target.)</li>
</ul>



<a name="1203377"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203377" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Aptekar-Cassels <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203377">(Jun 08 2021 at 00:13)</a>:</h4>
<p>When I say "if you've started composing a messages", I mean the composebox is non-empty (or perhaps has &lt; N characters in it, where N is somewhere around 1-3). Does that make it more appealing to you, or does that still feel too sticky?</p>



<a name="1203378"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203378" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203378">(Jun 08 2021 at 00:14)</a>:</h4>
<p>Ah, except that this part:</p>
<blockquote>
<ul>
<li>You change your narrow to a different stream</li>
</ul>
</blockquote>
<p>would be much too aggressive in closing it!</p>
<p>Currently, if you've typed anything into the compose box we keep it open even as you change narrows. That can come in extremely handy when you're writing up a message and want to refer to a conversation somewhere else.</p>



<a name="1203380"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1203380" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1203380">(Jun 08 2021 at 00:15)</a>:</h4>
<p>Ah OK, that helps.</p>
<p>I think I still find it helpful that I can "click elsewhere" -- mostly, the big empty space at the bottom of the message list -- to dismiss the compose box even when there's something there. But I'm not sure, and that's a lot more marginal.</p>



<a name="1287074"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1287074" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yash RE <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1287074">(Nov 26 2021 at 10:18)</a>:</h4>
<p>I was looking into fixing <a href="https://github.com/zulip/zulip/pull/18731">#18731</a>, but it seems I cannot reproduce on firefox 94.0.2 on windows.</p>
<div class="message_inline_image"><a href="/user_uploads/2/14/BwkovUtA_fnLwPKgmOokFpom/261121-view_source_text_select_compose_cant_reproduce.gif"><img src="/user_uploads/2/14/BwkovUtA_fnLwPKgmOokFpom/261121-view_source_text_select_compose_cant_reproduce.gif"></a></div><p>Can other people still reproduce this? (<span class="user-mention" data-user-id="17967">@Ganesh Pawar (ganpa3)</span>)</p>



<a name="1287442"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1287442" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1287442">(Nov 28 2021 at 07:13)</a>:</h4>
<p>Not replicating for me on Firefox 94.0.1 on a Mac.</p>



<a name="1288835"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1288835" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1288835">(Nov 30 2021 at 22:54)</a>:</h4>
<p><span class="user-mention" data-user-id="2187">@Greg Price</span> are you able to still reproduce?</p>



<a name="1288840"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1288840" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1288840">(Nov 30 2021 at 22:56)</a>:</h4>
<p>Nope -- no longer reproduces for me. (In Chrome on Linux.)</p>



<a name="1288986"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1288986" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1288986">(Dec 01 2021 at 00:54)</a>:</h4>
<p><span class="user-mention" data-user-id="2187">@Greg Price</span> can you try your Firefox on Linux? The discussion slice suggests you can repro there but not in chrome previously.</p>



<a name="1289209"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1289209" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1289209">(Dec 01 2021 at 18:41)</a>:</h4>
<p>Ah, good catch. Let's see…</p>



<a name="1289212"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1289212" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1289212">(Dec 01 2021 at 18:42)</a>:</h4>
<p>Nope -- doesn't repro in Firefox on Linux either.</p>



<a name="1289365"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1289365" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1289365">(Dec 01 2021 at 20:23)</a>:</h4>
<p>Thanks!  I think we can potentially assume this was caused by a Firefox quirk that no longer exists.</p>



<a name="1289370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/composebox%20stickiness/near/1289370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/composebox.20stickiness.html#1289370">(Dec 01 2021 at 20:26)</a>:</h4>
<p>Closed.  It's still possible we want to try to migrate more towards <code>getSelection().type === "Range"</code> for this sort of check to say what we mean more consistently for these.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>