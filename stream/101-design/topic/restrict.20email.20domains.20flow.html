<html>
<head><meta charset="utf-8"><title>restrict email domains flow · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html">restrict email domains flow</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1411210"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411210" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411210">(Jul 27 2022 at 05:45)</a>:</h4>
<p>The flow for restricting email domains feels odd; I wonder if we can improve it.</p>
<ol>
<li>The changes are made immediately before you exit the dialog, which seems a bit surprising:</li>
</ol>
<p><a href="/user_uploads/2/b1/eWI1FtDHBK_RtPxg9Zx7dlYn/Screen-Shot-2022-07-26-at-10.40.25-PM.png">Screen-Shot-2022-07-26-at-10.40.25-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b1/eWI1FtDHBK_RtPxg9Zx7dlYn/Screen-Shot-2022-07-26-at-10.40.25-PM.png" title="Screen-Shot-2022-07-26-at-10.40.25-PM.png"><img src="/user_uploads/2/b1/eWI1FtDHBK_RtPxg9Zx7dlYn/Screen-Shot-2022-07-26-at-10.40.25-PM.png"></a></div><ol start="2">
<li>There's a tricky behavior where you just changed the config to restrict domains and haven'd confirmed it you, you still have to click "Save changes" outside of the modal, even though you were already allowed to modify the list of domains.</li>
</ol>
<p><a href="/user_uploads/2/e2/jMYbzDnxAZ_Kzk1Rq3HRj4vL/Screen-Shot-2022-07-26-at-10.43.42-PM.png">Screen-Shot-2022-07-26-at-10.43.42-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/e2/jMYbzDnxAZ_Kzk1Rq3HRj4vL/Screen-Shot-2022-07-26-at-10.43.42-PM.png" title="Screen-Shot-2022-07-26-at-10.43.42-PM.png"><img src="/user_uploads/2/e2/jMYbzDnxAZ_Kzk1Rq3HRj4vL/Screen-Shot-2022-07-26-at-10.43.42-PM.png"></a></div>



<a name="1411582"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411582" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411582">(Jul 27 2022 at 20:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/restrict.20email.20domains.20flow/near/1411210">said</a>:</p>
<blockquote>
<ol>
<li>
<p>The changes are made immediately before you exit the dialog, which seems a bit surprising: […]</p>
</li>
<li>
<p>There's a tricky behavior where you just changed the config to restrict domains and haven'd confirmed it you, you still have to click "Save changes" outside of the modal, even though you were already allowed to modify the list of domains.</p>
</li>
</ol>
</blockquote>
<p>Can you expand on this a bit: what does it mean in point 1 that the changes are made immediately?</p>



<a name="1411584"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411584" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411584">(Jul 27 2022 at 20:58)</a>:</h4>
<p>It is kind of awkward that we have the list in two different places: in that main settings page, with inline layout as just text, and then as a table in its own modal. It sounds like the double-confirm oddness is perhaps downstream of that design choice.</p>



<a name="1411585"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411585" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411585">(Jul 27 2022 at 20:59)</a>:</h4>
<p>I wonder if we could get the table there into the same settings page with the surrounding settings, rather than as its own modal.</p>



<a name="1411586"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411586" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411586">(Jul 27 2022 at 21:00)</a>:</h4>
<p>Manipulating a list like this is one thing that I think the patterns in a macOS settings UI do pretty nicely:</p>
<ul>
<li>There's a table.</li>
<li>You can delete or edit any row of the table.</li>
<li>There's also a "plus" icon just outside the table, for adding a row.</li>
</ul>
<p>So that might be a useful model to look at.</p>
<p>(Not currently at a Mac, or I'd post an example screenshot.)</p>



<a name="1411595"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411595" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411595">(Jul 27 2022 at 21:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2187">Greg Price</span> <a href="#narrow/stream/101-design/topic/restrict.20email.20domains.20flow/near/1411582">said</a>:</p>
<blockquote>
<p>Can you expand on this a bit: what does it mean in point 1 that the changes are made immediately?</p>
</blockquote>
<p><a href="/user_uploads/2/59/bPsxTlnNMXtstTUgfAU_RFmm/Screen-Shot-2022-07-27-at-2.08.32-PM.png">Screen-Shot-2022-07-27-at-2.08.32-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/59/bPsxTlnNMXtstTUgfAU_RFmm/Screen-Shot-2022-07-27-at-2.08.32-PM.png" title="Screen-Shot-2022-07-27-at-2.08.32-PM.png"><img src="/user_uploads/2/59/bPsxTlnNMXtstTUgfAU_RFmm/Screen-Shot-2022-07-27-at-2.08.32-PM.png"></a></div><p>The modal gives you an immediate "Added/Deleted successfully!" confirmation. The button for the modal is a "Close" button, because the change has already gone through.</p>



<a name="1411596"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411596" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411596">(Jul 27 2022 at 21:11)</a>:</h4>
<p>I suppose it was set up the way it currently is because there are lots of other settings in the same settings tab, and we wanted to keep this one from feeling like it's taking over the whole page.</p>



<a name="1411634"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411634" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411634">(Jul 27 2022 at 21:27)</a>:</h4>
<p>Oh I see -- when you change the <em>list of</em> allowed domains in the modal, that goes through immediately.</p>
<p>But point 2 is saying that when you change <em>whether such a list applies</em>, that requires a "save" step in the outer settings screen.</p>



<a name="1411636"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411636" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411636">(Jul 27 2022 at 21:28)</a>:</h4>
<p>And that you can be in a state where that latter change hasn't yet been applied, and you go and modify the list even though the list doesn't currently actually do anything.</p>



<a name="1411638"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411638" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411638">(Jul 27 2022 at 21:28)</a>:</h4>
<p>That sure sounds likely to be confusing for anyone running into it.</p>



<a name="1411663"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411663" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411663">(Jul 27 2022 at 21:40)</a>:</h4>
<p>I think inlining this modal into the page is probably a pretty reasonable path forward for it... though if we do that, it might make the "organization permissions" page long enough that we should think about splitting it in the menu.</p>



<a name="1411664"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411664" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411664">(Jul 27 2022 at 21:41)</a>:</h4>
<p>That said, I wouldn't expect moving it out of the modal to be particularly easy; it's a bit of a messy component that is not particularly similar to other things we have.</p>



<a name="1411694"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411694" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411694">(Jul 27 2022 at 22:32)</a>:</h4>
<p>I think the most consistent approach would be to have a table with an "Add a domain" button next to the header, as we are moving towards in general (e.g. <a href="https://github.com/zulip/zulip/pull/21878">#21878</a>).</p>



<a name="1411695"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/restrict%20email%20domains%20flow/near/1411695" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/restrict.20email.20domains.20flow.html#1411695">(Jul 27 2022 at 22:35)</a>:</h4>
<p>If we like that design, I can file an issue for it (not high priority).</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>