<html>
<head><meta charset="utf-8"><title>giphy integration · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html">giphy integration</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1157663"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157663" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157663">(Apr 08 2021 at 17:03)</a>:</h4>
<p>I guess we should do a thread about the fact that Zulip now has a Giphy integration!  I expect we'll generally not want to use it much in this community, and we might even disable it here, because animated GIFs can be annoying/distracting, but there are a lot of users who feel differently, and we want to support them enjoying animated GIFs in Zulip if that's what they want.</p>
<p>However, I think for the next week or so, folks should definitely play with it (mainly in <a class="stream-topic" data-stream-id="7" href="/#narrow/stream/7-test-here/topic/Giphy">#test here &gt; Giphy</a>) -- since we want to find all the bugs / UX glitches, and the only way to do that is to test.  </p>
<p>Let's use this thread for feedback on the implementation!</p>



<a name="1157664"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157664" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157664">(Apr 08 2021 at 17:03)</a>:</h4>
<p>One thing that isn't merged yet but should be merged soon is support for it in the message edit UI.</p>



<a name="1157698"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157698" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157698">(Apr 08 2021 at 17:39)</a>:</h4>
<p>I assume the rendering is sufficiently stable for other clients? ZT doesn't show anything in that topic, or at least no links, so we'll need to update for this feature.</p>



<a name="1157714"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157714" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157714">(Apr 08 2021 at 17:50)</a>:</h4>
<p>Zulip terminal doesn't need to do any changes for this. We are just generating links using GIPHY SDK.</p>



<a name="1157722"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157722" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157722">(Apr 08 2021 at 18:02)</a>:</h4>
<p>Well, I'm seeing blank messages, so something isn't right.</p>



<a name="1157723"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157723" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157723">(Apr 08 2021 at 18:02)</a>:</h4>
<p>We do have one issue which could be correlated, depending on the generated html.</p>



<a name="1157733"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157733" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157733">(Apr 08 2021 at 18:07)</a>:</h4>
<p>The syntax for the sent GIF message is <code>[](link-to-gif)</code>, it might be expected a bit.</p>



<a name="1157740"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157740" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157740">(Apr 08 2021 at 18:11)</a>:</h4>
<p>Giphy GIFs appear to have titles; can we use <code>[gif-title](link-to-gif)</code> for better accessibility?</p>



<a name="1157741"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157741" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157741">(Apr 08 2021 at 18:14)</a>:</h4>
<p>I guess that would currently cause the titles to become visible to web users too. We really need to enable the <code>![gif-title](link-to-gif)</code> syntax.</p>



<a name="1157798"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157798" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157798">(Apr 08 2021 at 19:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1157740">said</a>:</p>
<blockquote>
<p>Giphy GIFs appear to have titles; can we use <code>[gif-title](link-to-gif)</code> for better accessibility?</p>
</blockquote>
<p>This is something we need more user feedback on. It is not a common practice to send titles with GIFs.</p>



<a name="1157865"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157865" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aryan Shridhar <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157865">(Apr 08 2021 at 19:57)</a>:</h4>
<blockquote>
<p>Let's use this thread for feedback on the implementation!</p>
</blockquote>
<p>The Giphy integration looks nice!, However noticed a minor issue related to <code>Giphy</code> box not collapsing when the user navigates to <code>Settings</code> menu. Here's the GIF:<br>
<a href="/user_uploads/2/67/YL39-M5idshpirCvwv69Lc5c/giphy-not-collapsing.gif">giphy-not-collapsing.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/67/YL39-M5idshpirCvwv69Lc5c/giphy-not-collapsing.gif" title="giphy-not-collapsing.gif"><img src="/user_uploads/2/67/YL39-M5idshpirCvwv69Lc5c/giphy-not-collapsing.gif"></a></div><p>This maybe also the reason because of which it's overlaying over <code>emoji-picker</code> menu.<br>
<a href="/user_uploads/2/24/q24k39FhuLImUnrqZzJgGESN/gif-not-collapsing.gif">giphy-overlaying.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/24/q24k39FhuLImUnrqZzJgGESN/gif-not-collapsing.gif" title="giphy-overlaying.gif"><img src="/user_uploads/2/24/q24k39FhuLImUnrqZzJgGESN/gif-not-collapsing.gif"></a></div>



<a name="1157881"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157881" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157881">(Apr 08 2021 at 20:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1157741">said</a>:</p>
<blockquote>
<p>I guess that would currently cause the titles to become visible to web users too. We really need to enable the <code>![gif-title](link-to-gif)</code> syntax.</p>
</blockquote>
<p>Yeah.</p>



<a name="1157884"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157884" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157884">(Apr 08 2021 at 20:38)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/13891">https://github.com/zulip/zulip/pull/13891</a> is the latest PR on that front.</p>



<a name="1157888"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157888" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157888">(Apr 08 2021 at 20:39)</a>:</h4>
<p>Maybe worth a separate thread, but this feels like something we should possibly just spend an afternoon trying to integrate (like backslash escaping).</p>



<a name="1157925"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157925" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157925">(Apr 08 2021 at 21:02)</a>:</h4>
<p>Just back at my machine and for ZT this falls under <a href="https://github.com/zulip/zulip-terminal/pull/715">#T715</a>.</p>



<a name="1157997"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1157997" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mateusz Mandera <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1157997">(Apr 08 2021 at 21:50)</a>:</h4>
<p>How did we pick the icon for the UI? Is it an  icon recommended by Giphy or something of our own? I didn't find its look very intuitive - I had no idea what that button could be until I clicked it - not sure if others shared this experience</p>



<a name="1158034"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158034" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158034">(Apr 08 2021 at 22:12)</a>:</h4>
<p>It's Giphy's logo.</p>



<a name="1158035"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158035" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158035">(Apr 08 2021 at 22:12)</a>:</h4>
<p>So probably people who like Giphy are familiar with it, but people like me who aren't in that sort of thing are not <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>.</p>



<a name="1158036"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158036" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158036">(Apr 08 2021 at 22:12)</a>:</h4>
<p>But I don't really know.  It may be worth looking at whether other apps use a different icon for this purpose.</p>



<a name="1158172"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158172" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Yuan <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158172">(Apr 09 2021 at 03:22)</a>:</h4>
<p>Question: When one uses multiple giphys in one message, the link text of the first one ends up showing, whereas when I use other image sources we don't get the link text showing</p>
<p><a href="/user_uploads/2/b1/XdU89XYqnlASu9DabOsc1-EM/Screen-Shot-2021-04-09-at-11.11.49-AM.png">giphy</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/b1/XdU89XYqnlASu9DabOsc1-EM/Screen-Shot-2021-04-09-at-11.11.49-AM.png" title="giphy"><img src="/user_uploads/2/b1/XdU89XYqnlASu9DabOsc1-EM/Screen-Shot-2021-04-09-at-11.11.49-AM.png"></a></div><p><a href="/user_uploads/2/e9/ko--YiCAzLDQzE9i-Jdk4xVC/Screen-Shot-2021-04-09-at-11.20.08-AM.png">normal external image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/e9/ko--YiCAzLDQzE9i-Jdk4xVC/Screen-Shot-2021-04-09-at-11.20.08-AM.png" title="normal external image"><img src="/user_uploads/2/e9/ko--YiCAzLDQzE9i-Jdk4xVC/Screen-Shot-2021-04-09-at-11.20.08-AM.png"></a></div><p>Message raw content</p>
<div class="codehilite"><pre><span></span><code>[](https://media3.giphy.com/media/MeIucAjPKoA120R7sN/giphy.gif?cid=c623cb35okj0gjq5gihelrllo4qvb368ditnti9fz6bvh3al&amp;rid=giphy.gif)

[](https://media0.giphy.com/media/DhstvI3zZ598Nb1rFf/giphy-downsized-medium.gif?cid=c623cb35okj0gjq5gihelrllo4qvb368ditnti9fz6bvh3al&amp;rid=giphy-downsized-medium.gif)
</code></pre></div>



<a name="1158362"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158362" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158362">(Apr 09 2021 at 06:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="17098">Aryan Shridhar</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1157865">said</a>:</p>
<blockquote>
<blockquote>
<p>Let's use this thread for feedback on the implementation!</p>
</blockquote>
<p>The Giphy integration looks nice!, However noticed a minor issue related to <code>Giphy</code> box not collapsing when the user navigates to <code>Settings</code> menu. Here's the GIF:<br>
<a href="/user_uploads/2/67/YL39-M5idshpirCvwv69Lc5c/giphy-not-collapsing.gif">giphy-not-collapsing.gif</a></p>
<p>This maybe also the reason because of which it's overlaying over <code>emoji-picker</code> menu.<br>
<a href="/user_uploads/2/24/q24k39FhuLImUnrqZzJgGESN/gif-not-collapsing.gif">giphy-overlaying.gif</a></p>
</blockquote>
<p>This isn't happening for me. Can you post steps to reproduce it?</p>



<a name="1158364"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158364" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158364">(Apr 09 2021 at 06:14)</a>:</h4>
<p>Oh! It is happening on <a href="http://chat.zulip.org">chat.zulip.org</a> but not on upstream/master.</p>



<a name="1158366"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158366" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158366">(Apr 09 2021 at 06:15)</a>:</h4>
<p>Looks like I added it as part of <a href="https://github.com/zulip/zulip/commit/700cfd648c4cdc3e444a412a9e8bc8a6a0018792">700cfd648c4cdc3e444a412a9e8bc8a6a0018792</a>, my bad.</p>



<a name="1158367"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158367" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158367">(Apr 09 2021 at 06:16)</a>:</h4>
<p>It should be fixed after we have redeploy here.</p>



<a name="1158368"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158368" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158368">(Apr 09 2021 at 06:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="10349">Mateusz Mandera</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1157997">said</a>:</p>
<blockquote>
<p>How did we pick the icon for the UI? Is it an  icon recommended by Giphy or something of our own? I didn't find its look very intuitive - I had no idea what that button could be until I clicked it - not sure if others shared this experience</p>
</blockquote>
<p>Suggestions?</p>



<a name="1158369"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158369" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158369">(Apr 09 2021 at 06:19)</a>:</h4>
<p><a href="/user_uploads/2/bc/XRPb0vdPA42mZLNaSrvbzFFC/Screenshot_20210409-114830.jpg">Screenshot_20210409-114830.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/bc/XRPb0vdPA42mZLNaSrvbzFFC/Screenshot_20210409-114830.jpg" title="Screenshot_20210409-114830.jpg"><img src="/user_uploads/2/bc/XRPb0vdPA42mZLNaSrvbzFFC/Screenshot_20210409-114830.jpg"></a></div>



<a name="1158370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158370">(Apr 09 2021 at 06:19)</a>:</h4>
<p>How about something like this?</p>



<a name="1158371"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158371" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158371">(Apr 09 2021 at 06:20)</a>:</h4>
<p>It is used by WhatsApp is pretty clear for what it stands for.</p>



<a name="1158381"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158381" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aryan Shridhar <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158381">(Apr 09 2021 at 06:43)</a>:</h4>
<blockquote>
<p>How about something like this?</p>
</blockquote>
<p>Yup, This is a pretty standard icon for displaying a GIF popovers and is used by Telegram,Signal and others. This is how twitter handles it: <a href="/user_uploads/2/89/4YlimB-wUCNGSkkJD-gu_D5b/Screenshot-from-2021-04-09-12-04-30.png">Screenshot-from-2021-04-09-12-04-30.png</a> <br>
and how facebook handles it: <br>
<a href="/user_uploads/2/5/dnJpInCb52DLeBNSzDlrXnUU/Screenshot-from-2021-04-09-12-05-36.png">Screenshot-from-2021-04-09-12-05-36.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/2/89/4YlimB-wUCNGSkkJD-gu_D5b/Screenshot-from-2021-04-09-12-04-30.png" title="Screenshot-from-2021-04-09-12-04-30.png"><img src="/user_uploads/2/89/4YlimB-wUCNGSkkJD-gu_D5b/Screenshot-from-2021-04-09-12-04-30.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/5/dnJpInCb52DLeBNSzDlrXnUU/Screenshot-from-2021-04-09-12-05-36.png" title="Screenshot-from-2021-04-09-12-05-36.png"><img src="/user_uploads/2/5/dnJpInCb52DLeBNSzDlrXnUU/Screenshot-from-2021-04-09-12-05-36.png"></a></div><p>The current giphy icon looks more like a <a href="https://fontawesome.com/v4.7.0/icon/file">file icon</a> to me.</p>



<a name="1158383"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158383" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aryan Shridhar <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158383">(Apr 09 2021 at 06:48)</a>:</h4>
<p>Also, I can reproduce this in <a href="http://chat.zulip.org">chat.zulip.org</a>, regarding the absence of tooltip when hovered upon the giphy icon.</p>



<a name="1158396"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158396" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aryan Shridhar <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158396">(Apr 09 2021 at 07:29)</a>:</h4>
<p>Ah! The tooltip works fine now :)</p>



<a name="1158742"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158742" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158742">(Apr 09 2021 at 16:52)</a>:</h4>
<p>We should look at webapp UI, not mobile UI, for this, since the constraints are different, and also show it next to other icons so one can see size.</p>
<p>So Facebook Messenger is this:<br>
<a href="/user_uploads/2/ee/Zwj3TpFtnCAWp0qx2kfXKsT2/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/ee/Zwj3TpFtnCAWp0qx2kfXKsT2/image.png" title="image.png"><img src="/user_uploads/2/ee/Zwj3TpFtnCAWp0qx2kfXKsT2/image.png"></a></div>



<a name="1158743"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158743" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158743">(Apr 09 2021 at 16:53)</a>:</h4>
<p>I think I'd be fine with something like that; though we'd need to be careful to make sure it doesn't totally dominate the other icons in that row, since we need to make the GIF icon large enough that "GIF" is readable.  (Possibly by making the other ones bigger?)</p>



<a name="1158744"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158744" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158744">(Apr 09 2021 at 16:54)</a>:</h4>
<p>It looks like Font Awesome doesn't have an icon of that form.  So we'll probably end up wanting to use the <code>static/assets/icons/</code> system for this.</p>



<a name="1158745"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158745" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158745">(Apr 09 2021 at 16:55)</a>:</h4>
<p>Anyone excited to work on this?</p>



<a name="1158775"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158775" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158775">(Apr 09 2021 at 17:16)</a>:</h4>
<p>I just had a look in the webapp - I agree the icon isn't as obvious as it could be, but also the thing that comes to mind is that the search box doesn't look like enough like our other search (or text) boxes?</p>



<a name="1158778"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158778" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aryan Shridhar <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158778">(Apr 09 2021 at 17:22)</a>:</h4>
<blockquote>
<p>We should look at webapp UI, not mobile UI, for this, since the constraints are different, and also show it next to other icons so one can see size.</p>
</blockquote>
<p>The above screenshots (twitter and facebook) are with regards to webapp UI (When composing a private message to someone in <a href="http://facebook.com">facebook.com</a>).<br>
<a href="/user_uploads/2/2d/vkL4_tG_MeyPkvOYO3V2TigK/Screenshot-from-2021-04-09-22-50-32.png">Screenshot-from-2021-04-09-22-50-32.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/2d/vkL4_tG_MeyPkvOYO3V2TigK/Screenshot-from-2021-04-09-22-50-32.png" title="Screenshot-from-2021-04-09-22-50-32.png"><img src="/user_uploads/2/2d/vkL4_tG_MeyPkvOYO3V2TigK/Screenshot-from-2021-04-09-22-50-32.png"></a></div>



<a name="1158818"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158818" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158818">(Apr 09 2021 at 19:02)</a>:</h4>
<p>Ahh, <a href="http://facebook.com">facebook.com</a> (which is a mobile size compose widget), not <a href="http://messenger.com">messenger.com</a>.  Anyway, I think a GIF icon is reasonable.  If we need toincrease icon size in that area, that'd probably a net improvement.</p>



<a name="1158819"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158819" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158819">(Apr 09 2021 at 19:03)</a>:</h4>
<p>(Also, the vertical alignment of the "Aa" in that Facebook screenshot looks a couple pixels high -- it's crazy to see that in the main product of a trillion dollar companies).</p>



<a name="1158822"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158822" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158822">(Apr 09 2021 at 19:05)</a>:</h4>
<p>Though I know how hard it is to avoid little visual things like that, so I'm not really surprised.  Arash, Dropbox's CTO founder, had a reputation for spending a bunch of time in product reviews for new features complaining about pixels being off, until a reorg when the company had ~1200 people.</p>



<a name="1158827"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158827" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158827">(Apr 09 2021 at 19:22)</a>:</h4>
<p>(You’re not even going to mention the rounding artifact under their emoji button?)</p>



<a name="1158869"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158869" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158869">(Apr 09 2021 at 19:59)</a>:</h4>
<p>Oh, yeah, the extended underline?  Yeah that's pretty bad too.</p>



<a name="1158982"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158982" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158982">(Apr 09 2021 at 22:55)</a>:</h4>
<p>For reference, Slack uses the colorful box icon, but theirs is much bigger, and I don't think you ever have to navigate just from the icon with no text. Something that says "GIF" definitely makes more sense for us.<br>
<a href="/user_uploads/2/fe/RD6kpRRLbjmFpb2_Ct-tcC-e/Screenshot-from-2021-04-09-15-53-20.png">Screenshot-from-2021-04-09-15-53-20.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/fe/RD6kpRRLbjmFpb2_Ct-tcC-e/Screenshot-from-2021-04-09-15-53-20.png" title="Screenshot-from-2021-04-09-15-53-20.png"><img src="/user_uploads/2/fe/RD6kpRRLbjmFpb2_Ct-tcC-e/Screenshot-from-2021-04-09-15-53-20.png"></a></div>



<a name="1158983"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158983" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158983">(Apr 09 2021 at 22:56)</a>:</h4>
<p>Is there a way to make "Powered by Giphy" look more elegant?</p>



<a name="1158984"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158984" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158984">(Apr 09 2021 at 22:56)</a>:</h4>
<p>Somehow my overall impression of the Giphy search menu is that it reminds me of internet in the 90s. :) <span aria-label="construction zone" class="emoji emoji-1f6a7" role="img" title="construction zone">:construction_zone:</span></p>



<a name="1158989"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158989" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158989">(Apr 09 2021 at 23:00)</a>:</h4>
<p>Part of the problem is the “Powered by Giphy” comes in its own black rectangle that isn’t integrated into the rest of the popover. It would make sense if the black spanned the entire footer of the popover.</p>



<a name="1158993"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1158993" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1158993">(Apr 09 2021 at 23:01)</a>:</h4>
<p>Also, the rounding on our GIF search bar is different from the rounding on all our other text boxes.</p>



<a name="1159027"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1159027" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1159027">(Apr 09 2021 at 23:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1158984">said</a>:</p>
<blockquote>
<p>Somehow my overall impression of the Giphy search menu is that it reminds me of internet in the 90s. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> <span aria-label="construction zone" class="emoji emoji-1f6a7" role="img" title="construction zone">:construction_zone:</span></p>
</blockquote>
<p>The Giphy search menu is <a href="https://github.com/Giphy/giphy-js">https://github.com/Giphy/giphy-js</a> -- aka their official SDK.  We can look at customizing it, but may also want to interact with upstream on some of these things.  (They replied to previous issues we've filed quickly).</p>



<a name="1159031"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1159031" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1159031">(Apr 09 2021 at 23:40)</a>:</h4>
<p>Also we probably want to have simplebar setup on it to avoid Linux/Windows scrollbars: <a href="/user_uploads/2/31/2Z7Ix4RoaXQ6hdWhm9B9IOGD/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/31/2Z7Ix4RoaXQ6hdWhm9B9IOGD/image.png" title="image.png"><img src="/user_uploads/2/31/2Z7Ix4RoaXQ6hdWhm9B9IOGD/image.png"></a></div>



<a name="1159037"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1159037" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1159037">(Apr 09 2021 at 23:43)</a>:</h4>
<p>The popover header (including the input box) and footer (including the Giphy logo) seem to be entirely our code.</p>



<a name="1159055"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1159055" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1159055">(Apr 10 2021 at 00:33)</a>:</h4>
<p>What do folks think about how many images to show? Any giphy users who can provide some insight?</p>
<p>For reference, Slack just shows you one and lets you cycle to a different one if you don't like it. FB Messenger has a vertical scroller where you basically see one at a time. Twitter and Discord show a bunch in a grid like we do.</p>



<a name="1159599"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1159599" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1159599">(Apr 10 2021 at 15:33)</a>:</h4>
<p>The grid thing makes sense to me.  That said, I think the "carousel" is also a feature of Giphy's library, so it'd be easy to change.  It also seems possible that we could implement both models with a toggle.</p>



<a name="1159602"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1159602" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1159602">(Apr 10 2021 at 15:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1159037">said</a>:</p>
<blockquote>
<p>The popover header (including the input box) and footer (including the Giphy logo) seem to be entirely our code.</p>
</blockquote>
<p>Ahh, OK, then we should definitely just tweak both of those.</p>



<a name="1159849"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1159849" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1159849">(Apr 11 2021 at 05:24)</a>:</h4>
<p>Thanks for feedback everyone. I am planning on working on this today.</p>



<a name="1159988"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1159988" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1159988">(Apr 11 2021 at 13:51)</a>:</h4>
<p><a href="user_uploads/2/ab/9FWvKqEMgoLNt285uRUj6eML/Screenshot-2021-04-11-at-7.24.47-PM.png">GIPHY new style</a> </p>
<div class="message_inline_image"><a href="user_uploads/2/ab/9FWvKqEMgoLNt285uRUj6eML/Screenshot-2021-04-11-at-7.24.47-PM.png" title="GIPHY new style"><img src="user_uploads/2/ab/9FWvKqEMgoLNt285uRUj6eML/Screenshot-2021-04-11-at-7.24.47-PM.png"></a></div><p>Does it look better now?</p>



<a name="1160674"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1160674" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1160674">(Apr 12 2021 at 18:36)</a>:</h4>
<p>Yes, although the left padding in the “Search GIFs” textbox is still more than I expect.</p>



<a name="1160677"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1160677" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1160677">(Apr 12 2021 at 18:36)</a>:</h4>
<p>Also, the right side of the right column of GIFs is not rounded, suggesting that it’s overflowing to the right a little bit.</p>



<a name="1160698"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1160698" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1160698">(Apr 12 2021 at 18:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="699">Anders Kaseorg</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1160677">said</a>:</p>
<blockquote>
<p>Also, the right side of the right column of GIFs is not rounded, suggesting that it’s overflowing to the right a little bit.</p>
</blockquote>
<p>Yeah, looks like it.</p>



<a name="1165848"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1165848" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1165848">(Apr 19 2021 at 07:23)</a>:</h4>
<p>the giphy icon reminds me of something related to documents... no good</p>



<a name="1166072"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166072" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166072">(Apr 19 2021 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="5140">@Aman Agrawal (amanagr)</span> do you have a patch to change the icon yet?</p>



<a name="1166139"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166139" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166139">(Apr 19 2021 at 21:10)</a>:</h4>
<p>I was wondering if we could merged <a href="https://github.com/zulip/zulip/pull/18154">#18154</a> before that?</p>



<a name="1166141"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166141" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166141">(Apr 19 2021 at 21:11)</a>:</h4>
<p>The are 2-3 conflicting changes between <a href="https://github.com/zulip/zulip/pull/17707">#17707</a> (giphy) and  <a href="https://github.com/zulip/zulip/pull/18154">#18154</a> (compose refactor).</p>



<a name="1166183"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166183" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166183">(Apr 19 2021 at 21:51)</a>:</h4>
<p>Yeah, let me see if I can integrate at least parts of <a href="https://github.com/zulip/zulip/pull/18154">#18154</a>.</p>



<a name="1166184"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166184" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166184">(Apr 19 2021 at 21:56)</a>:</h4>
<p>(Will do that after lunch, since I've not had it yet)</p>



<a name="1166404"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166404" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166404">(Apr 20 2021 at 08:50)</a>:</h4>
<p><a href="/user_uploads/2/8c/whKVgMQptegJalxLt2V20bza/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/8c/whKVgMQptegJalxLt2V20bza/image.png" title="image.png"><img src="/user_uploads/2/8c/whKVgMQptegJalxLt2V20bza/image.png"></a></div>



<a name="1166405"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166405" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166405">(Apr 20 2021 at 08:51)</a>:</h4>
<p>I think this immediately gives the idea of a gift</p>



<a name="1166406"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166406" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166406">(Apr 20 2021 at 08:51)</a>:</h4>
<p>The screenshot I posted above has a better icon.</p>



<a name="1166407"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166407" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166407">(Apr 20 2021 at 08:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="5140">Aman Agrawal (amanagr)</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1159988">said</a>:</p>
<blockquote>
<p><a href="/user_uploads/2/ab/9FWvKqEMgoLNt285uRUj6eML/Screenshot-2021-04-11-at-7.24.47-PM.png">GIPHY new style</a> </p>
<p>Does it look better now?</p>
</blockquote>
<p>.</p>



<a name="1166408"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1166408" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrea Soc <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1166408">(Apr 20 2021 at 08:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="5140">Aman Agrawal (amanagr)</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1166406">said</a>:</p>
<blockquote>
<p>The screenshot I posted above has a better icon.</p>
</blockquote>
<p>like whatsapp/facebook ok.. but Zulip it must also remain original <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="1170887"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170887" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170887">(Apr 28 2021 at 22:54)</a>:</h4>
<p>Looks like some issue loading the GIPHY svg icon.</p>



<a name="1170889"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170889" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170889">(Apr 28 2021 at 22:55)</a>:</h4>
<p><a href="/user_uploads/2/62/UHMGM4ijn7lhzgXeB7ZcGfdp/Screenshot-2021-04-29-at-4.24.51-AM.png">Screenshot-2021-04-29-at-4.24.51-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/62/UHMGM4ijn7lhzgXeB7ZcGfdp/Screenshot-2021-04-29-at-4.24.51-AM.png" title="Screenshot-2021-04-29-at-4.24.51-AM.png"><img src="/user_uploads/2/62/UHMGM4ijn7lhzgXeB7ZcGfdp/Screenshot-2021-04-29-at-4.24.51-AM.png"></a></div>



<a name="1170896"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170896" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170896">(Apr 28 2021 at 22:59)</a>:</h4>
<p>It looks like we shouldn't have used <code>static/assets</code> path.</p>
<blockquote>
<p><code>static/assets/</code> For assets not to be served to the web </p>
</blockquote>
<p>In our <a href="https://zulip.readthedocs.io/en/latest/overview/directory-structure.html#javascript-typescript-and-other-static-assets">docs</a>.</p>



<a name="1170912"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170912" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170912">(Apr 28 2021 at 23:04)</a>:</h4>
<p>Well, icons in <code>static/assets/icons/</code> should be compiled by webpack, though.</p>



<a name="1170913"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170913" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170913">(Apr 28 2021 at 23:05)</a>:</h4>
<p>The problem is I think we need to use the right webpack system to access it.</p>



<a name="1170914"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170914" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170914">(Apr 28 2021 at 23:06)</a>:</h4>
<p><code>static/templates/message_body.hbs</code> has an example with <code>zulip-icon bot</code>.</p>



<a name="1170915"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170915" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170915">(Apr 28 2021 at 23:06)</a>:</h4>
<p>(Which probably while we're working on this, we should rename the CSS classes to <code>zulip-icon zulip-icon-bot</code>, since <code>bot</code> is too simple of a CSS class name)</p>



<a name="1170916"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170916" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170916">(Apr 28 2021 at 23:07)</a>:</h4>
<p>The other natural follow-up is that we should make <code>static/assets</code> not be served to the web in a development environment, so that one catches this in development.</p>



<a name="1170917"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170917" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170917">(Apr 28 2021 at 23:07)</a>:</h4>
<p>We should change <code>classPrefix</code> instead of renaming the files.</p>



<a name="1170918"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170918" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170918">(Apr 28 2021 at 23:07)</a>:</h4>
<p>Yes, agreed.</p>



<a name="1170920"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170920" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170920">(Apr 28 2021 at 23:07)</a>:</h4>
<p>And finally, we should make a <code>static/assets/icons/README.md</code> that documents that the <code>.svg</code> files in this directory are turned into an icon font and here's the syntax for it.</p>



<a name="1170979"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170979" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170979">(Apr 29 2021 at 00:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/giphy.20integration/near/1170916">said</a>:</p>
<blockquote>
<p>The other natural follow-up is that we should make <code>static/assets</code> not be served to the web in a development environment, so that one catches this in development.</p>
</blockquote>
<p>I am not sure where to make this change. I was trying to do this in <code>dev_urls.py</code> but doesn't look like it controls it.</p>



<a name="1170980"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170980" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170980">(Apr 29 2021 at 00:41)</a>:</h4>
<p>I think it's this:</p>
<div class="codehilite"><pre><span></span><code># Serve static assets via the Django server
if use_prod_static:
    urls += [
        path(&quot;static/&lt;path:path&gt;&quot;, serve, {&quot;document_root&quot;: settings.STATIC_ROOT}),
    ]
else:

    def serve_static(request: HttpRequest, path: str) -&gt; HttpResponse:
        response = staticfiles_serve(request, path)
        response[&quot;Access-Control-Allow-Origin&quot;] = &quot;*&quot;
        return response

    urls += static(urlsplit(settings.STATIC_URL).path, view=serve_static)
</code></pre></div>



<a name="1170982"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170982" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170982">(Apr 29 2021 at 00:42)</a>:</h4>
<p>So the proposal would be that we'd patch <code>serve_static</code> to check the path and 404 for everything in <code>static/assets/</code>.</p>



<a name="1170983"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170983" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170983">(Apr 29 2021 at 00:42)</a>:</h4>
<p>(Possibly might also be cleaner to move that <code>server_static</code> function to <code>zerver/views/development/static.py</code> or something)</p>



<a name="1170984"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170984" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170984">(Apr 29 2021 at 00:42)</a>:</h4>
<p>I was trying to return <code>Http404</code> in <code>def serve_static(request: HttpRequest, path: str) -&gt; HttpResponse:</code> but when I logged <code>path</code> in that function, <code>assets</code> are not being served via it.</p>



<a name="1170985"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1170985" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1170985">(Apr 29 2021 at 00:42)</a>:</h4>
<p>(The <code>use_prod_static</code> conditional is rare and also won't have this bug anyway)</p>



<a name="1171729"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1171729" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Purushottam Tiwari <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1171729">(Apr 30 2021 at 07:04)</a>:</h4>
<p>Title overlaps with tooltip in GIF button. May be we should not add title to that button.<br>
<a href="/user_uploads/2/b/mT-0BV0XHTjpjSl3msXkTW8Q/Screenshot-from-2021-04-30-12-27-31.png">Screenshot-from-2021-04-30-12-27-31.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b/mT-0BV0XHTjpjSl3msXkTW8Q/Screenshot-from-2021-04-30-12-27-31.png" title="Screenshot-from-2021-04-30-12-27-31.png"><img src="/user_uploads/2/b/mT-0BV0XHTjpjSl3msXkTW8Q/Screenshot-from-2021-04-30-12-27-31.png"></a></div>



<a name="1171734"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1171734" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1171734">(Apr 30 2021 at 07:37)</a>:</h4>
<p>Looks like we need to remove it for all the buttons there.</p>



<a name="1171737"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1171737" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1171737">(Apr 30 2021 at 07:59)</a>:</h4>
<p>Opened <a href="https://github.com/zulip/zulip/pull/18324">#18324</a> to fix.</p>



<a name="1172768"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1172768" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Walter <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1172768">(May 02 2021 at 01:55)</a>:</h4>
<p>GIF button seems to stop working, pressing does nothing</p>



<a name="1172815"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1172815" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1172815">(May 02 2021 at 08:22)</a>:</h4>
<p>Weird that <a href="https://github.com/zulip/zulip/commit/5adc6d7297c055de00661db8bd965138a2846091">5adc6d7297c055de00661db8bd965138a2846091</a> broke it.</p>



<a name="1172817"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1172817" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1172817">(May 02 2021 at 08:31)</a>:</h4>
<p>The fact that emoji popover worked (which I tested) and giphy doesn't is more weird.</p>



<a name="1172821"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/giphy%20integration/near/1172821" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/giphy.20integration.html#1172821">(May 02 2021 at 08:45)</a>:</h4>
<p>Opened  <a href="https://github.com/zulip/zulip/pull/18343">#18343</a> to fix it.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>