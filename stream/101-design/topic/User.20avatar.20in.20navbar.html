<html>
<head><meta charset="utf-8"><title>User avatar in navbar · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html">User avatar in navbar</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1607247"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1607247" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hardik Dharmani <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1607247">(Jul 10 2023 at 20:50)</a>:</h4>
<p>Want to start a discussion for feedback on this: <a href="https://github.com/zulip/zulip/pull/25667#issuecomment-1624339726">question</a></p>
<p>In PR <a href="https://github.com/zulip/zulip/pull/25667">#25667</a>, a new personal menu is added with a user avatar in the top left corner of the navbar, functioning as a dropdown toggle button. Currently, a medium-sized avatar is used as a background image for a div element, like this: <code>&lt;div class="header-button-avatar" style="background-image: url('{{user_avatar}}');"&gt;&lt;/div&gt;</code>. However, sometimes the image takes time to load, resulting in a <a href="/user_uploads/2/9/VaOJGZVsrQUxKQ0DR0XPa4WL/image.png">blank space</a> that can be misleading.</p>
<div class="message_inline_image"><a href="/user_uploads/2/9/VaOJGZVsrQUxKQ0DR0XPa4WL/image.png" title="blank space"><img src="/user_uploads/2/9/VaOJGZVsrQUxKQ0DR0XPa4WL/image.png"></a></div><p>To address this situation, we would like to gather feedback on the following options:<br>
a) Display an icon (e.g., loader) while the user avatar is loading (if yes, which icon should we use?).<br>
b) Use a small avatar with an <code>&lt;img&gt;</code> tag and set the avatar URL as the <code>src</code> attribute.</p>
<p>Any other suggestions or alternative approaches to tackle this issue are welcomed. Your valuable feedback is greatly appreciated!  Thank you :)</p>



<a name="1607736"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1607736" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1607736">(Jul 11 2023 at 16:55)</a>:</h4>
<blockquote>
<p>just use rectangle with a 10% black in light mode and 10% white in the dark mode</p>
</blockquote>
<p>From <span class="user-mention silent" data-user-id="22433">Vlad Korobov</span></p>



<a name="1607833"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1607833" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hardik Dharmani <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1607833">(Jul 11 2023 at 19:05)</a>:</h4>
<p>This is a great solution and was easy to execute. Updated the PR: <a href="https://github.com/zulip/zulip/pull/25667">#25667</a><br>
Thanks <span class="user-mention silent" data-user-id="22433">Vlad Korobov</span> <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span><br>
<a href="/user_uploads/2/b3/6rjCYSn4LAJeFsw83xnM03ae/image.png">image.png</a><br>
<a href="/user_uploads/2/8c/LZdLjbEJJ0elgDdSavhg1HkU/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/b3/6rjCYSn4LAJeFsw83xnM03ae/image.png" title="image.png"><img src="/user_uploads/2/b3/6rjCYSn4LAJeFsw83xnM03ae/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/8c/LZdLjbEJJ0elgDdSavhg1HkU/image.png" title="image.png"><img src="/user_uploads/2/8c/LZdLjbEJJ0elgDdSavhg1HkU/image.png"></a></div>



<a name="1608983"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1608983" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1608983">(Jul 13 2023 at 13:40)</a>:</h4>
<p>As a separate issue, since Vlad's suggestion solved this immediate problem, I wonder why we wouldn't want to present the avatar in an <code>&lt;img&gt;</code> tag there, and anywhere else in the UI?</p>



<a name="1608984"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1608984" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1608984">(Jul 13 2023 at 13:41)</a>:</h4>
<p>One could achieve the same effect by ensuring the <code>img</code>'s dimensions in that context, and setting the same background colors on that element as a placeholder prior to the image's loading.</p>



<a name="1609034"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1609034" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1609034">(Jul 13 2023 at 15:02)</a>:</h4>
<p>Are you talking about representing user avatars in message feed this way as well? That looks like an improvement.</p>



<a name="1609049"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1609049" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1609049">(Jul 13 2023 at 15:08)</a>:</h4>
<p>Oh, we could certainly add a background-color placeholder there, too, I'd think. I'll open an experimental PR after <a href="https://github.com/zulip/zulip/pull/25997">#25997</a> is merged</p>



<a name="1609308"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1609308" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hardik Dharmani <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1609308">(Jul 13 2023 at 18:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="26369">Karl Stolley</span> <a href="#narrow/stream/101-design/topic/User.20avatar.20in.20navbar/near/1608984">said</a>:</p>
<blockquote>
<p>One could achieve the same effect by ensuring the <code>img</code>'s dimensions in that context, and setting the same background colors on that element as a placeholder prior to the image's loading.</p>
</blockquote>
<p>Should I change from <code>&lt;div&gt;</code> to <code>&lt;img&gt;</code> in PR <a href="https://github.com/zulip/zulip/pull/25667">#25667</a>? If yes, then I will do that along with addressing other feedback on that PR, and push the updated PR tomorrow.</p>



<a name="1609320"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1609320" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1609320">(Jul 13 2023 at 18:26)</a>:</h4>
<p>Yes...ideally any image that functions as content (versus design, although sometimes that line can be fuzzy) ought to be presented in an <code>&lt;img&gt;</code> tag. Just watch out for some of the bootstrap cruft specified on the <code>img</code> element--you might have to fight back against some of it.</p>



<a name="1637463"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1637463" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1637463">(Sep 09 2023 at 00:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="26369">Karl Stolley</span> <a href="#narrow/stream/101-design/topic/User.20avatar.20in.20navbar/near/1609049">said</a>:</p>
<blockquote>
<p>Oh, we could certainly add a background-color placeholder there, too, I'd think. I'll open an experimental PR after <a href="https://github.com/zulip/zulip/pull/25997">#25997</a> is merged</p>
</blockquote>
<p><span class="user-mention" data-user-id="26369">@Karl Stolley</span> Just to follow up here, did this end up happening?</p>



<a name="1638014"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/User%20avatar%20in%20navbar/near/1638014" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/User.20avatar.20in.20navbar.html#1638014">(Sep 11 2023 at 13:24)</a>:</h4>
<p>No, this fell by the wayside. But I can open up a PR for it this week.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>