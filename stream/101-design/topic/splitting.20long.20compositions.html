<html>
<head><meta charset="utf-8"><title>splitting long compositions · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html">splitting long compositions</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1625115"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625115" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625115">(Aug 15 2023 at 04:04)</a>:</h4>
<p>This connects to <a class="stream-topic" data-stream-id="137" href="/#narrow/stream/137-feedback/topic/Disabling.20show.20more">#feedback &gt; Disabling show more</a> and <a class="stream-topic" data-stream-id="138" href="/#narrow/stream/138-user-community/topic/Quote.20selected.20text">#user community &gt; Quote selected text</a>. I'm posting it in <a class="stream" data-stream-id="101" href="/#narrow/stream/101-design">#design</a> since this is more of a feature concept.</p>
<h2>Connection to 'show more'</h2>
<p>If I compose a single message that has a large number of short paragraphs, but put together into one long message, it is likely to be subject to hiding by 'show more'. However, if I compose it together, but manually split and send it in small chunks/paragraphs, then it should never trigger 'show more'.</p>
<p>So for now, manually splitting messages is a work-around if users want to lessen the chance of people seeing 'show more'. Of course, single paragraphs/objects that are tall enough still have 'show more' apply to them - it's a useful feature, and having a setting as discussed in <a class="stream-topic" data-stream-id="137" href="/#narrow/stream/137-feedback/topic/Disabling.20show.20more">#feedback &gt; Disabling show more</a> will help ensure that.</p>



<a name="1625118"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625118" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625118">(Aug 15 2023 at 04:04)</a>:</h4>
<h2>Long message advocacy vs practice?</h2>
<p>I recall that Zulip has been advocated as being useful for longer messages, not just bursts of 'chat' involving short messages.</p>
<p>However, I sense that frequent writers on czo often manually split their longer messages, and personally I do so in certain cases, perhaps more to simplify quoting of parts of my message by myself or others. This also naturally helps with other actions which apply per-message, including starring, reacting, and editing, where it is useful to do so to part of what would be otherwise a long message.</p>
<p>I'd be interested to hear how frequently others do this manually, and for what reasons.</p>



<a name="1625120"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625120" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625120">(Aug 15 2023 at 04:08)</a>:</h4>
<h2>Proposed solution</h2>
<p>As per the topic title, the idea would be to <em>automatically</em> split (longer) messages, either on sending (in the backend, to avoid races/interleaving?), or perhaps on rendering (showing each part/paragraph as a separate logical message).</p>
<p>Handled correctly, users would compose messages as now, with the exception that longer messages would be processed/appear as sequences of smaller messages with the same content. They should appear similar to multiple messages sent by the same user "rapidly" in sequence, just like manual splitting already produces.</p>
<p>Depending on the implementation, user-visible changes would include:</p>
<ul>
<li>users not used to manually splitting, noticing multiple messages being produced from one composition</li>
<li>focus moving over smaller parts of longer "messages", rather than the entire large message</li>
<li>multiple unreads being generated per large message</li>
</ul>



<a name="1625122"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625122" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625122">(Aug 15 2023 at 04:09)</a>:</h4>
<p>Anticipated challenges and other factors drafted, but waiting for feedback before diving too deep <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1625139"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625139" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625139">(Aug 15 2023 at 04:46)</a>:</h4>
<p>I think ultimately the thing I'd like to be able to do is make it easy to select a paragraph from a message and hit <code>&gt;</code> or use a mouse option and quote-and-reply that section of the message; this would eliminate the "reply" motivation for splitting a message.</p>



<a name="1625140"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625140" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625140">(Aug 15 2023 at 04:47)</a>:</h4>
<p>Though not the "make this a thing people can emoji react to".</p>



<a name="1625143"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625143" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625143">(Aug 15 2023 at 04:50)</a>:</h4>
<p>I guess mainly I feel like doing message breaks is sort of a heavier form of organization than paragraph breaks, and is a useful tool for letting one communicate the boundaries between separate thoughts.</p>



<a name="1625210"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625210" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625210">(Aug 15 2023 at 06:49)</a>:</h4>
<p>Yeah, the 'select a paragraph from a message' tack is the on-rendering approach, eg. the frontend identifies paragraphs, which can somehow be selected. Or if not already in the rendered message content, the backend could embed where to split instead.</p>



<a name="1625211"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625211" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625211">(Aug 15 2023 at 06:51)</a>:</h4>
<p>I identified this as a limitation in the draft, but I appear to have lost it <span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span></p>



<a name="1625214"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625214" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625214">(Aug 15 2023 at 06:55)</a>:</h4>
<p>If one does the split in the backend, something like a <code>composition_first_message_id</code> could be retained in later messages in a composition (split message), which would enable both the per-message interaction and the per-paragraph (or whatever) interaction.</p>



<a name="1625215"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1625215" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1625215">(Aug 15 2023 at 07:00)</a>:</h4>
<p>One followup idea to this to explore was to scroll/move-focus at different tiers, since a large message would have smaller elements to move through (if eg. paragraphs). Then also switching to different larger time windows with one sender would mimic current behavior for both large messages with such an approach, as well as older manually-split messages.</p>



<a name="1626160"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626160" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lauryn Menard <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626160">(Aug 16 2023 at 09:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/splitting.20long.20compositions/near/1625118">said</a>:</p>
<blockquote>
<p>I'd be interested to hear how frequently others do this manually, and for what reasons.</p>
</blockquote>
<p>I'm probably one of the folks you notice splitting long text into many smaller messages. I think as a person, I tend to like to gather / craft my thoughts all at once, hence the long text. But, I want folks to be able to respond to my thoughts (via reactions or quote/reply) easily.</p>
<p>So I split the text into sections that I think work well for that. I don't always split on paragraphs. I think like <span class="user-mention silent" data-user-id="7">Tim Abbott</span> said above, I use the message breaks as an additional form of organizing the thoughts/text.</p>



<a name="1626408"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626408" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626408">(Aug 16 2023 at 18:00)</a>:</h4>
<p>To be clear, I wasn't suggesting necessarily splitting on every paragraph. If there <em>were</em> to be an algorithm that split messages automatically ("forcibly") then it could eg. keep a quote with the following paragraph, and lists with the text above.</p>



<a name="1626409"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626409" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626409">(Aug 16 2023 at 18:03)</a>:</h4>
<p>However, when I was writing my original suggestion for this feature, it was very long, and I had divided sections with eg. <code>---</code> or topic headings. So either specific content could be determined as reliable/reasonable splitting points, or even only specific markers could be used to indicate splitting points.</p>



<a name="1626411"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626411" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626411">(Aug 16 2023 at 18:06)</a>:</h4>
<p>At a minimal level, if I write a longer message, it'd be useful to not have to mess with copy/paste to split a message, particularly with lots of splits, and just send it and have it split either according to how I specifically want, or automatically.</p>



<a name="1626412"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626412" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626412">(Aug 16 2023 at 18:09)</a>:</h4>
<p>I feel pretty cautious about doing something automatically, since I think people have pretty different plans for what they want to do with long messages.</p>



<a name="1626413"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626413" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evy <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626413">(Aug 16 2023 at 18:10)</a>:</h4>
<p>Maybe a potential solution to this is some tool that lets you manually (but easily) split up a long message before you send it?</p>



<a name="1626414"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626414" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626414">(Aug 16 2023 at 18:11)</a>:</h4>
<p>The counterpoint to messages as organizational structure, was that lots of smaller messages already sent might be better considered as one point in retrospect - which was my observation with eg. application of show more.</p>



<a name="1626415"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626415" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626415">(Aug 16 2023 at 18:15)</a>:</h4>
<p>If a user sees their messages forcibly split, then various custom options are possible, like breakpoint markers in messages, or a toggle in the compose box to enable/disable the feature on a per-message basis, or a per-user and per-organization basis.</p>



<a name="1626417"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626417" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626417">(Aug 16 2023 at 18:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/splitting.20long.20compositions/near/1625214">said</a>:</p>
<blockquote>
<p>If one does the split in the backend, something like a <code>composition_first_message_id</code> could be retained in later messages in a composition (split message), which would enable both the per-message interaction and the per-paragraph (or whatever) interaction.</p>
</blockquote>
<p>Something like this would mean elements of larger messages would be individually-addressable for quoting/reacting/etc since they were literally messages in the backend. However, the frontend could combine adjacent messages via a tag along these lines and reproduce the existing UI, or optionally support the intra-composition features this would enable.</p>



<a name="1626418"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1626418" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1626418">(Aug 16 2023 at 18:21)</a>:</h4>
<p>Implementation details could vary of course, eg. messages could be kept as they, and automatic markers introduced either dynamically on sending to clients, or before storing in the backend.</p>



<a name="1627122"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1627122" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1627122">(Aug 17 2023 at 19:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="21453">Evy</span> <a href="#narrow/stream/101-design/topic/splitting.20long.20compositions/near/1626413">said</a>:</p>
<blockquote>
<p>Maybe a potential solution to this is some tool that lets you manually (but easily) split up a long message before you send it?</p>
</blockquote>
<p>Hmm, yeah, I could imagine having Markdown syntax that's in the broad category of <code>----------------------</code> that represents a "message break" (though not that specifically, since it's an <code>&lt;hr&gt;</code> in Markdown), and Zulip would just cut your message up by those and send them together in a single transaction.</p>



<a name="1634580"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1634580" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1634580">(Sep 02 2023 at 02:16)</a>:</h4>
<p>Right, I agree with that approach - I mentioned that in a few different ways above.</p>
<p>I think that could be a good initial step upon which other guided splitting could build later, if we wished.</p>



<a name="1634581"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1634581" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1634581">(Sep 02 2023 at 02:16)</a>:</h4>
<p>One interesting thing about this 'markdown' would be that while it would need to coexist with what we have, it need only be present in the composition - it wouldn't need to form part of the actual content for the resulting messages, including if the raw markdown source was requested. So it would need a preview form, and to be compatible with other content, but after sending, the frontend could assume it was multiple messages without those elements present, and then be updated by the rendered content from what are regular messages. Depending upon the API selected to handle sending as a single transaction, the new markdown could even be removed on the client side before sending.</p>



<a name="1634582"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1634582" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1634582">(Sep 02 2023 at 02:16)</a>:</h4>
<p>Allowing this kind of 'markdown' could also permit a separation between maximum message length (technical constraint) and maximum composition length (logical/social constraint) - the latter being longer. So a client could shift from only requiring of a user that the content is below the former, to also suggesting "message break" markdown. It would allow the client to put more emphasis on shorter messages enabling eg. reactions on shorter parts of a longer composition, with less sense that it's a technical constraint.</p>
<p>This separation could depend on the form of the extended API, and in what ways the current maximum message length is involved in current technical constraints, eg. database field length, composition <code>POST</code>.</p>



<a name="1637301"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1637301" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Price <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1637301">(Sep 08 2023 at 21:16)</a>:</h4>
<p>The thought I'd add to this thread is that I don't think there's any inconsistency here:</p>
<p><span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span> <a href="#narrow/stream/101-design/topic/splitting.20long.20compositions/near/1625118">said</a>:</p>
<blockquote>
<h2>Long message advocacy vs practice?</h2>
<p>I recall that Zulip has been advocated as being useful for longer messages, not just bursts of 'chat' involving short messages.</p>
<p>However, I sense that frequent writers on czo often manually split their longer messages, and personally I do so in certain cases, perhaps more to simplify quoting of parts of my message by myself or others. This also naturally helps with other actions which apply per-message, including starring, reacting, and editing, where it is useful to do so to part of what would be otherwise a long message.</p>
</blockquote>
<p>The thing is that the short "chat"-style messages that are the norm on IRC and often in other systems are <em>very</em> short, like up to a single line of text.</p>
<p>In Zulip it's comfortable to write and read longer messages: complete, complex sentences, up to several paragraphs. That makes a real difference in the nature of the conversation compared to single lines, so it's an important aspect of the Zulip experience.</p>
<p>The point where I find a Zulip message starts feeling awkwardly long, and good to break up, is as it gets to many hundreds of words — entire printed pages' worth of text.</p>



<a name="1638553"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1638553" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1638553">(Sep 12 2023 at 00:33)</a>:</h4>
<p>Thanks Greg - I didn't mean to imply inconsistency, or that Zulip wasn't an improved experience for using with longer messages.</p>



<a name="1638630"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1638630" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1638630">(Sep 12 2023 at 03:19)</a>:</h4>
<p>I just lost my text with further background when my browser crashed, but my original aim was simply to set a context to explore how handling of longer messages could be improved. Let me try and summarize again, starting more from your point.</p>



<a name="1638631"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1638631" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1638631">(Sep 12 2023 at 03:19)</a>:</h4>
<p>I think a key part of what makes Zulip feel more comfortable is a reduced need/sense of urgency to get one's message(s) out there ASAP, due to a lower chance of getting interrupted. I'd attribute that to the increased namespace available via topics combined with the support we have for longer messages:</p>
<ul>
<li>Topics reduce the likelihood a given user is browsing or composing to a specific conversation, so it's easier to write a sequence of shorter messages that are related and flow from each other before another user responds</li>
<li>Longer messages provide a guarantee that the flow won't be interrupted, since the long message is a single unit.</li>
</ul>



<a name="1638632"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1638632" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1638632">(Sep 12 2023 at 03:20)</a>:</h4>
<p>My observations:</p>
<ul>
<li>people routinely compose long messages - it works well to group message content, and avoid interruptions by other posted messages</li>
<li>when doing so, some people manually split long compositions when posting</li>
<li>splitting compositions naturally enables various per-message actions (reacting, editing, quoting, ...)</li>
<li>manual splitting is awkward, with risks of losing data if not careful</li>
<li>while topics reduce the likelihood of interruption, it's preferable to post manually-split parts in quick succession, since there's no block in place compared to when posting a single "long" message</li>
<li>somehow promoting (vertically) shorter messages in general would reduce the frequency of 'show more' and resolving related issues</li>
</ul>



<a name="1638633"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1638633" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1638633">(Sep 12 2023 at 03:20)</a>:</h4>
<p>I accept my original composition-splitting proposal was an optimistic solution, though I'll emphasize again that I was not specifically suggesting enforcing breaking between every paragraph! However, whether occurring automatically upon sending, manually in markdown, or somewhere between those extremes, the concept is the same: loosen the 1:1 mapping between a "composition" and the resulting "message" to instead be 1:n.</p>



<a name="1638634"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1638634" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1638634">(Sep 12 2023 at 03:20)</a>:</h4>
<p>To whatever extent it's implemented, that loosening potentially enables various benefits:</p>
<ul>
<li>enable users to easily generate multiple messages from one composition safely from within Zulip</li>
<li>naturally support existing actions on designated sub-elements of a composition - ie. messages - reactions, quoting, etc.</li>
<li>lower the need to implement sub-message actions (excepting eg. select-and-quote)</li>
<li>reduce the frequency of longer messages needing to be folded using 'show more'</li>
<li>maintain the uninterruptable nature of long compositions by sending multiple messages as a transaction</li>
<li>enable visual indication of messages belonging to a single composition</li>
<li>support selection-based movement at a finer-grained level where compositions are long</li>
<li>separate technical decisions on message length from technical/social decisions over composition length</li>
</ul>



<a name="1638784"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1638784" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Stolley <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1638784">(Sep 12 2023 at 13:34)</a>:</h4>
<p>I really appreciate your thoughtful and highly scannable lists here, <span class="user-mention silent" data-user-id="2406">Neil Pilgrim (neiljp)</span>. One other data point: I often bring drafts to the table when I’m writing a sequence of longer messages, but want to split them up into shorter chunks for the sake of readers like <span class="user-mention silent" data-user-id="7">Tim Abbott</span> who want to be able to return to their reading position after being called away or otherwise interrupted. That’s just a +1 for the reader-focused nature of this feature, but also maybe a little kernel of an idea that this might somehow also be tied to drafts?</p>



<a name="1644927"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644927" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644927">(Sep 21 2023 at 20:30)</a>:</h4>
<p>Since it's fairly common to manually split up a message after writing it, having an automated way to do that does seem handy.</p>
<p>I like the idea of having Markdown syntax for it; we'd also want to add a compose box button to make it discoverable. Maybe a button with a scissors icon, and a something like <code>&gt;&lt;</code> as a visual representation of those scissors? I dunno if that specific idea is problematic due to other uses of angle brackets.</p>



<a name="1644928"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644928" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644928">(Sep 21 2023 at 20:31)</a>:</h4>
<p>I don't know about the technical details, but from a user perspective, I think it's fine if there's no visible relationship between the messages once they are sent. But it's important that they appear in the right order, even, e.g., on a bad connection.</p>



<a name="1644938"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644938" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644938">(Sep 21 2023 at 20:44)</a>:</h4>
<p>In the first instance I'd expect the splitting could occur in the backend as a preprocessing step, before the messages are saved. Using multiple API calls to send messages of this form, splitting in a client, could be a follow-up to support the message- vs composition-length separation, but I expect would need additional support in the API to ensure ordering is maintained - which I think is critical.</p>



<a name="1644945"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644945" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644945">(Sep 21 2023 at 20:53)</a>:</h4>
<p>As I noted <a href="#narrow/stream/101-design/topic/splitting.20long.20compositions/near/1634581">above</a> I don't see the syntax we'd introduce for this as being markdown in a normal sense, more of a preprocessor macro which needs to be compatible with it.</p>



<a name="1644946"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644946" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644946">(Sep 21 2023 at 20:54)</a>:</h4>
<p>In terms of a scissors representation, I've more often seen something like <code>8&lt;</code>?</p>



<a name="1644949"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644949" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644949">(Sep 21 2023 at 20:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> also just suggested a line of <code>===</code> as an option, or perhaps a special "multi-message" mode that takes over <code>---</code> and uses it as a message separator.</p>



<a name="1644951"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644951" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644951">(Sep 21 2023 at 20:57)</a>:</h4>
<p>Anyway, from a UX perspective for composing these, I think the key thing is to be able to craft your message, and then split it up without having to do a copy-paste dance. (So, for example, one wouldn't want to manage it with multiple separate text input fields.)</p>



<a name="1644954"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644954" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644954">(Sep 21 2023 at 20:59)</a>:</h4>
<p>Since it's a composition, it'd be user-specific, so could have a realm default to <code>8&lt;</code> or <code>---</code> (on it's own line, presumably), but also support other text if alone on their own line, if we wanted to take it that far <img alt=":shrug:" class="emoji" src="/user_avatars/2/emoji/images/31.png" title="shrug"></p>



<a name="1644955"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644955" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644955">(Sep 21 2023 at 21:01)</a>:</h4>
<p>This kind of thing is guaranteed to be annoying to get right. For any syntax we invent, say <code>乂｡●́‿●̀｡乂</code> (to avoid expressing an opinion on any real proposal), some people are going to want to <em>use</em> <code>乂｡●́‿●̀｡乂</code>, and some people are going to want to <em>talk about</em> how to use <code>乂｡●́‿●̀｡乂</code>, which they might do using a code block:</p>
<div class="codehilite" data-code-language="Markdown"><pre><span></span><code>Hi @<span class="gs">**user**</span>, you can split your message by typing

<span class="sb">```</span>
<span class="sb">乂｡●́‿●̀｡乂</span>
<span class="sb">```</span>
</code></pre></div>
<p>Which means that whatever is in charge of parsing this syntax needs to have enough awareness of Markdown—and our crazy Markdown quirks—to be able to distinguish uses from mentions.</p>



<a name="1644956"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644956" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644956">(Sep 21 2023 at 21:03)</a>:</h4>
<p>It'd interfere with composition in the sense that it could accidentally split a message, and couldn't easily be undone, though we could prompt if the client/backend intends to do a split, under certain circumstances.</p>



<a name="1644957"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1644957" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Kaseorg <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1644957">(Sep 21 2023 at 21:05)</a>:</h4>
<p>If we want this as a feature, it’d be better to give it first-class UI support—have a button and perhaps a keyboard shortcut that literally splits the compose textarea into two textareas, or merges two textareas into one, at the current cursor location.</p>



<a name="1645018"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1645018" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1645018">(Sep 21 2023 at 21:17)</a>:</h4>
<p>That could work for a post-writing stage where one thinks about splitting later. I'd likely still use it - at least on web - but it would be less flexible while mid-writing, than knowing I can use either of my examples.</p>
<p>In that case, I expect we'd need to extend the API, since we wouldn't embed anything into the message content?</p>



<a name="1645020"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1645020" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1645020">(Sep 21 2023 at 21:19)</a>:</h4>
<p>Hmm, I think my revised idea would be to support a syntax while composing, and confirm the split before sending - perhaps even doing a multiple textarea/display preview.</p>



<a name="1645033"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1645033" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1645033">(Sep 21 2023 at 21:23)</a>:</h4>
<p>Yeah I'd been thinking about a world where we make multiple text boxes stacked on top of each other; the challenge with that will I think be how to get the UI right so that you don't end up copy/pasting stuff around between different elements.</p>
<p>From a composition standpoint it certainly would feel nicer to have it be one box that you can just arrow around in.</p>



<a name="1645071"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1645071" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1645071">(Sep 21 2023 at 22:00)</a>:</h4>
<p>I generally like the idea of this being outside markdown. But I could imagine a UI where you cut up your line if messages in the normal compose box, using ===== or whatever as delimiters, and then can split into several with a menu item as a last step before hitting send.</p>
<p>Just not sure what a clean UI would be. I like the idea of split at cursor for making two but like for a message you want to split into 10, I feel like you want to be able to stage your breakpoints so you can use your browser native editing features, undo, etc.</p>



<a name="1645072"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1645072" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1645072">(Sep 21 2023 at 22:01)</a>:</h4>
<p>Like it seems totally fine if you can't use a lounge with all =s in a message using this feature; just send two messages the old fashioned way.</p>



<a name="1648661"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1648661" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1648661">(Sep 28 2023 at 00:52)</a>:</h4>
<p>To keep this fresh, maybe it would help to consider aspects of what implementation might best look like to support this.</p>
<ul>
<li>If using quasi-markdown (a 'split string'), the server could do the snipping and ensure the uninterrupted sequential posting of messages. Clients wouldn't need changing for that, but we'd need to be sure that the quasi-markdown was feasible and the server would know where to cut safely. The API itself wouldn't change - the 'markdown API' would instead.</li>
<li>The simplest REST API change would seem to be to support <code>content</code> as a list of strings - or perhaps to provide 'split point indices' in a new field, to make compatibility simpler. Clients would then determine split points and send the content in a pre-split form (or where to split it), and the server would post them sequentially.</li>
<li>To enable the decoupling of composition length from content length, there would need to be synchronization between multiple send-message POST's. That seems like a bigger project that wouldn't necessarily overlap in terms of API changes.</li>
</ul>



<a name="1648662"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/splitting%20long%20compositions/near/1648662" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Pilgrim (neiljp) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/splitting.20long.20compositions.html#1648662">(Sep 28 2023 at 00:52)</a>:</h4>
<p>Discarding the latter as a separate project, this seems to more concisely come down to either:</p>
<ul>
<li>client sends content as before, but special 'split string' now has meaning; server splits composition, based on finding agreed-upon 'split string'</li>
<li>client identifies split points (via client-specific 'split strings' or other UI); client sends content using updated API, specifying split points; server knows splits via API</li>
</ul>
<p>While the first approach has the appeal of transparently working with existing clients, introducing - and being stuck with - a specific new markdown element are certainly significant issues; thanks for emphasizing that <span class="user-mention silent" data-user-id="699">Anders Kaseorg</span>. The second approach seems like it would be semantically cleaner, and allow clients to explore different splitting techniques without needing to settle on one in particular - and without needing to discuss the fine details of text boxes and delimiters before proceeding.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>