<html>
<head><meta charset="utf-8"><title>can&#x27;t distinguish muted topics in muted streams · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html">can&#x27;t distinguish muted topics in muted streams</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1552727"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552727" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552727">(Apr 21 2023 at 16:13)</a>:</h4>
<p>Because the whole stream is greyed out, you can't tell which topic in this list is the one I muted:<br>
<a href="/user_uploads/2/25/WiENLjg3Ki5b7FKMgH2-57N-/Screenshot-2023-04-21-at-12.11.56-PM.png">Screenshot-2023-04-21-at-12.11.56-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/25/WiENLjg3Ki5b7FKMgH2-57N-/Screenshot-2023-04-21-at-12.11.56-PM.png" title="Screenshot-2023-04-21-at-12.11.56-PM.png"><img src="/user_uploads/2/25/WiENLjg3Ki5b7FKMgH2-57N-/Screenshot-2023-04-21-at-12.11.56-PM.png"></a></div><p>The only way is to read the action popups carefully, or unmute the steam, look at which topics are greyed out, and then re-mute it.</p>



<a name="1552805"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552805" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552805">(Apr 21 2023 at 17:42)</a>:</h4>
<p>I think it's possible that <a href="https://github.com/zulip/zulip/pull/25105">#25105</a> improves this as part of adding display for unmuted topics in muted streams, but I'm not sure; we should check again once that's test-deployed.</p>



<a name="1552807"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552807" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552807">(Apr 21 2023 at 17:43)</a>:</h4>
<p>Why do you find it important to identify a muted topic within a muted stream?</p>



<a name="1552813"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552813" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552813">(Apr 21 2023 at 17:45)</a>:</h4>
<p>They do get handled differently when you have the stream open (E.g. muted topics are not displayed without "more topics" in that context, even if they have unreads, just like they would be in a normal stream, and this can potentially be useful).</p>



<a name="1552887"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552887" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552887">(Apr 21 2023 at 18:29)</a>:</h4>
<p>And if the argument is that I shouldn't care about it being double-muted, then it shouldn't have a different set of actions in its pop-up than a single-muted, and we should remove the "mute topic" UI on muted streams so people can't make double-muted streams.</p>



<a name="1552932"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552932" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552932">(Apr 21 2023 at 19:09)</a>:</h4>
<p>That's exactly what we're doing as part of the "unmute topic" feature.</p>



<a name="1552937"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552937" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552937">(Apr 21 2023 at 19:12)</a>:</h4>
<p>So if someone mutes a topic, mutes its stream, and then un-mutes its stream, should the topic then show as muted?</p>



<a name="1552942"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552942" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552942">(Apr 21 2023 at 19:12)</a>:</h4>
<p>i.e. is the model that muting a stream is equivalent-ish to muting all topics in it?</p>



<a name="1552946"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552946" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552946">(Apr 21 2023 at 19:14)</a>:</h4>
<p>The topic still shows as muted then -- we do keep track of 3 states (unmuted, muted, default). But you can't individually mute a topic via its three-dot menu or a button if it's in a muted stream.</p>



<a name="1552947"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552947" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552947">(Apr 21 2023 at 19:14)</a>:</h4>
<p>(You could do it through the settings UI if you really wanted.)</p>



<a name="1552951"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552951" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552951">(Apr 21 2023 at 19:16)</a>:</h4>
<p>That feels like we should remove the effects of the topic muting if the stream is muted -- meaning that a muted topic in a muted stream should show up in the list of topics if you click on the stream in the left sidebar.  It doesn't currently:<br>
<a href="/user_uploads/2/91/OYEnyi_qc5tEtXhi0inESI7c/Screenshot-2023-04-21-at-3.15.54-PM.png">Screenshot-2023-04-21-at-3.15.54-PM.png</a><br>
<a href="/user_uploads/2/eb/zA36fA6hJYEFLgZPm4y6av8p/Screenshot-2023-04-21-at-3.16.03-PM.png">Screenshot-2023-04-21-at-3.16.03-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/91/OYEnyi_qc5tEtXhi0inESI7c/Screenshot-2023-04-21-at-3.15.54-PM.png" title="Screenshot-2023-04-21-at-3.15.54-PM.png"><img src="/user_uploads/2/91/OYEnyi_qc5tEtXhi0inESI7c/Screenshot-2023-04-21-at-3.15.54-PM.png"></a></div><div class="message_inline_image"><a href="/user_uploads/2/eb/zA36fA6hJYEFLgZPm4y6av8p/Screenshot-2023-04-21-at-3.16.03-PM.png" title="Screenshot-2023-04-21-at-3.16.03-PM.png"><img src="/user_uploads/2/eb/zA36fA6hJYEFLgZPm4y6av8p/Screenshot-2023-04-21-at-3.16.03-PM.png"></a></div>



<a name="1552954"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1552954" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1552954">(Apr 21 2023 at 19:18)</a>:</h4>
<p>I'd be fine with that change... <span class="user-mention" data-user-id="7">@Tim Abbott</span> since you are reviewing related PRs today.</p>



<a name="1559242"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559242" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559242">(May 01 2023 at 16:31)</a>:</h4>
<p>Possibly related to the above:</p>
<p>I have <a class="stream" data-stream-id="243" href="/#narrow/stream/243-mobile-team">#mobile-team</a> muted, and also <a class="stream-topic" data-stream-id="243" href="/#narrow/stream/243-mobile-team/topic/zulip-flutter">#mobile-team &gt; zulip-flutter</a> muted within that.</p>
<p>I see a <code>[2]</code> badge next to <a class="stream" data-stream-id="243" href="/#narrow/stream/243-mobile-team">#mobile-team</a> in the sidebar, and clicking it shows "There are no message here" on the main pane, and no topics with messages in the sidebar:<br>
<a href="/user_uploads/2/e1/IqIXGUBJ0XpGFPr-tuOH9BNH/Screenshot-2023-05-01-at-12.29.20-PM.png">Screenshot-2023-05-01-at-12.29.20-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/e1/IqIXGUBJ0XpGFPr-tuOH9BNH/Screenshot-2023-05-01-at-12.29.20-PM.png" title="Screenshot-2023-05-01-at-12.29.20-PM.png"><img src="/user_uploads/2/e1/IqIXGUBJ0XpGFPr-tuOH9BNH/Screenshot-2023-05-01-at-12.29.20-PM.png"></a></div><p>The "There are no messages here" for having clicked on the stream seems Wrong, and I have to know that the <code>[2]</code> badge is not a bug, and that clicking into "more topics" will unearth the muted topic which has messages in it.</p>



<a name="1559246"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559246" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559246">(May 01 2023 at 16:38)</a>:</h4>
<p>The unread count confusion will be fixed by your proposal above, which I'll file an issue for now, since it looks like it was not addressed as part of the integration work.</p>



<a name="1559248"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559248" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559248">(May 01 2023 at 16:39)</a>:</h4>
<p>But I don't understand why you'd be seeing "There are no message here" on the main pane -- that seems like a bug?</p>



<a name="1559249"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559249" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559249">(May 01 2023 at 16:40)</a>:</h4>
<p>My guess is that's because it's been so long since there have been messages in other topics that there aren't any in the local mesasge cache that aren't in <a class="stream-topic" data-stream-id="243" href="/#narrow/stream/243-mobile-team/topic/zulip-flutter">#mobile-team &gt; zulip-flutter</a>.</p>



<a name="1559250"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559250" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559250">(May 01 2023 at 16:41)</a>:</h4>
<p>I mean, it's certainly a bug from the user experience point of view.  And should probably trigger some <code>/messages</code> fetches to fill in something to show?</p>



<a name="1559251"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559251" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559251">(May 01 2023 at 16:42)</a>:</h4>
<p>It's not 100% clear to me that the stream-shows-an-unread-count was covered by the above discussion, which I think didn't talk about that badge at all.</p>



<a name="1559255"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559255" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559255">(May 01 2023 at 16:43)</a>:</h4>
<p>But I guess follows based on showing muted topics in muted threads, so it'd at least be consistent and show the topic's <code>[2]</code> which would help users understand where the stream's <code>[2]</code> was coming from</p>



<a name="1559258"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559258" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559258">(May 01 2023 at 16:44)</a>:</h4>
<p>Filed <strong>Do not hide muted topics in muted streams under "more topics"</strong> <a href="https://github.com/zulip/zulip/pull/25363">#25363</a>.</p>



<a name="1559259"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559259" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559259">(May 01 2023 at 16:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="12178">Alex Vandiver</span> <a href="#narrow/stream/101-design/topic/can't.20distinguish.20muted.20topics.20in.20muted.20streams/near/1559255">said</a>:</p>
<blockquote>
<p>But I guess follows based on showing muted topics in muted threads, so it'd at least be consistent and show the topic's <code>[2]</code> which would help users understand where the stream's <code>[2]</code> was coming from</p>
</blockquote>
<p>Yeah, exactly, what I meant is just that when you click on the stream, you'd see the topic there, so it wouldn't be confusing.</p>



<a name="1559262"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559262" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559262">(May 01 2023 at 16:51)</a>:</h4>
<blockquote>
<p>My guess is that's because it's been so long since there have been messages in other topics that there aren't any in the local mesasge cache that aren't in #mobile-team &gt; zulip-flutter.</p>
</blockquote>
<p>Oh, but maybe there are two points here?</p>
<ol>
<li>
<blockquote>
<p>I mean, it's certainly a bug from the user experience point of view. And should probably trigger some /messages fetches to fill in something to show?</p>
</blockquote>
</li>
<li>
<p>Messages in muted topics within muted streams should be included in the stream message narrow.</p>
</li>
</ol>



<a name="1559369"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559369" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559369">(May 01 2023 at 18:40)</a>:</h4>
<p>I certainly think "muted topic within muted stream" should behave the same way in the left sidebar as in the message feed -- either you're treating it as extra muted, or you're not. Our previous product design had been to treat it as extra muted -- so you could browse a stream you'd muted without being distracted by a particularly spammy topic if that's what you want. So if we're going to do <a href="https://github.com/zulip/zulip/pull/25363">#25363</a>, we should also change the message feed behavior.</p>



<a name="1559370"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559370" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559370">(May 01 2023 at 18:42)</a>:</h4>
<p>The less risky change is to fix the bug that when you click into a stream and we end up with a nonzero number of messages before accounting for muting, but 0 after accounting for it, we're not doing the appropriate fetch. I would be curious whether one could artificially generate a similar view with a search like <code>stream:foo -topic:bar</code>.</p>



<a name="1559371"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559371" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559371">(May 01 2023 at 18:43)</a>:</h4>
<p>I wonder what the easiest setup is for reproducing this in a development environment; I feel like doing that would be most of the work for my fixing the "failure to fetch" bug.</p>



<a name="1559379"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559379" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hardik Dharmani <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559379">(May 01 2023 at 18:47)</a>:</h4>
<p>Here is the PR to not hide explicitly muted topics in muted streams(issue <a href="https://github.com/zulip/zulip/pull/25363">#25363</a>): <a href="https://github.com/zulip/zulip/pull/25368">#25368</a></p>



<a name="1559386"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559386" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hardik Dharmani <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559386">(May 01 2023 at 18:56)</a>:</h4>
<p>Tim, I read your message after pushing the PR. Should I also apply the same behavior to the message feed(i.e. not hide messages from muted topics in stream view)?</p>



<a name="1559390"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559390" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559390">(May 01 2023 at 18:59)</a>:</h4>
<p>Oh, right, there is a third issue:</p>
<ol start="3">
<li>There should have been an unread count on "more topics" here.</li>
</ol>



<a name="1559397"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559397" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559397">(May 01 2023 at 19:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> pointed out a potential use case to me for distinguishing muted topics within muted streams from default topics, which is a situation where you do regularly read the muted stream (but less often than other streams, I guess), but aren't interested in some particular topic. In this situation, you might still want the muted topic to be hidden behind "more topics" and missing from the stream view?</p>
<p>I don't know how important/common this use case is; let me at least pull some stats on the frequency of muted topics within muted streams we can use for reference before we push further in the direction of ripping out the distinction.</p>



<a name="1559446"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559446" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alya Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559446">(May 01 2023 at 20:00)</a>:</h4>
<p>Ok, without any filtering (on things like whether the user is still active, etc.), 17% of muted topics on Zulip Cloud are in muted streams.</p>



<a name="1559454"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559454" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559454">(May 01 2023 at 20:03)</a>:</h4>
<p>I guess some tricky research would be required to know whether the story is that those topics were all muted before or after the stream was muted.</p>



<a name="1559461"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559461" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559461">(May 01 2023 at 20:04)</a>:</h4>
<p>But I think my leaning given that information is that I'd prefer for us to address these bugs a way that doesn't rip out a feature that we have reason to believe folks might be using just before a major release.</p>



<a name="1559714"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559714" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559714">(May 02 2023 at 00:45)</a>:</h4>
<p><a href="https://github.com/zulip/zulip/pull/25383">#25383</a> fixes issue 3 in the list above, aka the lack of an unread count on "more topics" here, as well as an adjacent quirk related to the <code>@</code> indicator for unread mentions.</p>



<a name="1559717"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559717" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559717">(May 02 2023 at 00:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="12178">Alex Vandiver</span> <a href="#narrow/stream/101-design/topic/can't.20distinguish.20muted.20topics.20in.20muted.20streams/near/1559250">said</a>:</p>
<blockquote>
<p>I mean, it's certainly a bug from the user experience point of view.  And should probably trigger some <code>/messages</code> fetches to fill in something to show?</p>
</blockquote>
<p>I think the remaining bug here is why this didn't trigger a fetch of additional message history.</p>



<a name="1559718"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559718" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559718">(May 02 2023 at 00:53)</a>:</h4>
<p>And the answer to that seems to be in part that we have a couple places where we do this sort of check in <code>message_fetch.process_result</code> -- and <code>empty</code> checks if there are any messages that aren't hidden by muting.</p>
<div class="codehilite"><pre><span></span><code>    if (
        opts.msg_list === message_lists.current &amp;&amp;
        opts.msg_list.narrowed &amp;&amp;
        opts.msg_list.empty()
    ) {
        // Even after loading more messages, we have
        // no messages to display in this narrow.
        narrow_banner.show_empty_narrow_message();
    }
</code></pre></div>



<a name="1559721"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559721" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559721">(May 02 2023 at 01:03)</a>:</h4>
<p>I think I see a pretty straightforward way to address this.</p>



<a name="1559724"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559724" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559724">(May 02 2023 at 01:10)</a>:</h4>
<p>OK, I've got a PR for this; but haven't figured out a good way to test it in a development environment.</p>



<a name="1559725"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559725" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559725">(May 02 2023 at 01:11)</a>:</h4>
<p>So I might try test-deploying this and asking <span class="user-mention silent" data-user-id="12178">Alex Vandiver</span> to see if it worked after a bit more verification.</p>



<a name="1559779"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1559779" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1559779">(May 02 2023 at 03:28)</a>:</h4>
<p>OK, that's fixed in <a href="https://github.com/zulip/zulip/pull/25387">#25387</a>. This was an unusually profitable thing to dig into -- there's a cluster of a half-dozen bugs here, several of them the kind of thing we'd have been pretty unlikely to discover without this reproducer.</p>



<a name="1560018"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1560018" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1560018">(May 02 2023 at 14:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="19257">Alya Abbott</span> <a href="#narrow/stream/101-design/topic/can't.20distinguish.20muted.20topics.20in.20muted.20streams/near/1559397">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> pointed out a potential use case to me for distinguishing muted topics within muted streams from default topics, which is a situation where you do regularly read the muted stream (but less often than other streams, I guess), but aren't interested in some particular topic. In this situation, you might still want the muted topic to be hidden behind "more topics" and missing from the stream view?</p>
<p>I don't know how important/common this use case is; let me at least pull some stats on the frequency of muted topics within muted streams we can use for reference before we push further in the direction of ripping out the distinction.</p>
</blockquote>
<p>This is precisely the case for <a class="stream" data-stream-id="243" href="/#narrow/stream/243-mobile-team">#mobile-team</a> for me -- I very occasionally catch up on it, but the <a class="stream-topic" data-stream-id="243" href="/#narrow/stream/243-mobile-team/topic/zulip-flutter">#mobile-team &gt; zulip-flutter</a> topic is very busy (<span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span>) and so I don't want to have to catch up on it as well.</p>



<a name="1560019"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1560019" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1560019">(May 02 2023 at 14:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="7">Tim Abbott</span> <a href="#narrow/stream/101-design/topic/can't.20distinguish.20muted.20topics.20in.20muted.20streams/near/1559725">said</a>:</p>
<blockquote>
<p>So I might try test-deploying this and asking <span class="user-mention silent" data-user-id="12178">Alex Vandiver</span> to see if it worked after a bit more verification.</p>
</blockquote>
<p>It seems resolved, but there has been chatter on other topics in <a class="stream" data-stream-id="243" href="/#narrow/stream/243-mobile-team">#mobile-team</a>, so I don't have a perfect reproducer. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="1560020"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1560020" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Vandiver <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1560020">(May 02 2023 at 14:25)</a>:</h4>
<p>Double-muting is only possible via unmuting the channel, muting the topic, and re-muting the channel, but having done so with the other recent topic to get traffic, it did shift to the next-oldest non-double-muted topic.</p>



<a name="1560187"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1560187" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1560187">(May 02 2023 at 17:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="12178">Alex Vandiver</span> <a href="#narrow/stream/101-design/topic/can't.20distinguish.20muted.20topics.20in.20muted.20streams/near/1560020">said</a>:</p>
<blockquote>
<p>Double-muting is only possible via unmuting the channel, muting the topic, and re-muting the channel, but having done so with the other recent topic to get traffic, it did shift to the next-oldest non-double-muted topic.</p>
</blockquote>
<p>Yeah, I expect we'll make it possible to do more naturally as part of the preparation for "Follow topic". But we might want to think about figuring out the left sidebar UI changes to support it soon, given that there may be folks who want to do it but don't figure out that trick.</p>



<a name="1581203"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1581203" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1581203">(May 30 2023 at 19:35)</a>:</h4>
<p>Just to update the thread, I believe that the current conclusion is that muting a topic within a muted stream will do something; we had at least one suggested use case for doing that discussed above, and our plans for the UI for changing visibility policies once "follow topic" exists will make the process of creating a muted topic in a muted stream a thing that's easy to do again.</p>
<p>So I'm closing the proposed issue <a href="https://github.com/zulip/zulip/pull/25363">#25363</a> and 5-line PR <a href="https://github.com/zulip/zulip/pull/25368">#25368</a> that would have removed one of the ways in which a muted topic within a muted stream behaves differently from other topics in that stream.</p>



<a name="1621881"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/can%27t%20distinguish%20muted%20topics%20in%20muted%20streams/near/1621881" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Topic Bridge Bot <a href="https://rht.github.io/czo-archive/stream/101-design/topic/can.27t.20distinguish.20muted.20topics.20in.20muted.20streams.html#1621881">(Aug 09 2023 at 10:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="22341">Prakhar Pratyush</span> mentioned this topic in <strong><a href="#narrow/stream/101-design/topic/Follow.20Topics.20UI/near/1621880">#design &gt; Follow Topics UI</a></strong>.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>