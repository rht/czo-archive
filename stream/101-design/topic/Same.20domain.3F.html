<html>
<head><meta charset="utf-8"><title>Same domain? · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Same.20domain.3F.html">Same domain?</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="567805"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Same%20domain%3F/near/567805" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Gilbert <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Same.20domain.3F.html#567805">(Apr 22 2018 at 16:43)</a>:</h4>
<p>Why does <a href="http://chat.zulip.org" target="_blank" title="http://chat.zulip.org">chat.zulip.org</a> use the same domain for both the web interface and the user data (e.g. images).   Most things separate them to avoid cookie leakage/js injection (e.g. Matrix suggests having Riot on a separate domain).</p>



<a name="567806"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Same%20domain%3F/near/567806" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Same.20domain.3F.html#567806">(Apr 22 2018 at 16:56)</a>:</h4>
<p><span class="user-mention" data-user-id="7589">@Dave Gilbert</span> I tihnk <a href="http://zulipchat.com" target="_blank" title="http://zulipchat.com">zulipchat.com</a> handles this differently from this server. <br>
In any case, we should probably make it more clear somewhere that this (<a href="http://chat.zulip.org" target="_blank" title="http://chat.zulip.org">chat.zulip.org</a>) is not a "production-level" installation.</p>



<a name="567807"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Same%20domain%3F/near/567807" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishi Gupta <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Same.20domain.3F.html#567807">(Apr 22 2018 at 16:57)</a>:</h4>
<p>(We are pretty careful about security stuff though, including here. So you should wait for an answer from Tim or Greg :))</p>



<a name="567863"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Same%20domain%3F/near/567863" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Same.20domain.3F.html#567863">(Apr 22 2018 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="7589">@Dave Gilbert</span> the answer is basically that this is first and foremost a development server for the community, and we want to be testing what most users will setup in practice (which generally is not doing a separate domain).  For the SaaS service on <a href="http://zulipchat.com" target="_blank" title="http://zulipchat.com">zulipchat.com</a>, we use a separate domain.  I should note that we use a strong <code>Content-Security-Policy</code> for the uploads directories to prevent JS injection (and similar attacks) if you're not using a separate domain for user content, and so using a separate host would just be a second layer of protection (which I'm generally a fan of doing wherever possible).</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>