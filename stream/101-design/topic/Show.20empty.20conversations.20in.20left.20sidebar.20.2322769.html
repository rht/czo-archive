<html>
<head><meta charset="utf-8"><title>Show empty conversations in left sidebar #22769 · design · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/czo-archive/stream/101-design/index.html">design</a></h2>
<h3>Topic: <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html">Show empty conversations in left sidebar #22769</a></h3>

<hr>

<base href="https://chat.zulip.org">

<head><link href="https://rht.github.io/czo-archive/style.css" rel="stylesheet"></head>

<a name="1610568"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1610568" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Palash Baderia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1610568">(Jul 16 2023 at 19:18)</a>:</h4>
<p>So, I was recently working on a new issue. For context, <span class="user-mention silent" data-user-id="7">Tim Abbott</span>  mentioned this feature in the  <a href="#narrow/stream/101-design/topic/private.20messages.20section.20.2320870/near/1420135">CZO old topic</a> here, and this is issue <a href="https://github.com/zulip/zulip/pull/22769">#22769</a>. While I was working on this issue, I had two choices for implementation and was wondering which one would be better.</p>
<p>When you navigate to an empty conversation, the name of the recipient will appear at the top of the list in the DM section. However, there are two choices regarding when the name should be removed from the list:</p>
<ul>
<li>If the compose box is closed or narrowed to somewhere else.</li>
<li>If narrowed to somewhere else.</li>
</ul>
<p>I have attached a demo for the first point where I have shown the compose box being closed, as that is the only distinct factor in both choices.</p>
<p><a href="/user_uploads/2/a9/YO7rdT7Ht7wPtH51n_xy93Yd/empty_convo.gif">empty_convo.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/2/a9/YO7rdT7Ht7wPtH51n_xy93Yd/empty_convo.gif" title="empty_convo.gif"><img src="/user_uploads/2/a9/YO7rdT7Ht7wPtH51n_xy93Yd/empty_convo.gif"></a></div>



<a name="1610624"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1610624" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1610624">(Jul 17 2023 at 03:46)</a>:</h4>
<p>Left sidebar is great visual indicator for whom you are sending the message too and what's their status. I would vote for the only hiding it if narrowed to somewhere else.</p>



<a name="1610658"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1610658" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Palash Baderia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1610658">(Jul 17 2023 at 09:17)</a>:</h4>
<p>Got it, thanks a lot :)</p>



<a name="1612357"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1612357" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Palash Baderia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1612357">(Jul 19 2023 at 16:16)</a>:</h4>
<p>I was working on the implementation part of this and realized, how about we show the recipient in the left sidebar only when the user clicks on the <code>Go to conversation</code> button (which is the arrow button in the compose box)? This way, the user will be aware that they intentionally clicked on the button, and it can be seen as more of a preview. I am considering this because, in general, if you search for someone's name in the search bar and go to a direct message with that person, it might be confusing why the person's name is appearing on the left sidebar. What are your thoughts on this approach?</p>



<a name="1612376"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1612376" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1612376">(Jul 19 2023 at 16:44)</a>:</h4>
<p>Well, <code>Go to conversation</code> is not a highly used feature. So, we shouldn't build logic around it to begin with.</p>



<a name="1612377"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1612377" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Palash Baderia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1612377">(Jul 19 2023 at 16:45)</a>:</h4>
<p>So overall whenever we have the empty narrow banner we should add the recipient in the left sidebar right ?</p>



<a name="1612378"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1612378" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1612378">(Jul 19 2023 at 16:46)</a>:</h4>
<p>Also, looks like Alya was very specific about what should be done in the issue description.</p>



<a name="1612380"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1612380" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman (amanagr) <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1612380">(Jul 19 2023 at 16:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="24862">Palash Baderia</span> <a href="#narrow/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769/near/1612377">said</a>:</p>
<blockquote>
<p>So overall whenever we have the empty narrow banner we should add the recipient in the left sidebar right ?</p>
</blockquote>
<p>Yeah! I realize this is more tricky to implement that it might look like. I am happy to help if you need it.</p>



<a name="1612403"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1612403" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Palash Baderia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1612403">(Jul 19 2023 at 17:17)</a>:</h4>
<p>Yeah, actually it is pretty tricky however I was able to implement it through the <code>Go to conversations</code> button. I will look into a wider implementation and will definitely let you know if I need any help :)</p>



<a name="1618709"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1618709" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Palash Baderia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1618709">(Aug 01 2023 at 21:02)</a>:</h4>
<p>here is the draft PR <a href="https://github.com/zulip/zulip/pull/26396">#26396</a> for the implementation of the direct message, would apperciate if anyone could review the implementation and overall structure, so that I can move on with the topics implementation part too, thanks a lot :)</p>



<a name="1625996"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1625996" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1625996">(Aug 16 2023 at 00:53)</a>:</h4>
<p><span class="user-mention" data-user-id="24862">@Palash Baderia</span> I posted a few review comments, but I think we don't need to couple this to to the empty narrow banner logic at all; the rule is just "If the current conversation doesn't exist in the left sidebar, show it as a new top thing in the left sidebar anyway", right?</p>



<a name="1626126"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1626126" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Palash Baderia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1626126">(Aug 16 2023 at 06:55)</a>:</h4>
<p>The issue is: "If the user navigates to the conversation narrow and that conversation doesn't exist in the left sidebar, then show it as a new top item in the left sidebar." My intention in coupling this with the narrow banner was to ensure that regardless of how a user navigates to the recipient conversation narrow—whether through a <code>go to convo</code> button and then refresh, using a URL, or any other means—one common element that always appears is the narrow banner. This provides assurance that the conversation is actually empty. Therefore, instead of checking every possible way if the conversation is not appearing upon refresh or in similar scenarios, coupling the narrow banner with this concept covers all scenarios. Please let me know if you want me to explore a different approach.</p>



<a name="1629763"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1629763" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Abbott <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1629763">(Aug 23 2023 at 00:54)</a>:</h4>
<p><span class="user-mention" data-user-id="24862">@Palash Baderia</span> so I think my concern with that approach is that the issue may be a bit misframed -- we already always show the current conversation view in the left sidebar if it contains messages, so changing the world to always show the current view in the left sidebar even if it doesn't contain messages ... feels more naturally the kind of thing where we shouldn't need to look at whether an empty view banner is displayed at all -- we should just add the current view to the set of things being displayed if it's not already present.</p>



<a name="1632292"></a>
<h4><a href="https://chat.zulip.org#narrow/stream/101-design/topic/Show%20empty%20conversations%20in%20left%20sidebar%20%2322769/near/1632292" class="zl"><img src="https://rht.github.io/czo-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Palash Baderia <a href="https://rht.github.io/czo-archive/stream/101-design/topic/Show.20empty.20conversations.20in.20left.20sidebar.20.2322769.html#1632292">(Aug 28 2023 at 11:30)</a>:</h4>
<p>Got it, Thanks a lot for the suggestion, I have made the suggested changes, and here is PR <a href="https://github.com/zulip/zulip/pull/26396">#26396</a> with updated changes.</p>



<hr><p>Last updated: Oct 02 2023 at 04:38 UTC</p>
</html>